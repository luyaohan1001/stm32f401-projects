ARM GAS  /tmp/ccSzmojl.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usb-cdc-device.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CDC_DeInit_FS,"ax",%progbits
  18              		.align	1
  19              		.global	CDC_DeInit_FS
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	CDC_DeInit_FS:
  26              	.LFB133:
  27              		.file 1 "application-library/usb-cdc-device.c"
   1:application-library/usb-cdc-device.c **** /**
   2:application-library/usb-cdc-device.c ****  * @brief usb-cdc-device.c merged four classes: 
   3:application-library/usb-cdc-device.c ****  *          1. usbd_cdc_if
   4:application-library/usb-cdc-device.c ****  *          2. usb_device
   5:application-library/usb-cdc-device.c ****  *          3. usbd_cdc
   6:application-library/usb-cdc-device.c ****  *          4. usbd_core
   7:application-library/usb-cdc-device.c ****  *          5. usbd_ctlreq
   8:application-library/usb-cdc-device.c ****  *          6. usbd_ioreq
   9:application-library/usb-cdc-device.c ****  */
  10:application-library/usb-cdc-device.c **** 
  11:application-library/usb-cdc-device.c **** /* Includes ------------------------------------------------------------------*/
  12:application-library/usb-cdc-device.c **** #include "usb-cdc-device.h"
  13:application-library/usb-cdc-device.c **** #include "usbd_desc.h"
  14:application-library/usb-cdc-device.c **** // #include "usbd_def.h"   
  15:application-library/usb-cdc-device.c **** #include "usbd_ioreq.h"
  16:application-library/usb-cdc-device.c **** 
  17:application-library/usb-cdc-device.c **** /* usbd_cdc_if.c BEGIN---- ---- ---- ---- */
  18:application-library/usb-cdc-device.c **** /** Received data over USB are stored in this buffer      */
  19:application-library/usb-cdc-device.c **** uint8_t UserRxBufferFS[APP_RX_DATA_SIZE];
  20:application-library/usb-cdc-device.c **** /** Data to send over USB CDC are stored in this buffer   */
  21:application-library/usb-cdc-device.c **** uint8_t UserTxBufferFS[APP_TX_DATA_SIZE];
  22:application-library/usb-cdc-device.c **** // extern USBD_HandleTypeDef hUsbDeviceFS;
  23:application-library/usb-cdc-device.c **** 
  24:application-library/usb-cdc-device.c **** /* USB Device Core handle declaration. */
  25:application-library/usb-cdc-device.c **** USBD_HandleTypeDef hUsbDeviceFS;
  26:application-library/usb-cdc-device.c **** // extern USBD_HandleTypeDef hUsbDeviceFS; /* from usbd_cdc_if.c */
  27:application-library/usb-cdc-device.c **** USBD_HandleTypeDef* p_usbd_handle = &hUsbDeviceFS;
  28:application-library/usb-cdc-device.c **** 
  29:application-library/usb-cdc-device.c **** /**
  30:application-library/usb-cdc-device.c ****   * @brief Device qualifier
  31:application-library/usb-cdc-device.c ****   * @note  The device_qualifier descriptor describes information about 
ARM GAS  /tmp/ccSzmojl.s 			page 2


  32:application-library/usb-cdc-device.c ****   *          a high-speed capable device that would change if the device 
  33:application-library/usb-cdc-device.c ****   *          were operating at the other speed. 
  34:application-library/usb-cdc-device.c ****   *         For example, if the device is currently operating at full-speed, 
  35:application-library/usb-cdc-device.c ****   *           the device_qualifier returns information about how it would 
  36:application-library/usb-cdc-device.c ****   *           operate at high-speed and vice-versa. 
  37:application-library/usb-cdc-device.c ****   */
  38:application-library/usb-cdc-device.c **** /* USB Standard Device Descriptor */
  39:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END =
  40:application-library/usb-cdc-device.c **** {
  41:application-library/usb-cdc-device.c ****   0x0A,
  42:application-library/usb-cdc-device.c ****   0x06,
  43:application-library/usb-cdc-device.c ****   0x00,
  44:application-library/usb-cdc-device.c ****   0x02,
  45:application-library/usb-cdc-device.c ****   0x00,
  46:application-library/usb-cdc-device.c ****   0x00,
  47:application-library/usb-cdc-device.c ****   0x00,
  48:application-library/usb-cdc-device.c ****   0x40,
  49:application-library/usb-cdc-device.c ****   0x01,
  50:application-library/usb-cdc-device.c ****   0x00,
  51:application-library/usb-cdc-device.c **** };
  52:application-library/usb-cdc-device.c **** 
  53:application-library/usb-cdc-device.c **** 
  54:application-library/usb-cdc-device.c **** /* CDC interface class callbacks structure */
  55:application-library/usb-cdc-device.c **** USBD_ClassTypeDef USBD_CDC =
  56:application-library/usb-cdc-device.c **** {
  57:application-library/usb-cdc-device.c ****   USBD_CDC_Init,
  58:application-library/usb-cdc-device.c ****   USBD_CDC_DeInit,
  59:application-library/usb-cdc-device.c ****   USBD_CDC_Setup,
  60:application-library/usb-cdc-device.c ****   NULL,                 /* EP0_TxSent */
  61:application-library/usb-cdc-device.c ****   USBD_CDC_EP0_RxReady,
  62:application-library/usb-cdc-device.c ****   USBD_CDC_DataIn,
  63:application-library/usb-cdc-device.c ****   USBD_CDC_DataOut,
  64:application-library/usb-cdc-device.c ****   NULL,
  65:application-library/usb-cdc-device.c ****   NULL,
  66:application-library/usb-cdc-device.c ****   NULL,
  67:application-library/usb-cdc-device.c ****   USBD_CDC_GetHSCfgDesc,
  68:application-library/usb-cdc-device.c ****   USBD_CDC_GetFSCfgDesc,
  69:application-library/usb-cdc-device.c ****   USBD_CDC_GetOtherSpeedCfgDesc,
  70:application-library/usb-cdc-device.c ****   USBD_CDC_GetDeviceQualifierDescriptor,
  71:application-library/usb-cdc-device.c **** };
  72:application-library/usb-cdc-device.c **** 
  73:application-library/usb-cdc-device.c **** /* USB CDC device Configuration Descriptor */
  74:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_CfgDesc[USB_CDC_CONFIG_DESC_SIZ] __ALIGN_END =
  75:application-library/usb-cdc-device.c **** {
  76:application-library/usb-cdc-device.c ****   /* Configuration Descriptor */
  77:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Configuration Descriptor size */
  78:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_CONFIGURATION,                /* bDescriptorType: Configuration */
  79:application-library/usb-cdc-device.c ****   USB_CDC_CONFIG_DESC_SIZ,                    /* wTotalLength */
  80:application-library/usb-cdc-device.c ****   0x00,
  81:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumInterfaces: 2 interfaces */
  82:application-library/usb-cdc-device.c ****   0x01,                                       /* bConfigurationValue: Configuration value */
  83:application-library/usb-cdc-device.c ****   0x00,                                       /* iConfiguration: Index of string descriptor */
  84:application-library/usb-cdc-device.c ****   0xC0,                                       /* bmAttributes: Bus is self-powered. */
  85:application-library/usb-cdc-device.c ****   USBD_MAX_POWER,                             /* MaxPower (mA) */
  86:application-library/usb-cdc-device.c **** 
  87:application-library/usb-cdc-device.c ****   /* Interface Descriptor */
  88:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Interface Descriptor size */
ARM GAS  /tmp/ccSzmojl.s 			page 3


  89:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: Interface */
  90:application-library/usb-cdc-device.c ****   /* Interface descriptor type */
  91:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceNumber: Number of Interface */
  92:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
  93:application-library/usb-cdc-device.c ****   0x01,                                       /* bNumEndpoints: One endpoint used */
  94:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceClass: Communication Interface Class */
  95:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceSubClass: Abstract Control Model */
  96:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceProtocol: Common AT commands */
  97:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
  98:application-library/usb-cdc-device.c **** 
  99:application-library/usb-cdc-device.c ****   /* Header Functional Descriptor */
 100:application-library/usb-cdc-device.c ****   0x05,                                       /* bLength: Endpoint Descriptor size */
 101:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 102:application-library/usb-cdc-device.c ****   0x00,                                       /* bDescriptorSubtype: Header Func Desc */
 103:application-library/usb-cdc-device.c ****   0x10,                                       /* bcdCDC: spec release number */
 104:application-library/usb-cdc-device.c ****   0x01,
 105:application-library/usb-cdc-device.c **** 
 106:application-library/usb-cdc-device.c ****   /* Call Management Functional Descriptor */
 107:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 108:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 109:application-library/usb-cdc-device.c ****   0x01,                                       /* bDescriptorSubtype: Call Management Func Desc */
 110:application-library/usb-cdc-device.c ****   0x00,                                       /* bmCapabilities: D0+D1 */
 111:application-library/usb-cdc-device.c ****   0x01,                                       /* bDataInterface */
 112:application-library/usb-cdc-device.c **** 
 113:application-library/usb-cdc-device.c ****   /* ACM Functional Descriptor */
 114:application-library/usb-cdc-device.c ****   0x04,                                       /* bFunctionLength */
 115:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 116:application-library/usb-cdc-device.c ****   0x02,                                       /* bDescriptorSubtype: Abstract Control Management de
 117:application-library/usb-cdc-device.c ****   0x02,                                       /* bmCapabilities */
 118:application-library/usb-cdc-device.c **** 
 119:application-library/usb-cdc-device.c ****   /* Union Functional Descriptor */
 120:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 121:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 122:application-library/usb-cdc-device.c ****   0x06,                                       /* bDescriptorSubtype: Union func desc */
 123:application-library/usb-cdc-device.c ****   0x00,                                       /* bMasterInterface: Communication class interface */
 124:application-library/usb-cdc-device.c ****   0x01,                                       /* bSlaveInterface0: Data Class Interface */
 125:application-library/usb-cdc-device.c **** 
 126:application-library/usb-cdc-device.c ****   /* Endpoint 2 Descriptor */
 127:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 128:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 129:application-library/usb-cdc-device.c ****   CDC_CMD_EP,                                 /* bEndpointAddress */
 130:application-library/usb-cdc-device.c ****   0x03,                                       /* bmAttributes: Interrupt */
 131:application-library/usb-cdc-device.c ****   LOBYTE(CDC_CMD_PACKET_SIZE),                /* wMaxPacketSize */
 132:application-library/usb-cdc-device.c ****   HIBYTE(CDC_CMD_PACKET_SIZE),
 133:application-library/usb-cdc-device.c ****   CDC_FS_BINTERVAL,                           /* bInterval */
 134:application-library/usb-cdc-device.c ****   /*---------------------------------------------------------------------------*/
 135:application-library/usb-cdc-device.c **** 
 136:application-library/usb-cdc-device.c ****   /* Data class interface descriptor */
 137:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Endpoint Descriptor size */
 138:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: */
 139:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceNumber: Number of Interface */
 140:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
 141:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumEndpoints: Two endpoints used */
 142:application-library/usb-cdc-device.c ****   0x0A,                                       /* bInterfaceClass: CDC */
 143:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceSubClass */
 144:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceProtocol */
 145:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
ARM GAS  /tmp/ccSzmojl.s 			page 4


 146:application-library/usb-cdc-device.c **** 
 147:application-library/usb-cdc-device.c ****   /* Endpoint OUT Descriptor */
 148:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 149:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 150:application-library/usb-cdc-device.c ****   CDC_OUT_EP,                                 /* bEndpointAddress */
 151:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 152:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 153:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 154:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterval */
 155:application-library/usb-cdc-device.c **** 
 156:application-library/usb-cdc-device.c ****   /* Endpoint IN Descriptor */
 157:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 158:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 159:application-library/usb-cdc-device.c ****   CDC_IN_EP,                                  /* bEndpointAddress */
 160:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 161:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 162:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 163:application-library/usb-cdc-device.c ****   0x00                                        /* bInterval */
 164:application-library/usb-cdc-device.c **** };
 165:application-library/usb-cdc-device.c **** 
 166:application-library/usb-cdc-device.c **** 
 167:application-library/usb-cdc-device.c **** USBD_CDC_ItfTypeDef USBD_Interface_fops_FS =
 168:application-library/usb-cdc-device.c **** {
 169:application-library/usb-cdc-device.c ****   CDC_Init_FS,
 170:application-library/usb-cdc-device.c ****   CDC_DeInit_FS,
 171:application-library/usb-cdc-device.c ****   CDC_Control_FS,
 172:application-library/usb-cdc-device.c ****   CDC_Receive_FS,
 173:application-library/usb-cdc-device.c ****   CDC_TransmitCplt_FS
 174:application-library/usb-cdc-device.c **** };
 175:application-library/usb-cdc-device.c **** 
 176:application-library/usb-cdc-device.c **** /**
 177:application-library/usb-cdc-device.c ****   * @brief  Initializes the CDC media low layer over the FS USB IP
 178:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 179:application-library/usb-cdc-device.c ****   */
 180:application-library/usb-cdc-device.c **** int8_t CDC_Init_FS(void)
 181:application-library/usb-cdc-device.c **** {
 182:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 183:application-library/usb-cdc-device.c ****   /* Set Application Buffers */
 184:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, UserTxBufferFS, 0);
 185:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 186:application-library/usb-cdc-device.c ****   return (USBD_OK);
 187:application-library/usb-cdc-device.c ****   /* USER CODE END 3 */
 188:application-library/usb-cdc-device.c **** }
 189:application-library/usb-cdc-device.c **** 
 190:application-library/usb-cdc-device.c **** /**
 191:application-library/usb-cdc-device.c ****   * @brief  DeInitializes the CDC media low layer
 192:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 193:application-library/usb-cdc-device.c ****   */
 194:application-library/usb-cdc-device.c **** int8_t CDC_DeInit_FS(void)
 195:application-library/usb-cdc-device.c **** {
  28              		.loc 1 195 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 196:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 4 */
 197:application-library/usb-cdc-device.c ****   return (USBD_OK);
ARM GAS  /tmp/ccSzmojl.s 			page 5


 198:application-library/usb-cdc-device.c ****   /* USER CODE END 4 */
 199:application-library/usb-cdc-device.c **** }
  33              		.loc 1 199 0
  34 0000 0020     		movs	r0, #0
  35 0002 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE133:
  39              		.section	.text.CDC_Control_FS,"ax",%progbits
  40              		.align	1
  41              		.global	CDC_Control_FS
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	CDC_Control_FS:
  48              	.LFB134:
 200:application-library/usb-cdc-device.c **** 
 201:application-library/usb-cdc-device.c **** /**
 202:application-library/usb-cdc-device.c ****   * @brief  Manage the CDC class requests
 203:application-library/usb-cdc-device.c ****   * @param  cmd: Command code
 204:application-library/usb-cdc-device.c ****   * @param  pbuf: Buffer containing command data (request parameters)
 205:application-library/usb-cdc-device.c ****   * @param  length: Number of data to be sent (in bytes)
 206:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 207:application-library/usb-cdc-device.c ****   */
 208:application-library/usb-cdc-device.c **** int8_t CDC_Control_FS(uint8_t cmd, uint8_t* pbuf, uint16_t length)
 209:application-library/usb-cdc-device.c **** {
  49              		.loc 1 209 0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53              		@ link register save eliminated.
  54              	.LVL0:
 210:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 5 */
 211:application-library/usb-cdc-device.c ****   switch(cmd)
 212:application-library/usb-cdc-device.c ****   {
 213:application-library/usb-cdc-device.c ****     case CDC_SEND_ENCAPSULATED_COMMAND:
 214:application-library/usb-cdc-device.c ****     break;
 215:application-library/usb-cdc-device.c ****     case CDC_GET_ENCAPSULATED_RESPONSE:
 216:application-library/usb-cdc-device.c ****     break;
 217:application-library/usb-cdc-device.c ****     case CDC_SET_COMM_FEATURE:
 218:application-library/usb-cdc-device.c ****     break;
 219:application-library/usb-cdc-device.c ****     case CDC_GET_COMM_FEATURE:
 220:application-library/usb-cdc-device.c ****     break;
 221:application-library/usb-cdc-device.c ****     case CDC_CLEAR_COMM_FEATURE:
 222:application-library/usb-cdc-device.c ****     break;
 223:application-library/usb-cdc-device.c **** 
 224:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 225:application-library/usb-cdc-device.c ****   /* Line Coding Structure                                                       */
 226:application-library/usb-cdc-device.c ****   /*-----------------------------------------------------------------------------*/
 227:application-library/usb-cdc-device.c ****   /* Offset | Field       | Size | Value  | Description                          */
 228:application-library/usb-cdc-device.c ****   /* 0      | dwDTERate   |   4  | Number |Data terminal rate, in bits per second*/
 229:application-library/usb-cdc-device.c ****   /* 4      | bCharFormat |   1  | Number | Stop bits                            */
 230:application-library/usb-cdc-device.c ****   /*                                        0 - 1 Stop bit                       */
 231:application-library/usb-cdc-device.c ****   /*                                        1 - 1.5 Stop bits                    */
 232:application-library/usb-cdc-device.c ****   /*                                        2 - 2 Stop bits                      */
 233:application-library/usb-cdc-device.c ****   /* 5      | bParityType |  1   | Number | Parity                               */
 234:application-library/usb-cdc-device.c ****   /*                                        0 - None                             */
ARM GAS  /tmp/ccSzmojl.s 			page 6


 235:application-library/usb-cdc-device.c ****   /*                                        1 - Odd                              */
 236:application-library/usb-cdc-device.c ****   /*                                        2 - Even                             */
 237:application-library/usb-cdc-device.c ****   /*                                        3 - Mark                             */
 238:application-library/usb-cdc-device.c ****   /*                                        4 - Space                            */
 239:application-library/usb-cdc-device.c ****   /* 6      | bDataBits  |   1   | Number Data bits (5, 6, 7, 8 or 16).          */
 240:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 241:application-library/usb-cdc-device.c ****     case CDC_SET_LINE_CODING:
 242:application-library/usb-cdc-device.c ****     break;
 243:application-library/usb-cdc-device.c ****     case CDC_GET_LINE_CODING:
 244:application-library/usb-cdc-device.c ****     break;
 245:application-library/usb-cdc-device.c ****     case CDC_SET_CONTROL_LINE_STATE:
 246:application-library/usb-cdc-device.c ****     break;
 247:application-library/usb-cdc-device.c ****     case CDC_SEND_BREAK:
 248:application-library/usb-cdc-device.c ****     break;
 249:application-library/usb-cdc-device.c ****   default:
 250:application-library/usb-cdc-device.c ****     break;
 251:application-library/usb-cdc-device.c ****   }
 252:application-library/usb-cdc-device.c ****   return (USBD_OK);
 253:application-library/usb-cdc-device.c **** }
  55              		.loc 1 253 0
  56 0000 0020     		movs	r0, #0
  57              	.LVL1:
  58 0002 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE134:
  62              		.section	.text.CDC_TransmitCplt_FS,"ax",%progbits
  63              		.align	1
  64              		.global	CDC_TransmitCplt_FS
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  68              		.fpu fpv4-sp-d16
  70              	CDC_TransmitCplt_FS:
  71              	.LFB137:
 254:application-library/usb-cdc-device.c **** 
 255:application-library/usb-cdc-device.c **** /**
 256:application-library/usb-cdc-device.c ****   * @brief  Data received over USB OUT endpoint are sent over CDC interface
 257:application-library/usb-cdc-device.c ****   *         through this function.
 258:application-library/usb-cdc-device.c ****   *
 259:application-library/usb-cdc-device.c ****   *         @note
 260:application-library/usb-cdc-device.c ****   *         This function will issue a NAK packet on any OUT packet received on
 261:application-library/usb-cdc-device.c ****   *         USB endpoint until exiting this function. If you exit this function
 262:application-library/usb-cdc-device.c ****   *         before transfer is complete on CDC interface (ie. using DMA controller)
 263:application-library/usb-cdc-device.c ****   *         it will result in receiving more data while previous ones are still
 264:application-library/usb-cdc-device.c ****   *         not sent.
 265:application-library/usb-cdc-device.c ****   *
 266:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 267:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 268:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 269:application-library/usb-cdc-device.c ****   */
 270:application-library/usb-cdc-device.c **** int8_t CDC_Receive_FS(uint8_t* Buf, uint32_t *Len)
 271:application-library/usb-cdc-device.c **** {
 272:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 273:application-library/usb-cdc-device.c ****   uint8_t received_msg[64];
 274:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, &Buf[0]);
 275:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
 276:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 7


 277:application-library/usb-cdc-device.c ****   memset (received_msg, '\0', 64);  // clear the buffer
 278:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 279:application-library/usb-cdc-device.c ****   memcpy(received_msg, Buf, len);  // copy the data to the buffer
 280:application-library/usb-cdc-device.c **** 
 281:application-library/usb-cdc-device.c ****   strcat((char*) received_msg, (char *)" echoed.\n");
 282:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 283:application-library/usb-cdc-device.c ****   CDC_Transmit_FS(received_msg, sizeof(received_msg));
 284:application-library/usb-cdc-device.c ****   return (USBD_OK);
 285:application-library/usb-cdc-device.c ****   /* USER CODE END 6 */
 286:application-library/usb-cdc-device.c **** }
 287:application-library/usb-cdc-device.c **** 
 288:application-library/usb-cdc-device.c **** /**
 289:application-library/usb-cdc-device.c ****   * @brief  Trasmit Data to send over USB IN endpoint are sent over CDC interface
 290:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be sent
 291:application-library/usb-cdc-device.c ****   * @param  Len: Number of data to be sent (in bytes)
 292:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL or USBD_BUSY
 293:application-library/usb-cdc-device.c ****   */
 294:application-library/usb-cdc-device.c **** uint8_t CDC_Transmit_FS(uint8_t* Buf, uint16_t Len)
 295:application-library/usb-cdc-device.c **** {
 296:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 297:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 7 */
 298:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef*)hUsbDeviceFS.pClassData;
 299:application-library/usb-cdc-device.c **** 
 300:application-library/usb-cdc-device.c ****   if (hcdc->TxState != 0){
 301:application-library/usb-cdc-device.c ****     return USBD_BUSY;
 302:application-library/usb-cdc-device.c ****   }
 303:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, Buf, Len);
 304:application-library/usb-cdc-device.c ****   result = USBD_CDC_TransmitPacket(&hUsbDeviceFS);
 305:application-library/usb-cdc-device.c ****   /* USER CODE END 7 */
 306:application-library/usb-cdc-device.c ****   return result;
 307:application-library/usb-cdc-device.c **** }
 308:application-library/usb-cdc-device.c **** 
 309:application-library/usb-cdc-device.c **** /**
 310:application-library/usb-cdc-device.c ****   * @brief  Data transmitted callback
 311:application-library/usb-cdc-device.c ****   *         This function is IN transfer complete callback used to inform user that
 312:application-library/usb-cdc-device.c ****   *         the submitted Data is successfully sent over USB.
 313:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 314:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 315:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 316:application-library/usb-cdc-device.c ****   */
 317:application-library/usb-cdc-device.c **** int8_t CDC_TransmitCplt_FS(uint8_t *Buf, uint32_t *Len, uint8_t epnum)
 318:application-library/usb-cdc-device.c **** {
  72              		.loc 1 318 0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		@ link register save eliminated.
  77              	.LVL2:
 319:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 320:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 13 */
 321:application-library/usb-cdc-device.c ****   UNUSED(Buf);
 322:application-library/usb-cdc-device.c ****   UNUSED(Len);
 323:application-library/usb-cdc-device.c ****   UNUSED(epnum);
 324:application-library/usb-cdc-device.c ****   /* USER CODE END 13 */
 325:application-library/usb-cdc-device.c ****   return result;
 326:application-library/usb-cdc-device.c **** }
  78              		.loc 1 326 0
ARM GAS  /tmp/ccSzmojl.s 			page 8


  79 0000 0020     		movs	r0, #0
  80              	.LVL3:
  81 0002 7047     		bx	lr
  82              		.cfi_endproc
  83              	.LFE137:
  85              		.section	.text.USBD_CDC_EP0_RxReady,"ax",%progbits
  86              		.align	1
  87              		.global	USBD_CDC_EP0_RxReady
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	USBD_CDC_EP0_RxReady:
  94              	.LFB144:
 327:application-library/usb-cdc-device.c **** 
 328:application-library/usb-cdc-device.c **** /* usbd_cdc_if.c END ---- ---- ---- ---- */
 329:application-library/usb-cdc-device.c **** /* usb_device.c BEGIN ---- ---- ---- ---- */
 330:application-library/usb-cdc-device.c **** 
 331:application-library/usb-cdc-device.c **** 
 332:application-library/usb-cdc-device.c **** 
 333:application-library/usb-cdc-device.c **** /**
 334:application-library/usb-cdc-device.c ****   * Init USB device Library, add supported class and start the library
 335:application-library/usb-cdc-device.c ****   * @retval None
 336:application-library/usb-cdc-device.c ****   */
 337:application-library/usb-cdc-device.c **** void usb_device_init(void)
 338:application-library/usb-cdc-device.c **** {
 339:application-library/usb-cdc-device.c ****   /* Init Device Library, add supported class and start the library. */
 340:application-library/usb-cdc-device.c ****   // 1. USBD_Init(&p_usbd_handle, &FS_Desc, DEVICE_FS);
 341:application-library/usb-cdc-device.c ****   /* Unlink previous class*/
 342:application-library/usb-cdc-device.c ****   p_usbd_handle->pClass[0] = NULL;
 343:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[0] = NULL;
 344:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = NULL;
 345:application-library/usb-cdc-device.c **** 
 346:application-library/usb-cdc-device.c ****   /* Assign USBD Descriptors */
 347:application-library/usb-cdc-device.c ****   p_usbd_handle->pDesc = &FS_Desc;
 348:application-library/usb-cdc-device.c **** 
 349:application-library/usb-cdc-device.c ****   /* Set Device initial State */
 350:application-library/usb-cdc-device.c ****   p_usbd_handle->dev_state = USBD_STATE_DEFAULT;  // DEFAULT - ADDRESSED - CONFIGURED - SUSPEND
 351:application-library/usb-cdc-device.c ****   p_usbd_handle->id = DEVICE_FS; // DEVICE_FS (0)
 352:application-library/usb-cdc-device.c **** 
 353:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
 354:application-library/usb-cdc-device.c ****   // USBD_LL_Init(p_usbd_handle); // configure the TX or the RX FIFO of the new defined endport
 355:application-library/usb-cdc-device.c ****                                   // From usbd_conf.c expanded below. 
 356:application-library/usb-cdc-device.c **** 
 357:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
 358:application-library/usb-cdc-device.c ****   extern PCD_HandleTypeDef hpcd_USB_OTG_FS;
 359:application-library/usb-cdc-device.c ****   if (p_usbd_handle->id == DEVICE_FS) {
 360:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
 361:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.pData = p_usbd_handle;
 362:application-library/usb-cdc-device.c ****                                            /* pData is the pointer to upper stack handler. */
 363:application-library/usb-cdc-device.c ****   p_usbd_handle->pData = &hpcd_USB_OTG_FS; /* connect usbd_handle with the lower-level pcd_handle*/
 364:application-library/usb-cdc-device.c **** 
 365:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Instance = USB_OTG_FS;
 366:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 367:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 368:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
 369:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
ARM GAS  /tmp/ccSzmojl.s 			page 9


 370:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
 371:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 372:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 373:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 374:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
 375:application-library/usb-cdc-device.c **** 
 376:application-library/usb-cdc-device.c ****   HAL_PCD_Init(&hpcd_USB_OTG_FS);
 377:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
 378:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetRxFiFo(&hpcd_USB_OTG_FS, 0x80);    /* set RX FIFO size 0x80*/
 379:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 380:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 381:application-library/usb-cdc-device.c ****   }
 382:application-library/usb-cdc-device.c ****   /*---------------------------------------------------------------------------*/
 383:application-library/usb-cdc-device.c ****   // 2. USBD_RegisterClass(&p_usbd_handle, &USBD_CDC); // usbd_core.c
 384:application-library/usb-cdc-device.c ****   
 385:application-library/usb-cdc-device.c ****   /* link the class to the USB Device handle */
 386:application-library/usb-cdc-device.c ****   p_usbd_handle->pClass[0] = &USBD_CDC;
 387:application-library/usb-cdc-device.c **** 
 388:application-library/usb-cdc-device.c ****   /* Get Device Configuration Descriptor */
 389:application-library/usb-cdc-device.c ****   /*
 390:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 391:application-library/usb-cdc-device.c ****   if (p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigDescriptor != NULL)
 392:application-library/usb-cdc-device.c ****   {
 393:application-library/usb-cdc-device.c ****     // pClass is of type USBD_ClassTypeDef.
 394:application-library/usb-cdc-device.c ****     // p_usbd_handle is of type USBD_HandleTypeDef
 395:application-library/usb-cdc-device.c ****     // The actual GetFSConfigDescriptor is implemented as  USBD_CDC_GetFSCfgDesc(uint16_t *length) 
 396:application-library/usb-cdc-device.c ****     p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigDe
 397:application-library/usb-cdc-device.c ****   }
 398:application-library/usb-cdc-device.c ****   */
 399:application-library/usb-cdc-device.c ****   // p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigD
 400:application-library/usb-cdc-device.c ****   // p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[0]->GetFSConfigDescriptor(0); 
 401:application-library/usb-cdc-device.c ****   /* p_usbd_handle->pClass[0] = (USBD_CDC)*/
 402:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = (&USBD_CDC)->GetFSConfigDescriptor(0) ;
 403:application-library/usb-cdc-device.c **** 
 404:application-library/usb-cdc-device.c ****   /* Increment the NumClasses */
 405:application-library/usb-cdc-device.c ****   // p_usbd_handle->NumClasses ++;
 406:application-library/usb-cdc-device.c **** 
 407:application-library/usb-cdc-device.c ****   // 3. USBD_CDC_RegisterInterface(&p_usbd_handle, &USBD_Interface_fops_FS);
 408:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[p_usbd_handle->classId] = &USBD_Interface_fops_FS;
 409:application-library/usb-cdc-device.c **** 
 410:application-library/usb-cdc-device.c ****   // 4. USBD_Startp_usbd_handle;
 411:application-library/usb-cdc-device.c ****   // HAL_PCD_Start(p_usbd_handle->pData);  /* p_usbd_handle->pData has type void */
 412:application-library/usb-cdc-device.c ****                                            /* pData = hpcd_USB_OTG_FS was assigned in step 1. USBD_
 413:application-library/usb-cdc-device.c ****   HAL_PCD_Start(&hpcd_USB_OTG_FS);
 414:application-library/usb-cdc-device.c **** }
 415:application-library/usb-cdc-device.c **** /* usb_device.c END ---- ---- ---- ---- */
 416:application-library/usb-cdc-device.c **** 
 417:application-library/usb-cdc-device.c **** 
 418:application-library/usb-cdc-device.c **** 
 419:application-library/usb-cdc-device.c **** /* usbd_cdc.c START ---- ---- ---- ---- */
 420:application-library/usb-cdc-device.c **** 
 421:application-library/usb-cdc-device.c **** 
 422:application-library/usb-cdc-device.c **** /**
 423:application-library/usb-cdc-device.c ****   * @brief  Initialize the CDC interface
 424:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 425:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 426:application-library/usb-cdc-device.c ****   * @retval status
ARM GAS  /tmp/ccSzmojl.s 			page 10


 427:application-library/usb-cdc-device.c ****   */
 428:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
 429:application-library/usb-cdc-device.c **** {
 430:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 431:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 432:application-library/usb-cdc-device.c **** 
 433:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_HandleTypeDef *)USBD_malloc(sizeof(USBD_CDC_HandleTypeDef));
 434:application-library/usb-cdc-device.c **** 
 435:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 436:application-library/usb-cdc-device.c ****   {
 437:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 438:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 439:application-library/usb-cdc-device.c ****   }
 440:application-library/usb-cdc-device.c **** 
 441:application-library/usb-cdc-device.c ****   (void)USBD_memset(hcdc, 0, sizeof(USBD_CDC_HandleTypeDef));
 442:application-library/usb-cdc-device.c **** 
 443:application-library/usb-cdc-device.c ****   pdev->pClassDataCmsit[pdev->classId] = (void *)hcdc;
 444:application-library/usb-cdc-device.c ****   pdev->pClassData = pdev->pClassDataCmsit[pdev->classId];
 445:application-library/usb-cdc-device.c **** 
 446:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 447:application-library/usb-cdc-device.c ****   {
 448:application-library/usb-cdc-device.c ****     /* Open EP IN */
 449:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_IN_EP, USBD_EP_TYPE_BULK,
 450:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 451:application-library/usb-cdc-device.c **** 
 452:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 453:application-library/usb-cdc-device.c **** 
 454:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 455:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 456:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 457:application-library/usb-cdc-device.c **** 
 458:application-library/usb-cdc-device.c ****     pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 459:application-library/usb-cdc-device.c **** 
 460:application-library/usb-cdc-device.c ****     /* Set bInterval for CDC CMD Endpoint */
 461:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_HS_BINTERVAL;
 462:application-library/usb-cdc-device.c ****   }
 463:application-library/usb-cdc-device.c ****   else
 464:application-library/usb-cdc-device.c ****   {
 465:application-library/usb-cdc-device.c ****     /* Open EP IN */
 466:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_IN_EP, USBD_EP_TYPE_BULK,
 467:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 468:application-library/usb-cdc-device.c **** 
 469:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 470:application-library/usb-cdc-device.c **** 
 471:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 472:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 473:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 474:application-library/usb-cdc-device.c **** 
 475:application-library/usb-cdc-device.c ****     pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 476:application-library/usb-cdc-device.c **** 
 477:application-library/usb-cdc-device.c ****     /* Set bInterval for CMD Endpoint */
 478:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_FS_BINTERVAL;
 479:application-library/usb-cdc-device.c ****   }
 480:application-library/usb-cdc-device.c **** 
 481:application-library/usb-cdc-device.c ****   /* Open Command IN EP */
 482:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, CDC_CMD_EP, USBD_EP_TYPE_INTR, CDC_CMD_PACKET_SIZE);
 483:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
ARM GAS  /tmp/ccSzmojl.s 			page 11


 484:application-library/usb-cdc-device.c **** 
 485:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = NULL;
 486:application-library/usb-cdc-device.c **** 
 487:application-library/usb-cdc-device.c ****   /* Init  physical Interface components */
 488:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Init();
 489:application-library/usb-cdc-device.c **** 
 490:application-library/usb-cdc-device.c ****   /* Init Xfer states */
 491:application-library/usb-cdc-device.c ****   hcdc->TxState = 0U;
 492:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 493:application-library/usb-cdc-device.c **** 
 494:application-library/usb-cdc-device.c ****   if (hcdc->RxBuffer == NULL)
 495:application-library/usb-cdc-device.c ****   {
 496:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 497:application-library/usb-cdc-device.c ****   }
 498:application-library/usb-cdc-device.c **** 
 499:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 500:application-library/usb-cdc-device.c ****   {
 501:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 502:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 503:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 504:application-library/usb-cdc-device.c ****   }
 505:application-library/usb-cdc-device.c ****   else
 506:application-library/usb-cdc-device.c ****   {
 507:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 508:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 509:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 510:application-library/usb-cdc-device.c ****   }
 511:application-library/usb-cdc-device.c **** 
 512:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 513:application-library/usb-cdc-device.c **** }
 514:application-library/usb-cdc-device.c **** 
 515:application-library/usb-cdc-device.c **** /**
 516:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Init
 517:application-library/usb-cdc-device.c ****   *         DeInitialize the CDC layer
 518:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 519:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 520:application-library/usb-cdc-device.c ****   * @retval status
 521:application-library/usb-cdc-device.c ****   */
 522:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
 523:application-library/usb-cdc-device.c **** {
 524:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 525:application-library/usb-cdc-device.c **** 
 526:application-library/usb-cdc-device.c ****   /* Close EP IN */
 527:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_IN_EP);
 528:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 529:application-library/usb-cdc-device.c **** 
 530:application-library/usb-cdc-device.c ****   /* Close EP OUT */
 531:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_OUT_EP);
 532:application-library/usb-cdc-device.c ****   pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 533:application-library/usb-cdc-device.c **** 
 534:application-library/usb-cdc-device.c ****   /* Close Command IN EP */
 535:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_CMD_EP);
 536:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 537:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 538:application-library/usb-cdc-device.c **** 
 539:application-library/usb-cdc-device.c ****   /* DeInit  physical Interface components */
 540:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] != NULL)
ARM GAS  /tmp/ccSzmojl.s 			page 12


 541:application-library/usb-cdc-device.c ****   {
 542:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->DeInit();
 543:application-library/usb-cdc-device.c ****     (void)USBD_free(pdev->pClassDataCmsit[pdev->classId]);
 544:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 545:application-library/usb-cdc-device.c ****     pdev->pClassData = NULL;
 546:application-library/usb-cdc-device.c ****   }
 547:application-library/usb-cdc-device.c **** 
 548:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 549:application-library/usb-cdc-device.c **** }
 550:application-library/usb-cdc-device.c **** 
 551:application-library/usb-cdc-device.c **** /**
 552:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Setup
 553:application-library/usb-cdc-device.c ****   *         Handle the CDC specific requests
 554:application-library/usb-cdc-device.c ****   * @param  pdev: instance
 555:application-library/usb-cdc-device.c ****   * @param  req: usb requests
 556:application-library/usb-cdc-device.c ****   * @retval status
 557:application-library/usb-cdc-device.c ****   */
 558:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Setup(USBD_HandleTypeDef *pdev,
 559:application-library/usb-cdc-device.c ****                               USBD_SetupReqTypedef *req)
 560:application-library/usb-cdc-device.c **** {
 561:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 562:application-library/usb-cdc-device.c ****   uint16_t len;
 563:application-library/usb-cdc-device.c ****   uint8_t ifalt = 0U;
 564:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 565:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 566:application-library/usb-cdc-device.c **** 
 567:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 568:application-library/usb-cdc-device.c ****   {
 569:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 570:application-library/usb-cdc-device.c ****   }
 571:application-library/usb-cdc-device.c **** 
 572:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
 573:application-library/usb-cdc-device.c ****   {
 574:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
 575:application-library/usb-cdc-device.c ****       if (req->wLength != 0U)
 576:application-library/usb-cdc-device.c ****       {
 577:application-library/usb-cdc-device.c ****         if ((req->bmRequest & 0x80U) != 0U)
 578:application-library/usb-cdc-device.c ****         {
 579:application-library/usb-cdc-device.c ****           ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(req->bRequest,
 580:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 581:application-library/usb-cdc-device.c ****                                                                            req->wLength);
 582:application-library/usb-cdc-device.c **** 
 583:application-library/usb-cdc-device.c ****           len = MIN(CDC_REQ_MAX_DATA_SIZE, req->wLength);
 584:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendData(pdev, (uint8_t *)hcdc->data, len);
 585:application-library/usb-cdc-device.c ****         }
 586:application-library/usb-cdc-device.c ****         else
 587:application-library/usb-cdc-device.c ****         {
 588:application-library/usb-cdc-device.c ****           hcdc->CmdOpCode = req->bRequest;
 589:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 590:application-library/usb-cdc-device.c **** 
 591:application-library/usb-cdc-device.c ****           (void)USBD_CtlPrepareRx(pdev, (uint8_t *)hcdc->data, hcdc->CmdLength);
 592:application-library/usb-cdc-device.c ****         }
 593:application-library/usb-cdc-device.c ****       }
 594:application-library/usb-cdc-device.c ****       else
 595:application-library/usb-cdc-device.c ****       {
 596:application-library/usb-cdc-device.c ****         ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(req->bRequest,
 597:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
ARM GAS  /tmp/ccSzmojl.s 			page 13


 598:application-library/usb-cdc-device.c ****       }
 599:application-library/usb-cdc-device.c ****       break;
 600:application-library/usb-cdc-device.c **** 
 601:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
 602:application-library/usb-cdc-device.c ****       switch (req->bRequest)
 603:application-library/usb-cdc-device.c ****       {
 604:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
 605:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
 606:application-library/usb-cdc-device.c ****           {
 607:application-library/usb-cdc-device.c ****             (void)USBD_CtlSendData(pdev, (uint8_t *)&status_info, 2U);
 608:application-library/usb-cdc-device.c ****           }
 609:application-library/usb-cdc-device.c ****           else
 610:application-library/usb-cdc-device.c ****           {
 611:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 612:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 613:application-library/usb-cdc-device.c ****           }
 614:application-library/usb-cdc-device.c ****           break;
 615:application-library/usb-cdc-device.c **** 
 616:application-library/usb-cdc-device.c ****         case USB_REQ_GET_INTERFACE:
 617:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
 618:application-library/usb-cdc-device.c ****           {
 619:application-library/usb-cdc-device.c ****             (void)USBD_CtlSendData(pdev, &ifalt, 1U);
 620:application-library/usb-cdc-device.c ****           }
 621:application-library/usb-cdc-device.c ****           else
 622:application-library/usb-cdc-device.c ****           {
 623:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 624:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 625:application-library/usb-cdc-device.c ****           }
 626:application-library/usb-cdc-device.c ****           break;
 627:application-library/usb-cdc-device.c **** 
 628:application-library/usb-cdc-device.c ****         case USB_REQ_SET_INTERFACE:
 629:application-library/usb-cdc-device.c ****           if (pdev->dev_state != USBD_STATE_CONFIGURED)
 630:application-library/usb-cdc-device.c ****           {
 631:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 632:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 633:application-library/usb-cdc-device.c ****           }
 634:application-library/usb-cdc-device.c ****           break;
 635:application-library/usb-cdc-device.c **** 
 636:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
 637:application-library/usb-cdc-device.c ****           break;
 638:application-library/usb-cdc-device.c **** 
 639:application-library/usb-cdc-device.c ****         default:
 640:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
 641:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 642:application-library/usb-cdc-device.c ****           break;
 643:application-library/usb-cdc-device.c ****       }
 644:application-library/usb-cdc-device.c ****       break;
 645:application-library/usb-cdc-device.c **** 
 646:application-library/usb-cdc-device.c ****     default:
 647:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
 648:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 649:application-library/usb-cdc-device.c ****       break;
 650:application-library/usb-cdc-device.c ****   }
 651:application-library/usb-cdc-device.c **** 
 652:application-library/usb-cdc-device.c ****   return (uint8_t)ret;
 653:application-library/usb-cdc-device.c **** }
 654:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 14


 655:application-library/usb-cdc-device.c **** 
 656:application-library/usb-cdc-device.c **** /**
 657:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataIn
 658:application-library/usb-cdc-device.c ****   *         Data sent on non-control IN endpoint
 659:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 660:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 661:application-library/usb-cdc-device.c ****   * @retval status
 662:application-library/usb-cdc-device.c ****   */
 663:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum)
 664:application-library/usb-cdc-device.c **** {
 665:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 666:application-library/usb-cdc-device.c ****   PCD_HandleTypeDef *hpcd = (PCD_HandleTypeDef *)pdev->pData;
 667:application-library/usb-cdc-device.c **** 
 668:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 669:application-library/usb-cdc-device.c ****   {
 670:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 671:application-library/usb-cdc-device.c ****   }
 672:application-library/usb-cdc-device.c **** 
 673:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 674:application-library/usb-cdc-device.c **** 
 675:application-library/usb-cdc-device.c ****   if ((pdev->ep_in[epnum & 0xFU].total_length > 0U) &&
 676:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 677:application-library/usb-cdc-device.c ****   {
 678:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 679:application-library/usb-cdc-device.c ****     pdev->ep_in[epnum & 0xFU].total_length = 0U;
 680:application-library/usb-cdc-device.c **** 
 681:application-library/usb-cdc-device.c ****     /* Send ZLP */
 682:application-library/usb-cdc-device.c ****     (void)USBD_LL_Transmit(pdev, epnum, NULL, 0U);
 683:application-library/usb-cdc-device.c ****   }
 684:application-library/usb-cdc-device.c ****   else
 685:application-library/usb-cdc-device.c ****   {
 686:application-library/usb-cdc-device.c ****     hcdc->TxState = 0U;
 687:application-library/usb-cdc-device.c **** 
 688:application-library/usb-cdc-device.c ****     if (((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->TransmitCplt != NULL)
 689:application-library/usb-cdc-device.c ****     {
 690:application-library/usb-cdc-device.c ****       ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->TransmitCplt(hcdc->TxBuffer, &hcdc->
 691:application-library/usb-cdc-device.c ****     }
 692:application-library/usb-cdc-device.c ****   }
 693:application-library/usb-cdc-device.c **** 
 694:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 695:application-library/usb-cdc-device.c **** }
 696:application-library/usb-cdc-device.c **** 
 697:application-library/usb-cdc-device.c **** 
 698:application-library/usb-cdc-device.c **** 
 699:application-library/usb-cdc-device.c **** /**
 700:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataOut
 701:application-library/usb-cdc-device.c ****   *         Data received on non-control Out endpoint
 702:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 703:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 704:application-library/usb-cdc-device.c ****   * @retval status
 705:application-library/usb-cdc-device.c ****   */
 706:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum)
 707:application-library/usb-cdc-device.c **** {
 708:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 709:application-library/usb-cdc-device.c **** 
 710:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 711:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccSzmojl.s 			page 15


 712:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 713:application-library/usb-cdc-device.c ****   }
 714:application-library/usb-cdc-device.c **** 
 715:application-library/usb-cdc-device.c ****   /* Get the received data length */
 716:application-library/usb-cdc-device.c ****   hcdc->RxLength = USBD_LL_GetRxDataSize(pdev, epnum);
 717:application-library/usb-cdc-device.c **** 
 718:application-library/usb-cdc-device.c ****   /* USB data will be immediately processed, this allow next USB traffic being
 719:application-library/usb-cdc-device.c ****   NAKed till the end of the application Xfer */
 720:application-library/usb-cdc-device.c **** 
 721:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Receive(hcdc->RxBuffer, &hcdc->RxLength)
 722:application-library/usb-cdc-device.c **** 
 723:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 724:application-library/usb-cdc-device.c **** }
 725:application-library/usb-cdc-device.c **** 
 726:application-library/usb-cdc-device.c **** /**
 727:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_EP0_RxReady
 728:application-library/usb-cdc-device.c ****   *         Handle EP0 Rx Ready event
 729:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 730:application-library/usb-cdc-device.c ****   * @retval status
 731:application-library/usb-cdc-device.c ****   */
 732:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_EP0_RxReady(USBD_HandleTypeDef *pdev)
 733:application-library/usb-cdc-device.c **** {
  95              		.loc 1 733 0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99              	.LVL4:
 100 0000 10B5     		push	{r4, lr}
 101              	.LCFI0:
 102              		.cfi_def_cfa_offset 8
 103              		.cfi_offset 4, -8
 104              		.cfi_offset 14, -4
 734:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 105              		.loc 1 734 0
 106 0002 D0F8D432 		ldr	r3, [r0, #724]
 107 0006 03F1B002 		add	r2, r3, #176
 108 000a 50F82240 		ldr	r4, [r0, r2, lsl #2]
 109              	.LVL5:
 735:application-library/usb-cdc-device.c **** 
 736:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 110              		.loc 1 736 0
 111 000e 8CB1     		cbz	r4, .L6
 737:application-library/usb-cdc-device.c ****   {
 738:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 739:application-library/usb-cdc-device.c ****   }
 740:application-library/usb-cdc-device.c **** 
 741:application-library/usb-cdc-device.c ****   if ((pdev->pUserData[pdev->classId] != NULL) && (hcdc->CmdOpCode != 0xFFU))
 112              		.loc 1 741 0
 113 0010 00EB8200 		add	r0, r0, r2, lsl #2
 114              	.LVL6:
 115 0014 4368     		ldr	r3, [r0, #4]
 116 0016 7BB1     		cbz	r3, .L7
 117              		.loc 1 741 0 is_stmt 0 discriminator 1
 118 0018 94F80002 		ldrb	r0, [r4, #512]	@ zero_extendqisi2
 119 001c FF28     		cmp	r0, #255
 120 001e 0DD0     		beq	.L8
 742:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccSzmojl.s 			page 16


 743:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(hcdc->CmdOpCode,
 121              		.loc 1 743 0 is_stmt 1
 122 0020 9B68     		ldr	r3, [r3, #8]
 123 0022 94F80122 		ldrb	r2, [r4, #513]	@ zero_extendqisi2
 124 0026 2146     		mov	r1, r4
 125 0028 9847     		blx	r3
 126              	.LVL7:
 744:application-library/usb-cdc-device.c ****                                                                      (uint8_t *)hcdc->data,
 745:application-library/usb-cdc-device.c ****                                                                      (uint16_t)hcdc->CmdLength);
 746:application-library/usb-cdc-device.c ****     hcdc->CmdOpCode = 0xFFU;
 127              		.loc 1 746 0
 128 002a FF23     		movs	r3, #255
 129 002c 84F80032 		strb	r3, [r4, #512]
 747:application-library/usb-cdc-device.c ****   }
 748:application-library/usb-cdc-device.c **** 
 749:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 130              		.loc 1 749 0
 131 0030 0020     		movs	r0, #0
 132 0032 10BD     		pop	{r4, pc}
 133              	.LVL8:
 134              	.L6:
 738:application-library/usb-cdc-device.c ****   }
 135              		.loc 1 738 0
 136 0034 0320     		movs	r0, #3
 137              	.LVL9:
 138 0036 10BD     		pop	{r4, pc}
 139              	.LVL10:
 140              	.L7:
 141              		.loc 1 749 0
 142 0038 0020     		movs	r0, #0
 143 003a 10BD     		pop	{r4, pc}
 144              	.LVL11:
 145              	.L8:
 146 003c 0020     		movs	r0, #0
 750:application-library/usb-cdc-device.c **** }
 147              		.loc 1 750 0
 148 003e 10BD     		pop	{r4, pc}
 149              		.cfi_endproc
 150              	.LFE144:
 152              		.section	.text.USBD_CDC_GetDeviceQualifierDescriptor,"ax",%progbits
 153              		.align	1
 154              		.global	USBD_CDC_GetDeviceQualifierDescriptor
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	USBD_CDC_GetDeviceQualifierDescriptor:
 161              	.LFB148:
 751:application-library/usb-cdc-device.c **** /**
 752:application-library/usb-cdc-device.c ****   * @brief  Get full speed configuration descriptor.
 753:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 754:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 755:application-library/usb-cdc-device.c ****   */
 756:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetFSCfgDesc(uint16_t *length)
 757:application-library/usb-cdc-device.c **** {
 758:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 759:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
ARM GAS  /tmp/ccSzmojl.s 			page 17


 760:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 761:application-library/usb-cdc-device.c **** 
 762:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 763:application-library/usb-cdc-device.c ****   {
 764:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 765:application-library/usb-cdc-device.c ****   }
 766:application-library/usb-cdc-device.c **** 
 767:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 768:application-library/usb-cdc-device.c ****   {
 769:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 770:application-library/usb-cdc-device.c ****   }
 771:application-library/usb-cdc-device.c **** 
 772:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 773:application-library/usb-cdc-device.c ****   {
 774:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 775:application-library/usb-cdc-device.c ****   }
 776:application-library/usb-cdc-device.c **** 
 777:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 778:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 779:application-library/usb-cdc-device.c **** }
 780:application-library/usb-cdc-device.c **** 
 781:application-library/usb-cdc-device.c **** /**
 782:application-library/usb-cdc-device.c ****   * @brief  Return configuration descriptor
 783:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 784:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 785:application-library/usb-cdc-device.c ****   */
 786:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetHSCfgDesc(uint16_t *length)
 787:application-library/usb-cdc-device.c **** {
 788:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 789:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 790:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 791:application-library/usb-cdc-device.c **** 
 792:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 793:application-library/usb-cdc-device.c ****   {
 794:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_HS_BINTERVAL;
 795:application-library/usb-cdc-device.c ****   }
 796:application-library/usb-cdc-device.c **** 
 797:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 798:application-library/usb-cdc-device.c ****   {
 799:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 800:application-library/usb-cdc-device.c ****   }
 801:application-library/usb-cdc-device.c **** 
 802:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 803:application-library/usb-cdc-device.c ****   {
 804:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 805:application-library/usb-cdc-device.c ****   }
 806:application-library/usb-cdc-device.c **** 
 807:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 808:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 809:application-library/usb-cdc-device.c **** }
 810:application-library/usb-cdc-device.c **** 
 811:application-library/usb-cdc-device.c **** /**
 812:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_GetOtherSpeedCfgDesc
 813:application-library/usb-cdc-device.c ****   *         Return configuration descriptor
 814:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 815:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 816:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccSzmojl.s 			page 18


 817:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetOtherSpeedCfgDesc(uint16_t *length)
 818:application-library/usb-cdc-device.c **** {
 819:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 820:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 821:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 822:application-library/usb-cdc-device.c **** 
 823:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 824:application-library/usb-cdc-device.c ****   {
 825:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 826:application-library/usb-cdc-device.c ****   }
 827:application-library/usb-cdc-device.c **** 
 828:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 829:application-library/usb-cdc-device.c ****   {
 830:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 831:application-library/usb-cdc-device.c ****   }
 832:application-library/usb-cdc-device.c **** 
 833:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 834:application-library/usb-cdc-device.c ****   {
 835:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 836:application-library/usb-cdc-device.c ****   }
 837:application-library/usb-cdc-device.c **** 
 838:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 839:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 840:application-library/usb-cdc-device.c **** }
 841:application-library/usb-cdc-device.c **** 
 842:application-library/usb-cdc-device.c **** /**
 843:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_GetDeviceQualifierDescriptor
 844:application-library/usb-cdc-device.c ****   *         return Device Qualifier descriptor
 845:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 846:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 847:application-library/usb-cdc-device.c ****   */
 848:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetDeviceQualifierDescriptor(uint16_t *length)
 849:application-library/usb-cdc-device.c **** {
 162              		.loc 1 849 0
 163              		.cfi_startproc
 164              		@ args = 0, pretend = 0, frame = 0
 165              		@ frame_needed = 0, uses_anonymous_args = 0
 166              		@ link register save eliminated.
 167              	.LVL12:
 850:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_DeviceQualifierDesc);
 168              		.loc 1 850 0
 169 0000 0A23     		movs	r3, #10
 170 0002 0380     		strh	r3, [r0]	@ movhi
 851:application-library/usb-cdc-device.c **** 
 852:application-library/usb-cdc-device.c ****   return USBD_CDC_DeviceQualifierDesc;
 853:application-library/usb-cdc-device.c **** }
 171              		.loc 1 853 0
 172 0004 0048     		ldr	r0, .L11
 173              	.LVL13:
 174 0006 7047     		bx	lr
 175              	.L12:
 176              		.align	2
 177              	.L11:
 178 0008 00000000 		.word	.LANCHOR0
 179              		.cfi_endproc
 180              	.LFE148:
 182              		.section	.text.USBD_CDC_Init,"ax",%progbits
ARM GAS  /tmp/ccSzmojl.s 			page 19


 183              		.align	1
 184              		.global	USBD_CDC_Init
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 188              		.fpu fpv4-sp-d16
 190              	USBD_CDC_Init:
 191              	.LFB139:
 429:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 192              		.loc 1 429 0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 0
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196              	.LVL14:
 197 0000 70B5     		push	{r4, r5, r6, lr}
 198              	.LCFI1:
 199              		.cfi_def_cfa_offset 16
 200              		.cfi_offset 4, -16
 201              		.cfi_offset 5, -12
 202              		.cfi_offset 6, -8
 203              		.cfi_offset 14, -4
 204 0002 0446     		mov	r4, r0
 433:application-library/usb-cdc-device.c **** 
 205              		.loc 1 433 0
 206 0004 4FF40770 		mov	r0, #540
 207              	.LVL15:
 208 0008 FFF7FEFF 		bl	USBD_static_malloc
 209              	.LVL16:
 435:application-library/usb-cdc-device.c ****   {
 210              		.loc 1 435 0
 211 000c 0028     		cmp	r0, #0
 212 000e 48D0     		beq	.L21
 213 0010 0546     		mov	r5, r0
 441:application-library/usb-cdc-device.c **** 
 214              		.loc 1 441 0
 215 0012 4FF40772 		mov	r2, #540
 216 0016 0021     		movs	r1, #0
 217 0018 FFF7FEFF 		bl	memset
 218              	.LVL17:
 443:application-library/usb-cdc-device.c ****   pdev->pClassData = pdev->pClassDataCmsit[pdev->classId];
 219              		.loc 1 443 0
 220 001c D4F8D432 		ldr	r3, [r4, #724]
 221 0020 B033     		adds	r3, r3, #176
 222 0022 44F82350 		str	r5, [r4, r3, lsl #2]
 444:application-library/usb-cdc-device.c **** 
 223              		.loc 1 444 0
 224 0026 C4F8BC52 		str	r5, [r4, #700]
 446:application-library/usb-cdc-device.c ****   {
 225              		.loc 1 446 0
 226 002a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 227 002c 002B     		cmp	r3, #0
 228 002e 40D1     		bne	.L16
 449:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 229              		.loc 1 449 0
 230 0030 4FF40073 		mov	r3, #512
 231 0034 0222     		movs	r2, #2
 232 0036 8121     		movs	r1, #129
ARM GAS  /tmp/ccSzmojl.s 			page 20


 233 0038 2046     		mov	r0, r4
 234 003a FFF7FEFF 		bl	USBD_LL_OpenEP
 235              	.LVL18:
 452:application-library/usb-cdc-device.c **** 
 236              		.loc 1 452 0
 237 003e 0126     		movs	r6, #1
 238 0040 2687     		strh	r6, [r4, #56]	@ movhi
 455:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 239              		.loc 1 455 0
 240 0042 4FF40073 		mov	r3, #512
 241 0046 0222     		movs	r2, #2
 242 0048 3146     		mov	r1, r6
 243 004a 2046     		mov	r0, r4
 244 004c FFF7FEFF 		bl	USBD_LL_OpenEP
 245              	.LVL19:
 458:application-library/usb-cdc-device.c **** 
 246              		.loc 1 458 0
 247 0050 A4F87861 		strh	r6, [r4, #376]	@ movhi
 461:application-library/usb-cdc-device.c ****   }
 248              		.loc 1 461 0
 249 0054 1023     		movs	r3, #16
 250 0056 A4F84E30 		strh	r3, [r4, #78]	@ movhi
 251              	.L17:
 482:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
 252              		.loc 1 482 0
 253 005a 0823     		movs	r3, #8
 254 005c 0322     		movs	r2, #3
 255 005e 8221     		movs	r1, #130
 256 0060 2046     		mov	r0, r4
 257 0062 FFF7FEFF 		bl	USBD_LL_OpenEP
 258              	.LVL20:
 483:application-library/usb-cdc-device.c **** 
 259              		.loc 1 483 0
 260 0066 0123     		movs	r3, #1
 261 0068 A4F84C30 		strh	r3, [r4, #76]	@ movhi
 485:application-library/usb-cdc-device.c **** 
 262              		.loc 1 485 0
 263 006c 0026     		movs	r6, #0
 264 006e C5F80462 		str	r6, [r5, #516]
 488:application-library/usb-cdc-device.c **** 
 265              		.loc 1 488 0
 266 0072 D4F8D432 		ldr	r3, [r4, #724]
 267 0076 B033     		adds	r3, r3, #176
 268 0078 04EB8303 		add	r3, r4, r3, lsl #2
 269 007c 5B68     		ldr	r3, [r3, #4]
 270 007e 1B68     		ldr	r3, [r3]
 271 0080 9847     		blx	r3
 272              	.LVL21:
 491:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 273              		.loc 1 491 0
 274 0082 C5F81462 		str	r6, [r5, #532]
 492:application-library/usb-cdc-device.c **** 
 275              		.loc 1 492 0
 276 0086 C5F81862 		str	r6, [r5, #536]
 494:application-library/usb-cdc-device.c ****   {
 277              		.loc 1 494 0
 278 008a D5F80422 		ldr	r2, [r5, #516]
ARM GAS  /tmp/ccSzmojl.s 			page 21


 279 008e 62B3     		cbz	r2, .L19
 499:application-library/usb-cdc-device.c ****   {
 280              		.loc 1 499 0
 281 0090 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 282 0092 13B3     		cbz	r3, .L22
 508:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 283              		.loc 1 508 0
 284 0094 4023     		movs	r3, #64
 285 0096 0121     		movs	r1, #1
 286 0098 2046     		mov	r0, r4
 287 009a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 288              	.LVL22:
 512:application-library/usb-cdc-device.c **** }
 289              		.loc 1 512 0
 290 009e 0020     		movs	r0, #0
 291 00a0 70BD     		pop	{r4, r5, r6, pc}
 292              	.LVL23:
 293              	.L21:
 437:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 294              		.loc 1 437 0
 295 00a2 D4F8D432 		ldr	r3, [r4, #724]
 296 00a6 B033     		adds	r3, r3, #176
 297 00a8 0022     		movs	r2, #0
 298 00aa 44F82320 		str	r2, [r4, r3, lsl #2]
 438:application-library/usb-cdc-device.c ****   }
 299              		.loc 1 438 0
 300 00ae 0220     		movs	r0, #2
 301              	.LVL24:
 302 00b0 70BD     		pop	{r4, r5, r6, pc}
 303              	.LVL25:
 304              	.L16:
 466:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 305              		.loc 1 466 0
 306 00b2 4023     		movs	r3, #64
 307 00b4 0222     		movs	r2, #2
 308 00b6 8121     		movs	r1, #129
 309 00b8 2046     		mov	r0, r4
 310 00ba FFF7FEFF 		bl	USBD_LL_OpenEP
 311              	.LVL26:
 469:application-library/usb-cdc-device.c **** 
 312              		.loc 1 469 0
 313 00be 0126     		movs	r6, #1
 314 00c0 2687     		strh	r6, [r4, #56]	@ movhi
 472:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 315              		.loc 1 472 0
 316 00c2 4023     		movs	r3, #64
 317 00c4 0222     		movs	r2, #2
 318 00c6 3146     		mov	r1, r6
 319 00c8 2046     		mov	r0, r4
 320 00ca FFF7FEFF 		bl	USBD_LL_OpenEP
 321              	.LVL27:
 475:application-library/usb-cdc-device.c **** 
 322              		.loc 1 475 0
 323 00ce A4F87861 		strh	r6, [r4, #376]	@ movhi
 478:application-library/usb-cdc-device.c ****   }
 324              		.loc 1 478 0
 325 00d2 1023     		movs	r3, #16
ARM GAS  /tmp/ccSzmojl.s 			page 22


 326 00d4 A4F84E30 		strh	r3, [r4, #78]	@ movhi
 327 00d8 BFE7     		b	.L17
 328              	.L22:
 502:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 329              		.loc 1 502 0
 330 00da 4FF40073 		mov	r3, #512
 331 00de 0121     		movs	r1, #1
 332 00e0 2046     		mov	r0, r4
 333 00e2 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 334              	.LVL28:
 512:application-library/usb-cdc-device.c **** }
 335              		.loc 1 512 0
 336 00e6 3046     		mov	r0, r6
 337 00e8 70BD     		pop	{r4, r5, r6, pc}
 338              	.LVL29:
 339              	.L19:
 496:application-library/usb-cdc-device.c ****   }
 340              		.loc 1 496 0
 341 00ea 0220     		movs	r0, #2
 513:application-library/usb-cdc-device.c **** 
 342              		.loc 1 513 0
 343 00ec 70BD     		pop	{r4, r5, r6, pc}
 344              		.cfi_endproc
 345              	.LFE139:
 347              		.section	.text.USBD_CDC_DeInit,"ax",%progbits
 348              		.align	1
 349              		.global	USBD_CDC_DeInit
 350              		.syntax unified
 351              		.thumb
 352              		.thumb_func
 353              		.fpu fpv4-sp-d16
 355              	USBD_CDC_DeInit:
 356              	.LFB140:
 523:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 357              		.loc 1 523 0
 358              		.cfi_startproc
 359              		@ args = 0, pretend = 0, frame = 0
 360              		@ frame_needed = 0, uses_anonymous_args = 0
 361              	.LVL30:
 362 0000 38B5     		push	{r3, r4, r5, lr}
 363              	.LCFI2:
 364              		.cfi_def_cfa_offset 16
 365              		.cfi_offset 3, -16
 366              		.cfi_offset 4, -12
 367              		.cfi_offset 5, -8
 368              		.cfi_offset 14, -4
 369 0002 0446     		mov	r4, r0
 527:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 370              		.loc 1 527 0
 371 0004 8121     		movs	r1, #129
 372              	.LVL31:
 373 0006 FFF7FEFF 		bl	USBD_LL_CloseEP
 374              	.LVL32:
 528:application-library/usb-cdc-device.c **** 
 375              		.loc 1 528 0
 376 000a 0025     		movs	r5, #0
 377 000c 2587     		strh	r5, [r4, #56]	@ movhi
ARM GAS  /tmp/ccSzmojl.s 			page 23


 531:application-library/usb-cdc-device.c ****   pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 378              		.loc 1 531 0
 379 000e 0121     		movs	r1, #1
 380 0010 2046     		mov	r0, r4
 381 0012 FFF7FEFF 		bl	USBD_LL_CloseEP
 382              	.LVL33:
 532:application-library/usb-cdc-device.c **** 
 383              		.loc 1 532 0
 384 0016 A4F87851 		strh	r5, [r4, #376]	@ movhi
 535:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 385              		.loc 1 535 0
 386 001a 8221     		movs	r1, #130
 387 001c 2046     		mov	r0, r4
 388 001e FFF7FEFF 		bl	USBD_LL_CloseEP
 389              	.LVL34:
 536:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 390              		.loc 1 536 0
 391 0022 A4F84C50 		strh	r5, [r4, #76]	@ movhi
 537:application-library/usb-cdc-device.c **** 
 392              		.loc 1 537 0
 393 0026 A4F84E50 		strh	r5, [r4, #78]	@ movhi
 540:application-library/usb-cdc-device.c ****   {
 394              		.loc 1 540 0
 395 002a D4F8D432 		ldr	r3, [r4, #724]
 396 002e 03F1B002 		add	r2, r3, #176
 397 0032 54F82220 		ldr	r2, [r4, r2, lsl #2]
 398 0036 9AB1     		cbz	r2, .L24
 542:application-library/usb-cdc-device.c ****     (void)USBD_free(pdev->pClassDataCmsit[pdev->classId]);
 399              		.loc 1 542 0
 400 0038 B033     		adds	r3, r3, #176
 401 003a 04EB8303 		add	r3, r4, r3, lsl #2
 402 003e 5B68     		ldr	r3, [r3, #4]
 403 0040 5B68     		ldr	r3, [r3, #4]
 404 0042 9847     		blx	r3
 405              	.LVL35:
 543:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 406              		.loc 1 543 0
 407 0044 D4F8D432 		ldr	r3, [r4, #724]
 408 0048 B033     		adds	r3, r3, #176
 409 004a 54F82300 		ldr	r0, [r4, r3, lsl #2]
 410 004e FFF7FEFF 		bl	USBD_static_free
 411              	.LVL36:
 544:application-library/usb-cdc-device.c ****     pdev->pClassData = NULL;
 412              		.loc 1 544 0
 413 0052 D4F8D432 		ldr	r3, [r4, #724]
 414 0056 B033     		adds	r3, r3, #176
 415 0058 44F82350 		str	r5, [r4, r3, lsl #2]
 545:application-library/usb-cdc-device.c ****   }
 416              		.loc 1 545 0
 417 005c C4F8BC52 		str	r5, [r4, #700]
 418              	.L24:
 549:application-library/usb-cdc-device.c **** 
 419              		.loc 1 549 0
 420 0060 0020     		movs	r0, #0
 421 0062 38BD     		pop	{r3, r4, r5, pc}
 422              		.cfi_endproc
 423              	.LFE140:
ARM GAS  /tmp/ccSzmojl.s 			page 24


 425              		.section	.text.USBD_CDC_DataIn,"ax",%progbits
 426              		.align	1
 427              		.global	USBD_CDC_DataIn
 428              		.syntax unified
 429              		.thumb
 430              		.thumb_func
 431              		.fpu fpv4-sp-d16
 433              	USBD_CDC_DataIn:
 434              	.LFB142:
 664:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 435              		.loc 1 664 0
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 0
 438              		@ frame_needed = 0, uses_anonymous_args = 0
 439              	.LVL37:
 440 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 441              	.LCFI3:
 442              		.cfi_def_cfa_offset 24
 443              		.cfi_offset 3, -24
 444              		.cfi_offset 4, -20
 445              		.cfi_offset 5, -16
 446              		.cfi_offset 6, -12
 447              		.cfi_offset 7, -8
 448              		.cfi_offset 14, -4
 666:application-library/usb-cdc-device.c **** 
 449              		.loc 1 666 0
 450 0002 D0F8C862 		ldr	r6, [r0, #712]
 451              	.LVL38:
 668:application-library/usb-cdc-device.c ****   {
 452              		.loc 1 668 0
 453 0006 D0F8D432 		ldr	r3, [r0, #724]
 454 000a B033     		adds	r3, r3, #176
 455 000c 50F82330 		ldr	r3, [r0, r3, lsl #2]
 456 0010 83B3     		cbz	r3, .L29
 457              	.LVL39:
 675:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 458              		.loc 1 675 0
 459 0012 01F00F04 		and	r4, r1, #15
 460 0016 04EB8405 		add	r5, r4, r4, lsl #2
 461 001a AA00     		lsls	r2, r5, #2
 462 001c 0244     		add	r2, r2, r0
 463 001e 9269     		ldr	r2, [r2, #24]
 464 0020 4AB1     		cbz	r2, .L28
 676:application-library/usb-cdc-device.c ****   {
 465              		.loc 1 676 0 discriminator 1
 466 0022 04EBC407 		add	r7, r4, r4, lsl #3
 467 0026 BD00     		lsls	r5, r7, #2
 468 0028 2E44     		add	r6, r6, r5
 469              	.LVL40:
 470 002a B66C     		ldr	r6, [r6, #72]
 471 002c B2FBF6F5 		udiv	r5, r2, r6
 472 0030 06FB1522 		mls	r2, r6, r5, r2
 675:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 473              		.loc 1 675 0 discriminator 1
 474 0034 92B1     		cbz	r2, .L32
 475              	.L28:
 686:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 25


 476              		.loc 1 686 0
 477 0036 0022     		movs	r2, #0
 478 0038 C3F81422 		str	r2, [r3, #532]
 479              	.LVL41:
 688:application-library/usb-cdc-device.c ****     {
 480              		.loc 1 688 0
 481 003c D0F8D422 		ldr	r2, [r0, #724]
 482 0040 B032     		adds	r2, r2, #176
 483 0042 00EB8200 		add	r0, r0, r2, lsl #2
 484              	.LVL42:
 485 0046 4268     		ldr	r2, [r0, #4]
 486 0048 1469     		ldr	r4, [r2, #16]
 487 004a ACB1     		cbz	r4, .L30
 690:application-library/usb-cdc-device.c ****     }
 488              		.loc 1 690 0
 489 004c 0A46     		mov	r2, r1
 490 004e 03F50471 		add	r1, r3, #528
 491              	.LVL43:
 492 0052 D3F80802 		ldr	r0, [r3, #520]
 493 0056 A047     		blx	r4
 494              	.LVL44:
 694:application-library/usb-cdc-device.c **** }
 495              		.loc 1 694 0
 496 0058 0020     		movs	r0, #0
 497 005a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 498              	.LVL45:
 499              	.L32:
 679:application-library/usb-cdc-device.c **** 
 500              		.loc 1 679 0
 501 005c 04EB8404 		add	r4, r4, r4, lsl #2
 502 0060 A300     		lsls	r3, r4, #2
 503              	.LVL46:
 504 0062 0344     		add	r3, r3, r0
 505 0064 0024     		movs	r4, #0
 506 0066 9C61     		str	r4, [r3, #24]
 507              	.LVL47:
 682:application-library/usb-cdc-device.c ****   }
 508              		.loc 1 682 0
 509 0068 2346     		mov	r3, r4
 510 006a 2246     		mov	r2, r4
 511 006c FFF7FEFF 		bl	USBD_LL_Transmit
 512              	.LVL48:
 694:application-library/usb-cdc-device.c **** }
 513              		.loc 1 694 0
 514 0070 2046     		mov	r0, r4
 682:application-library/usb-cdc-device.c ****   }
 515              		.loc 1 682 0
 516 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 517              	.LVL49:
 518              	.L29:
 670:application-library/usb-cdc-device.c ****   }
 519              		.loc 1 670 0
 520 0074 0320     		movs	r0, #3
 521              	.LVL50:
 522 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 523              	.LVL51:
 524              	.L30:
ARM GAS  /tmp/ccSzmojl.s 			page 26


 694:application-library/usb-cdc-device.c **** }
 525              		.loc 1 694 0
 526 0078 0020     		movs	r0, #0
 695:application-library/usb-cdc-device.c **** 
 527              		.loc 1 695 0
 528 007a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 529              		.cfi_endproc
 530              	.LFE142:
 532              		.section	.text.USBD_CDC_DataOut,"ax",%progbits
 533              		.align	1
 534              		.global	USBD_CDC_DataOut
 535              		.syntax unified
 536              		.thumb
 537              		.thumb_func
 538              		.fpu fpv4-sp-d16
 540              	USBD_CDC_DataOut:
 541              	.LFB143:
 707:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 542              		.loc 1 707 0
 543              		.cfi_startproc
 544              		@ args = 0, pretend = 0, frame = 0
 545              		@ frame_needed = 0, uses_anonymous_args = 0
 546              	.LVL52:
 547 0000 38B5     		push	{r3, r4, r5, lr}
 548              	.LCFI4:
 549              		.cfi_def_cfa_offset 16
 550              		.cfi_offset 3, -16
 551              		.cfi_offset 4, -12
 552              		.cfi_offset 5, -8
 553              		.cfi_offset 14, -4
 708:application-library/usb-cdc-device.c **** 
 554              		.loc 1 708 0
 555 0002 D0F8D432 		ldr	r3, [r0, #724]
 556 0006 B033     		adds	r3, r3, #176
 557 0008 50F82350 		ldr	r5, [r0, r3, lsl #2]
 558              	.LVL53:
 710:application-library/usb-cdc-device.c ****   {
 559              		.loc 1 710 0
 560 000c 95B1     		cbz	r5, .L35
 561 000e 0446     		mov	r4, r0
 716:application-library/usb-cdc-device.c **** 
 562              		.loc 1 716 0
 563 0010 FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 564              	.LVL54:
 565 0014 C5F80C02 		str	r0, [r5, #524]
 721:application-library/usb-cdc-device.c **** 
 566              		.loc 1 721 0
 567 0018 D4F8D402 		ldr	r0, [r4, #724]
 568 001c B030     		adds	r0, r0, #176
 569 001e 04EB8000 		add	r0, r4, r0, lsl #2
 570 0022 4368     		ldr	r3, [r0, #4]
 571 0024 DB68     		ldr	r3, [r3, #12]
 572 0026 05F50371 		add	r1, r5, #524
 573 002a D5F80402 		ldr	r0, [r5, #516]
 574 002e 9847     		blx	r3
 575              	.LVL55:
 723:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccSzmojl.s 			page 27


 576              		.loc 1 723 0
 577 0030 0020     		movs	r0, #0
 578 0032 38BD     		pop	{r3, r4, r5, pc}
 579              	.LVL56:
 580              	.L35:
 712:application-library/usb-cdc-device.c ****   }
 581              		.loc 1 712 0
 582 0034 0320     		movs	r0, #3
 583              	.LVL57:
 724:application-library/usb-cdc-device.c **** 
 584              		.loc 1 724 0
 585 0036 38BD     		pop	{r3, r4, r5, pc}
 586              		.cfi_endproc
 587              	.LFE143:
 589              		.section	.text.usb_device_init,"ax",%progbits
 590              		.align	1
 591              		.global	usb_device_init
 592              		.syntax unified
 593              		.thumb
 594              		.thumb_func
 595              		.fpu fpv4-sp-d16
 597              	usb_device_init:
 598              	.LFB138:
 338:application-library/usb-cdc-device.c ****   /* Init Device Library, add supported class and start the library. */
 599              		.loc 1 338 0
 600              		.cfi_startproc
 601              		@ args = 0, pretend = 0, frame = 0
 602              		@ frame_needed = 0, uses_anonymous_args = 0
 603 0000 38B5     		push	{r3, r4, r5, lr}
 604              	.LCFI5:
 605              		.cfi_def_cfa_offset 16
 606              		.cfi_offset 3, -16
 607              		.cfi_offset 4, -12
 608              		.cfi_offset 5, -8
 609              		.cfi_offset 14, -4
 342:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[0] = NULL;
 610              		.loc 1 342 0
 611 0002 2749     		ldr	r1, .L41
 612 0004 0B68     		ldr	r3, [r1]
 613 0006 0022     		movs	r2, #0
 614 0008 C3F8B822 		str	r2, [r3, #696]
 343:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = NULL;
 615              		.loc 1 343 0
 616 000c C3F8C422 		str	r2, [r3, #708]
 344:application-library/usb-cdc-device.c **** 
 617              		.loc 1 344 0
 618 0010 C3F8D022 		str	r2, [r3, #720]
 347:application-library/usb-cdc-device.c **** 
 619              		.loc 1 347 0
 620 0014 2348     		ldr	r0, .L41+4
 621 0016 C3F8B402 		str	r0, [r3, #692]
 350:application-library/usb-cdc-device.c ****   p_usbd_handle->id = DEVICE_FS; // DEVICE_FS (0)
 622              		.loc 1 350 0
 623 001a 0120     		movs	r0, #1
 624 001c 83F89C02 		strb	r0, [r3, #668]
 351:application-library/usb-cdc-device.c **** 
 625              		.loc 1 351 0
ARM GAS  /tmp/ccSzmojl.s 			page 28


 626 0020 1A70     		strb	r2, [r3]
 359:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
 627              		.loc 1 359 0
 628 0022 0B68     		ldr	r3, [r1]
 629 0024 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 630 0026 AAB1     		cbz	r2, .L40
 631              	.L38:
 386:application-library/usb-cdc-device.c **** 
 632              		.loc 1 386 0
 633 0028 1D4C     		ldr	r4, .L41
 634 002a 2568     		ldr	r5, [r4]
 635 002c 1E4B     		ldr	r3, .L41+8
 636 002e C5F8B832 		str	r3, [r5, #696]
 402:application-library/usb-cdc-device.c **** 
 637              		.loc 1 402 0
 638 0032 DB6A     		ldr	r3, [r3, #44]
 639 0034 0020     		movs	r0, #0
 640 0036 9847     		blx	r3
 641              	.LVL58:
 642 0038 C5F8D002 		str	r0, [r5, #720]
 408:application-library/usb-cdc-device.c **** 
 643              		.loc 1 408 0
 644 003c 2368     		ldr	r3, [r4]
 645 003e D3F8D422 		ldr	r2, [r3, #724]
 646 0042 B032     		adds	r2, r2, #176
 647 0044 03EB8203 		add	r3, r3, r2, lsl #2
 648 0048 184A     		ldr	r2, .L41+12
 649 004a 5A60     		str	r2, [r3, #4]
 413:application-library/usb-cdc-device.c **** }
 650              		.loc 1 413 0
 651 004c 1848     		ldr	r0, .L41+16
 652 004e FFF7FEFF 		bl	HAL_PCD_Start
 653              	.LVL59:
 654 0052 38BD     		pop	{r3, r4, r5, pc}
 655              	.L40:
 361:application-library/usb-cdc-device.c ****                                            /* pData is the pointer to upper stack handler. */
 656              		.loc 1 361 0
 657 0054 164C     		ldr	r4, .L41+16
 658 0056 C4F80835 		str	r3, [r4, #1288]
 363:application-library/usb-cdc-device.c **** 
 659              		.loc 1 363 0
 660 005a C3F8C842 		str	r4, [r3, #712]
 365:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 661              		.loc 1 365 0
 662 005e 4FF0A043 		mov	r3, #1342177280
 663 0062 2360     		str	r3, [r4]
 366:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 664              		.loc 1 366 0
 665 0064 0423     		movs	r3, #4
 666 0066 6360     		str	r3, [r4, #4]
 367:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
 667              		.loc 1 367 0
 668 0068 0223     		movs	r3, #2
 669 006a E360     		str	r3, [r4, #12]
 368:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
 670              		.loc 1 368 0
 671 006c 0025     		movs	r5, #0
ARM GAS  /tmp/ccSzmojl.s 			page 29


 672 006e 2561     		str	r5, [r4, #16]
 369:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
 673              		.loc 1 369 0
 674 0070 A361     		str	r3, [r4, #24]
 370:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 675              		.loc 1 370 0
 676 0072 E561     		str	r5, [r4, #28]
 371:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 677              		.loc 1 371 0
 678 0074 2562     		str	r5, [r4, #32]
 372:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 679              		.loc 1 372 0
 680 0076 6562     		str	r5, [r4, #36]
 373:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
 681              		.loc 1 373 0
 682 0078 E562     		str	r5, [r4, #44]
 374:application-library/usb-cdc-device.c **** 
 683              		.loc 1 374 0
 684 007a 2563     		str	r5, [r4, #48]
 376:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
 685              		.loc 1 376 0
 686 007c 2046     		mov	r0, r4
 687 007e FFF7FEFF 		bl	HAL_PCD_Init
 688              	.LVL60:
 378:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 689              		.loc 1 378 0
 690 0082 8021     		movs	r1, #128
 691 0084 2046     		mov	r0, r4
 692 0086 FFF7FEFF 		bl	HAL_PCDEx_SetRxFiFo
 693              	.LVL61:
 379:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 694              		.loc 1 379 0
 695 008a 4022     		movs	r2, #64
 696 008c 2946     		mov	r1, r5
 697 008e 2046     		mov	r0, r4
 698 0090 FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 699              	.LVL62:
 380:application-library/usb-cdc-device.c ****   }
 700              		.loc 1 380 0
 701 0094 8022     		movs	r2, #128
 702 0096 0121     		movs	r1, #1
 703 0098 2046     		mov	r0, r4
 704 009a FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 705              	.LVL63:
 706 009e C3E7     		b	.L38
 707              	.L42:
 708              		.align	2
 709              	.L41:
 710 00a0 00000000 		.word	.LANCHOR1
 711 00a4 00000000 		.word	FS_Desc
 712 00a8 00000000 		.word	.LANCHOR2
 713 00ac 00000000 		.word	.LANCHOR3
 714 00b0 00000000 		.word	hpcd_USB_OTG_FS
 715              		.cfi_endproc
 716              	.LFE138:
 718              		.section	.text.USBD_CDC_RegisterInterface,"ax",%progbits
 719              		.align	1
ARM GAS  /tmp/ccSzmojl.s 			page 30


 720              		.global	USBD_CDC_RegisterInterface
 721              		.syntax unified
 722              		.thumb
 723              		.thumb_func
 724              		.fpu fpv4-sp-d16
 726              	USBD_CDC_RegisterInterface:
 727              	.LFB149:
 854:application-library/usb-cdc-device.c **** 
 855:application-library/usb-cdc-device.c **** /**
 856:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_RegisterInterface
 857:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 858:application-library/usb-cdc-device.c ****   * @param  fops: CD  Interface callback
 859:application-library/usb-cdc-device.c ****   * @retval status
 860:application-library/usb-cdc-device.c ****   */
 861:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_RegisterInterface(USBD_HandleTypeDef *pdev,
 862:application-library/usb-cdc-device.c ****                                    USBD_CDC_ItfTypeDef *fops)
 863:application-library/usb-cdc-device.c **** {
 728              		.loc 1 863 0
 729              		.cfi_startproc
 730              		@ args = 0, pretend = 0, frame = 0
 731              		@ frame_needed = 0, uses_anonymous_args = 0
 732              		@ link register save eliminated.
 733              	.LVL64:
 864:application-library/usb-cdc-device.c ****   if (fops == NULL)
 734              		.loc 1 864 0
 735 0000 39B1     		cbz	r1, .L45
 865:application-library/usb-cdc-device.c ****   {
 866:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 867:application-library/usb-cdc-device.c ****   }
 868:application-library/usb-cdc-device.c **** 
 869:application-library/usb-cdc-device.c ****   pdev->pUserData[pdev->classId] = fops;
 736              		.loc 1 869 0
 737 0002 D0F8D432 		ldr	r3, [r0, #724]
 738 0006 B033     		adds	r3, r3, #176
 739 0008 00EB8300 		add	r0, r0, r3, lsl #2
 740              	.LVL65:
 741 000c 4160     		str	r1, [r0, #4]
 870:application-library/usb-cdc-device.c **** 
 871:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 742              		.loc 1 871 0
 743 000e 0020     		movs	r0, #0
 744 0010 7047     		bx	lr
 745              	.LVL66:
 746              	.L45:
 866:application-library/usb-cdc-device.c ****   }
 747              		.loc 1 866 0
 748 0012 0320     		movs	r0, #3
 749              	.LVL67:
 872:application-library/usb-cdc-device.c **** }
 750              		.loc 1 872 0
 751 0014 7047     		bx	lr
 752              		.cfi_endproc
 753              	.LFE149:
 755              		.section	.text.USBD_CDC_SetTxBuffer,"ax",%progbits
 756              		.align	1
 757              		.global	USBD_CDC_SetTxBuffer
 758              		.syntax unified
ARM GAS  /tmp/ccSzmojl.s 			page 31


 759              		.thumb
 760              		.thumb_func
 761              		.fpu fpv4-sp-d16
 763              	USBD_CDC_SetTxBuffer:
 764              	.LFB150:
 873:application-library/usb-cdc-device.c **** 
 874:application-library/usb-cdc-device.c **** /**
 875:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetTxBuffer
 876:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 877:application-library/usb-cdc-device.c ****   * @param  pbuff: Tx Buffer
 878:application-library/usb-cdc-device.c ****   * @param  length: Tx Buffer length
 879:application-library/usb-cdc-device.c ****   * @retval status
 880:application-library/usb-cdc-device.c ****   */
 881:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetTxBuffer(USBD_HandleTypeDef *pdev,
 882:application-library/usb-cdc-device.c ****                              uint8_t *pbuff, uint32_t length)
 883:application-library/usb-cdc-device.c **** {
 765              		.loc 1 883 0
 766              		.cfi_startproc
 767              		@ args = 0, pretend = 0, frame = 0
 768              		@ frame_needed = 0, uses_anonymous_args = 0
 769              		@ link register save eliminated.
 770              	.LVL68:
 884:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 771              		.loc 1 884 0
 772 0000 D0F8D432 		ldr	r3, [r0, #724]
 773 0004 B033     		adds	r3, r3, #176
 774 0006 50F82330 		ldr	r3, [r0, r3, lsl #2]
 775              	.LVL69:
 885:application-library/usb-cdc-device.c **** 
 886:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 776              		.loc 1 886 0
 777 000a 2BB1     		cbz	r3, .L48
 887:application-library/usb-cdc-device.c ****   {
 888:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 889:application-library/usb-cdc-device.c ****   }
 890:application-library/usb-cdc-device.c **** 
 891:application-library/usb-cdc-device.c ****   hcdc->TxBuffer = pbuff;
 778              		.loc 1 891 0
 779 000c C3F80812 		str	r1, [r3, #520]
 892:application-library/usb-cdc-device.c ****   hcdc->TxLength = length;
 780              		.loc 1 892 0
 781 0010 C3F81022 		str	r2, [r3, #528]
 893:application-library/usb-cdc-device.c **** 
 894:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 782              		.loc 1 894 0
 783 0014 0020     		movs	r0, #0
 784              	.LVL70:
 785 0016 7047     		bx	lr
 786              	.LVL71:
 787              	.L48:
 888:application-library/usb-cdc-device.c ****   }
 788              		.loc 1 888 0
 789 0018 0320     		movs	r0, #3
 790              	.LVL72:
 895:application-library/usb-cdc-device.c **** }
 791              		.loc 1 895 0
 792 001a 7047     		bx	lr
ARM GAS  /tmp/ccSzmojl.s 			page 32


 793              		.cfi_endproc
 794              	.LFE150:
 796              		.section	.text.USBD_CDC_SetRxBuffer,"ax",%progbits
 797              		.align	1
 798              		.global	USBD_CDC_SetRxBuffer
 799              		.syntax unified
 800              		.thumb
 801              		.thumb_func
 802              		.fpu fpv4-sp-d16
 804              	USBD_CDC_SetRxBuffer:
 805              	.LFB151:
 896:application-library/usb-cdc-device.c **** 
 897:application-library/usb-cdc-device.c **** /**
 898:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetRxBuffer
 899:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 900:application-library/usb-cdc-device.c ****   * @param  pbuff: Rx Buffer
 901:application-library/usb-cdc-device.c ****   * @retval status
 902:application-library/usb-cdc-device.c ****   */
 903:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetRxBuffer(USBD_HandleTypeDef *pdev, uint8_t *pbuff)
 904:application-library/usb-cdc-device.c **** {
 806              		.loc 1 904 0
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 0, uses_anonymous_args = 0
 810              		@ link register save eliminated.
 811              	.LVL73:
 905:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 812              		.loc 1 905 0
 813 0000 D0F8D432 		ldr	r3, [r0, #724]
 814 0004 B033     		adds	r3, r3, #176
 815 0006 50F82330 		ldr	r3, [r0, r3, lsl #2]
 816              	.LVL74:
 906:application-library/usb-cdc-device.c **** 
 907:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 817              		.loc 1 907 0
 818 000a 1BB1     		cbz	r3, .L51
 908:application-library/usb-cdc-device.c ****   {
 909:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 910:application-library/usb-cdc-device.c ****   }
 911:application-library/usb-cdc-device.c **** 
 912:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = pbuff;
 819              		.loc 1 912 0
 820 000c C3F80412 		str	r1, [r3, #516]
 913:application-library/usb-cdc-device.c **** 
 914:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 821              		.loc 1 914 0
 822 0010 0020     		movs	r0, #0
 823              	.LVL75:
 824 0012 7047     		bx	lr
 825              	.LVL76:
 826              	.L51:
 909:application-library/usb-cdc-device.c ****   }
 827              		.loc 1 909 0
 828 0014 0320     		movs	r0, #3
 829              	.LVL77:
 915:application-library/usb-cdc-device.c **** }
 830              		.loc 1 915 0
ARM GAS  /tmp/ccSzmojl.s 			page 33


 831 0016 7047     		bx	lr
 832              		.cfi_endproc
 833              	.LFE151:
 835              		.section	.text.CDC_Init_FS,"ax",%progbits
 836              		.align	1
 837              		.global	CDC_Init_FS
 838              		.syntax unified
 839              		.thumb
 840              		.thumb_func
 841              		.fpu fpv4-sp-d16
 843              	CDC_Init_FS:
 844              	.LFB132:
 181:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 845              		.loc 1 181 0
 846              		.cfi_startproc
 847              		@ args = 0, pretend = 0, frame = 0
 848              		@ frame_needed = 0, uses_anonymous_args = 0
 849 0000 10B5     		push	{r4, lr}
 850              	.LCFI6:
 851              		.cfi_def_cfa_offset 8
 852              		.cfi_offset 4, -8
 853              		.cfi_offset 14, -4
 184:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 854              		.loc 1 184 0
 855 0002 064C     		ldr	r4, .L54
 856 0004 0022     		movs	r2, #0
 857 0006 0649     		ldr	r1, .L54+4
 858 0008 2046     		mov	r0, r4
 859 000a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 860              	.LVL78:
 185:application-library/usb-cdc-device.c ****   return (USBD_OK);
 861              		.loc 1 185 0
 862 000e 0549     		ldr	r1, .L54+8
 863 0010 2046     		mov	r0, r4
 864 0012 FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 865              	.LVL79:
 188:application-library/usb-cdc-device.c **** 
 866              		.loc 1 188 0
 867 0016 0020     		movs	r0, #0
 868 0018 10BD     		pop	{r4, pc}
 869              	.L55:
 870 001a 00BF     		.align	2
 871              	.L54:
 872 001c 00000000 		.word	hUsbDeviceFS
 873 0020 00000000 		.word	UserTxBufferFS
 874 0024 00000000 		.word	UserRxBufferFS
 875              		.cfi_endproc
 876              	.LFE132:
 878              		.section	.text.USBD_CDC_TransmitPacket,"ax",%progbits
 879              		.align	1
 880              		.global	USBD_CDC_TransmitPacket
 881              		.syntax unified
 882              		.thumb
 883              		.thumb_func
 884              		.fpu fpv4-sp-d16
 886              	USBD_CDC_TransmitPacket:
 887              	.LFB152:
ARM GAS  /tmp/ccSzmojl.s 			page 34


 916:application-library/usb-cdc-device.c **** 
 917:application-library/usb-cdc-device.c **** /**
 918:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_TransmitPacket
 919:application-library/usb-cdc-device.c ****   *         Transmit packet on IN endpoint
 920:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 921:application-library/usb-cdc-device.c ****   * @retval status
 922:application-library/usb-cdc-device.c ****   */
 923:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_TransmitPacket(USBD_HandleTypeDef *pdev)
 924:application-library/usb-cdc-device.c **** {
 888              		.loc 1 924 0
 889              		.cfi_startproc
 890              		@ args = 0, pretend = 0, frame = 0
 891              		@ frame_needed = 0, uses_anonymous_args = 0
 892              	.LVL80:
 893 0000 08B5     		push	{r3, lr}
 894              	.LCFI7:
 895              		.cfi_def_cfa_offset 8
 896              		.cfi_offset 3, -8
 897              		.cfi_offset 14, -4
 925:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 898              		.loc 1 925 0
 899 0002 D0F8D432 		ldr	r3, [r0, #724]
 900 0006 B033     		adds	r3, r3, #176
 901 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 902              	.LVL81:
 926:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_BUSY;
 927:application-library/usb-cdc-device.c **** 
 928:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 903              		.loc 1 928 0
 904 000c 9AB1     		cbz	r2, .L58
 929:application-library/usb-cdc-device.c ****   {
 930:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 931:application-library/usb-cdc-device.c ****   }
 932:application-library/usb-cdc-device.c **** 
 933:application-library/usb-cdc-device.c ****   if (hcdc->TxState == 0U)
 905              		.loc 1 933 0
 906 000e D2F81432 		ldr	r3, [r2, #532]
 907 0012 0BB1     		cbz	r3, .L61
 926:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_BUSY;
 908              		.loc 1 926 0
 909 0014 0120     		movs	r0, #1
 910              	.LVL82:
 934:application-library/usb-cdc-device.c ****   {
 935:application-library/usb-cdc-device.c ****     /* Tx Transfer in progress */
 936:application-library/usb-cdc-device.c ****     hcdc->TxState = 1U;
 937:application-library/usb-cdc-device.c **** 
 938:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 939:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].total_length = hcdc->TxLength;
 940:application-library/usb-cdc-device.c **** 
 941:application-library/usb-cdc-device.c ****     /* Transmit next packet */
 942:application-library/usb-cdc-device.c ****     (void)USBD_LL_Transmit(pdev, CDC_IN_EP, hcdc->TxBuffer, hcdc->TxLength);
 943:application-library/usb-cdc-device.c **** 
 944:application-library/usb-cdc-device.c ****     ret = USBD_OK;
 945:application-library/usb-cdc-device.c ****   }
 946:application-library/usb-cdc-device.c **** 
 947:application-library/usb-cdc-device.c ****   return (uint8_t)ret;
 948:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccSzmojl.s 			page 35


 911              		.loc 1 948 0
 912 0016 08BD     		pop	{r3, pc}
 913              	.LVL83:
 914              	.L61:
 936:application-library/usb-cdc-device.c **** 
 915              		.loc 1 936 0
 916 0018 0123     		movs	r3, #1
 917 001a C2F81432 		str	r3, [r2, #532]
 939:application-library/usb-cdc-device.c **** 
 918              		.loc 1 939 0
 919 001e D2F81032 		ldr	r3, [r2, #528]
 920 0022 C362     		str	r3, [r0, #44]
 942:application-library/usb-cdc-device.c **** 
 921              		.loc 1 942 0
 922 0024 D2F81032 		ldr	r3, [r2, #528]
 923 0028 D2F80822 		ldr	r2, [r2, #520]
 924              	.LVL84:
 925 002c 8121     		movs	r1, #129
 926 002e FFF7FEFF 		bl	USBD_LL_Transmit
 927              	.LVL85:
 944:application-library/usb-cdc-device.c ****   }
 928              		.loc 1 944 0
 929 0032 0020     		movs	r0, #0
 930 0034 08BD     		pop	{r3, pc}
 931              	.LVL86:
 932              	.L58:
 930:application-library/usb-cdc-device.c ****   }
 933              		.loc 1 930 0
 934 0036 0320     		movs	r0, #3
 935              	.LVL87:
 936 0038 08BD     		pop	{r3, pc}
 937              		.cfi_endproc
 938              	.LFE152:
 940              		.section	.text.CDC_Transmit_FS,"ax",%progbits
 941              		.align	1
 942              		.global	CDC_Transmit_FS
 943              		.syntax unified
 944              		.thumb
 945              		.thumb_func
 946              		.fpu fpv4-sp-d16
 948              	CDC_Transmit_FS:
 949              	.LFB136:
 295:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 950              		.loc 1 295 0
 951              		.cfi_startproc
 952              		@ args = 0, pretend = 0, frame = 0
 953              		@ frame_needed = 0, uses_anonymous_args = 0
 954              	.LVL88:
 298:application-library/usb-cdc-device.c **** 
 955              		.loc 1 298 0
 956 0000 094B     		ldr	r3, .L70
 957 0002 D3F8BC32 		ldr	r3, [r3, #700]
 958              	.LVL89:
 300:application-library/usb-cdc-device.c ****     return USBD_BUSY;
 959              		.loc 1 300 0
 960 0006 D3F81432 		ldr	r3, [r3, #532]
 961              	.LVL90:
ARM GAS  /tmp/ccSzmojl.s 			page 36


 962 000a 0BB1     		cbz	r3, .L69
 301:application-library/usb-cdc-device.c ****   }
 963              		.loc 1 301 0
 964 000c 0120     		movs	r0, #1
 965              	.LVL91:
 966 000e 7047     		bx	lr
 967              	.LVL92:
 968              	.L69:
 295:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 969              		.loc 1 295 0
 970 0010 10B5     		push	{r4, lr}
 971              	.LCFI8:
 972              		.cfi_def_cfa_offset 8
 973              		.cfi_offset 4, -8
 974              		.cfi_offset 14, -4
 975 0012 0A46     		mov	r2, r1
 976 0014 0146     		mov	r1, r0
 977              	.LVL93:
 303:application-library/usb-cdc-device.c ****   result = USBD_CDC_TransmitPacket(&hUsbDeviceFS);
 978              		.loc 1 303 0
 979 0016 044C     		ldr	r4, .L70
 980 0018 2046     		mov	r0, r4
 981              	.LVL94:
 982 001a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 983              	.LVL95:
 304:application-library/usb-cdc-device.c ****   /* USER CODE END 7 */
 984              		.loc 1 304 0
 985 001e 2046     		mov	r0, r4
 986 0020 FFF7FEFF 		bl	USBD_CDC_TransmitPacket
 987              	.LVL96:
 306:application-library/usb-cdc-device.c **** }
 988              		.loc 1 306 0
 989 0024 10BD     		pop	{r4, pc}
 990              	.L71:
 991 0026 00BF     		.align	2
 992              	.L70:
 993 0028 00000000 		.word	hUsbDeviceFS
 994              		.cfi_endproc
 995              	.LFE136:
 997              		.section	.text.USBD_CDC_ReceivePacket,"ax",%progbits
 998              		.align	1
 999              		.global	USBD_CDC_ReceivePacket
 1000              		.syntax unified
 1001              		.thumb
 1002              		.thumb_func
 1003              		.fpu fpv4-sp-d16
 1005              	USBD_CDC_ReceivePacket:
 1006              	.LFB153:
 949:application-library/usb-cdc-device.c **** 
 950:application-library/usb-cdc-device.c **** /**
 951:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_ReceivePacket
 952:application-library/usb-cdc-device.c ****   *         prepare OUT Endpoint for reception
 953:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 954:application-library/usb-cdc-device.c ****   * @retval status
 955:application-library/usb-cdc-device.c ****   */
 956:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_ReceivePacket(USBD_HandleTypeDef *pdev)
 957:application-library/usb-cdc-device.c **** {
ARM GAS  /tmp/ccSzmojl.s 			page 37


 1007              		.loc 1 957 0
 1008              		.cfi_startproc
 1009              		@ args = 0, pretend = 0, frame = 0
 1010              		@ frame_needed = 0, uses_anonymous_args = 0
 1011              	.LVL97:
 1012 0000 08B5     		push	{r3, lr}
 1013              	.LCFI9:
 1014              		.cfi_def_cfa_offset 8
 1015              		.cfi_offset 3, -8
 1016              		.cfi_offset 14, -4
 958:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 1017              		.loc 1 958 0
 1018 0002 D0F8D432 		ldr	r3, [r0, #724]
 1019 0006 B033     		adds	r3, r3, #176
 1020 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 1021              	.LVL98:
 959:application-library/usb-cdc-device.c **** 
 960:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 1022              		.loc 1 960 0
 1023 000c 92B1     		cbz	r2, .L75
 961:application-library/usb-cdc-device.c ****   {
 962:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 963:application-library/usb-cdc-device.c ****   }
 964:application-library/usb-cdc-device.c **** 
 965:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 1024              		.loc 1 965 0
 1025 000e 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 1026 0010 3BB1     		cbz	r3, .L77
 966:application-library/usb-cdc-device.c ****   {
 967:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 968:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 969:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 970:application-library/usb-cdc-device.c ****   }
 971:application-library/usb-cdc-device.c ****   else
 972:application-library/usb-cdc-device.c ****   {
 973:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 974:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 1027              		.loc 1 974 0
 1028 0012 4023     		movs	r3, #64
 1029 0014 D2F80422 		ldr	r2, [r2, #516]
 1030              	.LVL99:
 1031 0018 0121     		movs	r1, #1
 1032 001a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1033              	.LVL100:
 975:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 976:application-library/usb-cdc-device.c ****   }
 977:application-library/usb-cdc-device.c **** 
 978:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 1034              		.loc 1 978 0
 1035 001e 0020     		movs	r0, #0
 1036 0020 08BD     		pop	{r3, pc}
 1037              	.LVL101:
 1038              	.L77:
 968:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 1039              		.loc 1 968 0
 1040 0022 4FF40073 		mov	r3, #512
 1041 0026 D2F80422 		ldr	r2, [r2, #516]
ARM GAS  /tmp/ccSzmojl.s 			page 38


 1042              	.LVL102:
 1043 002a 0121     		movs	r1, #1
 1044 002c FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1045              	.LVL103:
 1046              		.loc 1 978 0
 1047 0030 0020     		movs	r0, #0
 1048 0032 08BD     		pop	{r3, pc}
 1049              	.LVL104:
 1050              	.L75:
 962:application-library/usb-cdc-device.c ****   }
 1051              		.loc 1 962 0
 1052 0034 0320     		movs	r0, #3
 1053              	.LVL105:
 979:application-library/usb-cdc-device.c **** }
 1054              		.loc 1 979 0
 1055 0036 08BD     		pop	{r3, pc}
 1056              		.cfi_endproc
 1057              	.LFE153:
 1059              		.section	.text.CDC_Receive_FS,"ax",%progbits
 1060              		.align	1
 1061              		.global	CDC_Receive_FS
 1062              		.syntax unified
 1063              		.thumb
 1064              		.thumb_func
 1065              		.fpu fpv4-sp-d16
 1067              	CDC_Receive_FS:
 1068              	.LFB135:
 271:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 1069              		.loc 1 271 0
 1070              		.cfi_startproc
 1071              		@ args = 0, pretend = 0, frame = 64
 1072              		@ frame_needed = 0, uses_anonymous_args = 0
 1073              	.LVL106:
 1074 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1075              	.LCFI10:
 1076              		.cfi_def_cfa_offset 20
 1077              		.cfi_offset 4, -20
 1078              		.cfi_offset 5, -16
 1079              		.cfi_offset 6, -12
 1080              		.cfi_offset 7, -8
 1081              		.cfi_offset 14, -4
 1082 0002 91B0     		sub	sp, sp, #68
 1083              	.LCFI11:
 1084              		.cfi_def_cfa_offset 88
 1085 0004 0446     		mov	r4, r0
 1086 0006 0E46     		mov	r6, r1
 274:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
 1087              		.loc 1 274 0
 1088 0008 164D     		ldr	r5, .L80
 1089 000a 0146     		mov	r1, r0
 1090              	.LVL107:
 1091 000c 2846     		mov	r0, r5
 1092              	.LVL108:
 1093 000e FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 1094              	.LVL109:
 275:application-library/usb-cdc-device.c **** 
 1095              		.loc 1 275 0
ARM GAS  /tmp/ccSzmojl.s 			page 39


 1096 0012 2846     		mov	r0, r5
 1097 0014 FFF7FEFF 		bl	USBD_CDC_ReceivePacket
 1098              	.LVL110:
 277:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 1099              		.loc 1 277 0
 1100 0018 4025     		movs	r5, #64
 1101 001a 2A46     		mov	r2, r5
 1102 001c 0021     		movs	r1, #0
 1103 001e 6846     		mov	r0, sp
 1104 0020 FFF7FEFF 		bl	memset
 1105              	.LVL111:
 1106 0024 3678     		ldrb	r6, [r6]	@ zero_extendqisi2
 1107              	.LVL112:
 279:application-library/usb-cdc-device.c **** 
 1108              		.loc 1 279 0
 1109 0026 3246     		mov	r2, r6
 1110 0028 2146     		mov	r1, r4
 1111 002a 6846     		mov	r0, sp
 1112 002c FFF7FEFF 		bl	memcpy
 1113              	.LVL113:
 281:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 1114              		.loc 1 281 0
 1115 0030 6846     		mov	r0, sp
 1116 0032 FFF7FEFF 		bl	strlen
 1117              	.LVL114:
 1118 0036 0746     		mov	r7, r0
 1119 0038 0DEB0002 		add	r2, sp, r0
 1120 003c 0A4B     		ldr	r3, .L80+4
 1121 003e 03CB     		ldmia	r3!, {r0, r1}
 1122 0040 4DF80700 		str	r0, [sp, r7]	@ unaligned
 1123 0044 5160     		str	r1, [r2, #4]	@ unaligned
 1124 0046 1B88     		ldrh	r3, [r3]	@ unaligned
 1125 0048 1381     		strh	r3, [r2, #8]	@ unaligned
 282:application-library/usb-cdc-device.c ****   CDC_Transmit_FS(received_msg, sizeof(received_msg));
 1126              		.loc 1 282 0
 1127 004a 3246     		mov	r2, r6
 1128 004c 0021     		movs	r1, #0
 1129 004e 2046     		mov	r0, r4
 1130 0050 FFF7FEFF 		bl	memset
 1131              	.LVL115:
 283:application-library/usb-cdc-device.c ****   return (USBD_OK);
 1132              		.loc 1 283 0
 1133 0054 2946     		mov	r1, r5
 1134 0056 6846     		mov	r0, sp
 1135 0058 FFF7FEFF 		bl	CDC_Transmit_FS
 1136              	.LVL116:
 286:application-library/usb-cdc-device.c **** 
 1137              		.loc 1 286 0
 1138 005c 0020     		movs	r0, #0
 1139 005e 11B0     		add	sp, sp, #68
 1140              	.LCFI12:
 1141              		.cfi_def_cfa_offset 20
 1142              		@ sp needed
 1143 0060 F0BD     		pop	{r4, r5, r6, r7, pc}
 1144              	.LVL117:
 1145              	.L81:
 1146 0062 00BF     		.align	2
ARM GAS  /tmp/ccSzmojl.s 			page 40


 1147              	.L80:
 1148 0064 00000000 		.word	hUsbDeviceFS
 1149 0068 00000000 		.word	.LC0
 1150              		.cfi_endproc
 1151              	.LFE135:
 1153              		.section	.text.USBD_Init,"ax",%progbits
 1154              		.align	1
 1155              		.global	USBD_Init
 1156              		.syntax unified
 1157              		.thumb
 1158              		.thumb_func
 1159              		.fpu fpv4-sp-d16
 1161              	USBD_Init:
 1162              	.LFB154:
 980:application-library/usb-cdc-device.c **** 
 981:application-library/usb-cdc-device.c **** /* usbd_cdc.c END ---- ---- ---- ---- */
 982:application-library/usb-cdc-device.c **** 
 983:application-library/usb-cdc-device.c **** /* usbd_core.c BEGIN ---- ---- ---- ---- */
 984:application-library/usb-cdc-device.c **** 
 985:application-library/usb-cdc-device.c **** /**
 986:application-library/usb-cdc-device.c ****   * @brief  Initializes the device stack and load the class driver
 987:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 988:application-library/usb-cdc-device.c ****   * @param  pdesc: Descriptor structure address
 989:application-library/usb-cdc-device.c ****   * @param  id: Low level core index
 990:application-library/usb-cdc-device.c ****   * @retval None
 991:application-library/usb-cdc-device.c ****   */
 992:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Init(USBD_HandleTypeDef *pdev,
 993:application-library/usb-cdc-device.c ****                              USBD_DescriptorsTypeDef *pdesc, uint8_t id)
 994:application-library/usb-cdc-device.c **** {
 1163              		.loc 1 994 0
 1164              		.cfi_startproc
 1165              		@ args = 0, pretend = 0, frame = 0
 1166              		@ frame_needed = 0, uses_anonymous_args = 0
 1167              	.LVL118:
 995:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 996:application-library/usb-cdc-device.c ****   /* Check whether the USB Host handle is valid */
 997:application-library/usb-cdc-device.c ****   if (pdev == NULL)
 1168              		.loc 1 997 0
 1169 0000 98B1     		cbz	r0, .L85
 994:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 1170              		.loc 1 994 0
 1171 0002 08B5     		push	{r3, lr}
 1172              	.LCFI13:
 1173              		.cfi_def_cfa_offset 8
 1174              		.cfi_offset 3, -8
 1175              		.cfi_offset 14, -4
 1176 0004 0346     		mov	r3, r0
 998:application-library/usb-cdc-device.c ****   {
 999:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1000:application-library/usb-cdc-device.c ****   }
1001:application-library/usb-cdc-device.c ****   /* Unlink previous class*/
1002:application-library/usb-cdc-device.c ****   pdev->pClass[0] = NULL;
 1177              		.loc 1 1002 0
 1178 0006 0020     		movs	r0, #0
 1179              	.LVL119:
 1180 0008 C3F8B802 		str	r0, [r3, #696]
1003:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
ARM GAS  /tmp/ccSzmojl.s 			page 41


 1181              		.loc 1 1003 0
 1182 000c C3F8C402 		str	r0, [r3, #708]
1004:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
 1183              		.loc 1 1004 0
 1184 0010 C3F8D002 		str	r0, [r3, #720]
1005:application-library/usb-cdc-device.c **** 
1006:application-library/usb-cdc-device.c ****   /* Assign USBD Descriptors */
1007:application-library/usb-cdc-device.c ****   if (pdesc != NULL)
 1185              		.loc 1 1007 0
 1186 0014 09B1     		cbz	r1, .L84
1008:application-library/usb-cdc-device.c ****   {
1009:application-library/usb-cdc-device.c ****     pdev->pDesc = pdesc;
 1187              		.loc 1 1009 0
 1188 0016 C3F8B412 		str	r1, [r3, #692]
 1189              	.L84:
 1190 001a 1846     		mov	r0, r3
1010:application-library/usb-cdc-device.c ****   }
1011:application-library/usb-cdc-device.c ****   /* Set Device initial State */
1012:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;  // DEFAULT - ADDRESSED - CONFIGURED - SUSPEND
 1191              		.loc 1 1012 0
 1192 001c 0123     		movs	r3, #1
 1193              	.LVL120:
 1194 001e 80F89C32 		strb	r3, [r0, #668]
1013:application-library/usb-cdc-device.c ****   pdev->id = id; // DEVICE_FS (0)
 1195              		.loc 1 1013 0
 1196 0022 0270     		strb	r2, [r0]
1014:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
1015:application-library/usb-cdc-device.c ****   ret = USBD_LL_Init(pdev); // configure the TX or the RX FIFO of the new defined endport
 1197              		.loc 1 1015 0
 1198 0024 FFF7FEFF 		bl	USBD_LL_Init
 1199              	.LVL121:
1016:application-library/usb-cdc-device.c **** 
1017:application-library/usb-cdc-device.c ****   return ret;
 1200              		.loc 1 1017 0
 1201 0028 08BD     		pop	{r3, pc}
 1202              	.LVL122:
 1203              	.L85:
 1204              	.LCFI14:
 1205              		.cfi_def_cfa_offset 0
 1206              		.cfi_restore 3
 1207              		.cfi_restore 14
 999:application-library/usb-cdc-device.c ****   }
 1208              		.loc 1 999 0
 1209 002a 0320     		movs	r0, #3
 1210              	.LVL123:
 1211 002c 7047     		bx	lr
 1212              		.cfi_endproc
 1213              	.LFE154:
 1215              		.section	.text.USBD_DeInit,"ax",%progbits
 1216              		.align	1
 1217              		.global	USBD_DeInit
 1218              		.syntax unified
 1219              		.thumb
 1220              		.thumb_func
 1221              		.fpu fpv4-sp-d16
 1223              	USBD_DeInit:
 1224              	.LFB155:
ARM GAS  /tmp/ccSzmojl.s 			page 42


1018:application-library/usb-cdc-device.c **** }
1019:application-library/usb-cdc-device.c **** 
1020:application-library/usb-cdc-device.c **** /**
1021:application-library/usb-cdc-device.c ****   * @brief  USBD_DeInit
1022:application-library/usb-cdc-device.c ****   *         Re-Initialize the device library
1023:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1024:application-library/usb-cdc-device.c ****   * @retval status: status
1025:application-library/usb-cdc-device.c ****   */
1026:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_DeInit(USBD_HandleTypeDef *pdev)
1027:application-library/usb-cdc-device.c **** {
 1225              		.loc 1 1027 0
 1226              		.cfi_startproc
 1227              		@ args = 0, pretend = 0, frame = 0
 1228              		@ frame_needed = 0, uses_anonymous_args = 0
 1229              	.LVL124:
 1230 0000 10B5     		push	{r4, lr}
 1231              	.LCFI15:
 1232              		.cfi_def_cfa_offset 8
 1233              		.cfi_offset 4, -8
 1234              		.cfi_offset 14, -4
 1235 0002 0446     		mov	r4, r0
1028:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1029:application-library/usb-cdc-device.c **** 
1030:application-library/usb-cdc-device.c ****   /* Disconnect the USB Device */
1031:application-library/usb-cdc-device.c ****   (void)USBD_LL_Stop(pdev);
 1236              		.loc 1 1031 0
 1237 0004 FFF7FEFF 		bl	USBD_LL_Stop
 1238              	.LVL125:
1032:application-library/usb-cdc-device.c **** 
1033:application-library/usb-cdc-device.c ****   /* Set Default State */
1034:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
 1239              		.loc 1 1034 0
 1240 0008 0123     		movs	r3, #1
 1241 000a 84F89C32 		strb	r3, [r4, #668]
1035:application-library/usb-cdc-device.c **** 
1036:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1037:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
 1242              		.loc 1 1037 0
 1243 000e D4F8B832 		ldr	r3, [r4, #696]
 1244 0012 1BB1     		cbz	r3, .L91
1038:application-library/usb-cdc-device.c ****   {
1039:application-library/usb-cdc-device.c ****     pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config);
 1245              		.loc 1 1039 0
 1246 0014 5B68     		ldr	r3, [r3, #4]
 1247 0016 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 1248 0018 2046     		mov	r0, r4
 1249 001a 9847     		blx	r3
 1250              	.LVL126:
 1251              	.L91:
1040:application-library/usb-cdc-device.c ****   }
1041:application-library/usb-cdc-device.c **** 
1042:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
 1252              		.loc 1 1042 0
 1253 001c 0023     		movs	r3, #0
 1254 001e C4F8C432 		str	r3, [r4, #708]
1043:application-library/usb-cdc-device.c **** 
1044:application-library/usb-cdc-device.c ****   /* Free Device descriptors resources */
ARM GAS  /tmp/ccSzmojl.s 			page 43


1045:application-library/usb-cdc-device.c ****   pdev->pDesc = NULL;
 1255              		.loc 1 1045 0
 1256 0022 C4F8B432 		str	r3, [r4, #692]
1046:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
 1257              		.loc 1 1046 0
 1258 0026 C4F8D032 		str	r3, [r4, #720]
1047:application-library/usb-cdc-device.c **** 
1048:application-library/usb-cdc-device.c ****   /* DeInitialize low level driver */
1049:application-library/usb-cdc-device.c ****   ret = USBD_LL_DeInit(pdev);
 1259              		.loc 1 1049 0
 1260 002a 2046     		mov	r0, r4
 1261 002c FFF7FEFF 		bl	USBD_LL_DeInit
 1262              	.LVL127:
1050:application-library/usb-cdc-device.c **** 
1051:application-library/usb-cdc-device.c ****   return ret;
1052:application-library/usb-cdc-device.c **** }
 1263              		.loc 1 1052 0
 1264 0030 10BD     		pop	{r4, pc}
 1265              		.cfi_endproc
 1266              	.LFE155:
 1268              		.section	.text.USBD_RegisterClass,"ax",%progbits
 1269              		.align	1
 1270              		.global	USBD_RegisterClass
 1271              		.syntax unified
 1272              		.thumb
 1273              		.thumb_func
 1274              		.fpu fpv4-sp-d16
 1276              	USBD_RegisterClass:
 1277              	.LFB156:
1053:application-library/usb-cdc-device.c **** 
1054:application-library/usb-cdc-device.c **** /**
1055:application-library/usb-cdc-device.c ****   * @brief  USBD_RegisterClass
1056:application-library/usb-cdc-device.c ****   *         Link class driver to Device Core.
1057:application-library/usb-cdc-device.c ****   * @param  pDevice : Device Handle
1058:application-library/usb-cdc-device.c ****   * @param  pclass: Class handle
1059:application-library/usb-cdc-device.c ****   * @retval USBD Status
1060:application-library/usb-cdc-device.c ****   */
1061:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_RegisterClass(USBD_HandleTypeDef *pdev, USBD_ClassTypeDef *pclass)
1062:application-library/usb-cdc-device.c **** {
 1278              		.loc 1 1062 0
 1279              		.cfi_startproc
 1280              		@ args = 0, pretend = 0, frame = 8
 1281              		@ frame_needed = 0, uses_anonymous_args = 0
 1282              	.LVL128:
 1283 0000 10B5     		push	{r4, lr}
 1284              	.LCFI16:
 1285              		.cfi_def_cfa_offset 8
 1286              		.cfi_offset 4, -8
 1287              		.cfi_offset 14, -4
 1288 0002 82B0     		sub	sp, sp, #8
 1289              	.LCFI17:
 1290              		.cfi_def_cfa_offset 16
1063:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 1291              		.loc 1 1063 0
 1292 0004 0023     		movs	r3, #0
 1293 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
1064:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 44


1065:application-library/usb-cdc-device.c ****   if (pclass == NULL)
 1294              		.loc 1 1065 0
 1295 000a B1B1     		cbz	r1, .L96
 1296 000c 0446     		mov	r4, r0
1066:application-library/usb-cdc-device.c ****   {
1067:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1068:application-library/usb-cdc-device.c ****   }
1069:application-library/usb-cdc-device.c ****   /* link the class to the USB Device handle */
1070:application-library/usb-cdc-device.c ****   pdev->pClass[0] = pclass;
 1297              		.loc 1 1070 0
 1298 000e C4F8B812 		str	r1, [r4, #696]
1071:application-library/usb-cdc-device.c **** 
1072:application-library/usb-cdc-device.c ****   /* Get Device Configuration Descriptor */
1073:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId]->GetFSConfigDescriptor != NULL)
 1299              		.loc 1 1073 0
 1300 0012 D0F8D432 		ldr	r3, [r0, #724]
 1301 0016 AE33     		adds	r3, r3, #174
 1302 0018 50F82330 		ldr	r3, [r0, r3, lsl #2]
 1303 001c DB6A     		ldr	r3, [r3, #44]
 1304 001e 23B1     		cbz	r3, .L95
1074:application-library/usb-cdc-device.c ****   {
1075:application-library/usb-cdc-device.c ****     pdev->pConfDesc = (void *)pdev->pClass[pdev->classId]->GetFSConfigDescriptor(&len);
 1305              		.loc 1 1075 0
 1306 0020 0DF10600 		add	r0, sp, #6
 1307              	.LVL129:
 1308 0024 9847     		blx	r3
 1309              	.LVL130:
 1310 0026 C4F8D002 		str	r0, [r4, #720]
 1311              	.L95:
1076:application-library/usb-cdc-device.c ****   }
1077:application-library/usb-cdc-device.c ****   /* Increment the NumClasses */
1078:application-library/usb-cdc-device.c ****   pdev->NumClasses ++;
 1312              		.loc 1 1078 0
 1313 002a D4F8D832 		ldr	r3, [r4, #728]
 1314 002e 0133     		adds	r3, r3, #1
 1315 0030 C4F8D832 		str	r3, [r4, #728]
1079:application-library/usb-cdc-device.c ****   return USBD_OK;
 1316              		.loc 1 1079 0
 1317 0034 0020     		movs	r0, #0
 1318              	.LVL131:
 1319              	.L94:
1080:application-library/usb-cdc-device.c **** }
 1320              		.loc 1 1080 0
 1321 0036 02B0     		add	sp, sp, #8
 1322              	.LCFI18:
 1323              		.cfi_remember_state
 1324              		.cfi_def_cfa_offset 8
 1325              		@ sp needed
 1326 0038 10BD     		pop	{r4, pc}
 1327              	.LVL132:
 1328              	.L96:
 1329              	.LCFI19:
 1330              		.cfi_restore_state
1067:application-library/usb-cdc-device.c ****   }
 1331              		.loc 1 1067 0
 1332 003a 0320     		movs	r0, #3
 1333              	.LVL133:
ARM GAS  /tmp/ccSzmojl.s 			page 45


 1334 003c FBE7     		b	.L94
 1335              		.cfi_endproc
 1336              	.LFE156:
 1338              		.section	.text.USBD_Start,"ax",%progbits
 1339              		.align	1
 1340              		.global	USBD_Start
 1341              		.syntax unified
 1342              		.thumb
 1343              		.thumb_func
 1344              		.fpu fpv4-sp-d16
 1346              	USBD_Start:
 1347              	.LFB157:
1081:application-library/usb-cdc-device.c **** 
1082:application-library/usb-cdc-device.c **** 
1083:application-library/usb-cdc-device.c **** /**
1084:application-library/usb-cdc-device.c ****   * @brief  USBD_Start
1085:application-library/usb-cdc-device.c ****   *         Start the USB Device Core.
1086:application-library/usb-cdc-device.c ****   * @param  pdev: Device Handle
1087:application-library/usb-cdc-device.c ****   * @retval USBD Status
1088:application-library/usb-cdc-device.c ****   */
1089:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Start(USBD_HandleTypeDef *pdev)
1090:application-library/usb-cdc-device.c **** {
 1348              		.loc 1 1090 0
 1349              		.cfi_startproc
 1350              		@ args = 0, pretend = 0, frame = 0
 1351              		@ frame_needed = 0, uses_anonymous_args = 0
 1352              	.LVL134:
 1353 0000 08B5     		push	{r3, lr}
 1354              	.LCFI20:
 1355              		.cfi_def_cfa_offset 8
 1356              		.cfi_offset 3, -8
 1357              		.cfi_offset 14, -4
 1358              	.LVL135:
1091:application-library/usb-cdc-device.c ****   /* Start the low level driver  */
1092:application-library/usb-cdc-device.c ****   // return USBD_LL_Start(pdev);
1093:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
1094:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
1095:application-library/usb-cdc-device.c **** 
1096:application-library/usb-cdc-device.c ****   /* Enable USB Transciver */
1097:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Start(pdev->pData);
 1359              		.loc 1 1097 0
 1360 0002 D0F8C802 		ldr	r0, [r0, #712]
 1361              	.LVL136:
 1362 0006 FFF7FEFF 		bl	HAL_PCD_Start
 1363              	.LVL137:
1098:application-library/usb-cdc-device.c **** 
1099:application-library/usb-cdc-device.c ****   // usb_status =  USBD_Get_USB_Status(hal_status); /* defined in usbd_conf.c */
1100:application-library/usb-cdc-device.c ****   switch (hal_status)
 1364              		.loc 1 1100 0
 1365 000a 18B1     		cbz	r0, .L100
 1366 000c 0228     		cmp	r0, #2
 1367 000e 03D0     		beq	.L101
1101:application-library/usb-cdc-device.c ****   {
1102:application-library/usb-cdc-device.c ****     case HAL_OK :
1103:application-library/usb-cdc-device.c ****       usb_status = USBD_OK;
1104:application-library/usb-cdc-device.c ****     break;
1105:application-library/usb-cdc-device.c ****     case HAL_ERROR :
ARM GAS  /tmp/ccSzmojl.s 			page 46


1106:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
 1368              		.loc 1 1106 0
 1369 0010 0320     		movs	r0, #3
 1370              	.LVL138:
1107:application-library/usb-cdc-device.c ****     break;
1108:application-library/usb-cdc-device.c ****     case HAL_BUSY :
1109:application-library/usb-cdc-device.c ****       usb_status = USBD_BUSY;
1110:application-library/usb-cdc-device.c ****     break;
1111:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
1112:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1113:application-library/usb-cdc-device.c ****     break;
1114:application-library/usb-cdc-device.c ****     default :
1115:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1116:application-library/usb-cdc-device.c ****     break;
1117:application-library/usb-cdc-device.c ****   }
1118:application-library/usb-cdc-device.c **** 
1119:application-library/usb-cdc-device.c ****   return usb_status;
1120:application-library/usb-cdc-device.c **** }
 1371              		.loc 1 1120 0
 1372 0012 08BD     		pop	{r3, pc}
 1373              	.LVL139:
 1374              	.L100:
1103:application-library/usb-cdc-device.c ****     break;
 1375              		.loc 1 1103 0
 1376 0014 0020     		movs	r0, #0
 1377              	.LVL140:
 1378 0016 08BD     		pop	{r3, pc}
 1379              	.LVL141:
 1380              	.L101:
1109:application-library/usb-cdc-device.c ****     break;
 1381              		.loc 1 1109 0
 1382 0018 0120     		movs	r0, #1
 1383              	.LVL142:
1110:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
 1384              		.loc 1 1110 0
 1385 001a 08BD     		pop	{r3, pc}
 1386              		.cfi_endproc
 1387              	.LFE157:
 1389              		.section	.text.USBD_Stop,"ax",%progbits
 1390              		.align	1
 1391              		.global	USBD_Stop
 1392              		.syntax unified
 1393              		.thumb
 1394              		.thumb_func
 1395              		.fpu fpv4-sp-d16
 1397              	USBD_Stop:
 1398              	.LFB158:
1121:application-library/usb-cdc-device.c **** 
1122:application-library/usb-cdc-device.c **** 
1123:application-library/usb-cdc-device.c **** /**
1124:application-library/usb-cdc-device.c ****   * @brief  USBD_Stop
1125:application-library/usb-cdc-device.c ****   *         Stop the USB Device Core.
1126:application-library/usb-cdc-device.c ****   * @param  pdev: Device Handle
1127:application-library/usb-cdc-device.c ****   * @retval USBD Status
1128:application-library/usb-cdc-device.c ****   */
1129:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Stop(USBD_HandleTypeDef *pdev)
1130:application-library/usb-cdc-device.c **** {
ARM GAS  /tmp/ccSzmojl.s 			page 47


 1399              		.loc 1 1130 0
 1400              		.cfi_startproc
 1401              		@ args = 0, pretend = 0, frame = 0
 1402              		@ frame_needed = 0, uses_anonymous_args = 0
 1403              	.LVL143:
 1404 0000 10B5     		push	{r4, lr}
 1405              	.LCFI21:
 1406              		.cfi_def_cfa_offset 8
 1407              		.cfi_offset 4, -8
 1408              		.cfi_offset 14, -4
 1409 0002 0446     		mov	r4, r0
1131:application-library/usb-cdc-device.c ****   /* Disconnect USB Device */
1132:application-library/usb-cdc-device.c ****   (void)USBD_LL_Stop(pdev);
 1410              		.loc 1 1132 0
 1411 0004 FFF7FEFF 		bl	USBD_LL_Stop
 1412              	.LVL144:
1133:application-library/usb-cdc-device.c **** 
1134:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1135:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
 1413              		.loc 1 1135 0
 1414 0008 D4F8B832 		ldr	r3, [r4, #696]
 1415 000c 1BB1     		cbz	r3, .L106
1136:application-library/usb-cdc-device.c ****   {
1137:application-library/usb-cdc-device.c ****     (void)pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config);
 1416              		.loc 1 1137 0
 1417 000e 5B68     		ldr	r3, [r3, #4]
 1418 0010 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 1419 0012 2046     		mov	r0, r4
 1420 0014 9847     		blx	r3
 1421              	.LVL145:
 1422              	.L106:
1138:application-library/usb-cdc-device.c ****   }
1139:application-library/usb-cdc-device.c **** 
1140:application-library/usb-cdc-device.c ****   return USBD_OK;
1141:application-library/usb-cdc-device.c **** }
 1423              		.loc 1 1141 0
 1424 0016 0020     		movs	r0, #0
 1425 0018 10BD     		pop	{r4, pc}
 1426              		.cfi_endproc
 1427              	.LFE158:
 1429              		.section	.text.USBD_RunTestMode,"ax",%progbits
 1430              		.align	1
 1431              		.global	USBD_RunTestMode
 1432              		.syntax unified
 1433              		.thumb
 1434              		.thumb_func
 1435              		.fpu fpv4-sp-d16
 1437              	USBD_RunTestMode:
 1438              	.LFB159:
1142:application-library/usb-cdc-device.c **** 
1143:application-library/usb-cdc-device.c **** /**
1144:application-library/usb-cdc-device.c ****   * @brief  USBD_RunTestMode
1145:application-library/usb-cdc-device.c ****   *         Launch test mode process
1146:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1147:application-library/usb-cdc-device.c ****   * @retval status
1148:application-library/usb-cdc-device.c ****   */
1149:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_RunTestMode(USBD_HandleTypeDef *pdev)
ARM GAS  /tmp/ccSzmojl.s 			page 48


1150:application-library/usb-cdc-device.c **** {
 1439              		.loc 1 1150 0
 1440              		.cfi_startproc
 1441              		@ args = 0, pretend = 0, frame = 0
 1442              		@ frame_needed = 0, uses_anonymous_args = 0
 1443              		@ link register save eliminated.
 1444              	.LVL146:
1151:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
1152:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1153:application-library/usb-cdc-device.c **** 
1154:application-library/usb-cdc-device.c ****   return USBD_OK;
1155:application-library/usb-cdc-device.c **** }
 1445              		.loc 1 1155 0
 1446 0000 0020     		movs	r0, #0
 1447              	.LVL147:
 1448 0002 7047     		bx	lr
 1449              		.cfi_endproc
 1450              	.LFE159:
 1452              		.section	.text.USBD_SetClassConfig,"ax",%progbits
 1453              		.align	1
 1454              		.global	USBD_SetClassConfig
 1455              		.syntax unified
 1456              		.thumb
 1457              		.thumb_func
 1458              		.fpu fpv4-sp-d16
 1460              	USBD_SetClassConfig:
 1461              	.LFB160:
1156:application-library/usb-cdc-device.c **** 
1157:application-library/usb-cdc-device.c **** /**
1158:application-library/usb-cdc-device.c ****   * @brief  USBD_SetClassConfig
1159:application-library/usb-cdc-device.c ****   *        Configure device and start the interface
1160:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1161:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1162:application-library/usb-cdc-device.c ****   * @retval status
1163:application-library/usb-cdc-device.c ****   */
1164:application-library/usb-cdc-device.c **** 
1165:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_SetClassConfig(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
1166:application-library/usb-cdc-device.c **** {
 1462              		.loc 1 1166 0
 1463              		.cfi_startproc
 1464              		@ args = 0, pretend = 0, frame = 0
 1465              		@ frame_needed = 0, uses_anonymous_args = 0
 1466              	.LVL148:
 1467 0000 08B5     		push	{r3, lr}
 1468              	.LCFI22:
 1469              		.cfi_def_cfa_offset 8
 1470              		.cfi_offset 3, -8
 1471              		.cfi_offset 14, -4
 1472              	.LVL149:
1167:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1168:application-library/usb-cdc-device.c **** 
1169:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
 1473              		.loc 1 1169 0
 1474 0002 D0F8B832 		ldr	r3, [r0, #696]
 1475 0006 13B1     		cbz	r3, .L111
1170:application-library/usb-cdc-device.c ****   {
1171:application-library/usb-cdc-device.c ****     /* Set configuration and Start the Class */
ARM GAS  /tmp/ccSzmojl.s 			page 49


1172:application-library/usb-cdc-device.c ****     ret = (USBD_StatusTypeDef)pdev->pClass[0]->Init(pdev, cfgidx);
 1476              		.loc 1 1172 0
 1477 0008 1B68     		ldr	r3, [r3]
 1478 000a 9847     		blx	r3
 1479              	.LVL150:
 1480 000c 08BD     		pop	{r3, pc}
 1481              	.LVL151:
 1482              	.L111:
1167:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 1483              		.loc 1 1167 0
 1484 000e 0020     		movs	r0, #0
 1485              	.LVL152:
1173:application-library/usb-cdc-device.c ****   }
1174:application-library/usb-cdc-device.c **** 
1175:application-library/usb-cdc-device.c ****   return ret;
1176:application-library/usb-cdc-device.c **** }
 1486              		.loc 1 1176 0
 1487 0010 08BD     		pop	{r3, pc}
 1488              		.cfi_endproc
 1489              	.LFE160:
 1491              		.section	.text.USBD_ClrClassConfig,"ax",%progbits
 1492              		.align	1
 1493              		.global	USBD_ClrClassConfig
 1494              		.syntax unified
 1495              		.thumb
 1496              		.thumb_func
 1497              		.fpu fpv4-sp-d16
 1499              	USBD_ClrClassConfig:
 1500              	.LFB161:
1177:application-library/usb-cdc-device.c **** 
1178:application-library/usb-cdc-device.c **** /**
1179:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrClassConfig
1180:application-library/usb-cdc-device.c ****   *         Clear current configuration
1181:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1182:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1183:application-library/usb-cdc-device.c ****   * @retval status: USBD_StatusTypeDef
1184:application-library/usb-cdc-device.c ****   */
1185:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_ClrClassConfig(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
1186:application-library/usb-cdc-device.c **** {
 1501              		.loc 1 1186 0
 1502              		.cfi_startproc
 1503              		@ args = 0, pretend = 0, frame = 0
 1504              		@ frame_needed = 0, uses_anonymous_args = 0
 1505              	.LVL153:
 1506 0000 08B5     		push	{r3, lr}
 1507              	.LCFI23:
 1508              		.cfi_def_cfa_offset 8
 1509              		.cfi_offset 3, -8
 1510              		.cfi_offset 14, -4
 1511              	.LVL154:
1187:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1188:application-library/usb-cdc-device.c **** 
1189:application-library/usb-cdc-device.c ****   /* Clear configuration  and De-initialize the Class process */
1190:application-library/usb-cdc-device.c ****   if (pdev->pClass[0]->DeInit(pdev, cfgidx) != 0U)
 1512              		.loc 1 1190 0
 1513 0002 D0F8B832 		ldr	r3, [r0, #696]
 1514 0006 5B68     		ldr	r3, [r3, #4]
ARM GAS  /tmp/ccSzmojl.s 			page 50


 1515 0008 9847     		blx	r3
 1516              	.LVL155:
 1517 000a 00B1     		cbz	r0, .L114
1191:application-library/usb-cdc-device.c ****   {
1192:application-library/usb-cdc-device.c ****     ret = USBD_FAIL;
 1518              		.loc 1 1192 0
 1519 000c 0320     		movs	r0, #3
 1520              	.L114:
 1521              	.LVL156:
1193:application-library/usb-cdc-device.c ****   }
1194:application-library/usb-cdc-device.c **** 
1195:application-library/usb-cdc-device.c ****   return ret;
1196:application-library/usb-cdc-device.c **** }
 1522              		.loc 1 1196 0
 1523 000e 08BD     		pop	{r3, pc}
 1524              		.cfi_endproc
 1525              	.LFE161:
 1527              		.section	.text.USBD_LL_Reset,"ax",%progbits
 1528              		.align	1
 1529              		.global	USBD_LL_Reset
 1530              		.syntax unified
 1531              		.thumb
 1532              		.thumb_func
 1533              		.fpu fpv4-sp-d16
 1535              	USBD_LL_Reset:
 1536              	.LFB165:
1197:application-library/usb-cdc-device.c **** 
1198:application-library/usb-cdc-device.c **** 
1199:application-library/usb-cdc-device.c **** /**
1200:application-library/usb-cdc-device.c ****   * @brief  Handle the setup stage
1201:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1202:application-library/usb-cdc-device.c ****   * @retval status
1203:application-library/usb-cdc-device.c ****   */
1204:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SetupStage(USBD_HandleTypeDef *pdev, uint8_t *psetup)
1205:application-library/usb-cdc-device.c **** {
1206:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1207:application-library/usb-cdc-device.c **** 
1208:application-library/usb-cdc-device.c ****   USBD_ParseSetupRequest(&pdev->request, psetup);
1209:application-library/usb-cdc-device.c **** 
1210:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_SETUP;
1211:application-library/usb-cdc-device.c **** 
1212:application-library/usb-cdc-device.c ****   pdev->ep0_data_len = pdev->request.wLength;
1213:application-library/usb-cdc-device.c **** 
1214:application-library/usb-cdc-device.c ****   switch (pdev->request.bmRequest & 0x1FU)
1215:application-library/usb-cdc-device.c ****   {
1216:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_DEVICE:
1217:application-library/usb-cdc-device.c ****       ret = USBD_StdDevReq(pdev, &pdev->request);
1218:application-library/usb-cdc-device.c ****       break;
1219:application-library/usb-cdc-device.c **** 
1220:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_INTERFACE:
1221:application-library/usb-cdc-device.c ****       ret = USBD_StdItfReq(pdev, &pdev->request);
1222:application-library/usb-cdc-device.c ****       break;
1223:application-library/usb-cdc-device.c **** 
1224:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_ENDPOINT:
1225:application-library/usb-cdc-device.c ****       ret = USBD_StdEPReq(pdev, &pdev->request);
1226:application-library/usb-cdc-device.c ****       break;
1227:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 51


1228:application-library/usb-cdc-device.c ****     default:
1229:application-library/usb-cdc-device.c ****       ret = USBD_LL_StallEP(pdev, (pdev->request.bmRequest & 0x80U));
1230:application-library/usb-cdc-device.c ****       break;
1231:application-library/usb-cdc-device.c ****   }
1232:application-library/usb-cdc-device.c **** 
1233:application-library/usb-cdc-device.c ****   return ret;
1234:application-library/usb-cdc-device.c **** }
1235:application-library/usb-cdc-device.c **** 
1236:application-library/usb-cdc-device.c **** /**
1237:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataOutStage
1238:application-library/usb-cdc-device.c ****   *         Handle data OUT stage
1239:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1240:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1241:application-library/usb-cdc-device.c ****   * @param  pdata: data pointer
1242:application-library/usb-cdc-device.c ****   * @retval status
1243:application-library/usb-cdc-device.c ****   */
1244:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DataOutStage(USBD_HandleTypeDef *pdev,
1245:application-library/usb-cdc-device.c ****                                         uint8_t epnum, uint8_t *pdata)
1246:application-library/usb-cdc-device.c **** {
1247:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1248:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1249:application-library/usb-cdc-device.c ****   uint8_t idx;
1250:application-library/usb-cdc-device.c **** 
1251:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1252:application-library/usb-cdc-device.c ****   {
1253:application-library/usb-cdc-device.c ****     pep = &pdev->ep_out[0];
1254:application-library/usb-cdc-device.c **** 
1255:application-library/usb-cdc-device.c ****     if (pdev->ep0_state == USBD_EP0_DATA_OUT)
1256:application-library/usb-cdc-device.c ****     {
1257:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1258:application-library/usb-cdc-device.c ****       {
1259:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
1260:application-library/usb-cdc-device.c **** 
1261:application-library/usb-cdc-device.c ****         (void)USBD_CtlContinueRx(pdev, pdata, MIN(pep->rem_length, pep->maxpacket));
1262:application-library/usb-cdc-device.c ****       }
1263:application-library/usb-cdc-device.c ****       else
1264:application-library/usb-cdc-device.c ****       {
1265:application-library/usb-cdc-device.c ****         /* Find the class ID relative to the current request */
1266:application-library/usb-cdc-device.c ****         switch (pdev->request.bmRequest & 0x1FU)
1267:application-library/usb-cdc-device.c ****         {
1268:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_DEVICE:
1269:application-library/usb-cdc-device.c ****             /* Device requests must be managed by the first instantiated class
1270:application-library/usb-cdc-device.c ****                (or duplicated by all classes for simplicity) */
1271:application-library/usb-cdc-device.c ****             idx = 0U;
1272:application-library/usb-cdc-device.c ****             break;
1273:application-library/usb-cdc-device.c **** 
1274:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_INTERFACE:
1275:application-library/usb-cdc-device.c ****             idx = 0x00U;
1276:application-library/usb-cdc-device.c ****             break;
1277:application-library/usb-cdc-device.c **** 
1278:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_ENDPOINT:
1279:application-library/usb-cdc-device.c ****             idx = USBD_CoreFindEP(pdev, LOBYTE(pdev->request.wIndex));
1280:application-library/usb-cdc-device.c ****             break;
1281:application-library/usb-cdc-device.c **** 
1282:application-library/usb-cdc-device.c ****           default:
1283:application-library/usb-cdc-device.c ****             /* Back to the first class in case of doubt */
1284:application-library/usb-cdc-device.c ****             idx = 0U;
ARM GAS  /tmp/ccSzmojl.s 			page 52


1285:application-library/usb-cdc-device.c ****             break;
1286:application-library/usb-cdc-device.c ****         }
1287:application-library/usb-cdc-device.c **** 
1288:application-library/usb-cdc-device.c ****         if (idx < USBD_MAX_SUPPORTED_CLASS)
1289:application-library/usb-cdc-device.c ****         {
1290:application-library/usb-cdc-device.c ****           /* Setup the class ID and route the request to the relative class function */
1291:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
1292:application-library/usb-cdc-device.c ****           {
1293:application-library/usb-cdc-device.c ****             if (pdev->pClass[idx]->EP0_RxReady != NULL)
1294:application-library/usb-cdc-device.c ****             {
1295:application-library/usb-cdc-device.c ****               pdev->classId = idx;
1296:application-library/usb-cdc-device.c ****               pdev->pClass[idx]->EP0_RxReady(pdev);
1297:application-library/usb-cdc-device.c ****             }
1298:application-library/usb-cdc-device.c ****           }
1299:application-library/usb-cdc-device.c ****         }
1300:application-library/usb-cdc-device.c **** 
1301:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
1302:application-library/usb-cdc-device.c ****       }
1303:application-library/usb-cdc-device.c ****     }
1304:application-library/usb-cdc-device.c ****     else
1305:application-library/usb-cdc-device.c ****     {
1306:application-library/usb-cdc-device.c ****     }
1307:application-library/usb-cdc-device.c ****   }
1308:application-library/usb-cdc-device.c ****   else
1309:application-library/usb-cdc-device.c ****   {
1310:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1311:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(pdev, (epnum & 0x7FU));
1312:application-library/usb-cdc-device.c **** 
1313:application-library/usb-cdc-device.c ****     if (((uint16_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1314:application-library/usb-cdc-device.c ****     {
1315:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1316:application-library/usb-cdc-device.c ****       if (pdev->dev_state == USBD_STATE_CONFIGURED)
1317:application-library/usb-cdc-device.c ****       {
1318:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->DataOut != NULL)
1319:application-library/usb-cdc-device.c ****         {
1320:application-library/usb-cdc-device.c ****           pdev->classId = idx;
1321:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataOut(pdev, epnum);
1322:application-library/usb-cdc-device.c ****         }
1323:application-library/usb-cdc-device.c ****       }
1324:application-library/usb-cdc-device.c ****       if (ret != USBD_OK)
1325:application-library/usb-cdc-device.c ****       {
1326:application-library/usb-cdc-device.c ****         return ret;
1327:application-library/usb-cdc-device.c ****       }
1328:application-library/usb-cdc-device.c ****     }
1329:application-library/usb-cdc-device.c ****   }
1330:application-library/usb-cdc-device.c **** 
1331:application-library/usb-cdc-device.c ****   return USBD_OK;
1332:application-library/usb-cdc-device.c **** }
1333:application-library/usb-cdc-device.c **** 
1334:application-library/usb-cdc-device.c **** /**
1335:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataInStage
1336:application-library/usb-cdc-device.c ****   *         Handle data in stage
1337:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1338:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1339:application-library/usb-cdc-device.c ****   * @retval status
1340:application-library/usb-cdc-device.c ****   */
1341:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DataInStage(USBD_HandleTypeDef *pdev,
ARM GAS  /tmp/ccSzmojl.s 			page 53


1342:application-library/usb-cdc-device.c ****                                        uint8_t epnum, uint8_t *pdata)
1343:application-library/usb-cdc-device.c **** {
1344:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1345:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1346:application-library/usb-cdc-device.c ****   uint8_t idx;
1347:application-library/usb-cdc-device.c **** 
1348:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1349:application-library/usb-cdc-device.c ****   {
1350:application-library/usb-cdc-device.c ****     pep = &pdev->ep_in[0];
1351:application-library/usb-cdc-device.c **** 
1352:application-library/usb-cdc-device.c ****     if (pdev->ep0_state == USBD_EP0_DATA_IN)
1353:application-library/usb-cdc-device.c ****     {
1354:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1355:application-library/usb-cdc-device.c ****       {
1356:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
1357:application-library/usb-cdc-device.c **** 
1358:application-library/usb-cdc-device.c ****         (void)USBD_CtlContinueSendData(pdev, pdata, pep->rem_length);
1359:application-library/usb-cdc-device.c **** 
1360:application-library/usb-cdc-device.c ****         /* Prepare endpoint for premature end of transfer */
1361:application-library/usb-cdc-device.c ****         (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
1362:application-library/usb-cdc-device.c ****       }
1363:application-library/usb-cdc-device.c ****       else
1364:application-library/usb-cdc-device.c ****       {
1365:application-library/usb-cdc-device.c ****         /* last packet is MPS multiple, so send ZLP packet */
1366:application-library/usb-cdc-device.c ****         if ((pep->maxpacket == pep->rem_length) &&
1367:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
1368:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
1369:application-library/usb-cdc-device.c ****         {
1370:application-library/usb-cdc-device.c ****           (void)USBD_CtlContinueSendData(pdev, NULL, 0U);
1371:application-library/usb-cdc-device.c ****           pdev->ep0_data_len = 0U;
1372:application-library/usb-cdc-device.c **** 
1373:application-library/usb-cdc-device.c ****           /* Prepare endpoint for premature end of transfer */
1374:application-library/usb-cdc-device.c ****           (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
1375:application-library/usb-cdc-device.c ****         }
1376:application-library/usb-cdc-device.c ****         else
1377:application-library/usb-cdc-device.c ****         {
1378:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
1379:application-library/usb-cdc-device.c ****           {
1380:application-library/usb-cdc-device.c ****             if (pdev->pClass[0]->EP0_TxSent != NULL)
1381:application-library/usb-cdc-device.c ****             {
1382:application-library/usb-cdc-device.c ****               pdev->classId = 0U;
1383:application-library/usb-cdc-device.c ****               pdev->pClass[0]->EP0_TxSent(pdev);
1384:application-library/usb-cdc-device.c ****             }
1385:application-library/usb-cdc-device.c ****           }
1386:application-library/usb-cdc-device.c ****           (void)USBD_LL_StallEP(pdev, 0x80U);
1387:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(pdev);
1388:application-library/usb-cdc-device.c ****         }
1389:application-library/usb-cdc-device.c ****       }
1390:application-library/usb-cdc-device.c ****     }
1391:application-library/usb-cdc-device.c **** 
1392:application-library/usb-cdc-device.c ****     if (pdev->dev_test_mode != 0U)
1393:application-library/usb-cdc-device.c ****     {
1394:application-library/usb-cdc-device.c ****       (void)USBD_RunTestMode(pdev);
1395:application-library/usb-cdc-device.c ****       pdev->dev_test_mode = 0U;
1396:application-library/usb-cdc-device.c ****     }
1397:application-library/usb-cdc-device.c ****   }
1398:application-library/usb-cdc-device.c ****   else
ARM GAS  /tmp/ccSzmojl.s 			page 54


1399:application-library/usb-cdc-device.c ****   {
1400:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1401:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(pdev, ((uint8_t)epnum | 0x80U));
1402:application-library/usb-cdc-device.c **** 
1403:application-library/usb-cdc-device.c ****     if (((uint16_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1404:application-library/usb-cdc-device.c ****     {
1405:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1406:application-library/usb-cdc-device.c ****       if (pdev->dev_state == USBD_STATE_CONFIGURED)
1407:application-library/usb-cdc-device.c ****       {
1408:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->DataIn != NULL)
1409:application-library/usb-cdc-device.c ****         {
1410:application-library/usb-cdc-device.c ****           pdev->classId = idx;
1411:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataIn(pdev, epnum);
1412:application-library/usb-cdc-device.c **** 
1413:application-library/usb-cdc-device.c ****           if (ret != USBD_OK)
1414:application-library/usb-cdc-device.c ****           {
1415:application-library/usb-cdc-device.c ****             return ret;
1416:application-library/usb-cdc-device.c ****           }
1417:application-library/usb-cdc-device.c ****         }
1418:application-library/usb-cdc-device.c ****       }
1419:application-library/usb-cdc-device.c ****     }
1420:application-library/usb-cdc-device.c ****   }
1421:application-library/usb-cdc-device.c **** 
1422:application-library/usb-cdc-device.c ****   return USBD_OK;
1423:application-library/usb-cdc-device.c **** }
1424:application-library/usb-cdc-device.c **** 
1425:application-library/usb-cdc-device.c **** /**
1426:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Reset
1427:application-library/usb-cdc-device.c ****   *         Handle Reset event
1428:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1429:application-library/usb-cdc-device.c ****   * @retval status
1430:application-library/usb-cdc-device.c ****   */
1431:application-library/usb-cdc-device.c **** 
1432:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Reset(USBD_HandleTypeDef *pdev)
1433:application-library/usb-cdc-device.c **** {
 1537              		.loc 1 1433 0
 1538              		.cfi_startproc
 1539              		@ args = 0, pretend = 0, frame = 0
 1540              		@ frame_needed = 0, uses_anonymous_args = 0
 1541              	.LVL157:
 1542 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1543              	.LCFI24:
 1544              		.cfi_def_cfa_offset 24
 1545              		.cfi_offset 3, -24
 1546              		.cfi_offset 4, -20
 1547              		.cfi_offset 5, -16
 1548              		.cfi_offset 6, -12
 1549              		.cfi_offset 7, -8
 1550              		.cfi_offset 14, -4
 1551 0002 0446     		mov	r4, r0
 1552              	.LVL158:
1434:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1435:application-library/usb-cdc-device.c **** 
1436:application-library/usb-cdc-device.c ****   /* Upon Reset call user call back */
1437:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
 1553              		.loc 1 1437 0
 1554 0004 0123     		movs	r3, #1
ARM GAS  /tmp/ccSzmojl.s 			page 55


 1555 0006 80F89C32 		strb	r3, [r0, #668]
1438:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_IDLE;
 1556              		.loc 1 1438 0
 1557 000a 0023     		movs	r3, #0
 1558 000c C0F89432 		str	r3, [r0, #660]
1439:application-library/usb-cdc-device.c ****   pdev->dev_config = 0U;
 1559              		.loc 1 1439 0
 1560 0010 4360     		str	r3, [r0, #4]
1440:application-library/usb-cdc-device.c ****   pdev->dev_remote_wakeup = 0U;
 1561              		.loc 1 1440 0
 1562 0012 C0F8A432 		str	r3, [r0, #676]
1441:application-library/usb-cdc-device.c ****   pdev->dev_test_mode = 0U;
 1563              		.loc 1 1441 0
 1564 0016 80F8A032 		strb	r3, [r0, #672]
1442:application-library/usb-cdc-device.c **** 
1443:application-library/usb-cdc-device.c **** 
1444:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
 1565              		.loc 1 1444 0
 1566 001a D0F8B832 		ldr	r3, [r0, #696]
 1567 001e EBB1     		cbz	r3, .L119
1445:application-library/usb-cdc-device.c ****   {
1446:application-library/usb-cdc-device.c ****     if (pdev->pClass[0]->DeInit != NULL)
 1568              		.loc 1 1446 0
 1569 0020 5B68     		ldr	r3, [r3, #4]
 1570 0022 EBB1     		cbz	r3, .L120
1447:application-library/usb-cdc-device.c ****     {
1448:application-library/usb-cdc-device.c ****       if (pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config) != USBD_OK)
 1571              		.loc 1 1448 0
 1572 0024 0021     		movs	r1, #0
 1573 0026 9847     		blx	r3
 1574              	.LVL159:
 1575 0028 B0B1     		cbz	r0, .L123
1449:application-library/usb-cdc-device.c ****       {
1450:application-library/usb-cdc-device.c ****         ret = USBD_FAIL;
 1576              		.loc 1 1450 0
 1577 002a 0327     		movs	r7, #3
 1578              	.L118:
 1579              	.LVL160:
1451:application-library/usb-cdc-device.c ****       }
1452:application-library/usb-cdc-device.c ****     }
1453:application-library/usb-cdc-device.c ****   }
1454:application-library/usb-cdc-device.c **** 
1455:application-library/usb-cdc-device.c ****   /* Open EP0 OUT */
1456:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, 0x00U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
 1580              		.loc 1 1456 0
 1581 002c 4023     		movs	r3, #64
 1582 002e 0022     		movs	r2, #0
 1583 0030 1146     		mov	r1, r2
 1584 0032 2046     		mov	r0, r4
 1585 0034 FFF7FEFF 		bl	USBD_LL_OpenEP
 1586              	.LVL161:
1457:application-library/usb-cdc-device.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
 1587              		.loc 1 1457 0
 1588 0038 0126     		movs	r6, #1
 1589 003a A4F86461 		strh	r6, [r4, #356]	@ movhi
1458:application-library/usb-cdc-device.c **** 
1459:application-library/usb-cdc-device.c ****   pdev->ep_out[0].maxpacket = USB_MAX_EP0_SIZE;
ARM GAS  /tmp/ccSzmojl.s 			page 56


 1590              		.loc 1 1459 0
 1591 003e 4025     		movs	r5, #64
 1592 0040 C4F86051 		str	r5, [r4, #352]
1460:application-library/usb-cdc-device.c **** 
1461:application-library/usb-cdc-device.c ****   /* Open EP0 IN */
1462:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, 0x80U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
 1593              		.loc 1 1462 0
 1594 0044 2B46     		mov	r3, r5
 1595 0046 0022     		movs	r2, #0
 1596 0048 8021     		movs	r1, #128
 1597 004a 2046     		mov	r0, r4
 1598 004c FFF7FEFF 		bl	USBD_LL_OpenEP
 1599              	.LVL162:
1463:application-library/usb-cdc-device.c ****   pdev->ep_in[0x80U & 0xFU].is_used = 1U;
 1600              		.loc 1 1463 0
 1601 0050 A684     		strh	r6, [r4, #36]	@ movhi
1464:application-library/usb-cdc-device.c **** 
1465:application-library/usb-cdc-device.c ****   pdev->ep_in[0].maxpacket = USB_MAX_EP0_SIZE;
 1602              		.loc 1 1465 0
 1603 0052 2562     		str	r5, [r4, #32]
1466:application-library/usb-cdc-device.c **** 
1467:application-library/usb-cdc-device.c ****   return ret;
1468:application-library/usb-cdc-device.c **** }
 1604              		.loc 1 1468 0
 1605 0054 3846     		mov	r0, r7
 1606 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1607              	.LVL163:
 1608              	.L123:
1434:application-library/usb-cdc-device.c **** 
 1609              		.loc 1 1434 0
 1610 0058 0027     		movs	r7, #0
 1611 005a E7E7     		b	.L118
 1612              	.LVL164:
 1613              	.L119:
 1614 005c 0027     		movs	r7, #0
 1615 005e E5E7     		b	.L118
 1616              	.L120:
 1617 0060 0027     		movs	r7, #0
 1618 0062 E3E7     		b	.L118
 1619              		.cfi_endproc
 1620              	.LFE165:
 1622              		.section	.text.USBD_LL_SetSpeed,"ax",%progbits
 1623              		.align	1
 1624              		.global	USBD_LL_SetSpeed
 1625              		.syntax unified
 1626              		.thumb
 1627              		.thumb_func
 1628              		.fpu fpv4-sp-d16
 1630              	USBD_LL_SetSpeed:
 1631              	.LFB166:
1469:application-library/usb-cdc-device.c **** 
1470:application-library/usb-cdc-device.c **** /**
1471:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SetSpeed
1472:application-library/usb-cdc-device.c ****   *         Handle Reset event
1473:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1474:application-library/usb-cdc-device.c ****   * @retval status
1475:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccSzmojl.s 			page 57


1476:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SetSpeed(USBD_HandleTypeDef *pdev,
1477:application-library/usb-cdc-device.c ****                                     USBD_SpeedTypeDef speed)
1478:application-library/usb-cdc-device.c **** {
 1632              		.loc 1 1478 0
 1633              		.cfi_startproc
 1634              		@ args = 0, pretend = 0, frame = 0
 1635              		@ frame_needed = 0, uses_anonymous_args = 0
 1636              		@ link register save eliminated.
 1637              	.LVL165:
1479:application-library/usb-cdc-device.c ****   pdev->dev_speed = speed;
 1638              		.loc 1 1479 0
 1639 0000 0174     		strb	r1, [r0, #16]
1480:application-library/usb-cdc-device.c **** 
1481:application-library/usb-cdc-device.c ****   return USBD_OK;
1482:application-library/usb-cdc-device.c **** }
 1640              		.loc 1 1482 0
 1641 0002 0020     		movs	r0, #0
 1642              	.LVL166:
 1643 0004 7047     		bx	lr
 1644              		.cfi_endproc
 1645              	.LFE166:
 1647              		.section	.text.USBD_LL_Suspend,"ax",%progbits
 1648              		.align	1
 1649              		.global	USBD_LL_Suspend
 1650              		.syntax unified
 1651              		.thumb
 1652              		.thumb_func
 1653              		.fpu fpv4-sp-d16
 1655              	USBD_LL_Suspend:
 1656              	.LFB167:
1483:application-library/usb-cdc-device.c **** 
1484:application-library/usb-cdc-device.c **** /**
1485:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Suspend
1486:application-library/usb-cdc-device.c ****   *         Handle Suspend event
1487:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1488:application-library/usb-cdc-device.c ****   * @retval status
1489:application-library/usb-cdc-device.c ****   */
1490:application-library/usb-cdc-device.c **** 
1491:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Suspend(USBD_HandleTypeDef *pdev)
1492:application-library/usb-cdc-device.c **** {
 1657              		.loc 1 1492 0
 1658              		.cfi_startproc
 1659              		@ args = 0, pretend = 0, frame = 0
 1660              		@ frame_needed = 0, uses_anonymous_args = 0
 1661              		@ link register save eliminated.
 1662              	.LVL167:
1493:application-library/usb-cdc-device.c ****   pdev->dev_old_state = pdev->dev_state;
 1663              		.loc 1 1493 0
 1664 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1665 0004 DBB2     		uxtb	r3, r3
 1666 0006 80F89D32 		strb	r3, [r0, #669]
1494:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_SUSPENDED;
 1667              		.loc 1 1494 0
 1668 000a 0423     		movs	r3, #4
 1669 000c 80F89C32 		strb	r3, [r0, #668]
1495:application-library/usb-cdc-device.c ****   return USBD_OK;
1496:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccSzmojl.s 			page 58


 1670              		.loc 1 1496 0
 1671 0010 0020     		movs	r0, #0
 1672              	.LVL168:
 1673 0012 7047     		bx	lr
 1674              		.cfi_endproc
 1675              	.LFE167:
 1677              		.section	.text.USBD_LL_Resume,"ax",%progbits
 1678              		.align	1
 1679              		.global	USBD_LL_Resume
 1680              		.syntax unified
 1681              		.thumb
 1682              		.thumb_func
 1683              		.fpu fpv4-sp-d16
 1685              	USBD_LL_Resume:
 1686              	.LFB168:
1497:application-library/usb-cdc-device.c **** 
1498:application-library/usb-cdc-device.c **** /**
1499:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Resume
1500:application-library/usb-cdc-device.c ****   *         Handle Resume event
1501:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1502:application-library/usb-cdc-device.c ****   * @retval status
1503:application-library/usb-cdc-device.c ****   */
1504:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Resume(USBD_HandleTypeDef *pdev)
1505:application-library/usb-cdc-device.c **** {
 1687              		.loc 1 1505 0
 1688              		.cfi_startproc
 1689              		@ args = 0, pretend = 0, frame = 0
 1690              		@ frame_needed = 0, uses_anonymous_args = 0
 1691              		@ link register save eliminated.
 1692              	.LVL169:
1506:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_SUSPENDED)
 1693              		.loc 1 1506 0
 1694 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1695 0004 DBB2     		uxtb	r3, r3
 1696 0006 042B     		cmp	r3, #4
 1697 0008 01D0     		beq	.L128
 1698              	.L127:
1507:application-library/usb-cdc-device.c ****   {
1508:application-library/usb-cdc-device.c ****     pdev->dev_state = pdev->dev_old_state;
1509:application-library/usb-cdc-device.c ****   }
1510:application-library/usb-cdc-device.c **** 
1511:application-library/usb-cdc-device.c ****   return USBD_OK;
1512:application-library/usb-cdc-device.c **** }
 1699              		.loc 1 1512 0
 1700 000a 0020     		movs	r0, #0
 1701              	.LVL170:
 1702 000c 7047     		bx	lr
 1703              	.LVL171:
 1704              	.L128:
1508:application-library/usb-cdc-device.c ****   }
 1705              		.loc 1 1508 0
 1706 000e 90F89D32 		ldrb	r3, [r0, #669]	@ zero_extendqisi2
 1707 0012 DBB2     		uxtb	r3, r3
 1708 0014 80F89C32 		strb	r3, [r0, #668]
 1709 0018 F7E7     		b	.L127
 1710              		.cfi_endproc
 1711              	.LFE168:
ARM GAS  /tmp/ccSzmojl.s 			page 59


 1713              		.section	.text.USBD_LL_SOF,"ax",%progbits
 1714              		.align	1
 1715              		.global	USBD_LL_SOF
 1716              		.syntax unified
 1717              		.thumb
 1718              		.thumb_func
 1719              		.fpu fpv4-sp-d16
 1721              	USBD_LL_SOF:
 1722              	.LFB169:
1513:application-library/usb-cdc-device.c **** 
1514:application-library/usb-cdc-device.c **** /**
1515:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SOF
1516:application-library/usb-cdc-device.c ****   *         Handle SOF event
1517:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1518:application-library/usb-cdc-device.c ****   * @retval status
1519:application-library/usb-cdc-device.c ****   */
1520:application-library/usb-cdc-device.c **** 
1521:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SOF(USBD_HandleTypeDef *pdev)
1522:application-library/usb-cdc-device.c **** {
 1723              		.loc 1 1522 0
 1724              		.cfi_startproc
 1725              		@ args = 0, pretend = 0, frame = 0
 1726              		@ frame_needed = 0, uses_anonymous_args = 0
 1727              	.LVL172:
 1728 0000 08B5     		push	{r3, lr}
 1729              	.LCFI25:
 1730              		.cfi_def_cfa_offset 8
 1731              		.cfi_offset 3, -8
 1732              		.cfi_offset 14, -4
1523:application-library/usb-cdc-device.c ****   /* The SOF event can be distributed for all classes that support it */
1524:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 1733              		.loc 1 1524 0
 1734 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1735 0006 DBB2     		uxtb	r3, r3
 1736 0008 032B     		cmp	r3, #3
 1737 000a 01D0     		beq	.L132
 1738              	.LVL173:
 1739              	.L130:
1525:application-library/usb-cdc-device.c ****   {
1526:application-library/usb-cdc-device.c ****     if (pdev->pClass[0] != NULL)
1527:application-library/usb-cdc-device.c ****     {
1528:application-library/usb-cdc-device.c ****       if (pdev->pClass[0]->SOF != NULL)
1529:application-library/usb-cdc-device.c ****       {
1530:application-library/usb-cdc-device.c ****         (void)pdev->pClass[0]->SOF(pdev);
1531:application-library/usb-cdc-device.c ****       }
1532:application-library/usb-cdc-device.c ****     }
1533:application-library/usb-cdc-device.c ****   }
1534:application-library/usb-cdc-device.c **** 
1535:application-library/usb-cdc-device.c ****   return USBD_OK;
1536:application-library/usb-cdc-device.c **** }
 1740              		.loc 1 1536 0
 1741 000c 0020     		movs	r0, #0
 1742 000e 08BD     		pop	{r3, pc}
 1743              	.LVL174:
 1744              	.L132:
1526:application-library/usb-cdc-device.c ****     {
 1745              		.loc 1 1526 0
ARM GAS  /tmp/ccSzmojl.s 			page 60


 1746 0010 D0F8B832 		ldr	r3, [r0, #696]
 1747 0014 002B     		cmp	r3, #0
 1748 0016 F9D0     		beq	.L130
1528:application-library/usb-cdc-device.c ****       {
 1749              		.loc 1 1528 0
 1750 0018 DB69     		ldr	r3, [r3, #28]
 1751 001a 002B     		cmp	r3, #0
 1752 001c F6D0     		beq	.L130
1530:application-library/usb-cdc-device.c ****       }
 1753              		.loc 1 1530 0
 1754 001e 9847     		blx	r3
 1755              	.LVL175:
 1756 0020 F4E7     		b	.L130
 1757              		.cfi_endproc
 1758              	.LFE169:
 1760              		.section	.text.USBD_LL_IsoINIncomplete,"ax",%progbits
 1761              		.align	1
 1762              		.global	USBD_LL_IsoINIncomplete
 1763              		.syntax unified
 1764              		.thumb
 1765              		.thumb_func
 1766              		.fpu fpv4-sp-d16
 1768              	USBD_LL_IsoINIncomplete:
 1769              	.LFB170:
1537:application-library/usb-cdc-device.c **** 
1538:application-library/usb-cdc-device.c **** /**
1539:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_IsoINIncomplete
1540:application-library/usb-cdc-device.c ****   *         Handle iso in incomplete event
1541:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1542:application-library/usb-cdc-device.c ****   * @retval status
1543:application-library/usb-cdc-device.c ****   */
1544:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_IsoINIncomplete(USBD_HandleTypeDef *pdev,
1545:application-library/usb-cdc-device.c ****                                            uint8_t epnum)
1546:application-library/usb-cdc-device.c **** {
 1770              		.loc 1 1546 0
 1771              		.cfi_startproc
 1772              		@ args = 0, pretend = 0, frame = 0
 1773              		@ frame_needed = 0, uses_anonymous_args = 0
 1774              	.LVL176:
 1775 0000 08B5     		push	{r3, lr}
 1776              	.LCFI26:
 1777              		.cfi_def_cfa_offset 8
 1778              		.cfi_offset 3, -8
 1779              		.cfi_offset 14, -4
1547:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
 1780              		.loc 1 1547 0
 1781 0002 D0F8D432 		ldr	r3, [r0, #724]
 1782 0006 AE33     		adds	r3, r3, #174
 1783 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 1784 000c 5AB1     		cbz	r2, .L135
1548:application-library/usb-cdc-device.c ****   {
1549:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1550:application-library/usb-cdc-device.c ****   }
1551:application-library/usb-cdc-device.c **** 
1552:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 1785              		.loc 1 1552 0
 1786 000e 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
ARM GAS  /tmp/ccSzmojl.s 			page 61


 1787 0012 DBB2     		uxtb	r3, r3
 1788 0014 032B     		cmp	r3, #3
 1789 0016 01D0     		beq	.L139
1553:application-library/usb-cdc-device.c ****   {
1554:application-library/usb-cdc-device.c ****     if (pdev->pClass[pdev->classId]->IsoINIncomplete != NULL)
1555:application-library/usb-cdc-device.c ****     {
1556:application-library/usb-cdc-device.c ****       (void)pdev->pClass[pdev->classId]->IsoINIncomplete(pdev, epnum);
1557:application-library/usb-cdc-device.c ****     }
1558:application-library/usb-cdc-device.c ****   }
1559:application-library/usb-cdc-device.c **** 
1560:application-library/usb-cdc-device.c ****   return USBD_OK;
 1790              		.loc 1 1560 0
 1791 0018 0020     		movs	r0, #0
 1792              	.LVL177:
 1793 001a 08BD     		pop	{r3, pc}
 1794              	.LVL178:
 1795              	.L139:
1554:application-library/usb-cdc-device.c ****     {
 1796              		.loc 1 1554 0
 1797 001c 136A     		ldr	r3, [r2, #32]
 1798 001e 23B1     		cbz	r3, .L137
1556:application-library/usb-cdc-device.c ****     }
 1799              		.loc 1 1556 0
 1800 0020 9847     		blx	r3
 1801              	.LVL179:
 1802              		.loc 1 1560 0
 1803 0022 0020     		movs	r0, #0
 1804 0024 08BD     		pop	{r3, pc}
 1805              	.LVL180:
 1806              	.L135:
1549:application-library/usb-cdc-device.c ****   }
 1807              		.loc 1 1549 0
 1808 0026 0320     		movs	r0, #3
 1809              	.LVL181:
 1810 0028 08BD     		pop	{r3, pc}
 1811              	.LVL182:
 1812              	.L137:
 1813              		.loc 1 1560 0
 1814 002a 0020     		movs	r0, #0
 1815              	.LVL183:
1561:application-library/usb-cdc-device.c **** }
 1816              		.loc 1 1561 0
 1817 002c 08BD     		pop	{r3, pc}
 1818              		.cfi_endproc
 1819              	.LFE170:
 1821              		.section	.text.USBD_LL_IsoOUTIncomplete,"ax",%progbits
 1822              		.align	1
 1823              		.global	USBD_LL_IsoOUTIncomplete
 1824              		.syntax unified
 1825              		.thumb
 1826              		.thumb_func
 1827              		.fpu fpv4-sp-d16
 1829              	USBD_LL_IsoOUTIncomplete:
 1830              	.LFB171:
1562:application-library/usb-cdc-device.c **** 
1563:application-library/usb-cdc-device.c **** /**
1564:application-library/usb-cdc-device.c ****   * @brief  Handle iso out incomplete event.
ARM GAS  /tmp/ccSzmojl.s 			page 62


1565:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1566:application-library/usb-cdc-device.c ****   * @retval status
1567:application-library/usb-cdc-device.c ****   */
1568:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_IsoOUTIncomplete(USBD_HandleTypeDef *pdev,
1569:application-library/usb-cdc-device.c ****                                             uint8_t epnum)
1570:application-library/usb-cdc-device.c **** {
 1831              		.loc 1 1570 0
 1832              		.cfi_startproc
 1833              		@ args = 0, pretend = 0, frame = 0
 1834              		@ frame_needed = 0, uses_anonymous_args = 0
 1835              	.LVL184:
 1836 0000 08B5     		push	{r3, lr}
 1837              	.LCFI27:
 1838              		.cfi_def_cfa_offset 8
 1839              		.cfi_offset 3, -8
 1840              		.cfi_offset 14, -4
1571:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
 1841              		.loc 1 1571 0
 1842 0002 D0F8D432 		ldr	r3, [r0, #724]
 1843 0006 AE33     		adds	r3, r3, #174
 1844 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 1845 000c 5AB1     		cbz	r2, .L142
1572:application-library/usb-cdc-device.c ****   {
1573:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1574:application-library/usb-cdc-device.c ****   }
1575:application-library/usb-cdc-device.c **** 
1576:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 1846              		.loc 1 1576 0
 1847 000e 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1848 0012 DBB2     		uxtb	r3, r3
 1849 0014 032B     		cmp	r3, #3
 1850 0016 01D0     		beq	.L146
1577:application-library/usb-cdc-device.c ****   {
1578:application-library/usb-cdc-device.c ****     if (pdev->pClass[pdev->classId]->IsoOUTIncomplete != NULL)
1579:application-library/usb-cdc-device.c ****     {
1580:application-library/usb-cdc-device.c ****       (void)pdev->pClass[pdev->classId]->IsoOUTIncomplete(pdev, epnum);
1581:application-library/usb-cdc-device.c ****     }
1582:application-library/usb-cdc-device.c ****   }
1583:application-library/usb-cdc-device.c **** 
1584:application-library/usb-cdc-device.c ****   return USBD_OK;
 1851              		.loc 1 1584 0
 1852 0018 0020     		movs	r0, #0
 1853              	.LVL185:
 1854 001a 08BD     		pop	{r3, pc}
 1855              	.LVL186:
 1856              	.L146:
1578:application-library/usb-cdc-device.c ****     {
 1857              		.loc 1 1578 0
 1858 001c 536A     		ldr	r3, [r2, #36]
 1859 001e 23B1     		cbz	r3, .L144
1580:application-library/usb-cdc-device.c ****     }
 1860              		.loc 1 1580 0
 1861 0020 9847     		blx	r3
 1862              	.LVL187:
 1863              		.loc 1 1584 0
 1864 0022 0020     		movs	r0, #0
 1865 0024 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccSzmojl.s 			page 63


 1866              	.LVL188:
 1867              	.L142:
1573:application-library/usb-cdc-device.c ****   }
 1868              		.loc 1 1573 0
 1869 0026 0320     		movs	r0, #3
 1870              	.LVL189:
 1871 0028 08BD     		pop	{r3, pc}
 1872              	.LVL190:
 1873              	.L144:
 1874              		.loc 1 1584 0
 1875 002a 0020     		movs	r0, #0
 1876              	.LVL191:
1585:application-library/usb-cdc-device.c **** }
 1877              		.loc 1 1585 0
 1878 002c 08BD     		pop	{r3, pc}
 1879              		.cfi_endproc
 1880              	.LFE171:
 1882              		.section	.text.USBD_LL_DevConnected,"ax",%progbits
 1883              		.align	1
 1884              		.global	USBD_LL_DevConnected
 1885              		.syntax unified
 1886              		.thumb
 1887              		.thumb_func
 1888              		.fpu fpv4-sp-d16
 1890              	USBD_LL_DevConnected:
 1891              	.LFB172:
1586:application-library/usb-cdc-device.c **** 
1587:application-library/usb-cdc-device.c **** /**
1588:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevConnected
1589:application-library/usb-cdc-device.c ****   *         Handle device connection event
1590:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1591:application-library/usb-cdc-device.c ****   * @retval status
1592:application-library/usb-cdc-device.c ****   */
1593:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevConnected(USBD_HandleTypeDef *pdev)
1594:application-library/usb-cdc-device.c **** {
 1892              		.loc 1 1594 0
 1893              		.cfi_startproc
 1894              		@ args = 0, pretend = 0, frame = 0
 1895              		@ frame_needed = 0, uses_anonymous_args = 0
 1896              		@ link register save eliminated.
 1897              	.LVL192:
1595:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
1596:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1597:application-library/usb-cdc-device.c **** 
1598:application-library/usb-cdc-device.c ****   return USBD_OK;
1599:application-library/usb-cdc-device.c **** }
 1898              		.loc 1 1599 0
 1899 0000 0020     		movs	r0, #0
 1900              	.LVL193:
 1901 0002 7047     		bx	lr
 1902              		.cfi_endproc
 1903              	.LFE172:
 1905              		.section	.text.USBD_LL_DevDisconnected,"ax",%progbits
 1906              		.align	1
 1907              		.global	USBD_LL_DevDisconnected
 1908              		.syntax unified
 1909              		.thumb
ARM GAS  /tmp/ccSzmojl.s 			page 64


 1910              		.thumb_func
 1911              		.fpu fpv4-sp-d16
 1913              	USBD_LL_DevDisconnected:
 1914              	.LFB173:
1600:application-library/usb-cdc-device.c **** 
1601:application-library/usb-cdc-device.c **** /**
1602:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevDisconnected
1603:application-library/usb-cdc-device.c ****   *         Handle device disconnection event
1604:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1605:application-library/usb-cdc-device.c ****   * @retval status
1606:application-library/usb-cdc-device.c ****   */
1607:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevDisconnected(USBD_HandleTypeDef *pdev)
1608:application-library/usb-cdc-device.c **** {
 1915              		.loc 1 1608 0
 1916              		.cfi_startproc
 1917              		@ args = 0, pretend = 0, frame = 0
 1918              		@ frame_needed = 0, uses_anonymous_args = 0
 1919              	.LVL194:
 1920 0000 08B5     		push	{r3, lr}
 1921              	.LCFI28:
 1922              		.cfi_def_cfa_offset 8
 1923              		.cfi_offset 3, -8
 1924              		.cfi_offset 14, -4
 1925              	.LVL195:
1609:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef   ret = USBD_OK;
1610:application-library/usb-cdc-device.c **** 
1611:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1612:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
 1926              		.loc 1 1612 0
 1927 0002 0123     		movs	r3, #1
 1928 0004 80F89C32 		strb	r3, [r0, #668]
1613:application-library/usb-cdc-device.c **** 
1614:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
 1929              		.loc 1 1614 0
 1930 0008 D0F8B832 		ldr	r3, [r0, #696]
 1931 000c 33B1     		cbz	r3, .L150
1615:application-library/usb-cdc-device.c ****   {
1616:application-library/usb-cdc-device.c ****     if (pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config) != 0U)
 1932              		.loc 1 1616 0
 1933 000e 5B68     		ldr	r3, [r3, #4]
 1934 0010 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 1935 0012 9847     		blx	r3
 1936              	.LVL196:
 1937 0014 08B1     		cbz	r0, .L153
1617:application-library/usb-cdc-device.c ****     {
1618:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 1938              		.loc 1 1618 0
 1939 0016 0320     		movs	r0, #3
 1940              	.LVL197:
1619:application-library/usb-cdc-device.c ****     }
1620:application-library/usb-cdc-device.c ****   }
1621:application-library/usb-cdc-device.c **** 
1622:application-library/usb-cdc-device.c ****   return ret;
1623:application-library/usb-cdc-device.c **** }
 1941              		.loc 1 1623 0
 1942 0018 08BD     		pop	{r3, pc}
 1943              	.LVL198:
ARM GAS  /tmp/ccSzmojl.s 			page 65


 1944              	.L153:
 1945 001a 08BD     		pop	{r3, pc}
 1946              	.LVL199:
 1947              	.L150:
1609:application-library/usb-cdc-device.c **** 
 1948              		.loc 1 1609 0
 1949 001c 0020     		movs	r0, #0
 1950              	.LVL200:
 1951 001e 08BD     		pop	{r3, pc}
 1952              		.cfi_endproc
 1953              	.LFE173:
 1955              		.section	.text.USBD_CoreFindEP,"ax",%progbits
 1956              		.align	1
 1957              		.global	USBD_CoreFindEP
 1958              		.syntax unified
 1959              		.thumb
 1960              		.thumb_func
 1961              		.fpu fpv4-sp-d16
 1963              	USBD_CoreFindEP:
 1964              	.LFB174:
1624:application-library/usb-cdc-device.c **** 
1625:application-library/usb-cdc-device.c **** /**
1626:application-library/usb-cdc-device.c ****   * @brief  Returns the class index relative to the selected endpoint
1627:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1628:application-library/usb-cdc-device.c ****   * @param  index : selected endpoint number
1629:application-library/usb-cdc-device.c ****   * @retval index of the class using the selected endpoint number. 0xFF if no class found.
1630:application-library/usb-cdc-device.c ****   */
1631:application-library/usb-cdc-device.c **** uint8_t USBD_CoreFindEP(USBD_HandleTypeDef *pdev, uint8_t index)
1632:application-library/usb-cdc-device.c **** {
 1965              		.loc 1 1632 0
 1966              		.cfi_startproc
 1967              		@ args = 0, pretend = 0, frame = 0
 1968              		@ frame_needed = 0, uses_anonymous_args = 0
 1969              		@ link register save eliminated.
 1970              	.LVL201:
1633:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1634:application-library/usb-cdc-device.c ****   UNUSED(index);
1635:application-library/usb-cdc-device.c ****   return 0x00U;
1636:application-library/usb-cdc-device.c **** }
 1971              		.loc 1 1636 0
 1972 0000 0020     		movs	r0, #0
 1973              	.LVL202:
 1974 0002 7047     		bx	lr
 1975              		.cfi_endproc
 1976              	.LFE174:
 1978              		.section	.text.USBD_GetNextDesc,"ax",%progbits
 1979              		.align	1
 1980              		.global	USBD_GetNextDesc
 1981              		.syntax unified
 1982              		.thumb
 1983              		.thumb_func
 1984              		.fpu fpv4-sp-d16
 1986              	USBD_GetNextDesc:
 1987              	.LFB176:
1637:application-library/usb-cdc-device.c **** 
1638:application-library/usb-cdc-device.c **** /**
1639:application-library/usb-cdc-device.c ****   * @brief  Returns the Endpoint descriptor
ARM GAS  /tmp/ccSzmojl.s 			page 66


1640:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1641:application-library/usb-cdc-device.c ****   * @param  pConfDesc:  pointer to Bos descriptor
1642:application-library/usb-cdc-device.c ****   * @param  EpAddr:  endpoint address
1643:application-library/usb-cdc-device.c ****   * @retval pointer to video endpoint descriptor
1644:application-library/usb-cdc-device.c ****   */
1645:application-library/usb-cdc-device.c **** void *USBD_GetEpDesc(uint8_t *pConfDesc, uint8_t EpAddr)
1646:application-library/usb-cdc-device.c **** {
1647:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
1648:application-library/usb-cdc-device.c ****   USBD_ConfigDescTypeDef *desc = (USBD_ConfigDescTypeDef *)(void *)pConfDesc;
1649:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpDesc = NULL;
1650:application-library/usb-cdc-device.c ****   uint16_t ptr;
1651:application-library/usb-cdc-device.c **** 
1652:application-library/usb-cdc-device.c ****   if (desc->wTotalLength > desc->bLength)
1653:application-library/usb-cdc-device.c ****   {
1654:application-library/usb-cdc-device.c ****     ptr = desc->bLength;
1655:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
1656:application-library/usb-cdc-device.c ****     {
1657:application-library/usb-cdc-device.c ****       pdesc = USBD_GetNextDesc((uint8_t *)pdesc, &ptr);
1658:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
1659:application-library/usb-cdc-device.c ****       {
1660:application-library/usb-cdc-device.c ****         pEpDesc = (USBD_EpDescTypeDef *)(void *)pdesc;
1661:application-library/usb-cdc-device.c **** 
1662:application-library/usb-cdc-device.c ****         if (pEpDesc->bEndpointAddress == EpAddr)
1663:application-library/usb-cdc-device.c ****         {
1664:application-library/usb-cdc-device.c ****           break;
1665:application-library/usb-cdc-device.c ****         }
1666:application-library/usb-cdc-device.c ****         else
1667:application-library/usb-cdc-device.c ****         {
1668:application-library/usb-cdc-device.c ****           pEpDesc = NULL;
1669:application-library/usb-cdc-device.c ****         }
1670:application-library/usb-cdc-device.c ****       }
1671:application-library/usb-cdc-device.c ****     }
1672:application-library/usb-cdc-device.c ****   }
1673:application-library/usb-cdc-device.c **** 
1674:application-library/usb-cdc-device.c ****   return (void *)pEpDesc;
1675:application-library/usb-cdc-device.c **** }
1676:application-library/usb-cdc-device.c **** 
1677:application-library/usb-cdc-device.c **** /**
1678:application-library/usb-cdc-device.c ****   * @brief  Returns the next descriptor header
1679:application-library/usb-cdc-device.c ****   * @param  buf: Buffer where the descriptor is available
1680:application-library/usb-cdc-device.c ****   * @param  ptr: data pointer inside the descriptor
1681:application-library/usb-cdc-device.c ****   * @retval next header
1682:application-library/usb-cdc-device.c ****   */
1683:application-library/usb-cdc-device.c **** USBD_DescHeaderTypeDef *USBD_GetNextDesc(uint8_t *pbuf, uint16_t *ptr)
1684:application-library/usb-cdc-device.c **** {
 1988              		.loc 1 1684 0
 1989              		.cfi_startproc
 1990              		@ args = 0, pretend = 0, frame = 0
 1991              		@ frame_needed = 0, uses_anonymous_args = 0
 1992              		@ link register save eliminated.
 1993              	.LVL203:
1685:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pnext = (USBD_DescHeaderTypeDef *)(void *)pbuf;
1686:application-library/usb-cdc-device.c **** 
1687:application-library/usb-cdc-device.c ****   *ptr += pnext->bLength;
 1994              		.loc 1 1687 0
 1995 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1996 0002 0A88     		ldrh	r2, [r1]
ARM GAS  /tmp/ccSzmojl.s 			page 67


 1997 0004 1344     		add	r3, r3, r2
 1998 0006 0B80     		strh	r3, [r1]	@ movhi
1688:application-library/usb-cdc-device.c ****   pnext = (USBD_DescHeaderTypeDef *)(void *)(pbuf + pnext->bLength);
 1999              		.loc 1 1688 0
 2000 0008 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2001              	.LVL204:
1689:application-library/usb-cdc-device.c ****   return (pnext);
1690:application-library/usb-cdc-device.c **** }
 2002              		.loc 1 1690 0
 2003 000a 1844     		add	r0, r0, r3
 2004              	.LVL205:
 2005 000c 7047     		bx	lr
 2006              		.cfi_endproc
 2007              	.LFE176:
 2009              		.section	.text.USBD_GetEpDesc,"ax",%progbits
 2010              		.align	1
 2011              		.global	USBD_GetEpDesc
 2012              		.syntax unified
 2013              		.thumb
 2014              		.thumb_func
 2015              		.fpu fpv4-sp-d16
 2017              	USBD_GetEpDesc:
 2018              	.LFB175:
1646:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 2019              		.loc 1 1646 0
 2020              		.cfi_startproc
 2021              		@ args = 0, pretend = 0, frame = 8
 2022              		@ frame_needed = 0, uses_anonymous_args = 0
 2023              	.LVL206:
1652:application-library/usb-cdc-device.c ****   {
 2024              		.loc 1 1652 0
 2025 0000 4288     		ldrh	r2, [r0, #2]	@ unaligned
 2026 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2027 0004 9A42     		cmp	r2, r3
 2028 0006 18D9     		bls	.L160
1646:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 2029              		.loc 1 1646 0
 2030 0008 30B5     		push	{r4, r5, lr}
 2031              	.LCFI29:
 2032              		.cfi_def_cfa_offset 12
 2033              		.cfi_offset 4, -12
 2034              		.cfi_offset 5, -8
 2035              		.cfi_offset 14, -4
 2036 000a 83B0     		sub	sp, sp, #12
 2037              	.LCFI30:
 2038              		.cfi_def_cfa_offset 24
 2039 000c 0D46     		mov	r5, r1
 2040 000e 0446     		mov	r4, r0
1654:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
 2041              		.loc 1 1654 0
 2042 0010 ADF80630 		strh	r3, [sp, #6]	@ movhi
 2043              	.LVL207:
 2044              	.L158:
1655:application-library/usb-cdc-device.c ****     {
 2045              		.loc 1 1655 0
 2046 0014 6288     		ldrh	r2, [r4, #2]	@ unaligned
 2047 0016 BDF80630 		ldrh	r3, [sp, #6]
ARM GAS  /tmp/ccSzmojl.s 			page 68


 2048 001a 9A42     		cmp	r2, r3
 2049 001c 0AD9     		bls	.L166
1657:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
 2050              		.loc 1 1657 0
 2051 001e 0DF10601 		add	r1, sp, #6
 2052 0022 FFF7FEFF 		bl	USBD_GetNextDesc
 2053              	.LVL208:
1658:application-library/usb-cdc-device.c ****       {
 2054              		.loc 1 1658 0
 2055 0026 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 2056 0028 052B     		cmp	r3, #5
 2057 002a F3D1     		bne	.L158
 2058              	.LVL209:
1662:application-library/usb-cdc-device.c ****         {
 2059              		.loc 1 1662 0
 2060 002c 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 2061 002e AB42     		cmp	r3, r5
 2062 0030 F0D1     		bne	.L158
 2063 0032 00E0     		b	.L157
 2064              	.LVL210:
 2065              	.L166:
 2066 0034 0020     		movs	r0, #0
 2067              	.LVL211:
 2068              	.L157:
1675:application-library/usb-cdc-device.c **** 
 2069              		.loc 1 1675 0
 2070 0036 03B0     		add	sp, sp, #12
 2071              	.LCFI31:
 2072              		.cfi_def_cfa_offset 12
 2073              		@ sp needed
 2074 0038 30BD     		pop	{r4, r5, pc}
 2075              	.LVL212:
 2076              	.L160:
 2077              	.LCFI32:
 2078              		.cfi_def_cfa_offset 0
 2079              		.cfi_restore 4
 2080              		.cfi_restore 5
 2081              		.cfi_restore 14
1649:application-library/usb-cdc-device.c ****   uint16_t ptr;
 2082              		.loc 1 1649 0
 2083 003a 0020     		movs	r0, #0
 2084              	.LVL213:
 2085 003c 7047     		bx	lr
 2086              		.cfi_endproc
 2087              	.LFE175:
 2089              		.section	.text.USBD_CDC_GetFSCfgDesc,"ax",%progbits
 2090              		.align	1
 2091              		.global	USBD_CDC_GetFSCfgDesc
 2092              		.syntax unified
 2093              		.thumb
 2094              		.thumb_func
 2095              		.fpu fpv4-sp-d16
 2097              	USBD_CDC_GetFSCfgDesc:
 2098              	.LFB145:
 757:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 2099              		.loc 1 757 0
 2100              		.cfi_startproc
ARM GAS  /tmp/ccSzmojl.s 			page 69


 2101              		@ args = 0, pretend = 0, frame = 0
 2102              		@ frame_needed = 0, uses_anonymous_args = 0
 2103              	.LVL214:
 2104 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2105              	.LCFI33:
 2106              		.cfi_def_cfa_offset 24
 2107              		.cfi_offset 3, -24
 2108              		.cfi_offset 4, -20
 2109              		.cfi_offset 5, -16
 2110              		.cfi_offset 6, -12
 2111              		.cfi_offset 7, -8
 2112              		.cfi_offset 14, -4
 2113 0002 0746     		mov	r7, r0
 758:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 2114              		.loc 1 758 0
 2115 0004 0F4C     		ldr	r4, .L172
 2116 0006 8221     		movs	r1, #130
 2117 0008 2046     		mov	r0, r4
 2118              	.LVL215:
 2119 000a FFF7FEFF 		bl	USBD_GetEpDesc
 2120              	.LVL216:
 2121 000e 0646     		mov	r6, r0
 2122              	.LVL217:
 759:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 2123              		.loc 1 759 0
 2124 0010 0121     		movs	r1, #1
 2125 0012 2046     		mov	r0, r4
 2126              	.LVL218:
 2127 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 2128              	.LVL219:
 2129 0018 0546     		mov	r5, r0
 2130              	.LVL220:
 760:application-library/usb-cdc-device.c **** 
 2131              		.loc 1 760 0
 2132 001a 8121     		movs	r1, #129
 2133 001c 2046     		mov	r0, r4
 2134              	.LVL221:
 2135 001e FFF7FEFF 		bl	USBD_GetEpDesc
 2136              	.LVL222:
 762:application-library/usb-cdc-device.c ****   {
 2137              		.loc 1 762 0
 2138 0022 0EB1     		cbz	r6, .L168
 764:application-library/usb-cdc-device.c ****   }
 2139              		.loc 1 764 0
 2140 0024 1023     		movs	r3, #16
 2141 0026 B371     		strb	r3, [r6, #6]
 2142              	.L168:
 767:application-library/usb-cdc-device.c ****   {
 2143              		.loc 1 767 0
 2144 0028 1DB1     		cbz	r5, .L169
 769:application-library/usb-cdc-device.c ****   }
 2145              		.loc 1 769 0
 2146 002a 4023     		movs	r3, #64
 2147 002c 2B71     		strb	r3, [r5, #4]
 2148 002e 0023     		movs	r3, #0
 2149 0030 6B71     		strb	r3, [r5, #5]
 2150              	.L169:
ARM GAS  /tmp/ccSzmojl.s 			page 70


 772:application-library/usb-cdc-device.c ****   {
 2151              		.loc 1 772 0
 2152 0032 18B1     		cbz	r0, .L170
 774:application-library/usb-cdc-device.c ****   }
 2153              		.loc 1 774 0
 2154 0034 4023     		movs	r3, #64
 2155 0036 0371     		strb	r3, [r0, #4]
 2156 0038 0023     		movs	r3, #0
 2157 003a 4371     		strb	r3, [r0, #5]
 2158              	.L170:
 777:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 2159              		.loc 1 777 0
 2160 003c 4323     		movs	r3, #67
 2161 003e 3B80     		strh	r3, [r7]	@ movhi
 779:application-library/usb-cdc-device.c **** 
 2162              		.loc 1 779 0
 2163 0040 0048     		ldr	r0, .L172
 2164              	.LVL223:
 2165 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2166              	.LVL224:
 2167              	.L173:
 2168              		.align	2
 2169              	.L172:
 2170 0044 00000000 		.word	.LANCHOR4
 2171              		.cfi_endproc
 2172              	.LFE145:
 2174              		.section	.text.USBD_CDC_GetHSCfgDesc,"ax",%progbits
 2175              		.align	1
 2176              		.global	USBD_CDC_GetHSCfgDesc
 2177              		.syntax unified
 2178              		.thumb
 2179              		.thumb_func
 2180              		.fpu fpv4-sp-d16
 2182              	USBD_CDC_GetHSCfgDesc:
 2183              	.LFB146:
 787:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 2184              		.loc 1 787 0
 2185              		.cfi_startproc
 2186              		@ args = 0, pretend = 0, frame = 0
 2187              		@ frame_needed = 0, uses_anonymous_args = 0
 2188              	.LVL225:
 2189 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2190              	.LCFI34:
 2191              		.cfi_def_cfa_offset 24
 2192              		.cfi_offset 3, -24
 2193              		.cfi_offset 4, -20
 2194              		.cfi_offset 5, -16
 2195              		.cfi_offset 6, -12
 2196              		.cfi_offset 7, -8
 2197              		.cfi_offset 14, -4
 2198 0002 0746     		mov	r7, r0
 788:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 2199              		.loc 1 788 0
 2200 0004 0F4C     		ldr	r4, .L179
 2201 0006 8221     		movs	r1, #130
 2202 0008 2046     		mov	r0, r4
 2203              	.LVL226:
ARM GAS  /tmp/ccSzmojl.s 			page 71


 2204 000a FFF7FEFF 		bl	USBD_GetEpDesc
 2205              	.LVL227:
 2206 000e 0646     		mov	r6, r0
 2207              	.LVL228:
 789:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 2208              		.loc 1 789 0
 2209 0010 0121     		movs	r1, #1
 2210 0012 2046     		mov	r0, r4
 2211              	.LVL229:
 2212 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 2213              	.LVL230:
 2214 0018 0546     		mov	r5, r0
 2215              	.LVL231:
 790:application-library/usb-cdc-device.c **** 
 2216              		.loc 1 790 0
 2217 001a 8121     		movs	r1, #129
 2218 001c 2046     		mov	r0, r4
 2219              	.LVL232:
 2220 001e FFF7FEFF 		bl	USBD_GetEpDesc
 2221              	.LVL233:
 792:application-library/usb-cdc-device.c ****   {
 2222              		.loc 1 792 0
 2223 0022 0EB1     		cbz	r6, .L175
 794:application-library/usb-cdc-device.c ****   }
 2224              		.loc 1 794 0
 2225 0024 1023     		movs	r3, #16
 2226 0026 B371     		strb	r3, [r6, #6]
 2227              	.L175:
 797:application-library/usb-cdc-device.c ****   {
 2228              		.loc 1 797 0
 2229 0028 1DB1     		cbz	r5, .L176
 799:application-library/usb-cdc-device.c ****   }
 2230              		.loc 1 799 0
 2231 002a 0023     		movs	r3, #0
 2232 002c 2B71     		strb	r3, [r5, #4]
 2233 002e 0223     		movs	r3, #2
 2234 0030 6B71     		strb	r3, [r5, #5]
 2235              	.L176:
 802:application-library/usb-cdc-device.c ****   {
 2236              		.loc 1 802 0
 2237 0032 18B1     		cbz	r0, .L177
 804:application-library/usb-cdc-device.c ****   }
 2238              		.loc 1 804 0
 2239 0034 0023     		movs	r3, #0
 2240 0036 0371     		strb	r3, [r0, #4]
 2241 0038 0223     		movs	r3, #2
 2242 003a 4371     		strb	r3, [r0, #5]
 2243              	.L177:
 807:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 2244              		.loc 1 807 0
 2245 003c 4323     		movs	r3, #67
 2246 003e 3B80     		strh	r3, [r7]	@ movhi
 809:application-library/usb-cdc-device.c **** 
 2247              		.loc 1 809 0
 2248 0040 0048     		ldr	r0, .L179
 2249              	.LVL234:
 2250 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
ARM GAS  /tmp/ccSzmojl.s 			page 72


 2251              	.LVL235:
 2252              	.L180:
 2253              		.align	2
 2254              	.L179:
 2255 0044 00000000 		.word	.LANCHOR4
 2256              		.cfi_endproc
 2257              	.LFE146:
 2259              		.section	.text.USBD_CDC_GetOtherSpeedCfgDesc,"ax",%progbits
 2260              		.align	1
 2261              		.global	USBD_CDC_GetOtherSpeedCfgDesc
 2262              		.syntax unified
 2263              		.thumb
 2264              		.thumb_func
 2265              		.fpu fpv4-sp-d16
 2267              	USBD_CDC_GetOtherSpeedCfgDesc:
 2268              	.LFB147:
 818:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 2269              		.loc 1 818 0
 2270              		.cfi_startproc
 2271              		@ args = 0, pretend = 0, frame = 0
 2272              		@ frame_needed = 0, uses_anonymous_args = 0
 2273              	.LVL236:
 2274 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2275              	.LCFI35:
 2276              		.cfi_def_cfa_offset 24
 2277              		.cfi_offset 3, -24
 2278              		.cfi_offset 4, -20
 2279              		.cfi_offset 5, -16
 2280              		.cfi_offset 6, -12
 2281              		.cfi_offset 7, -8
 2282              		.cfi_offset 14, -4
 2283 0002 0746     		mov	r7, r0
 819:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 2284              		.loc 1 819 0
 2285 0004 0F4C     		ldr	r4, .L186
 2286 0006 8221     		movs	r1, #130
 2287 0008 2046     		mov	r0, r4
 2288              	.LVL237:
 2289 000a FFF7FEFF 		bl	USBD_GetEpDesc
 2290              	.LVL238:
 2291 000e 0646     		mov	r6, r0
 2292              	.LVL239:
 820:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 2293              		.loc 1 820 0
 2294 0010 0121     		movs	r1, #1
 2295 0012 2046     		mov	r0, r4
 2296              	.LVL240:
 2297 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 2298              	.LVL241:
 2299 0018 0546     		mov	r5, r0
 2300              	.LVL242:
 821:application-library/usb-cdc-device.c **** 
 2301              		.loc 1 821 0
 2302 001a 8121     		movs	r1, #129
 2303 001c 2046     		mov	r0, r4
 2304              	.LVL243:
 2305 001e FFF7FEFF 		bl	USBD_GetEpDesc
ARM GAS  /tmp/ccSzmojl.s 			page 73


 2306              	.LVL244:
 823:application-library/usb-cdc-device.c ****   {
 2307              		.loc 1 823 0
 2308 0022 0EB1     		cbz	r6, .L182
 825:application-library/usb-cdc-device.c ****   }
 2309              		.loc 1 825 0
 2310 0024 1023     		movs	r3, #16
 2311 0026 B371     		strb	r3, [r6, #6]
 2312              	.L182:
 828:application-library/usb-cdc-device.c ****   {
 2313              		.loc 1 828 0
 2314 0028 1DB1     		cbz	r5, .L183
 830:application-library/usb-cdc-device.c ****   }
 2315              		.loc 1 830 0
 2316 002a 4023     		movs	r3, #64
 2317 002c 2B71     		strb	r3, [r5, #4]
 2318 002e 0023     		movs	r3, #0
 2319 0030 6B71     		strb	r3, [r5, #5]
 2320              	.L183:
 833:application-library/usb-cdc-device.c ****   {
 2321              		.loc 1 833 0
 2322 0032 18B1     		cbz	r0, .L184
 835:application-library/usb-cdc-device.c ****   }
 2323              		.loc 1 835 0
 2324 0034 4023     		movs	r3, #64
 2325 0036 0371     		strb	r3, [r0, #4]
 2326 0038 0023     		movs	r3, #0
 2327 003a 4371     		strb	r3, [r0, #5]
 2328              	.L184:
 838:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 2329              		.loc 1 838 0
 2330 003c 4323     		movs	r3, #67
 2331 003e 3B80     		strh	r3, [r7]	@ movhi
 840:application-library/usb-cdc-device.c **** 
 2332              		.loc 1 840 0
 2333 0040 0048     		ldr	r0, .L186
 2334              	.LVL245:
 2335 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2336              	.LVL246:
 2337              	.L187:
 2338              		.align	2
 2339              	.L186:
 2340 0044 00000000 		.word	.LANCHOR4
 2341              		.cfi_endproc
 2342              	.LFE147:
 2344              		.section	.text.USBD_ParseSetupRequest,"ax",%progbits
 2345              		.align	1
 2346              		.global	USBD_ParseSetupRequest
 2347              		.syntax unified
 2348              		.thumb
 2349              		.thumb_func
 2350              		.fpu fpv4-sp-d16
 2352              	USBD_ParseSetupRequest:
 2353              	.LFB187:
1691:application-library/usb-cdc-device.c **** 
1692:application-library/usb-cdc-device.c **** /* usbd_core.c END ---- ---- ---- ---- */
1693:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 74


1694:application-library/usb-cdc-device.c **** 
1695:application-library/usb-cdc-device.c **** /* usbd_ctlreq.c BEGIN ---- ---- ---- ---- */
1696:application-library/usb-cdc-device.c **** 
1697:application-library/usb-cdc-device.c **** 
1698:application-library/usb-cdc-device.c **** 
1699:application-library/usb-cdc-device.c **** 
1700:application-library/usb-cdc-device.c **** 
1701:application-library/usb-cdc-device.c **** 
1702:application-library/usb-cdc-device.c **** /**
1703:application-library/usb-cdc-device.c ****   * @brief  USBD_StdDevReq
1704:application-library/usb-cdc-device.c ****   *         Handle standard usb device requests
1705:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1706:application-library/usb-cdc-device.c ****   * @param  req: usb request
1707:application-library/usb-cdc-device.c ****   * @retval status
1708:application-library/usb-cdc-device.c ****   */
1709:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdDevReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1710:application-library/usb-cdc-device.c **** {
1711:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1712:application-library/usb-cdc-device.c **** 
1713:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1714:application-library/usb-cdc-device.c ****   {
1715:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1716:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1717:application-library/usb-cdc-device.c ****       ret = (USBD_StatusTypeDef)pdev->pClass[pdev->classId]->Setup(pdev, req);
1718:application-library/usb-cdc-device.c ****       break;
1719:application-library/usb-cdc-device.c **** 
1720:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1721:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1722:application-library/usb-cdc-device.c ****       {
1723:application-library/usb-cdc-device.c ****         case USB_REQ_GET_DESCRIPTOR:
1724:application-library/usb-cdc-device.c ****           USBD_GetDescriptor(pdev, req);
1725:application-library/usb-cdc-device.c ****           break;
1726:application-library/usb-cdc-device.c **** 
1727:application-library/usb-cdc-device.c ****         case USB_REQ_SET_ADDRESS:
1728:application-library/usb-cdc-device.c ****           USBD_SetAddress(pdev, req);
1729:application-library/usb-cdc-device.c ****           break;
1730:application-library/usb-cdc-device.c **** 
1731:application-library/usb-cdc-device.c ****         case USB_REQ_SET_CONFIGURATION:
1732:application-library/usb-cdc-device.c ****           ret = USBD_SetConfig(pdev, req);
1733:application-library/usb-cdc-device.c ****           break;
1734:application-library/usb-cdc-device.c **** 
1735:application-library/usb-cdc-device.c ****         case USB_REQ_GET_CONFIGURATION:
1736:application-library/usb-cdc-device.c ****           USBD_GetConfig(pdev, req);
1737:application-library/usb-cdc-device.c ****           break;
1738:application-library/usb-cdc-device.c **** 
1739:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
1740:application-library/usb-cdc-device.c ****           USBD_GetStatus(pdev, req);
1741:application-library/usb-cdc-device.c ****           break;
1742:application-library/usb-cdc-device.c **** 
1743:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1744:application-library/usb-cdc-device.c ****           USBD_SetFeature(pdev, req);
1745:application-library/usb-cdc-device.c ****           break;
1746:application-library/usb-cdc-device.c **** 
1747:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1748:application-library/usb-cdc-device.c ****           USBD_ClrFeature(pdev, req);
1749:application-library/usb-cdc-device.c ****           break;
1750:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 75


1751:application-library/usb-cdc-device.c ****         default:
1752:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
1753:application-library/usb-cdc-device.c ****           break;
1754:application-library/usb-cdc-device.c ****       }
1755:application-library/usb-cdc-device.c ****       break;
1756:application-library/usb-cdc-device.c **** 
1757:application-library/usb-cdc-device.c ****     default:
1758:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
1759:application-library/usb-cdc-device.c ****       break;
1760:application-library/usb-cdc-device.c ****   }
1761:application-library/usb-cdc-device.c **** 
1762:application-library/usb-cdc-device.c ****   return ret;
1763:application-library/usb-cdc-device.c **** }
1764:application-library/usb-cdc-device.c **** 
1765:application-library/usb-cdc-device.c **** /**
1766:application-library/usb-cdc-device.c ****   * @brief  USBD_StdItfReq
1767:application-library/usb-cdc-device.c ****   *         Handle standard usb interface requests
1768:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1769:application-library/usb-cdc-device.c ****   * @param  req: usb request
1770:application-library/usb-cdc-device.c ****   * @retval status
1771:application-library/usb-cdc-device.c ****   */
1772:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdItfReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1773:application-library/usb-cdc-device.c **** {
1774:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1775:application-library/usb-cdc-device.c ****   uint8_t idx;
1776:application-library/usb-cdc-device.c **** 
1777:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1778:application-library/usb-cdc-device.c ****   {
1779:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1780:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1781:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1782:application-library/usb-cdc-device.c ****       switch (pdev->dev_state)
1783:application-library/usb-cdc-device.c ****       {
1784:application-library/usb-cdc-device.c ****         case USBD_STATE_DEFAULT:
1785:application-library/usb-cdc-device.c ****         case USBD_STATE_ADDRESSED:
1786:application-library/usb-cdc-device.c ****         case USBD_STATE_CONFIGURED:
1787:application-library/usb-cdc-device.c **** 
1788:application-library/usb-cdc-device.c ****           if (LOBYTE(req->wIndex) <= USBD_MAX_NUM_INTERFACES)
1789:application-library/usb-cdc-device.c ****           {
1790:application-library/usb-cdc-device.c ****             /* Get the class index relative to this interface */
1791:application-library/usb-cdc-device.c ****             idx = 0x00U;
1792:application-library/usb-cdc-device.c ****             if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1793:application-library/usb-cdc-device.c ****             {
1794:application-library/usb-cdc-device.c ****               /* Call the class data out function to manage the request */
1795:application-library/usb-cdc-device.c ****               if (pdev->pClass[idx]->Setup != NULL)
1796:application-library/usb-cdc-device.c ****               {
1797:application-library/usb-cdc-device.c ****                 pdev->classId = idx;
1798:application-library/usb-cdc-device.c ****                 ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
1799:application-library/usb-cdc-device.c ****               }
1800:application-library/usb-cdc-device.c ****               else
1801:application-library/usb-cdc-device.c ****               {
1802:application-library/usb-cdc-device.c ****                 /* should never reach this condition */
1803:application-library/usb-cdc-device.c ****                 ret = USBD_FAIL;
1804:application-library/usb-cdc-device.c ****               }
1805:application-library/usb-cdc-device.c ****             }
1806:application-library/usb-cdc-device.c ****             else
1807:application-library/usb-cdc-device.c ****             {
ARM GAS  /tmp/ccSzmojl.s 			page 76


1808:application-library/usb-cdc-device.c ****               /* No relative interface found */
1809:application-library/usb-cdc-device.c ****               ret = USBD_FAIL;
1810:application-library/usb-cdc-device.c ****             }
1811:application-library/usb-cdc-device.c **** 
1812:application-library/usb-cdc-device.c ****             if ((req->wLength == 0U) && (ret == USBD_OK))
1813:application-library/usb-cdc-device.c ****             {
1814:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendStatus(pdev);
1815:application-library/usb-cdc-device.c ****             }
1816:application-library/usb-cdc-device.c ****           }
1817:application-library/usb-cdc-device.c ****           else
1818:application-library/usb-cdc-device.c ****           {
1819:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
1820:application-library/usb-cdc-device.c ****           }
1821:application-library/usb-cdc-device.c ****           break;
1822:application-library/usb-cdc-device.c **** 
1823:application-library/usb-cdc-device.c ****         default:
1824:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
1825:application-library/usb-cdc-device.c ****           break;
1826:application-library/usb-cdc-device.c ****       }
1827:application-library/usb-cdc-device.c ****       break;
1828:application-library/usb-cdc-device.c **** 
1829:application-library/usb-cdc-device.c ****     default:
1830:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
1831:application-library/usb-cdc-device.c ****       break;
1832:application-library/usb-cdc-device.c ****   }
1833:application-library/usb-cdc-device.c **** 
1834:application-library/usb-cdc-device.c ****   return ret;
1835:application-library/usb-cdc-device.c **** }
1836:application-library/usb-cdc-device.c **** 
1837:application-library/usb-cdc-device.c **** /**
1838:application-library/usb-cdc-device.c ****   * @brief  USBD_StdEPReq
1839:application-library/usb-cdc-device.c ****   *         Handle standard usb endpoint requests
1840:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1841:application-library/usb-cdc-device.c ****   * @param  req: usb request
1842:application-library/usb-cdc-device.c ****   * @retval status
1843:application-library/usb-cdc-device.c ****   */
1844:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdEPReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1845:application-library/usb-cdc-device.c **** {
1846:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1847:application-library/usb-cdc-device.c ****   uint8_t ep_addr;
1848:application-library/usb-cdc-device.c ****   uint8_t idx;
1849:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1850:application-library/usb-cdc-device.c **** 
1851:application-library/usb-cdc-device.c ****   ep_addr = LOBYTE(req->wIndex);
1852:application-library/usb-cdc-device.c **** 
1853:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1854:application-library/usb-cdc-device.c ****   {
1855:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1856:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1857:application-library/usb-cdc-device.c ****       /* Get the class index relative to this endpoint */
1858:application-library/usb-cdc-device.c ****       idx = USBD_CoreFindEP(pdev, ep_addr);
1859:application-library/usb-cdc-device.c ****       if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1860:application-library/usb-cdc-device.c ****       {
1861:application-library/usb-cdc-device.c ****         pdev->classId = idx;
1862:application-library/usb-cdc-device.c ****         /* Call the class data out function to manage the request */
1863:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->Setup != NULL)
1864:application-library/usb-cdc-device.c ****         {
ARM GAS  /tmp/ccSzmojl.s 			page 77


1865:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->Setup(pdev, req);
1866:application-library/usb-cdc-device.c ****         }
1867:application-library/usb-cdc-device.c ****       }
1868:application-library/usb-cdc-device.c ****       break;
1869:application-library/usb-cdc-device.c **** 
1870:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1871:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1872:application-library/usb-cdc-device.c ****       {
1873:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1874:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
1875:application-library/usb-cdc-device.c ****           {
1876:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1877:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1878:application-library/usb-cdc-device.c ****               {
1879:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, ep_addr);
1880:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
1881:application-library/usb-cdc-device.c ****               }
1882:application-library/usb-cdc-device.c ****               else
1883:application-library/usb-cdc-device.c ****               {
1884:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
1885:application-library/usb-cdc-device.c ****               }
1886:application-library/usb-cdc-device.c ****               break;
1887:application-library/usb-cdc-device.c **** 
1888:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1889:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
1890:application-library/usb-cdc-device.c ****               {
1891:application-library/usb-cdc-device.c ****                 if ((ep_addr != 0x00U) && (ep_addr != 0x80U) && (req->wLength == 0x00U))
1892:application-library/usb-cdc-device.c ****                 {
1893:application-library/usb-cdc-device.c ****                   (void)USBD_LL_StallEP(pdev, ep_addr);
1894:application-library/usb-cdc-device.c ****                 }
1895:application-library/usb-cdc-device.c ****               }
1896:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendStatus(pdev);
1897:application-library/usb-cdc-device.c **** 
1898:application-library/usb-cdc-device.c ****               break;
1899:application-library/usb-cdc-device.c **** 
1900:application-library/usb-cdc-device.c ****             default:
1901:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
1902:application-library/usb-cdc-device.c ****               break;
1903:application-library/usb-cdc-device.c ****           }
1904:application-library/usb-cdc-device.c ****           break;
1905:application-library/usb-cdc-device.c **** 
1906:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1907:application-library/usb-cdc-device.c **** 
1908:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
1909:application-library/usb-cdc-device.c ****           {
1910:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1911:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1912:application-library/usb-cdc-device.c ****               {
1913:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, ep_addr);
1914:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
1915:application-library/usb-cdc-device.c ****               }
1916:application-library/usb-cdc-device.c ****               else
1917:application-library/usb-cdc-device.c ****               {
1918:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
1919:application-library/usb-cdc-device.c ****               }
1920:application-library/usb-cdc-device.c ****               break;
1921:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 78


1922:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1923:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
1924:application-library/usb-cdc-device.c ****               {
1925:application-library/usb-cdc-device.c ****                 if ((ep_addr & 0x7FU) != 0x00U)
1926:application-library/usb-cdc-device.c ****                 {
1927:application-library/usb-cdc-device.c ****                   (void)USBD_LL_ClearStallEP(pdev, ep_addr);
1928:application-library/usb-cdc-device.c ****                 }
1929:application-library/usb-cdc-device.c ****                 (void)USBD_CtlSendStatus(pdev);
1930:application-library/usb-cdc-device.c **** 
1931:application-library/usb-cdc-device.c ****                 /* Get the class index relative to this interface */
1932:application-library/usb-cdc-device.c ****                 idx = USBD_CoreFindEP(pdev, ep_addr);
1933:application-library/usb-cdc-device.c ****                 if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1934:application-library/usb-cdc-device.c ****                 {
1935:application-library/usb-cdc-device.c ****                   pdev->classId = idx;
1936:application-library/usb-cdc-device.c ****                   /* Call the class data out function to manage the request */
1937:application-library/usb-cdc-device.c ****                   if (pdev->pClass[idx]->Setup != NULL)
1938:application-library/usb-cdc-device.c ****                   {
1939:application-library/usb-cdc-device.c ****                     ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
1940:application-library/usb-cdc-device.c ****                   }
1941:application-library/usb-cdc-device.c ****                 }
1942:application-library/usb-cdc-device.c ****               }
1943:application-library/usb-cdc-device.c ****               break;
1944:application-library/usb-cdc-device.c **** 
1945:application-library/usb-cdc-device.c ****             default:
1946:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
1947:application-library/usb-cdc-device.c ****               break;
1948:application-library/usb-cdc-device.c ****           }
1949:application-library/usb-cdc-device.c ****           break;
1950:application-library/usb-cdc-device.c **** 
1951:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
1952:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
1953:application-library/usb-cdc-device.c ****           {
1954:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1955:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1956:application-library/usb-cdc-device.c ****               {
1957:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
1958:application-library/usb-cdc-device.c ****                 break;
1959:application-library/usb-cdc-device.c ****               }
1960:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &pdev->ep_in[ep_addr & 0x7FU] : \
1961:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
1962:application-library/usb-cdc-device.c **** 
1963:application-library/usb-cdc-device.c ****               pep->status = 0x0000U;
1964:application-library/usb-cdc-device.c **** 
1965:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendData(pdev, (uint8_t *)&pep->status, 2U);
1966:application-library/usb-cdc-device.c ****               break;
1967:application-library/usb-cdc-device.c **** 
1968:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1969:application-library/usb-cdc-device.c ****               if ((ep_addr & 0x80U) == 0x80U)
1970:application-library/usb-cdc-device.c ****               {
1971:application-library/usb-cdc-device.c ****                 if (pdev->ep_in[ep_addr & 0xFU].is_used == 0U)
1972:application-library/usb-cdc-device.c ****                 {
1973:application-library/usb-cdc-device.c ****                   USBD_CtlError(pdev, req);
1974:application-library/usb-cdc-device.c ****                   break;
1975:application-library/usb-cdc-device.c ****                 }
1976:application-library/usb-cdc-device.c ****               }
1977:application-library/usb-cdc-device.c ****               else
1978:application-library/usb-cdc-device.c ****               {
ARM GAS  /tmp/ccSzmojl.s 			page 79


1979:application-library/usb-cdc-device.c ****                 if (pdev->ep_out[ep_addr & 0xFU].is_used == 0U)
1980:application-library/usb-cdc-device.c ****                 {
1981:application-library/usb-cdc-device.c ****                   USBD_CtlError(pdev, req);
1982:application-library/usb-cdc-device.c ****                   break;
1983:application-library/usb-cdc-device.c ****                 }
1984:application-library/usb-cdc-device.c ****               }
1985:application-library/usb-cdc-device.c **** 
1986:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &pdev->ep_in[ep_addr & 0x7FU] : \
1987:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
1988:application-library/usb-cdc-device.c **** 
1989:application-library/usb-cdc-device.c ****               if ((ep_addr == 0x00U) || (ep_addr == 0x80U))
1990:application-library/usb-cdc-device.c ****               {
1991:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
1992:application-library/usb-cdc-device.c ****               }
1993:application-library/usb-cdc-device.c ****               else if (USBD_LL_IsStallEP(pdev, ep_addr) != 0U)
1994:application-library/usb-cdc-device.c ****               {
1995:application-library/usb-cdc-device.c ****                 pep->status = 0x0001U;
1996:application-library/usb-cdc-device.c ****               }
1997:application-library/usb-cdc-device.c ****               else
1998:application-library/usb-cdc-device.c ****               {
1999:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
2000:application-library/usb-cdc-device.c ****               }
2001:application-library/usb-cdc-device.c **** 
2002:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendData(pdev, (uint8_t *)&pep->status, 2U);
2003:application-library/usb-cdc-device.c ****               break;
2004:application-library/usb-cdc-device.c **** 
2005:application-library/usb-cdc-device.c ****             default:
2006:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
2007:application-library/usb-cdc-device.c ****               break;
2008:application-library/usb-cdc-device.c ****           }
2009:application-library/usb-cdc-device.c ****           break;
2010:application-library/usb-cdc-device.c **** 
2011:application-library/usb-cdc-device.c ****         default:
2012:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2013:application-library/usb-cdc-device.c ****           break;
2014:application-library/usb-cdc-device.c ****       }
2015:application-library/usb-cdc-device.c ****       break;
2016:application-library/usb-cdc-device.c **** 
2017:application-library/usb-cdc-device.c ****     default:
2018:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2019:application-library/usb-cdc-device.c ****       break;
2020:application-library/usb-cdc-device.c ****   }
2021:application-library/usb-cdc-device.c **** 
2022:application-library/usb-cdc-device.c ****   return ret;
2023:application-library/usb-cdc-device.c **** }
2024:application-library/usb-cdc-device.c **** 
2025:application-library/usb-cdc-device.c **** 
2026:application-library/usb-cdc-device.c **** /**
2027:application-library/usb-cdc-device.c ****   * @brief  Handle Get Descriptor requests
2028:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2029:application-library/usb-cdc-device.c ****   * @param  req: usb request
2030:application-library/usb-cdc-device.c ****   * @retval status
2031:application-library/usb-cdc-device.c ****   */
2032:application-library/usb-cdc-device.c **** void USBD_GetDescriptor(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2033:application-library/usb-cdc-device.c **** {
2034:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
2035:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
ARM GAS  /tmp/ccSzmojl.s 			page 80


2036:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
2037:application-library/usb-cdc-device.c **** 
2038:application-library/usb-cdc-device.c ****   switch (req->wValue >> 8)
2039:application-library/usb-cdc-device.c ****   {
2040:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE:
2041:application-library/usb-cdc-device.c ****       pbuf = pdev->pDesc->GetDeviceDescriptor(pdev->dev_speed, &len);
2042:application-library/usb-cdc-device.c ****       break;
2043:application-library/usb-cdc-device.c **** 
2044:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_CONFIGURATION:
2045:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2046:application-library/usb-cdc-device.c ****       {
2047:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)pdev->pClass[0]->GetHSConfigDescriptor(&len);
2048:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
2049:application-library/usb-cdc-device.c ****       }
2050:application-library/usb-cdc-device.c ****       else
2051:application-library/usb-cdc-device.c ****       {
2052:application-library/usb-cdc-device.c ****         pbuf   = (uint8_t *)pdev->pClass[0]->GetFSConfigDescriptor(&len);
2053:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
2054:application-library/usb-cdc-device.c ****       }
2055:application-library/usb-cdc-device.c ****       break;
2056:application-library/usb-cdc-device.c **** 
2057:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_STRING:
2058:application-library/usb-cdc-device.c ****       switch ((uint8_t)(req->wValue))
2059:application-library/usb-cdc-device.c ****       {
2060:application-library/usb-cdc-device.c ****         case USBD_IDX_LANGID_STR:
2061:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetLangIDStrDescriptor != NULL)
2062:application-library/usb-cdc-device.c ****           {
2063:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetLangIDStrDescriptor(pdev->dev_speed, &len);
2064:application-library/usb-cdc-device.c ****           }
2065:application-library/usb-cdc-device.c ****           else
2066:application-library/usb-cdc-device.c ****           {
2067:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2068:application-library/usb-cdc-device.c ****             err++;
2069:application-library/usb-cdc-device.c ****           }
2070:application-library/usb-cdc-device.c ****           break;
2071:application-library/usb-cdc-device.c **** 
2072:application-library/usb-cdc-device.c ****         case USBD_IDX_MFC_STR:
2073:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetManufacturerStrDescriptor != NULL)
2074:application-library/usb-cdc-device.c ****           {
2075:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetManufacturerStrDescriptor(pdev->dev_speed, &len);
2076:application-library/usb-cdc-device.c ****           }
2077:application-library/usb-cdc-device.c ****           else
2078:application-library/usb-cdc-device.c ****           {
2079:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2080:application-library/usb-cdc-device.c ****             err++;
2081:application-library/usb-cdc-device.c ****           }
2082:application-library/usb-cdc-device.c ****           break;
2083:application-library/usb-cdc-device.c **** 
2084:application-library/usb-cdc-device.c ****         case USBD_IDX_PRODUCT_STR:
2085:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetProductStrDescriptor != NULL)
2086:application-library/usb-cdc-device.c ****           {
2087:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetProductStrDescriptor(pdev->dev_speed, &len);
2088:application-library/usb-cdc-device.c ****           }
2089:application-library/usb-cdc-device.c ****           else
2090:application-library/usb-cdc-device.c ****           {
2091:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2092:application-library/usb-cdc-device.c ****             err++;
ARM GAS  /tmp/ccSzmojl.s 			page 81


2093:application-library/usb-cdc-device.c ****           }
2094:application-library/usb-cdc-device.c ****           break;
2095:application-library/usb-cdc-device.c **** 
2096:application-library/usb-cdc-device.c ****         case USBD_IDX_SERIAL_STR:
2097:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetSerialStrDescriptor != NULL)
2098:application-library/usb-cdc-device.c ****           {
2099:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetSerialStrDescriptor(pdev->dev_speed, &len);
2100:application-library/usb-cdc-device.c ****           }
2101:application-library/usb-cdc-device.c ****           else
2102:application-library/usb-cdc-device.c ****           {
2103:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2104:application-library/usb-cdc-device.c ****             err++;
2105:application-library/usb-cdc-device.c ****           }
2106:application-library/usb-cdc-device.c ****           break;
2107:application-library/usb-cdc-device.c **** 
2108:application-library/usb-cdc-device.c ****         case USBD_IDX_CONFIG_STR:
2109:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetConfigurationStrDescriptor != NULL)
2110:application-library/usb-cdc-device.c ****           {
2111:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetConfigurationStrDescriptor(pdev->dev_speed, &len);
2112:application-library/usb-cdc-device.c ****           }
2113:application-library/usb-cdc-device.c ****           else
2114:application-library/usb-cdc-device.c ****           {
2115:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2116:application-library/usb-cdc-device.c ****             err++;
2117:application-library/usb-cdc-device.c ****           }
2118:application-library/usb-cdc-device.c ****           break;
2119:application-library/usb-cdc-device.c **** 
2120:application-library/usb-cdc-device.c ****         case USBD_IDX_INTERFACE_STR:
2121:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetInterfaceStrDescriptor != NULL)
2122:application-library/usb-cdc-device.c ****           {
2123:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetInterfaceStrDescriptor(pdev->dev_speed, &len);
2124:application-library/usb-cdc-device.c ****           }
2125:application-library/usb-cdc-device.c ****           else
2126:application-library/usb-cdc-device.c ****           {
2127:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2128:application-library/usb-cdc-device.c ****             err++;
2129:application-library/usb-cdc-device.c ****           }
2130:application-library/usb-cdc-device.c ****           break;
2131:application-library/usb-cdc-device.c **** 
2132:application-library/usb-cdc-device.c ****         default:
2133:application-library/usb-cdc-device.c **** 
2134:application-library/usb-cdc-device.c **** #if ((USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U))
2135:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2136:application-library/usb-cdc-device.c ****           err++;
2137:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
2138:application-library/usb-cdc-device.c ****           break;
2139:application-library/usb-cdc-device.c ****       }
2140:application-library/usb-cdc-device.c ****       break;
2141:application-library/usb-cdc-device.c **** 
2142:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE_QUALIFIER:
2143:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2144:application-library/usb-cdc-device.c ****       {
2145:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)pdev->pClass[0]->GetDeviceQualifierDescriptor(&len);
2146:application-library/usb-cdc-device.c ****       }
2147:application-library/usb-cdc-device.c ****       else
2148:application-library/usb-cdc-device.c ****       {
2149:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
ARM GAS  /tmp/ccSzmojl.s 			page 82


2150:application-library/usb-cdc-device.c ****         err++;
2151:application-library/usb-cdc-device.c ****       }
2152:application-library/usb-cdc-device.c ****       break;
2153:application-library/usb-cdc-device.c **** 
2154:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION:
2155:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2156:application-library/usb-cdc-device.c ****       {
2157:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)pdev->pClass[0]->GetOtherSpeedConfigDescriptor(&len);
2158:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
2159:application-library/usb-cdc-device.c ****       }
2160:application-library/usb-cdc-device.c ****       else
2161:application-library/usb-cdc-device.c ****       {
2162:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2163:application-library/usb-cdc-device.c ****         err++;
2164:application-library/usb-cdc-device.c ****       }
2165:application-library/usb-cdc-device.c ****       break;
2166:application-library/usb-cdc-device.c **** 
2167:application-library/usb-cdc-device.c ****     default:
2168:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2169:application-library/usb-cdc-device.c ****       err++;
2170:application-library/usb-cdc-device.c ****       break;
2171:application-library/usb-cdc-device.c ****   }
2172:application-library/usb-cdc-device.c **** 
2173:application-library/usb-cdc-device.c ****   if (err != 0U)
2174:application-library/usb-cdc-device.c ****   {
2175:application-library/usb-cdc-device.c ****     return;
2176:application-library/usb-cdc-device.c ****   }
2177:application-library/usb-cdc-device.c **** 
2178:application-library/usb-cdc-device.c ****   if (req->wLength != 0U)
2179:application-library/usb-cdc-device.c ****   {
2180:application-library/usb-cdc-device.c ****     if (len != 0U)
2181:application-library/usb-cdc-device.c ****     {
2182:application-library/usb-cdc-device.c ****       len = MIN(len, req->wLength);
2183:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, pbuf, len);
2184:application-library/usb-cdc-device.c ****     }
2185:application-library/usb-cdc-device.c ****     else
2186:application-library/usb-cdc-device.c ****     {
2187:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2188:application-library/usb-cdc-device.c ****     }
2189:application-library/usb-cdc-device.c ****   }
2190:application-library/usb-cdc-device.c ****   else
2191:application-library/usb-cdc-device.c ****   {
2192:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2193:application-library/usb-cdc-device.c ****   }
2194:application-library/usb-cdc-device.c **** }
2195:application-library/usb-cdc-device.c **** 
2196:application-library/usb-cdc-device.c **** 
2197:application-library/usb-cdc-device.c **** /**
2198:application-library/usb-cdc-device.c ****   * @brief  Set device address
2199:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2200:application-library/usb-cdc-device.c ****   * @param  req: usb request
2201:application-library/usb-cdc-device.c ****   * @retval status
2202:application-library/usb-cdc-device.c ****   */
2203:application-library/usb-cdc-device.c **** void USBD_SetAddress(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2204:application-library/usb-cdc-device.c **** {
2205:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
2206:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 83


2207:application-library/usb-cdc-device.c ****   if ((req->wIndex == 0U) && (req->wLength == 0U) && (req->wValue < 128U))
2208:application-library/usb-cdc-device.c ****   {
2209:application-library/usb-cdc-device.c ****     dev_addr = (uint8_t)(req->wValue) & 0x7FU;
2210:application-library/usb-cdc-device.c **** 
2211:application-library/usb-cdc-device.c ****     if (pdev->dev_state == USBD_STATE_CONFIGURED)
2212:application-library/usb-cdc-device.c ****     {
2213:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2214:application-library/usb-cdc-device.c ****     }
2215:application-library/usb-cdc-device.c ****     else
2216:application-library/usb-cdc-device.c ****     {
2217:application-library/usb-cdc-device.c ****       pdev->dev_address = dev_addr;
2218:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(pdev, dev_addr);
2219:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendStatus(pdev);
2220:application-library/usb-cdc-device.c **** 
2221:application-library/usb-cdc-device.c ****       if (dev_addr != 0U)
2222:application-library/usb-cdc-device.c ****       {
2223:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_ADDRESSED;
2224:application-library/usb-cdc-device.c ****       }
2225:application-library/usb-cdc-device.c ****       else
2226:application-library/usb-cdc-device.c ****       {
2227:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_DEFAULT;
2228:application-library/usb-cdc-device.c ****       }
2229:application-library/usb-cdc-device.c ****     }
2230:application-library/usb-cdc-device.c ****   }
2231:application-library/usb-cdc-device.c ****   else
2232:application-library/usb-cdc-device.c ****   {
2233:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2234:application-library/usb-cdc-device.c ****   }
2235:application-library/usb-cdc-device.c **** }
2236:application-library/usb-cdc-device.c **** 
2237:application-library/usb-cdc-device.c **** /**
2238:application-library/usb-cdc-device.c ****   * @brief  Handle Set device configuration request
2239:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2240:application-library/usb-cdc-device.c ****   * @param  req: usb request
2241:application-library/usb-cdc-device.c ****   * @retval status
2242:application-library/usb-cdc-device.c ****   */
2243:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_SetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2244:application-library/usb-cdc-device.c **** {
2245:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
2246:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
2247:application-library/usb-cdc-device.c **** 
2248:application-library/usb-cdc-device.c ****   cfgidx = (uint8_t)(req->wValue);
2249:application-library/usb-cdc-device.c **** 
2250:application-library/usb-cdc-device.c ****   if (cfgidx > USBD_MAX_NUM_CONFIGURATION)
2251:application-library/usb-cdc-device.c ****   {
2252:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2253:application-library/usb-cdc-device.c ****     return USBD_FAIL;
2254:application-library/usb-cdc-device.c ****   }
2255:application-library/usb-cdc-device.c **** 
2256:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2257:application-library/usb-cdc-device.c ****   {
2258:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2259:application-library/usb-cdc-device.c ****       if (cfgidx != 0U)
2260:application-library/usb-cdc-device.c ****       {
2261:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2262:application-library/usb-cdc-device.c **** 
2263:application-library/usb-cdc-device.c ****         ret = USBD_SetClassConfig(pdev, cfgidx);
ARM GAS  /tmp/ccSzmojl.s 			page 84


2264:application-library/usb-cdc-device.c **** 
2265:application-library/usb-cdc-device.c ****         if (ret != USBD_OK)
2266:application-library/usb-cdc-device.c ****         {
2267:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2268:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
2269:application-library/usb-cdc-device.c ****         }
2270:application-library/usb-cdc-device.c ****         else
2271:application-library/usb-cdc-device.c ****         {
2272:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendStatus(pdev);
2273:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_CONFIGURED;
2274:application-library/usb-cdc-device.c ****         }
2275:application-library/usb-cdc-device.c ****       }
2276:application-library/usb-cdc-device.c ****       else
2277:application-library/usb-cdc-device.c ****       {
2278:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2279:application-library/usb-cdc-device.c ****       }
2280:application-library/usb-cdc-device.c ****       break;
2281:application-library/usb-cdc-device.c **** 
2282:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2283:application-library/usb-cdc-device.c ****       if (cfgidx == 0U)
2284:application-library/usb-cdc-device.c ****       {
2285:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_ADDRESSED;
2286:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2287:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, cfgidx);
2288:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2289:application-library/usb-cdc-device.c ****       }
2290:application-library/usb-cdc-device.c ****       else if (cfgidx != pdev->dev_config)
2291:application-library/usb-cdc-device.c ****       {
2292:application-library/usb-cdc-device.c ****         /* Clear old configuration */
2293:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
2294:application-library/usb-cdc-device.c **** 
2295:application-library/usb-cdc-device.c ****         /* set new configuration */
2296:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2297:application-library/usb-cdc-device.c **** 
2298:application-library/usb-cdc-device.c ****         ret = USBD_SetClassConfig(pdev, cfgidx);
2299:application-library/usb-cdc-device.c **** 
2300:application-library/usb-cdc-device.c ****         if (ret != USBD_OK)
2301:application-library/usb-cdc-device.c ****         {
2302:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2303:application-library/usb-cdc-device.c ****           (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
2304:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
2305:application-library/usb-cdc-device.c ****         }
2306:application-library/usb-cdc-device.c ****         else
2307:application-library/usb-cdc-device.c ****         {
2308:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendStatus(pdev);
2309:application-library/usb-cdc-device.c ****         }
2310:application-library/usb-cdc-device.c ****       }
2311:application-library/usb-cdc-device.c ****       else
2312:application-library/usb-cdc-device.c ****       {
2313:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2314:application-library/usb-cdc-device.c ****       }
2315:application-library/usb-cdc-device.c ****       break;
2316:application-library/usb-cdc-device.c **** 
2317:application-library/usb-cdc-device.c ****     default:
2318:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2319:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(pdev, cfgidx);
2320:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
ARM GAS  /tmp/ccSzmojl.s 			page 85


2321:application-library/usb-cdc-device.c ****       break;
2322:application-library/usb-cdc-device.c ****   }
2323:application-library/usb-cdc-device.c **** 
2324:application-library/usb-cdc-device.c ****   return ret;
2325:application-library/usb-cdc-device.c **** }
2326:application-library/usb-cdc-device.c **** 
2327:application-library/usb-cdc-device.c **** /**
2328:application-library/usb-cdc-device.c ****   * @brief  Handle Get device configuration request
2329:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2330:application-library/usb-cdc-device.c ****   * @param  req: usb request
2331:application-library/usb-cdc-device.c ****   * @retval status
2332:application-library/usb-cdc-device.c ****   */
2333:application-library/usb-cdc-device.c **** void USBD_GetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2334:application-library/usb-cdc-device.c **** {
2335:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
2336:application-library/usb-cdc-device.c ****   {
2337:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2338:application-library/usb-cdc-device.c ****   }
2339:application-library/usb-cdc-device.c ****   else
2340:application-library/usb-cdc-device.c ****   {
2341:application-library/usb-cdc-device.c ****     switch (pdev->dev_state)
2342:application-library/usb-cdc-device.c ****     {
2343:application-library/usb-cdc-device.c ****       case USBD_STATE_DEFAULT:
2344:application-library/usb-cdc-device.c ****       case USBD_STATE_ADDRESSED:
2345:application-library/usb-cdc-device.c ****         pdev->dev_default_config = 0U;
2346:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_default_config, 1U);
2347:application-library/usb-cdc-device.c ****         break;
2348:application-library/usb-cdc-device.c **** 
2349:application-library/usb-cdc-device.c ****       case USBD_STATE_CONFIGURED:
2350:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_config, 1U);
2351:application-library/usb-cdc-device.c ****         break;
2352:application-library/usb-cdc-device.c **** 
2353:application-library/usb-cdc-device.c ****       default:
2354:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2355:application-library/usb-cdc-device.c ****         break;
2356:application-library/usb-cdc-device.c ****     }
2357:application-library/usb-cdc-device.c ****   }
2358:application-library/usb-cdc-device.c **** }
2359:application-library/usb-cdc-device.c **** 
2360:application-library/usb-cdc-device.c **** /**
2361:application-library/usb-cdc-device.c ****   * @brief  USBD_GetStatus
2362:application-library/usb-cdc-device.c ****   *         Handle Get Status request
2363:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2364:application-library/usb-cdc-device.c ****   * @param  req: usb request
2365:application-library/usb-cdc-device.c ****   * @retval status
2366:application-library/usb-cdc-device.c ****   */
2367:application-library/usb-cdc-device.c **** void USBD_GetStatus(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2368:application-library/usb-cdc-device.c **** {
2369:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2370:application-library/usb-cdc-device.c ****   {
2371:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2372:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2373:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2374:application-library/usb-cdc-device.c ****       if (req->wLength != 0x2U)
2375:application-library/usb-cdc-device.c ****       {
2376:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2377:application-library/usb-cdc-device.c ****         break;
ARM GAS  /tmp/ccSzmojl.s 			page 86


2378:application-library/usb-cdc-device.c ****       }
2379:application-library/usb-cdc-device.c **** 
2380:application-library/usb-cdc-device.c **** #if (USBD_SELF_POWERED == 1U)
2381:application-library/usb-cdc-device.c ****       pdev->dev_config_status = USB_CONFIG_SELF_POWERED;
2382:application-library/usb-cdc-device.c **** #else
2383:application-library/usb-cdc-device.c ****       pdev->dev_config_status = 0U;
2384:application-library/usb-cdc-device.c **** #endif /* USBD_SELF_POWERED */
2385:application-library/usb-cdc-device.c **** 
2386:application-library/usb-cdc-device.c ****       if (pdev->dev_remote_wakeup != 0U)
2387:application-library/usb-cdc-device.c ****       {
2388:application-library/usb-cdc-device.c ****         pdev->dev_config_status |= USB_CONFIG_REMOTE_WAKEUP;
2389:application-library/usb-cdc-device.c ****       }
2390:application-library/usb-cdc-device.c **** 
2391:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_config_status, 2U);
2392:application-library/usb-cdc-device.c ****       break;
2393:application-library/usb-cdc-device.c **** 
2394:application-library/usb-cdc-device.c ****     default:
2395:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2396:application-library/usb-cdc-device.c ****       break;
2397:application-library/usb-cdc-device.c ****   }
2398:application-library/usb-cdc-device.c **** }
2399:application-library/usb-cdc-device.c **** 
2400:application-library/usb-cdc-device.c **** 
2401:application-library/usb-cdc-device.c **** /**
2402:application-library/usb-cdc-device.c ****   * @brief  USBD_SetFeature
2403:application-library/usb-cdc-device.c ****   *         Handle Set device feature request
2404:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2405:application-library/usb-cdc-device.c ****   * @param  req: usb request
2406:application-library/usb-cdc-device.c ****   * @retval status
2407:application-library/usb-cdc-device.c ****   */
2408:application-library/usb-cdc-device.c **** void USBD_SetFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2409:application-library/usb-cdc-device.c **** {
2410:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2411:application-library/usb-cdc-device.c ****   {
2412:application-library/usb-cdc-device.c ****     pdev->dev_remote_wakeup = 1U;
2413:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2414:application-library/usb-cdc-device.c ****   }
2415:application-library/usb-cdc-device.c ****   else if (req->wValue == USB_FEATURE_TEST_MODE)
2416:application-library/usb-cdc-device.c ****   {
2417:application-library/usb-cdc-device.c ****     pdev->dev_test_mode = req->wIndex >> 8;
2418:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2419:application-library/usb-cdc-device.c ****   }
2420:application-library/usb-cdc-device.c ****   else
2421:application-library/usb-cdc-device.c ****   {
2422:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2423:application-library/usb-cdc-device.c ****   }
2424:application-library/usb-cdc-device.c **** }
2425:application-library/usb-cdc-device.c **** 
2426:application-library/usb-cdc-device.c **** 
2427:application-library/usb-cdc-device.c **** /**
2428:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrFeature
2429:application-library/usb-cdc-device.c ****   *         Handle clear device feature request
2430:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2431:application-library/usb-cdc-device.c ****   * @param  req: usb request
2432:application-library/usb-cdc-device.c ****   * @retval status
2433:application-library/usb-cdc-device.c ****   */
2434:application-library/usb-cdc-device.c **** void USBD_ClrFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
ARM GAS  /tmp/ccSzmojl.s 			page 87


2435:application-library/usb-cdc-device.c **** {
2436:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2437:application-library/usb-cdc-device.c ****   {
2438:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2439:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2440:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2441:application-library/usb-cdc-device.c ****       if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2442:application-library/usb-cdc-device.c ****       {
2443:application-library/usb-cdc-device.c ****         pdev->dev_remote_wakeup = 0U;
2444:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2445:application-library/usb-cdc-device.c ****       }
2446:application-library/usb-cdc-device.c ****       break;
2447:application-library/usb-cdc-device.c **** 
2448:application-library/usb-cdc-device.c ****     default:
2449:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2450:application-library/usb-cdc-device.c ****       break;
2451:application-library/usb-cdc-device.c ****   }
2452:application-library/usb-cdc-device.c **** }
2453:application-library/usb-cdc-device.c **** 
2454:application-library/usb-cdc-device.c **** 
2455:application-library/usb-cdc-device.c **** /**
2456:application-library/usb-cdc-device.c ****   * @brief  USBD_ParseSetupRequest
2457:application-library/usb-cdc-device.c ****   *         Copy buffer into setup structure
2458:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2459:application-library/usb-cdc-device.c ****   * @param  req: usb request
2460:application-library/usb-cdc-device.c ****   * @retval None
2461:application-library/usb-cdc-device.c ****   */
2462:application-library/usb-cdc-device.c **** void USBD_ParseSetupRequest(USBD_SetupReqTypedef *req, uint8_t *pdata)
2463:application-library/usb-cdc-device.c **** {
 2354              		.loc 1 2463 0
 2355              		.cfi_startproc
 2356              		@ args = 0, pretend = 0, frame = 0
 2357              		@ frame_needed = 0, uses_anonymous_args = 0
 2358              		@ link register save eliminated.
 2359              	.LVL247:
2464:application-library/usb-cdc-device.c ****   uint8_t *pbuff = pdata;
2465:application-library/usb-cdc-device.c **** 
2466:application-library/usb-cdc-device.c ****   req->bmRequest = *(uint8_t *)(pbuff);
 2360              		.loc 1 2466 0
 2361 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 2362 0002 0370     		strb	r3, [r0]
 2363              	.LVL248:
2467:application-library/usb-cdc-device.c **** 
2468:application-library/usb-cdc-device.c ****   pbuff++;
2469:application-library/usb-cdc-device.c ****   req->bRequest = *(uint8_t *)(pbuff);
 2364              		.loc 1 2469 0
 2365 0004 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2366 0006 4370     		strb	r3, [r0, #1]
 2367              	.LVL249:
 2368              	.LBB8:
 2369              	.LBB9:
 2370              		.file 2 "application-library/usb-cdc-device.h"
   1:application-library/usb-cdc-device.h **** 
   2:application-library/usb-cdc-device.h **** #ifndef __USB_CDC_DEVICE_H
   3:application-library/usb-cdc-device.h **** #define __USB_CDC_DEVICE_H
   4:application-library/usb-cdc-device.h **** 
   5:application-library/usb-cdc-device.h **** /* Includes ------------------------------------------------------------------*/
ARM GAS  /tmp/ccSzmojl.s 			page 88


   6:application-library/usb-cdc-device.h **** /* usb_device.h ---- ---- ---- ---- */
   7:application-library/usb-cdc-device.h **** #include "stm32f4xx.h"
   8:application-library/usb-cdc-device.h **** #include "stm32f4xx_hal.h"
   9:application-library/usb-cdc-device.h **** 
  10:application-library/usb-cdc-device.h **** /* usb_cdc.h ---- ---- ---- ---- */
  11:application-library/usb-cdc-device.h **** #include "usbd_conf.h"
  12:application-library/usb-cdc-device.h **** 
  13:application-library/usb-cdc-device.h **** /**
  14:application-library/usb-cdc-device.h ****   ******************************************************************************
  15:application-library/usb-cdc-device.h ****   * @file    usbd_def.h
  16:application-library/usb-cdc-device.h ****   * @author  MCD Application Team
  17:application-library/usb-cdc-device.h ****   * @brief   General defines for the usb device library
  18:application-library/usb-cdc-device.h ****   ******************************************************************************
  19:application-library/usb-cdc-device.h ****   * @attention
  20:application-library/usb-cdc-device.h ****   *
  21:application-library/usb-cdc-device.h ****   * Copyright (c) 2015 STMicroelectronics.
  22:application-library/usb-cdc-device.h ****   * All rights reserved.
  23:application-library/usb-cdc-device.h ****   *
  24:application-library/usb-cdc-device.h ****   * This software is licensed under terms that can be found in the LICENSE file
  25:application-library/usb-cdc-device.h ****   * in the root directory of this software component.
  26:application-library/usb-cdc-device.h ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  27:application-library/usb-cdc-device.h ****   *
  28:application-library/usb-cdc-device.h ****   ******************************************************************************
  29:application-library/usb-cdc-device.h ****   */
  30:application-library/usb-cdc-device.h **** 
  31:application-library/usb-cdc-device.h **** /* Define to prevent recursive inclusion -------------------------------------*/
  32:application-library/usb-cdc-device.h **** #ifndef __USBD_DEF_H
  33:application-library/usb-cdc-device.h **** #define __USBD_DEF_H
  34:application-library/usb-cdc-device.h **** 
  35:application-library/usb-cdc-device.h **** #ifdef __cplusplus
  36:application-library/usb-cdc-device.h **** extern "C" {
  37:application-library/usb-cdc-device.h **** #endif
  38:application-library/usb-cdc-device.h **** 
  39:application-library/usb-cdc-device.h **** /* Includes ------------------------------------------------------------------*/
  40:application-library/usb-cdc-device.h **** #include "usbd_conf.h"
  41:application-library/usb-cdc-device.h **** 
  42:application-library/usb-cdc-device.h **** /** @addtogroup STM32_USBD_DEVICE_LIBRARY
  43:application-library/usb-cdc-device.h ****   * @{
  44:application-library/usb-cdc-device.h ****   */
  45:application-library/usb-cdc-device.h **** 
  46:application-library/usb-cdc-device.h **** /** @defgroup USB_DEF
  47:application-library/usb-cdc-device.h ****   * @brief general defines for the usb device library file
  48:application-library/usb-cdc-device.h ****   * @{
  49:application-library/usb-cdc-device.h ****   */
  50:application-library/usb-cdc-device.h **** 
  51:application-library/usb-cdc-device.h **** /** @defgroup USB_DEF_Exported_Defines
  52:application-library/usb-cdc-device.h ****   * @{
  53:application-library/usb-cdc-device.h ****   */
  54:application-library/usb-cdc-device.h **** 
  55:application-library/usb-cdc-device.h **** #ifndef NULL
  56:application-library/usb-cdc-device.h **** #define NULL                                            0U
  57:application-library/usb-cdc-device.h **** #endif /* NULL */
  58:application-library/usb-cdc-device.h **** 
  59:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_NUM_INTERFACES
  60:application-library/usb-cdc-device.h **** #define USBD_MAX_NUM_INTERFACES                         1U
  61:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  62:application-library/usb-cdc-device.h **** 
ARM GAS  /tmp/ccSzmojl.s 			page 89


  63:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_NUM_CONFIGURATION
  64:application-library/usb-cdc-device.h **** #define USBD_MAX_NUM_CONFIGURATION                      1U
  65:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  66:application-library/usb-cdc-device.h **** 
  67:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
  68:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_SUPPORTED_CLASS
  69:application-library/usb-cdc-device.h **** #define USBD_MAX_SUPPORTED_CLASS                       4U
  70:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_SUPPORTED_CLASS */
  71:application-library/usb-cdc-device.h **** #else
  72:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_SUPPORTED_CLASS
  73:application-library/usb-cdc-device.h **** #define USBD_MAX_SUPPORTED_CLASS                       1U
  74:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_SUPPORTED_CLASS */
  75:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
  76:application-library/usb-cdc-device.h **** 
  77:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_CLASS_ENDPOINTS
  78:application-library/usb-cdc-device.h **** #define USBD_MAX_CLASS_ENDPOINTS                       5U
  79:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_CLASS_ENDPOINTS */
  80:application-library/usb-cdc-device.h **** 
  81:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_CLASS_INTERFACES
  82:application-library/usb-cdc-device.h **** #define USBD_MAX_CLASS_INTERFACES                      5U
  83:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_CLASS_INTERFACES */
  84:application-library/usb-cdc-device.h **** 
  85:application-library/usb-cdc-device.h **** #ifndef USBD_LPM_ENABLED
  86:application-library/usb-cdc-device.h **** #define USBD_LPM_ENABLED                                0U
  87:application-library/usb-cdc-device.h **** #endif /* USBD_LPM_ENABLED */
  88:application-library/usb-cdc-device.h **** 
  89:application-library/usb-cdc-device.h **** #ifndef USBD_SELF_POWERED
  90:application-library/usb-cdc-device.h **** #define USBD_SELF_POWERED                               1U
  91:application-library/usb-cdc-device.h **** #endif /*USBD_SELF_POWERED */
  92:application-library/usb-cdc-device.h **** 
  93:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_POWER
  94:application-library/usb-cdc-device.h **** #define USBD_MAX_POWER                                  0x32U /* 100 mA */
  95:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_POWER */
  96:application-library/usb-cdc-device.h **** 
  97:application-library/usb-cdc-device.h **** #ifndef USBD_SUPPORT_USER_STRING_DESC
  98:application-library/usb-cdc-device.h **** #define USBD_SUPPORT_USER_STRING_DESC                   0U
  99:application-library/usb-cdc-device.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC */
 100:application-library/usb-cdc-device.h **** 
 101:application-library/usb-cdc-device.h **** #ifndef USBD_CLASS_USER_STRING_DESC
 102:application-library/usb-cdc-device.h **** #define USBD_CLASS_USER_STRING_DESC                     0U
 103:application-library/usb-cdc-device.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
 104:application-library/usb-cdc-device.h **** 
 105:application-library/usb-cdc-device.h **** #define  USB_LEN_DEV_QUALIFIER_DESC                     0x0AU
 106:application-library/usb-cdc-device.h **** #define  USB_LEN_DEV_DESC                               0x12U
 107:application-library/usb-cdc-device.h **** #define  USB_LEN_CFG_DESC                               0x09U
 108:application-library/usb-cdc-device.h **** #define  USB_LEN_IF_DESC                                0x09U
 109:application-library/usb-cdc-device.h **** #define  USB_LEN_EP_DESC                                0x07U
 110:application-library/usb-cdc-device.h **** #define  USB_LEN_OTG_DESC                               0x03U
 111:application-library/usb-cdc-device.h **** #define  USB_LEN_LANGID_STR_DESC                        0x04U
 112:application-library/usb-cdc-device.h **** #define  USB_LEN_OTHER_SPEED_DESC_SIZ                   0x09U
 113:application-library/usb-cdc-device.h **** 
 114:application-library/usb-cdc-device.h **** #define  USBD_IDX_LANGID_STR                            0x00U
 115:application-library/usb-cdc-device.h **** #define  USBD_IDX_MFC_STR                               0x01U
 116:application-library/usb-cdc-device.h **** #define  USBD_IDX_PRODUCT_STR                           0x02U
 117:application-library/usb-cdc-device.h **** #define  USBD_IDX_SERIAL_STR                            0x03U
 118:application-library/usb-cdc-device.h **** #define  USBD_IDX_CONFIG_STR                            0x04U
 119:application-library/usb-cdc-device.h **** #define  USBD_IDX_INTERFACE_STR                         0x05U
ARM GAS  /tmp/ccSzmojl.s 			page 90


 120:application-library/usb-cdc-device.h **** 
 121:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_STANDARD                          0x00U
 122:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_CLASS                             0x20U
 123:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_VENDOR                            0x40U
 124:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_MASK                              0x60U
 125:application-library/usb-cdc-device.h **** 
 126:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_DEVICE                       0x00U
 127:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_INTERFACE                    0x01U
 128:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_ENDPOINT                     0x02U
 129:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_MASK                         0x03U
 130:application-library/usb-cdc-device.h **** 
 131:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_STATUS                             0x00U
 132:application-library/usb-cdc-device.h **** #define  USB_REQ_CLEAR_FEATURE                          0x01U
 133:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_FEATURE                            0x03U
 134:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_ADDRESS                            0x05U
 135:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_DESCRIPTOR                         0x06U
 136:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_DESCRIPTOR                         0x07U
 137:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_CONFIGURATION                      0x08U
 138:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_CONFIGURATION                      0x09U
 139:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_INTERFACE                          0x0AU
 140:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_INTERFACE                          0x0BU
 141:application-library/usb-cdc-device.h **** #define  USB_REQ_SYNCH_FRAME                            0x0CU
 142:application-library/usb-cdc-device.h **** 
 143:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_DEVICE                           0x01U
 144:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_CONFIGURATION                    0x02U
 145:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_STRING                           0x03U
 146:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_INTERFACE                        0x04U
 147:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_ENDPOINT                         0x05U
 148:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_DEVICE_QUALIFIER                 0x06U
 149:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION        0x07U
 150:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_IAD                              0x0BU
 151:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_BOS                              0x0FU
 152:application-library/usb-cdc-device.h **** 
 153:application-library/usb-cdc-device.h **** #define USB_CONFIG_REMOTE_WAKEUP                        0x02U
 154:application-library/usb-cdc-device.h **** #define USB_CONFIG_SELF_POWERED                         0x01U
 155:application-library/usb-cdc-device.h **** 
 156:application-library/usb-cdc-device.h **** #define USB_FEATURE_EP_HALT                             0x00U
 157:application-library/usb-cdc-device.h **** #define USB_FEATURE_REMOTE_WAKEUP                       0x01U
 158:application-library/usb-cdc-device.h **** #define USB_FEATURE_TEST_MODE                           0x02U
 159:application-library/usb-cdc-device.h **** 
 160:application-library/usb-cdc-device.h **** #define USB_DEVICE_CAPABITY_TYPE                        0x10U
 161:application-library/usb-cdc-device.h **** 
 162:application-library/usb-cdc-device.h **** #define USB_CONF_DESC_SIZE                              0x09U
 163:application-library/usb-cdc-device.h **** #define USB_IF_DESC_SIZE                                0x09U
 164:application-library/usb-cdc-device.h **** #define USB_EP_DESC_SIZE                                0x07U
 165:application-library/usb-cdc-device.h **** #define USB_IAD_DESC_SIZE                               0x08U
 166:application-library/usb-cdc-device.h **** 
 167:application-library/usb-cdc-device.h **** #define USB_HS_MAX_PACKET_SIZE                          512U
 168:application-library/usb-cdc-device.h **** #define USB_FS_MAX_PACKET_SIZE                          64U
 169:application-library/usb-cdc-device.h **** #define USB_MAX_EP0_SIZE                                64U
 170:application-library/usb-cdc-device.h **** 
 171:application-library/usb-cdc-device.h **** /*  Device Status */
 172:application-library/usb-cdc-device.h **** #define USBD_STATE_DEFAULT                              0x01U
 173:application-library/usb-cdc-device.h **** #define USBD_STATE_ADDRESSED                            0x02U
 174:application-library/usb-cdc-device.h **** #define USBD_STATE_CONFIGURED                           0x03U
 175:application-library/usb-cdc-device.h **** #define USBD_STATE_SUSPENDED                            0x04U
 176:application-library/usb-cdc-device.h **** 
ARM GAS  /tmp/ccSzmojl.s 			page 91


 177:application-library/usb-cdc-device.h **** 
 178:application-library/usb-cdc-device.h **** /*  EP0 State */
 179:application-library/usb-cdc-device.h **** #define USBD_EP0_IDLE                                   0x00U
 180:application-library/usb-cdc-device.h **** #define USBD_EP0_SETUP                                  0x01U
 181:application-library/usb-cdc-device.h **** #define USBD_EP0_DATA_IN                                0x02U
 182:application-library/usb-cdc-device.h **** #define USBD_EP0_DATA_OUT                               0x03U
 183:application-library/usb-cdc-device.h **** #define USBD_EP0_STATUS_IN                              0x04U
 184:application-library/usb-cdc-device.h **** #define USBD_EP0_STATUS_OUT                             0x05U
 185:application-library/usb-cdc-device.h **** #define USBD_EP0_STALL                                  0x06U
 186:application-library/usb-cdc-device.h **** 
 187:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_CTRL                               0x00U
 188:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_ISOC                               0x01U
 189:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_BULK                               0x02U
 190:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_INTR                               0x03U
 191:application-library/usb-cdc-device.h **** 
 192:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 193:application-library/usb-cdc-device.h **** #define USBD_EP_IN                                      0x80U
 194:application-library/usb-cdc-device.h **** #define USBD_EP_OUT                                     0x00U
 195:application-library/usb-cdc-device.h **** #define USBD_FUNC_DESCRIPTOR_TYPE                       0x24U
 196:application-library/usb-cdc-device.h **** #define USBD_DESC_SUBTYPE_ACM                           0x0FU
 197:application-library/usb-cdc-device.h **** #define USBD_DESC_ECM_BCD_LOW                           0x00U
 198:application-library/usb-cdc-device.h **** #define USBD_DESC_ECM_BCD_HIGH                          0x10U
 199:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
 200:application-library/usb-cdc-device.h **** /**
 201:application-library/usb-cdc-device.h ****   * @}
 202:application-library/usb-cdc-device.h ****   */
 203:application-library/usb-cdc-device.h **** 
 204:application-library/usb-cdc-device.h **** 
 205:application-library/usb-cdc-device.h **** /** @defgroup USBD_DEF_Exported_TypesDefinitions
 206:application-library/usb-cdc-device.h ****   * @{
 207:application-library/usb-cdc-device.h ****   */
 208:application-library/usb-cdc-device.h **** 
 209:application-library/usb-cdc-device.h **** typedef  struct  usb_setup_req
 210:application-library/usb-cdc-device.h **** {
 211:application-library/usb-cdc-device.h ****   uint8_t   bmRequest;
 212:application-library/usb-cdc-device.h ****   uint8_t   bRequest;
 213:application-library/usb-cdc-device.h ****   uint16_t  wValue;
 214:application-library/usb-cdc-device.h ****   uint16_t  wIndex;
 215:application-library/usb-cdc-device.h ****   uint16_t  wLength;
 216:application-library/usb-cdc-device.h **** } USBD_SetupReqTypedef;
 217:application-library/usb-cdc-device.h **** 
 218:application-library/usb-cdc-device.h **** typedef struct
 219:application-library/usb-cdc-device.h **** {
 220:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 221:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 222:application-library/usb-cdc-device.h ****   uint16_t  wTotalLength;
 223:application-library/usb-cdc-device.h ****   uint8_t   bNumInterfaces;
 224:application-library/usb-cdc-device.h ****   uint8_t   bConfigurationValue;
 225:application-library/usb-cdc-device.h ****   uint8_t   iConfiguration;
 226:application-library/usb-cdc-device.h ****   uint8_t   bmAttributes;
 227:application-library/usb-cdc-device.h ****   uint8_t   bMaxPower;
 228:application-library/usb-cdc-device.h **** } __PACKED USBD_ConfigDescTypeDef;
 229:application-library/usb-cdc-device.h **** 
 230:application-library/usb-cdc-device.h **** typedef struct
 231:application-library/usb-cdc-device.h **** {
 232:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 233:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
ARM GAS  /tmp/ccSzmojl.s 			page 92


 234:application-library/usb-cdc-device.h ****   uint16_t  wTotalLength;
 235:application-library/usb-cdc-device.h ****   uint8_t   bNumDeviceCaps;
 236:application-library/usb-cdc-device.h **** } USBD_BosDescTypeDef;
 237:application-library/usb-cdc-device.h **** 
 238:application-library/usb-cdc-device.h **** typedef struct
 239:application-library/usb-cdc-device.h **** {
 240:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 241:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 242:application-library/usb-cdc-device.h ****   uint8_t   bEndpointAddress;
 243:application-library/usb-cdc-device.h ****   uint8_t   bmAttributes;
 244:application-library/usb-cdc-device.h ****   uint16_t  wMaxPacketSize;
 245:application-library/usb-cdc-device.h ****   uint8_t   bInterval;
 246:application-library/usb-cdc-device.h **** } __PACKED USBD_EpDescTypeDef;
 247:application-library/usb-cdc-device.h **** 
 248:application-library/usb-cdc-device.h **** typedef  struct
 249:application-library/usb-cdc-device.h **** {
 250:application-library/usb-cdc-device.h ****   uint8_t  bLength;
 251:application-library/usb-cdc-device.h ****   uint8_t  bDescriptorType;
 252:application-library/usb-cdc-device.h ****   uint8_t  bDescriptorSubType;
 253:application-library/usb-cdc-device.h **** } USBD_DescHeaderTypeDef;
 254:application-library/usb-cdc-device.h **** 
 255:application-library/usb-cdc-device.h **** struct _USBD_HandleTypeDef;
 256:application-library/usb-cdc-device.h **** 
 257:application-library/usb-cdc-device.h **** typedef struct _Device_cb
 258:application-library/usb-cdc-device.h **** {
 259:application-library/usb-cdc-device.h ****   uint8_t (*Init)(struct _USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 260:application-library/usb-cdc-device.h ****   uint8_t (*DeInit)(struct _USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 261:application-library/usb-cdc-device.h ****   /* Control Endpoints*/
 262:application-library/usb-cdc-device.h ****   uint8_t (*Setup)(struct _USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef  *req);
 263:application-library/usb-cdc-device.h ****   uint8_t (*EP0_TxSent)(struct _USBD_HandleTypeDef *pdev);
 264:application-library/usb-cdc-device.h ****   uint8_t (*EP0_RxReady)(struct _USBD_HandleTypeDef *pdev);
 265:application-library/usb-cdc-device.h ****   /* Class Specific Endpoints*/
 266:application-library/usb-cdc-device.h ****   uint8_t (*DataIn)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 267:application-library/usb-cdc-device.h ****   uint8_t (*DataOut)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 268:application-library/usb-cdc-device.h ****   uint8_t (*SOF)(struct _USBD_HandleTypeDef *pdev);
 269:application-library/usb-cdc-device.h ****   uint8_t (*IsoINIncomplete)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 270:application-library/usb-cdc-device.h ****   uint8_t (*IsoOUTIncomplete)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 271:application-library/usb-cdc-device.h **** 
 272:application-library/usb-cdc-device.h ****   uint8_t  *(*GetHSConfigDescriptor)(uint16_t *length);
 273:application-library/usb-cdc-device.h ****   uint8_t  *(*GetFSConfigDescriptor)(uint16_t *length);
 274:application-library/usb-cdc-device.h ****   uint8_t  *(*GetOtherSpeedConfigDescriptor)(uint16_t *length);
 275:application-library/usb-cdc-device.h ****   uint8_t  *(*GetDeviceQualifierDescriptor)(uint16_t *length);
 276:application-library/usb-cdc-device.h **** #if (USBD_SUPPORT_USER_STRING_DESC == 1U)
 277:application-library/usb-cdc-device.h ****   uint8_t  *(*GetUsrStrDescriptor)(struct _USBD_HandleTypeDef *pdev, uint8_t index,  uint16_t *leng
 278:application-library/usb-cdc-device.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC  */
 279:application-library/usb-cdc-device.h **** 
 280:application-library/usb-cdc-device.h **** } USBD_ClassTypeDef;
 281:application-library/usb-cdc-device.h **** 
 282:application-library/usb-cdc-device.h **** /* Following USB Device Speed */
 283:application-library/usb-cdc-device.h **** typedef enum
 284:application-library/usb-cdc-device.h **** {
 285:application-library/usb-cdc-device.h ****   USBD_SPEED_HIGH  = 0U,
 286:application-library/usb-cdc-device.h ****   USBD_SPEED_FULL  = 1U,
 287:application-library/usb-cdc-device.h ****   USBD_SPEED_LOW   = 2U,
 288:application-library/usb-cdc-device.h **** } USBD_SpeedTypeDef;
 289:application-library/usb-cdc-device.h **** 
 290:application-library/usb-cdc-device.h **** /* Following USB Device status */
ARM GAS  /tmp/ccSzmojl.s 			page 93


 291:application-library/usb-cdc-device.h **** typedef enum
 292:application-library/usb-cdc-device.h **** {
 293:application-library/usb-cdc-device.h ****   USBD_OK = 0U,
 294:application-library/usb-cdc-device.h ****   USBD_BUSY,
 295:application-library/usb-cdc-device.h ****   USBD_EMEM,
 296:application-library/usb-cdc-device.h ****   USBD_FAIL,
 297:application-library/usb-cdc-device.h **** } USBD_StatusTypeDef;
 298:application-library/usb-cdc-device.h **** 
 299:application-library/usb-cdc-device.h **** /* USB Device descriptors structure */
 300:application-library/usb-cdc-device.h **** typedef struct
 301:application-library/usb-cdc-device.h **** {
 302:application-library/usb-cdc-device.h ****   uint8_t *(*GetDeviceDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 303:application-library/usb-cdc-device.h ****   uint8_t *(*GetLangIDStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 304:application-library/usb-cdc-device.h ****   uint8_t *(*GetManufacturerStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 305:application-library/usb-cdc-device.h ****   uint8_t *(*GetProductStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 306:application-library/usb-cdc-device.h ****   uint8_t *(*GetSerialStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 307:application-library/usb-cdc-device.h ****   uint8_t *(*GetConfigurationStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 308:application-library/usb-cdc-device.h ****   uint8_t *(*GetInterfaceStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 309:application-library/usb-cdc-device.h **** #if (USBD_CLASS_USER_STRING_DESC == 1)
 310:application-library/usb-cdc-device.h ****   uint8_t *(*GetUserStrDescriptor)(USBD_SpeedTypeDef speed, uint8_t idx, uint16_t *length);
 311:application-library/usb-cdc-device.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
 312:application-library/usb-cdc-device.h **** #if ((USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1))
 313:application-library/usb-cdc-device.h ****   uint8_t *(*GetBOSDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 314:application-library/usb-cdc-device.h **** #endif /* (USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1) */
 315:application-library/usb-cdc-device.h **** } USBD_DescriptorsTypeDef;
 316:application-library/usb-cdc-device.h **** 
 317:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 318:application-library/usb-cdc-device.h **** typedef struct
 319:application-library/usb-cdc-device.h **** {
 320:application-library/usb-cdc-device.h ****   uint32_t status;
 321:application-library/usb-cdc-device.h ****   uint32_t total_length;
 322:application-library/usb-cdc-device.h ****   uint32_t rem_length;
 323:application-library/usb-cdc-device.h ****   uint32_t maxpacket;
 324:application-library/usb-cdc-device.h ****   uint16_t is_used;
 325:application-library/usb-cdc-device.h ****   uint16_t bInterval;
 326:application-library/usb-cdc-device.h **** } USBD_EndpointTypeDef;
 327:application-library/usb-cdc-device.h **** 
 328:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 329:application-library/usb-cdc-device.h **** typedef enum
 330:application-library/usb-cdc-device.h **** {
 331:application-library/usb-cdc-device.h ****   CLASS_TYPE_NONE    = 0,
 332:application-library/usb-cdc-device.h ****   CLASS_TYPE_HID     = 1,
 333:application-library/usb-cdc-device.h ****   CLASS_TYPE_CDC     = 2,
 334:application-library/usb-cdc-device.h ****   CLASS_TYPE_MSC     = 3,
 335:application-library/usb-cdc-device.h ****   CLASS_TYPE_DFU     = 4,
 336:application-library/usb-cdc-device.h ****   CLASS_TYPE_CHID    = 5,
 337:application-library/usb-cdc-device.h ****   CLASS_TYPE_AUDIO   = 6,
 338:application-library/usb-cdc-device.h ****   CLASS_TYPE_ECM     = 7,
 339:application-library/usb-cdc-device.h ****   CLASS_TYPE_RNDIS   = 8,
 340:application-library/usb-cdc-device.h ****   CLASS_TYPE_MTP     = 9,
 341:application-library/usb-cdc-device.h ****   CLASS_TYPE_VIDEO   = 10,
 342:application-library/usb-cdc-device.h ****   CLASS_TYPE_PRINTER = 11,
 343:application-library/usb-cdc-device.h ****   CLASS_TYPE_CCID    = 12,
 344:application-library/usb-cdc-device.h **** } USBD_CompositeClassTypeDef;
 345:application-library/usb-cdc-device.h **** 
 346:application-library/usb-cdc-device.h **** 
 347:application-library/usb-cdc-device.h **** /* USB Device handle structure */
ARM GAS  /tmp/ccSzmojl.s 			page 94


 348:application-library/usb-cdc-device.h **** typedef struct
 349:application-library/usb-cdc-device.h **** {
 350:application-library/usb-cdc-device.h ****   uint8_t                     add;
 351:application-library/usb-cdc-device.h ****   uint8_t                     type;
 352:application-library/usb-cdc-device.h ****   uint8_t                     size;
 353:application-library/usb-cdc-device.h ****   uint8_t                     is_used;
 354:application-library/usb-cdc-device.h **** } USBD_EPTypeDef;
 355:application-library/usb-cdc-device.h **** 
 356:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 357:application-library/usb-cdc-device.h **** typedef struct
 358:application-library/usb-cdc-device.h **** {
 359:application-library/usb-cdc-device.h ****   USBD_CompositeClassTypeDef   ClassType;
 360:application-library/usb-cdc-device.h ****   uint32_t                     ClassId;
 361:application-library/usb-cdc-device.h ****   uint32_t                     Active;
 362:application-library/usb-cdc-device.h ****   uint32_t                     NumEps;
 363:application-library/usb-cdc-device.h ****   USBD_EPTypeDef               Eps[USBD_MAX_CLASS_ENDPOINTS];
 364:application-library/usb-cdc-device.h ****   uint8_t                      *EpAdd;
 365:application-library/usb-cdc-device.h ****   uint32_t                     NumIf;
 366:application-library/usb-cdc-device.h ****   uint8_t                      Ifs[USBD_MAX_CLASS_INTERFACES];
 367:application-library/usb-cdc-device.h ****   uint32_t                     CurrPcktSze;
 368:application-library/usb-cdc-device.h **** } USBD_CompositeElementTypeDef;
 369:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
 370:application-library/usb-cdc-device.h **** 
 371:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 372:application-library/usb-cdc-device.h **** typedef struct _USBD_HandleTypeDef
 373:application-library/usb-cdc-device.h **** {
 374:application-library/usb-cdc-device.h ****   uint8_t                 id;
 375:application-library/usb-cdc-device.h ****   uint32_t                dev_config;
 376:application-library/usb-cdc-device.h ****   uint32_t                dev_default_config;
 377:application-library/usb-cdc-device.h ****   uint32_t                dev_config_status;
 378:application-library/usb-cdc-device.h ****   USBD_SpeedTypeDef       dev_speed;
 379:application-library/usb-cdc-device.h ****   USBD_EndpointTypeDef    ep_in[16];
 380:application-library/usb-cdc-device.h ****   USBD_EndpointTypeDef    ep_out[16];
 381:application-library/usb-cdc-device.h ****   __IO uint32_t           ep0_state;
 382:application-library/usb-cdc-device.h ****   uint32_t                ep0_data_len;
 383:application-library/usb-cdc-device.h ****   __IO uint8_t            dev_state;
 384:application-library/usb-cdc-device.h ****   __IO uint8_t            dev_old_state;
 385:application-library/usb-cdc-device.h ****   uint8_t                 dev_address;
 386:application-library/usb-cdc-device.h ****   uint8_t                 dev_connection_status;
 387:application-library/usb-cdc-device.h ****   uint8_t                 dev_test_mode;
 388:application-library/usb-cdc-device.h ****   uint32_t                dev_remote_wakeup;
 389:application-library/usb-cdc-device.h ****   uint8_t                 ConfIdx;
 390:application-library/usb-cdc-device.h **** 
 391:application-library/usb-cdc-device.h ****   USBD_SetupReqTypedef    request;
 392:application-library/usb-cdc-device.h ****   USBD_DescriptorsTypeDef *pDesc;
 393:application-library/usb-cdc-device.h ****   USBD_ClassTypeDef       *pClass[USBD_MAX_SUPPORTED_CLASS];
 394:application-library/usb-cdc-device.h ****   void                    *pClassData;
 395:application-library/usb-cdc-device.h ****   void                    *pClassDataCmsit[USBD_MAX_SUPPORTED_CLASS];
 396:application-library/usb-cdc-device.h ****   void                    *pUserData[USBD_MAX_SUPPORTED_CLASS];
 397:application-library/usb-cdc-device.h ****   void                    *pData;
 398:application-library/usb-cdc-device.h ****   void                    *pBosDesc;
 399:application-library/usb-cdc-device.h ****   void                    *pConfDesc;
 400:application-library/usb-cdc-device.h ****   uint32_t                classId;
 401:application-library/usb-cdc-device.h ****   uint32_t                NumClasses;
 402:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 403:application-library/usb-cdc-device.h ****   USBD_CompositeElementTypeDef tclasslist[USBD_MAX_SUPPORTED_CLASS];
 404:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
ARM GAS  /tmp/ccSzmojl.s 			page 95


 405:application-library/usb-cdc-device.h **** } USBD_HandleTypeDef;
 406:application-library/usb-cdc-device.h **** 
 407:application-library/usb-cdc-device.h **** /* USB Device endpoint direction */
 408:application-library/usb-cdc-device.h **** typedef enum
 409:application-library/usb-cdc-device.h **** {
 410:application-library/usb-cdc-device.h ****   OUT   = 0x00,
 411:application-library/usb-cdc-device.h ****   IN    = 0x80,
 412:application-library/usb-cdc-device.h **** } USBD_EPDirectionTypeDef;
 413:application-library/usb-cdc-device.h **** 
 414:application-library/usb-cdc-device.h **** typedef enum
 415:application-library/usb-cdc-device.h **** {
 416:application-library/usb-cdc-device.h ****   NETWORK_CONNECTION = 0x00,
 417:application-library/usb-cdc-device.h ****   RESPONSE_AVAILABLE = 0x01,
 418:application-library/usb-cdc-device.h ****   CONNECTION_SPEED_CHANGE = 0x2A
 419:application-library/usb-cdc-device.h **** } USBD_CDC_NotifCodeTypeDef;
 420:application-library/usb-cdc-device.h **** /**
 421:application-library/usb-cdc-device.h ****   * @}
 422:application-library/usb-cdc-device.h ****   */
 423:application-library/usb-cdc-device.h **** 
 424:application-library/usb-cdc-device.h **** 
 425:application-library/usb-cdc-device.h **** 
 426:application-library/usb-cdc-device.h **** /** @defgroup USBD_DEF_Exported_Macros
 427:application-library/usb-cdc-device.h ****   * @{
 428:application-library/usb-cdc-device.h ****   */
 429:application-library/usb-cdc-device.h **** __STATIC_INLINE uint16_t SWAPBYTE(uint8_t *addr)
 430:application-library/usb-cdc-device.h **** {
 431:application-library/usb-cdc-device.h ****   uint16_t _SwapVal, _Byte1, _Byte2;
 432:application-library/usb-cdc-device.h ****   uint8_t *_pbuff = addr;
 433:application-library/usb-cdc-device.h **** 
 434:application-library/usb-cdc-device.h ****   _Byte1 = *(uint8_t *)_pbuff;
 2371              		.loc 2 434 0
 2372 0008 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 2373              	.LVL250:
 435:application-library/usb-cdc-device.h ****   _pbuff++;
 436:application-library/usb-cdc-device.h ****   _Byte2 = *(uint8_t *)_pbuff;
 2374              		.loc 2 436 0
 2375 000a CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 2376              	.LVL251:
 437:application-library/usb-cdc-device.h **** 
 438:application-library/usb-cdc-device.h ****   _SwapVal = (_Byte2 << 8) | _Byte1;
 2377              		.loc 2 438 0
 2378 000c 43EA0223 		orr	r3, r3, r2, lsl #8
 2379              	.LVL252:
 2380              	.LBE9:
 2381              	.LBE8:
2470:application-library/usb-cdc-device.c **** 
2471:application-library/usb-cdc-device.c ****   pbuff++;
2472:application-library/usb-cdc-device.c ****   req->wValue = SWAPBYTE(pbuff);
 2382              		.loc 1 2472 0
 2383 0010 4380     		strh	r3, [r0, #2]	@ movhi
 2384              	.LVL253:
 2385              	.LBB10:
 2386              	.LBB11:
 434:application-library/usb-cdc-device.h ****   _pbuff++;
 2387              		.loc 2 434 0
 2388 0012 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 2389              	.LVL254:
ARM GAS  /tmp/ccSzmojl.s 			page 96


 436:application-library/usb-cdc-device.h **** 
 2390              		.loc 2 436 0
 2391 0014 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 2392              	.LVL255:
 2393              		.loc 2 438 0
 2394 0016 43EA0223 		orr	r3, r3, r2, lsl #8
 2395              	.LVL256:
 2396              	.LBE11:
 2397              	.LBE10:
2473:application-library/usb-cdc-device.c **** 
2474:application-library/usb-cdc-device.c ****   pbuff++;
2475:application-library/usb-cdc-device.c ****   pbuff++;
2476:application-library/usb-cdc-device.c ****   req->wIndex = SWAPBYTE(pbuff);
 2398              		.loc 1 2476 0
 2399 001a 8380     		strh	r3, [r0, #4]	@ movhi
 2400              	.LVL257:
 2401              	.LBB12:
 2402              	.LBB13:
 434:application-library/usb-cdc-device.h ****   _pbuff++;
 2403              		.loc 2 434 0
 2404 001c 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 2405              	.LVL258:
 436:application-library/usb-cdc-device.h **** 
 2406              		.loc 2 436 0
 2407 001e CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
 2408              	.LVL259:
 2409              		.loc 2 438 0
 2410 0020 43EA0223 		orr	r3, r3, r2, lsl #8
 2411              	.LVL260:
 2412              	.LBE13:
 2413              	.LBE12:
2477:application-library/usb-cdc-device.c **** 
2478:application-library/usb-cdc-device.c ****   pbuff++;
2479:application-library/usb-cdc-device.c ****   pbuff++;
2480:application-library/usb-cdc-device.c ****   req->wLength = SWAPBYTE(pbuff);
 2414              		.loc 1 2480 0
 2415 0024 C380     		strh	r3, [r0, #6]	@ movhi
 2416              	.LVL261:
 2417 0026 7047     		bx	lr
 2418              		.cfi_endproc
 2419              	.LFE187:
 2421              		.section	.text.USBD_CtlError,"ax",%progbits
 2422              		.align	1
 2423              		.global	USBD_CtlError
 2424              		.syntax unified
 2425              		.thumb
 2426              		.thumb_func
 2427              		.fpu fpv4-sp-d16
 2429              	USBD_CtlError:
 2430              	.LFB188:
2481:application-library/usb-cdc-device.c **** }
2482:application-library/usb-cdc-device.c **** 
2483:application-library/usb-cdc-device.c **** 
2484:application-library/usb-cdc-device.c **** /**
2485:application-library/usb-cdc-device.c ****   * @brief  Handle USB low level Error
2486:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2487:application-library/usb-cdc-device.c ****   * @param  req: usb request
ARM GAS  /tmp/ccSzmojl.s 			page 97


2488:application-library/usb-cdc-device.c ****   * @retval None
2489:application-library/usb-cdc-device.c ****   */
2490:application-library/usb-cdc-device.c **** void USBD_CtlError(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2491:application-library/usb-cdc-device.c **** {
 2431              		.loc 1 2491 0
 2432              		.cfi_startproc
 2433              		@ args = 0, pretend = 0, frame = 0
 2434              		@ frame_needed = 0, uses_anonymous_args = 0
 2435              	.LVL262:
 2436 0000 10B5     		push	{r4, lr}
 2437              	.LCFI36:
 2438              		.cfi_def_cfa_offset 8
 2439              		.cfi_offset 4, -8
 2440              		.cfi_offset 14, -4
 2441 0002 0446     		mov	r4, r0
2492:application-library/usb-cdc-device.c ****   UNUSED(req);
2493:application-library/usb-cdc-device.c **** 
2494:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0x80U);
 2442              		.loc 1 2494 0
 2443 0004 8021     		movs	r1, #128
 2444              	.LVL263:
 2445 0006 FFF7FEFF 		bl	USBD_LL_StallEP
 2446              	.LVL264:
2495:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0U);
 2447              		.loc 1 2495 0
 2448 000a 0021     		movs	r1, #0
 2449 000c 2046     		mov	r0, r4
 2450 000e FFF7FEFF 		bl	USBD_LL_StallEP
 2451              	.LVL265:
 2452 0012 10BD     		pop	{r4, pc}
 2453              		.cfi_endproc
 2454              	.LFE188:
 2456              		.section	.text.USBD_GetLen,"ax",%progbits
 2457              		.align	1
 2458              		.global	USBD_GetLen
 2459              		.syntax unified
 2460              		.thumb
 2461              		.thumb_func
 2462              		.fpu fpv4-sp-d16
 2464              	USBD_GetLen:
 2465              	.LFB190:
2496:application-library/usb-cdc-device.c **** }
2497:application-library/usb-cdc-device.c **** 
2498:application-library/usb-cdc-device.c **** 
2499:application-library/usb-cdc-device.c **** /**
2500:application-library/usb-cdc-device.c ****   * @brief  USBD_GetString
2501:application-library/usb-cdc-device.c ****   *         Convert Ascii string into unicode one
2502:application-library/usb-cdc-device.c ****   * @param  desc : descriptor buffer
2503:application-library/usb-cdc-device.c ****   * @param  unicode : Formatted string buffer (unicode)
2504:application-library/usb-cdc-device.c ****   * @param  len : descriptor length
2505:application-library/usb-cdc-device.c ****   * @retval None
2506:application-library/usb-cdc-device.c ****   */
2507:application-library/usb-cdc-device.c **** void USBD_GetString(uint8_t *desc, uint8_t *unicode, uint16_t *len)
2508:application-library/usb-cdc-device.c **** {
2509:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
2510:application-library/usb-cdc-device.c ****   uint8_t *pdesc;
2511:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 98


2512:application-library/usb-cdc-device.c ****   if (desc == NULL)
2513:application-library/usb-cdc-device.c ****   {
2514:application-library/usb-cdc-device.c ****     return;
2515:application-library/usb-cdc-device.c ****   }
2516:application-library/usb-cdc-device.c **** 
2517:application-library/usb-cdc-device.c ****   pdesc = desc;
2518:application-library/usb-cdc-device.c ****   *len = ((uint16_t)USBD_GetLen(pdesc) * 2U) + 2U;
2519:application-library/usb-cdc-device.c **** 
2520:application-library/usb-cdc-device.c ****   unicode[idx] = *(uint8_t *)len;
2521:application-library/usb-cdc-device.c ****   idx++;
2522:application-library/usb-cdc-device.c ****   unicode[idx] = USB_DESC_TYPE_STRING;
2523:application-library/usb-cdc-device.c ****   idx++;
2524:application-library/usb-cdc-device.c **** 
2525:application-library/usb-cdc-device.c ****   while (*pdesc != (uint8_t)'\0')
2526:application-library/usb-cdc-device.c ****   {
2527:application-library/usb-cdc-device.c ****     unicode[idx] = *pdesc;
2528:application-library/usb-cdc-device.c ****     pdesc++;
2529:application-library/usb-cdc-device.c ****     idx++;
2530:application-library/usb-cdc-device.c **** 
2531:application-library/usb-cdc-device.c ****     unicode[idx] = 0U;
2532:application-library/usb-cdc-device.c ****     idx++;
2533:application-library/usb-cdc-device.c ****   }
2534:application-library/usb-cdc-device.c **** }
2535:application-library/usb-cdc-device.c **** 
2536:application-library/usb-cdc-device.c **** 
2537:application-library/usb-cdc-device.c **** /**
2538:application-library/usb-cdc-device.c ****   * @brief  Return the string length
2539:application-library/usb-cdc-device.c ****    * @param  buf : pointer to the ascii string buffer
2540:application-library/usb-cdc-device.c ****   * @retval string length
2541:application-library/usb-cdc-device.c ****   */
2542:application-library/usb-cdc-device.c **** uint8_t USBD_GetLen(uint8_t *buf)
2543:application-library/usb-cdc-device.c **** {
 2466              		.loc 1 2543 0
 2467              		.cfi_startproc
 2468              		@ args = 0, pretend = 0, frame = 0
 2469              		@ frame_needed = 0, uses_anonymous_args = 0
 2470              		@ link register save eliminated.
 2471              	.LVL266:
2544:application-library/usb-cdc-device.c ****   uint8_t  len = 0U;
 2472              		.loc 1 2544 0
 2473 0000 0023     		movs	r3, #0
2545:application-library/usb-cdc-device.c ****   uint8_t *pbuff = buf;
2546:application-library/usb-cdc-device.c **** 
2547:application-library/usb-cdc-device.c ****   while (*pbuff != (uint8_t)'\0')
 2474              		.loc 1 2547 0
 2475 0002 02E0     		b	.L192
 2476              	.LVL267:
 2477              	.L193:
2548:application-library/usb-cdc-device.c ****   {
2549:application-library/usb-cdc-device.c ****     len++;
 2478              		.loc 1 2549 0
 2479 0004 0133     		adds	r3, r3, #1
 2480              	.LVL268:
 2481 0006 DBB2     		uxtb	r3, r3
 2482              	.LVL269:
2550:application-library/usb-cdc-device.c ****     pbuff++;
 2483              		.loc 1 2550 0
ARM GAS  /tmp/ccSzmojl.s 			page 99


 2484 0008 0130     		adds	r0, r0, #1
 2485              	.LVL270:
 2486              	.L192:
2547:application-library/usb-cdc-device.c ****   {
 2487              		.loc 1 2547 0
 2488 000a 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 2489 000c 002A     		cmp	r2, #0
 2490 000e F9D1     		bne	.L193
2551:application-library/usb-cdc-device.c ****   }
2552:application-library/usb-cdc-device.c **** 
2553:application-library/usb-cdc-device.c ****   return len;
2554:application-library/usb-cdc-device.c **** }
 2491              		.loc 1 2554 0
 2492 0010 1846     		mov	r0, r3
 2493              	.LVL271:
 2494 0012 7047     		bx	lr
 2495              		.cfi_endproc
 2496              	.LFE190:
 2498              		.section	.text.USBD_GetString,"ax",%progbits
 2499              		.align	1
 2500              		.global	USBD_GetString
 2501              		.syntax unified
 2502              		.thumb
 2503              		.thumb_func
 2504              		.fpu fpv4-sp-d16
 2506              	USBD_GetString:
 2507              	.LFB189:
2508:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 2508              		.loc 1 2508 0
 2509              		.cfi_startproc
 2510              		@ args = 0, pretend = 0, frame = 0
 2511              		@ frame_needed = 0, uses_anonymous_args = 0
 2512              	.LVL272:
2512:application-library/usb-cdc-device.c ****   {
 2513              		.loc 1 2512 0
 2514 0000 C8B1     		cbz	r0, .L199
2508:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 2515              		.loc 1 2508 0
 2516 0002 70B5     		push	{r4, r5, r6, lr}
 2517              	.LCFI37:
 2518              		.cfi_def_cfa_offset 16
 2519              		.cfi_offset 4, -16
 2520              		.cfi_offset 5, -12
 2521              		.cfi_offset 6, -8
 2522              		.cfi_offset 14, -4
 2523 0004 0D46     		mov	r5, r1
 2524 0006 1646     		mov	r6, r2
 2525 0008 0446     		mov	r4, r0
 2526              	.LVL273:
2518:application-library/usb-cdc-device.c **** 
 2527              		.loc 1 2518 0
 2528 000a FFF7FEFF 		bl	USBD_GetLen
 2529              	.LVL274:
 2530 000e 0130     		adds	r0, r0, #1
 2531 0010 4000     		lsls	r0, r0, #1
 2532 0012 3080     		strh	r0, [r6]	@ movhi
2520:application-library/usb-cdc-device.c ****   idx++;
ARM GAS  /tmp/ccSzmojl.s 			page 100


 2533              		.loc 1 2520 0
 2534 0014 2870     		strb	r0, [r5]
 2535              	.LVL275:
2522:application-library/usb-cdc-device.c ****   idx++;
 2536              		.loc 1 2522 0
 2537 0016 0323     		movs	r3, #3
 2538 0018 6B70     		strb	r3, [r5, #1]
 2539              	.LVL276:
2523:application-library/usb-cdc-device.c **** 
 2540              		.loc 1 2523 0
 2541 001a 0223     		movs	r3, #2
2525:application-library/usb-cdc-device.c ****   {
 2542              		.loc 1 2525 0
 2543 001c 07E0     		b	.L196
 2544              	.LVL277:
 2545              	.L197:
2527:application-library/usb-cdc-device.c ****     pdesc++;
 2546              		.loc 1 2527 0
 2547 001e EA54     		strb	r2, [r5, r3]
2528:application-library/usb-cdc-device.c ****     idx++;
 2548              		.loc 1 2528 0
 2549 0020 0134     		adds	r4, r4, #1
 2550              	.LVL278:
2529:application-library/usb-cdc-device.c **** 
 2551              		.loc 1 2529 0
 2552 0022 5A1C     		adds	r2, r3, #1
 2553 0024 D2B2     		uxtb	r2, r2
 2554              	.LVL279:
2531:application-library/usb-cdc-device.c ****     idx++;
 2555              		.loc 1 2531 0
 2556 0026 0021     		movs	r1, #0
 2557 0028 A954     		strb	r1, [r5, r2]
2532:application-library/usb-cdc-device.c ****   }
 2558              		.loc 1 2532 0
 2559 002a 0233     		adds	r3, r3, #2
 2560 002c DBB2     		uxtb	r3, r3
 2561              	.LVL280:
 2562              	.L196:
2525:application-library/usb-cdc-device.c ****   {
 2563              		.loc 1 2525 0
 2564 002e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 2565 0030 002A     		cmp	r2, #0
 2566 0032 F4D1     		bne	.L197
 2567 0034 70BD     		pop	{r4, r5, r6, pc}
 2568              	.LVL281:
 2569              	.L199:
 2570              	.LCFI38:
 2571              		.cfi_def_cfa_offset 0
 2572              		.cfi_restore 4
 2573              		.cfi_restore 5
 2574              		.cfi_restore 6
 2575              		.cfi_restore 14
 2576 0036 7047     		bx	lr
 2577              		.cfi_endproc
 2578              	.LFE189:
 2580              		.section	.text.USBD_CtlSendData,"ax",%progbits
 2581              		.align	1
ARM GAS  /tmp/ccSzmojl.s 			page 101


 2582              		.global	USBD_CtlSendData
 2583              		.syntax unified
 2584              		.thumb
 2585              		.thumb_func
 2586              		.fpu fpv4-sp-d16
 2588              	USBD_CtlSendData:
 2589              	.LFB191:
2555:application-library/usb-cdc-device.c **** 
2556:application-library/usb-cdc-device.c **** /* usbd_ctlreq.c END ---- ---- ---- ---- */
2557:application-library/usb-cdc-device.c **** 
2558:application-library/usb-cdc-device.c **** 
2559:application-library/usb-cdc-device.c **** /* usbd_ioreq.c BEGIN ---- ---- ---- ---- */
2560:application-library/usb-cdc-device.c **** /**
2561:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlSendData
2562:application-library/usb-cdc-device.c ****   *         send data on the ctl pipe
2563:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2564:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2565:application-library/usb-cdc-device.c ****   * @param  len: length of data to be sent
2566:application-library/usb-cdc-device.c ****   * @retval status
2567:application-library/usb-cdc-device.c ****   */
2568:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlSendData(USBD_HandleTypeDef *pdev,
2569:application-library/usb-cdc-device.c ****                                     uint8_t *pbuf, uint32_t len)
2570:application-library/usb-cdc-device.c **** {
 2590              		.loc 1 2570 0
 2591              		.cfi_startproc
 2592              		@ args = 0, pretend = 0, frame = 0
 2593              		@ frame_needed = 0, uses_anonymous_args = 0
 2594              	.LVL282:
 2595 0000 10B5     		push	{r4, lr}
 2596              	.LCFI39:
 2597              		.cfi_def_cfa_offset 8
 2598              		.cfi_offset 4, -8
 2599              		.cfi_offset 14, -4
 2600 0002 1346     		mov	r3, r2
2571:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2572:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_DATA_IN;
 2601              		.loc 1 2572 0
 2602 0004 0222     		movs	r2, #2
 2603              	.LVL283:
 2604 0006 C0F89422 		str	r2, [r0, #660]
2573:application-library/usb-cdc-device.c ****   pdev->ep_in[0].total_length = len;
 2605              		.loc 1 2573 0
 2606 000a 8361     		str	r3, [r0, #24]
2574:application-library/usb-cdc-device.c **** 
2575:application-library/usb-cdc-device.c **** #ifdef USBD_AVOID_PACKET_SPLIT_MPS
2576:application-library/usb-cdc-device.c ****   pdev->ep_in[0].rem_length = 0U;
2577:application-library/usb-cdc-device.c **** #else
2578:application-library/usb-cdc-device.c ****   pdev->ep_in[0].rem_length = len;
 2607              		.loc 1 2578 0
 2608 000c C361     		str	r3, [r0, #28]
2579:application-library/usb-cdc-device.c **** #endif /* USBD_AVOID_PACKET_SPLIT_MPS */
2580:application-library/usb-cdc-device.c **** 
2581:application-library/usb-cdc-device.c ****   /* Start the transfer */
2582:application-library/usb-cdc-device.c ****   (void)USBD_LL_Transmit(pdev, 0x00U, pbuf, len);
 2609              		.loc 1 2582 0
 2610 000e 0A46     		mov	r2, r1
 2611 0010 0021     		movs	r1, #0
ARM GAS  /tmp/ccSzmojl.s 			page 102


 2612              	.LVL284:
 2613 0012 FFF7FEFF 		bl	USBD_LL_Transmit
 2614              	.LVL285:
2583:application-library/usb-cdc-device.c **** 
2584:application-library/usb-cdc-device.c ****   return USBD_OK;
2585:application-library/usb-cdc-device.c **** }
 2615              		.loc 1 2585 0
 2616 0016 0020     		movs	r0, #0
 2617 0018 10BD     		pop	{r4, pc}
 2618              		.cfi_endproc
 2619              	.LFE191:
 2621              		.section	.text.USBD_GetConfig,"ax",%progbits
 2622              		.align	1
 2623              		.global	USBD_GetConfig
 2624              		.syntax unified
 2625              		.thumb
 2626              		.thumb_func
 2627              		.fpu fpv4-sp-d16
 2629              	USBD_GetConfig:
 2630              	.LFB183:
2334:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
 2631              		.loc 1 2334 0
 2632              		.cfi_startproc
 2633              		@ args = 0, pretend = 0, frame = 0
 2634              		@ frame_needed = 0, uses_anonymous_args = 0
 2635              	.LVL286:
 2636 0000 08B5     		push	{r3, lr}
 2637              	.LCFI40:
 2638              		.cfi_def_cfa_offset 8
 2639              		.cfi_offset 3, -8
 2640              		.cfi_offset 14, -4
2335:application-library/usb-cdc-device.c ****   {
 2641              		.loc 1 2335 0
 2642 0002 CB88     		ldrh	r3, [r1, #6]
 2643 0004 012B     		cmp	r3, #1
 2644 0006 0DD1     		bne	.L211
2341:application-library/usb-cdc-device.c ****     {
 2645              		.loc 1 2341 0
 2646 0008 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 2647 000c 03F0FF02 		and	r2, r3, #255
 2648 0010 9BB1     		cbz	r3, .L207
 2649 0012 022A     		cmp	r2, #2
 2650 0014 09D9     		bls	.L208
 2651 0016 032A     		cmp	r2, #3
 2652 0018 0FD1     		bne	.L207
2350:application-library/usb-cdc-device.c ****         break;
 2653              		.loc 1 2350 0
 2654 001a 0122     		movs	r2, #1
 2655 001c 011D     		adds	r1, r0, #4
 2656              	.LVL287:
 2657 001e FFF7FEFF 		bl	USBD_CtlSendData
 2658              	.LVL288:
2351:application-library/usb-cdc-device.c **** 
 2659              		.loc 1 2351 0
 2660 0022 08BD     		pop	{r3, pc}
 2661              	.LVL289:
 2662              	.L211:
ARM GAS  /tmp/ccSzmojl.s 			page 103


2337:application-library/usb-cdc-device.c ****   }
 2663              		.loc 1 2337 0
 2664 0024 FFF7FEFF 		bl	USBD_CtlError
 2665              	.LVL290:
 2666 0028 08BD     		pop	{r3, pc}
 2667              	.LVL291:
 2668              	.L208:
2345:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_default_config, 1U);
 2669              		.loc 1 2345 0
 2670 002a 0146     		mov	r1, r0
 2671              	.LVL292:
 2672 002c 0023     		movs	r3, #0
 2673 002e 41F8083F 		str	r3, [r1, #8]!
2346:application-library/usb-cdc-device.c ****         break;
 2674              		.loc 1 2346 0
 2675 0032 0122     		movs	r2, #1
 2676 0034 FFF7FEFF 		bl	USBD_CtlSendData
 2677              	.LVL293:
2347:application-library/usb-cdc-device.c **** 
 2678              		.loc 1 2347 0
 2679 0038 08BD     		pop	{r3, pc}
 2680              	.LVL294:
 2681              	.L207:
2354:application-library/usb-cdc-device.c ****         break;
 2682              		.loc 1 2354 0
 2683 003a FFF7FEFF 		bl	USBD_CtlError
 2684              	.LVL295:
 2685 003e 08BD     		pop	{r3, pc}
 2686              		.cfi_endproc
 2687              	.LFE183:
 2689              		.section	.text.USBD_GetStatus,"ax",%progbits
 2690              		.align	1
 2691              		.global	USBD_GetStatus
 2692              		.syntax unified
 2693              		.thumb
 2694              		.thumb_func
 2695              		.fpu fpv4-sp-d16
 2697              	USBD_GetStatus:
 2698              	.LFB184:
2368:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
 2699              		.loc 1 2368 0
 2700              		.cfi_startproc
 2701              		@ args = 0, pretend = 0, frame = 0
 2702              		@ frame_needed = 0, uses_anonymous_args = 0
 2703              	.LVL296:
 2704 0000 08B5     		push	{r3, lr}
 2705              	.LCFI41:
 2706              		.cfi_def_cfa_offset 8
 2707              		.cfi_offset 3, -8
 2708              		.cfi_offset 14, -4
2369:application-library/usb-cdc-device.c ****   {
 2709              		.loc 1 2369 0
 2710 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 2711 0006 013B     		subs	r3, r3, #1
 2712 0008 022B     		cmp	r3, #2
 2713 000a 12D8     		bhi	.L213
2374:application-library/usb-cdc-device.c ****       {
ARM GAS  /tmp/ccSzmojl.s 			page 104


 2714              		.loc 1 2374 0
 2715 000c CB88     		ldrh	r3, [r1, #6]
 2716 000e 022B     		cmp	r3, #2
 2717 0010 0CD1     		bne	.L219
2381:application-library/usb-cdc-device.c **** #else
 2718              		.loc 1 2381 0
 2719 0012 0123     		movs	r3, #1
 2720 0014 C360     		str	r3, [r0, #12]
2386:application-library/usb-cdc-device.c ****       {
 2721              		.loc 1 2386 0
 2722 0016 D0F8A432 		ldr	r3, [r0, #676]
 2723 001a 0BB1     		cbz	r3, .L217
2388:application-library/usb-cdc-device.c ****       }
 2724              		.loc 1 2388 0
 2725 001c 0323     		movs	r3, #3
 2726 001e C360     		str	r3, [r0, #12]
 2727              	.L217:
2391:application-library/usb-cdc-device.c ****       break;
 2728              		.loc 1 2391 0
 2729 0020 0222     		movs	r2, #2
 2730 0022 00F10C01 		add	r1, r0, #12
 2731              	.LVL297:
 2732 0026 FFF7FEFF 		bl	USBD_CtlSendData
 2733              	.LVL298:
2392:application-library/usb-cdc-device.c **** 
 2734              		.loc 1 2392 0
 2735 002a 08BD     		pop	{r3, pc}
 2736              	.LVL299:
 2737              	.L219:
2376:application-library/usb-cdc-device.c ****         break;
 2738              		.loc 1 2376 0
 2739 002c FFF7FEFF 		bl	USBD_CtlError
 2740              	.LVL300:
2377:application-library/usb-cdc-device.c ****       }
 2741              		.loc 1 2377 0
 2742 0030 08BD     		pop	{r3, pc}
 2743              	.LVL301:
 2744              	.L213:
2395:application-library/usb-cdc-device.c ****       break;
 2745              		.loc 1 2395 0
 2746 0032 FFF7FEFF 		bl	USBD_CtlError
 2747              	.LVL302:
 2748 0036 08BD     		pop	{r3, pc}
 2749              		.cfi_endproc
 2750              	.LFE184:
 2752              		.section	.text.USBD_CtlContinueSendData,"ax",%progbits
 2753              		.align	1
 2754              		.global	USBD_CtlContinueSendData
 2755              		.syntax unified
 2756              		.thumb
 2757              		.thumb_func
 2758              		.fpu fpv4-sp-d16
 2760              	USBD_CtlContinueSendData:
 2761              	.LFB192:
2586:application-library/usb-cdc-device.c **** 
2587:application-library/usb-cdc-device.c **** /**
2588:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlContinueSendData
ARM GAS  /tmp/ccSzmojl.s 			page 105


2589:application-library/usb-cdc-device.c ****   *         continue sending data on the ctl pipe
2590:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2591:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2592:application-library/usb-cdc-device.c ****   * @param  len: length of data to be sent
2593:application-library/usb-cdc-device.c ****   * @retval status
2594:application-library/usb-cdc-device.c ****   */
2595:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlContinueSendData(USBD_HandleTypeDef *pdev,
2596:application-library/usb-cdc-device.c ****                                             uint8_t *pbuf, uint32_t len)
2597:application-library/usb-cdc-device.c **** {
 2762              		.loc 1 2597 0
 2763              		.cfi_startproc
 2764              		@ args = 0, pretend = 0, frame = 0
 2765              		@ frame_needed = 0, uses_anonymous_args = 0
 2766              	.LVL303:
 2767 0000 08B5     		push	{r3, lr}
 2768              	.LCFI42:
 2769              		.cfi_def_cfa_offset 8
 2770              		.cfi_offset 3, -8
 2771              		.cfi_offset 14, -4
2598:application-library/usb-cdc-device.c ****   /* Start the next transfer */
2599:application-library/usb-cdc-device.c ****   (void)USBD_LL_Transmit(pdev, 0x00U, pbuf, len);
 2772              		.loc 1 2599 0
 2773 0002 1346     		mov	r3, r2
 2774 0004 0A46     		mov	r2, r1
 2775              	.LVL304:
 2776 0006 0021     		movs	r1, #0
 2777              	.LVL305:
 2778 0008 FFF7FEFF 		bl	USBD_LL_Transmit
 2779              	.LVL306:
2600:application-library/usb-cdc-device.c **** 
2601:application-library/usb-cdc-device.c ****   return USBD_OK;
2602:application-library/usb-cdc-device.c **** }
 2780              		.loc 1 2602 0
 2781 000c 0020     		movs	r0, #0
 2782 000e 08BD     		pop	{r3, pc}
 2783              		.cfi_endproc
 2784              	.LFE192:
 2786              		.section	.text.USBD_CtlPrepareRx,"ax",%progbits
 2787              		.align	1
 2788              		.global	USBD_CtlPrepareRx
 2789              		.syntax unified
 2790              		.thumb
 2791              		.thumb_func
 2792              		.fpu fpv4-sp-d16
 2794              	USBD_CtlPrepareRx:
 2795              	.LFB193:
2603:application-library/usb-cdc-device.c **** 
2604:application-library/usb-cdc-device.c **** /**
2605:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlPrepareRx
2606:application-library/usb-cdc-device.c ****   *         receive data on the ctl pipe
2607:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2608:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2609:application-library/usb-cdc-device.c ****   * @param  len: length of data to be received
2610:application-library/usb-cdc-device.c ****   * @retval status
2611:application-library/usb-cdc-device.c ****   */
2612:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlPrepareRx(USBD_HandleTypeDef *pdev,
2613:application-library/usb-cdc-device.c ****                                      uint8_t *pbuf, uint32_t len)
ARM GAS  /tmp/ccSzmojl.s 			page 106


2614:application-library/usb-cdc-device.c **** {
 2796              		.loc 1 2614 0
 2797              		.cfi_startproc
 2798              		@ args = 0, pretend = 0, frame = 0
 2799              		@ frame_needed = 0, uses_anonymous_args = 0
 2800              	.LVL307:
 2801 0000 10B5     		push	{r4, lr}
 2802              	.LCFI43:
 2803              		.cfi_def_cfa_offset 8
 2804              		.cfi_offset 4, -8
 2805              		.cfi_offset 14, -4
 2806 0002 1346     		mov	r3, r2
2615:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2616:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_DATA_OUT;
 2807              		.loc 1 2616 0
 2808 0004 0322     		movs	r2, #3
 2809              	.LVL308:
 2810 0006 C0F89422 		str	r2, [r0, #660]
2617:application-library/usb-cdc-device.c ****   pdev->ep_out[0].total_length = len;
 2811              		.loc 1 2617 0
 2812 000a C0F85831 		str	r3, [r0, #344]
2618:application-library/usb-cdc-device.c **** 
2619:application-library/usb-cdc-device.c **** #ifdef USBD_AVOID_PACKET_SPLIT_MPS
2620:application-library/usb-cdc-device.c ****   pdev->ep_out[0].rem_length = 0U;
2621:application-library/usb-cdc-device.c **** #else
2622:application-library/usb-cdc-device.c ****   pdev->ep_out[0].rem_length = len;
 2813              		.loc 1 2622 0
 2814 000e C0F85C31 		str	r3, [r0, #348]
2623:application-library/usb-cdc-device.c **** #endif /* USBD_AVOID_PACKET_SPLIT_MPS */
2624:application-library/usb-cdc-device.c **** 
2625:application-library/usb-cdc-device.c ****   /* Start the transfer */
2626:application-library/usb-cdc-device.c ****   (void)USBD_LL_PrepareReceive(pdev, 0U, pbuf, len);
 2815              		.loc 1 2626 0
 2816 0012 0A46     		mov	r2, r1
 2817 0014 0021     		movs	r1, #0
 2818              	.LVL309:
 2819 0016 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 2820              	.LVL310:
2627:application-library/usb-cdc-device.c **** 
2628:application-library/usb-cdc-device.c ****   return USBD_OK;
2629:application-library/usb-cdc-device.c **** }
 2821              		.loc 1 2629 0
 2822 001a 0020     		movs	r0, #0
 2823 001c 10BD     		pop	{r4, pc}
 2824              		.cfi_endproc
 2825              	.LFE193:
 2827              		.section	.text.USBD_CDC_Setup,"ax",%progbits
 2828              		.align	1
 2829              		.global	USBD_CDC_Setup
 2830              		.syntax unified
 2831              		.thumb
 2832              		.thumb_func
 2833              		.fpu fpv4-sp-d16
 2835              	USBD_CDC_Setup:
 2836              	.LFB141:
 560:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 2837              		.loc 1 560 0
ARM GAS  /tmp/ccSzmojl.s 			page 107


 2838              		.cfi_startproc
 2839              		@ args = 0, pretend = 0, frame = 8
 2840              		@ frame_needed = 0, uses_anonymous_args = 0
 2841              	.LVL311:
 2842 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2843              	.LCFI44:
 2844              		.cfi_def_cfa_offset 20
 2845              		.cfi_offset 4, -20
 2846              		.cfi_offset 5, -16
 2847              		.cfi_offset 6, -12
 2848              		.cfi_offset 7, -8
 2849              		.cfi_offset 14, -4
 2850 0002 83B0     		sub	sp, sp, #12
 2851              	.LCFI45:
 2852              		.cfi_def_cfa_offset 32
 561:application-library/usb-cdc-device.c ****   uint16_t len;
 2853              		.loc 1 561 0
 2854 0004 D0F8D472 		ldr	r7, [r0, #724]
 2855 0008 07F1B003 		add	r3, r7, #176
 2856 000c 50F82360 		ldr	r6, [r0, r3, lsl #2]
 2857              	.LVL312:
 563:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 2858              		.loc 1 563 0
 2859 0010 0023     		movs	r3, #0
 2860 0012 8DF80730 		strb	r3, [sp, #7]
 564:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 2861              		.loc 1 564 0
 2862 0016 ADF80430 		strh	r3, [sp, #4]	@ movhi
 2863              	.LVL313:
 567:application-library/usb-cdc-device.c ****   {
 2864              		.loc 1 567 0
 2865 001a 002E     		cmp	r6, #0
 2866 001c 75D0     		beq	.L239
 2867 001e 0D46     		mov	r5, r1
 2868 0020 0446     		mov	r4, r0
 572:application-library/usb-cdc-device.c ****   {
 2869              		.loc 1 572 0
 2870 0022 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 2871 0024 13F06002 		ands	r2, r3, #96
 2872 0028 34D0     		beq	.L227
 2873 002a 202A     		cmp	r2, #32
 2874 002c 69D1     		bne	.L243
 575:application-library/usb-cdc-device.c ****       {
 2875              		.loc 1 575 0
 2876 002e CA88     		ldrh	r2, [r1, #6]
 2877 0030 2AB3     		cbz	r2, .L229
 577:application-library/usb-cdc-device.c ****         {
 2878              		.loc 1 577 0
 2879 0032 13F0800F 		tst	r3, #128
 2880 0036 0ED1     		bne	.L245
 588:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 2881              		.loc 1 588 0
 2882 0038 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2883 003a 86F80032 		strb	r3, [r6, #512]
 589:application-library/usb-cdc-device.c **** 
 2884              		.loc 1 589 0
 2885 003e CA88     		ldrh	r2, [r1, #6]
ARM GAS  /tmp/ccSzmojl.s 			page 108


 2886 0040 3F2A     		cmp	r2, #63
 2887 0042 1AD8     		bhi	.L240
 589:application-library/usb-cdc-device.c **** 
 2888              		.loc 1 589 0 is_stmt 0 discriminator 1
 2889 0044 D2B2     		uxtb	r2, r2
 2890              	.L231:
 589:application-library/usb-cdc-device.c **** 
 2891              		.loc 1 589 0 discriminator 4
 2892 0046 86F80122 		strb	r2, [r6, #513]
 591:application-library/usb-cdc-device.c ****         }
 2893              		.loc 1 591 0 is_stmt 1 discriminator 4
 2894 004a 3146     		mov	r1, r6
 2895              	.LVL314:
 2896 004c 2046     		mov	r0, r4
 2897              	.LVL315:
 2898 004e FFF7FEFF 		bl	USBD_CtlPrepareRx
 2899              	.LVL316:
 565:application-library/usb-cdc-device.c **** 
 2900              		.loc 1 565 0 discriminator 4
 2901 0052 0020     		movs	r0, #0
 2902 0054 5AE0     		b	.L225
 2903              	.LVL317:
 2904              	.L245:
 579:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 2905              		.loc 1 579 0
 2906 0056 B037     		adds	r7, r7, #176
 2907 0058 00EB8707 		add	r7, r0, r7, lsl #2
 2908 005c 7B68     		ldr	r3, [r7, #4]
 2909 005e 9B68     		ldr	r3, [r3, #8]
 2910 0060 3146     		mov	r1, r6
 2911              	.LVL318:
 2912 0062 6878     		ldrb	r0, [r5, #1]	@ zero_extendqisi2
 2913              	.LVL319:
 2914 0064 9847     		blx	r3
 2915              	.LVL320:
 583:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendData(pdev, (uint8_t *)hcdc->data, len);
 2916              		.loc 1 583 0
 2917 0066 EA88     		ldrh	r2, [r5, #6]
 2918              	.LVL321:
 584:application-library/usb-cdc-device.c ****         }
 2919              		.loc 1 584 0
 2920 0068 072A     		cmp	r2, #7
 2921 006a 28BF     		it	cs
 2922 006c 0722     		movcs	r2, #7
 2923              	.LVL322:
 2924 006e 3146     		mov	r1, r6
 2925 0070 2046     		mov	r0, r4
 2926 0072 FFF7FEFF 		bl	USBD_CtlSendData
 2927              	.LVL323:
 565:application-library/usb-cdc-device.c **** 
 2928              		.loc 1 565 0
 2929 0076 0020     		movs	r0, #0
 2930 0078 48E0     		b	.L225
 2931              	.LVL324:
 2932              	.L240:
 589:application-library/usb-cdc-device.c **** 
 2933              		.loc 1 589 0
ARM GAS  /tmp/ccSzmojl.s 			page 109


 2934 007a 4022     		movs	r2, #64
 2935 007c E3E7     		b	.L231
 2936              	.L229:
 596:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
 2937              		.loc 1 596 0
 2938 007e 07F1B000 		add	r0, r7, #176
 2939              	.LVL325:
 2940 0082 04EB8000 		add	r0, r4, r0, lsl #2
 2941 0086 4368     		ldr	r3, [r0, #4]
 2942 0088 9B68     		ldr	r3, [r3, #8]
 2943 008a 0022     		movs	r2, #0
 2944 008c 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 2945 008e 9847     		blx	r3
 2946              	.LVL326:
 565:application-library/usb-cdc-device.c **** 
 2947              		.loc 1 565 0
 2948 0090 0020     		movs	r0, #0
 2949 0092 3BE0     		b	.L225
 2950              	.LVL327:
 2951              	.L227:
 602:application-library/usb-cdc-device.c ****       {
 2952              		.loc 1 602 0
 2953 0094 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2954 0096 0B2B     		cmp	r3, #11
 2955 0098 2FD8     		bhi	.L232
 2956 009a DFE803F0 		tbb	[pc, r3]
 2957              	.L234:
 2958 009e 06       		.byte	(.L233-.L234)/2
 2959 009f 39       		.byte	(.L241-.L234)/2
 2960 00a0 2E       		.byte	(.L232-.L234)/2
 2961 00a1 2E       		.byte	(.L232-.L234)/2
 2962 00a2 2E       		.byte	(.L232-.L234)/2
 2963 00a3 2E       		.byte	(.L232-.L234)/2
 2964 00a4 2E       		.byte	(.L232-.L234)/2
 2965 00a5 2E       		.byte	(.L232-.L234)/2
 2966 00a6 2E       		.byte	(.L232-.L234)/2
 2967 00a7 2E       		.byte	(.L232-.L234)/2
 2968 00a8 15       		.byte	(.L235-.L234)/2
 2969 00a9 25       		.byte	(.L236-.L234)/2
 2970              		.p2align 1
 2971              	.L233:
 605:application-library/usb-cdc-device.c ****           {
 2972              		.loc 1 605 0
 2973 00aa 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 2974 00ae DBB2     		uxtb	r3, r3
 2975 00b0 032B     		cmp	r3, #3
 2976 00b2 03D0     		beq	.L246
 611:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 2977              		.loc 1 611 0
 2978 00b4 FFF7FEFF 		bl	USBD_CtlError
 2979              	.LVL328:
 612:application-library/usb-cdc-device.c ****           }
 2980              		.loc 1 612 0
 2981 00b8 0320     		movs	r0, #3
 2982 00ba 27E0     		b	.L225
 2983              	.LVL329:
 2984              	.L246:
ARM GAS  /tmp/ccSzmojl.s 			page 110


 607:application-library/usb-cdc-device.c ****           }
 2985              		.loc 1 607 0
 2986 00bc 0222     		movs	r2, #2
 2987 00be 01A9     		add	r1, sp, #4
 2988              	.LVL330:
 2989 00c0 FFF7FEFF 		bl	USBD_CtlSendData
 2990              	.LVL331:
 565:application-library/usb-cdc-device.c **** 
 2991              		.loc 1 565 0
 2992 00c4 0020     		movs	r0, #0
 2993 00c6 21E0     		b	.L225
 2994              	.LVL332:
 2995              	.L235:
 617:application-library/usb-cdc-device.c ****           {
 2996              		.loc 1 617 0
 2997 00c8 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 2998 00cc DBB2     		uxtb	r3, r3
 2999 00ce 032B     		cmp	r3, #3
 3000 00d0 03D0     		beq	.L247
 623:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 3001              		.loc 1 623 0
 3002 00d2 FFF7FEFF 		bl	USBD_CtlError
 3003              	.LVL333:
 624:application-library/usb-cdc-device.c ****           }
 3004              		.loc 1 624 0
 3005 00d6 0320     		movs	r0, #3
 3006 00d8 18E0     		b	.L225
 3007              	.LVL334:
 3008              	.L247:
 619:application-library/usb-cdc-device.c ****           }
 3009              		.loc 1 619 0
 3010 00da 0122     		movs	r2, #1
 3011 00dc 0DF10701 		add	r1, sp, #7
 3012              	.LVL335:
 3013 00e0 FFF7FEFF 		bl	USBD_CtlSendData
 3014              	.LVL336:
 565:application-library/usb-cdc-device.c **** 
 3015              		.loc 1 565 0
 3016 00e4 0020     		movs	r0, #0
 3017 00e6 11E0     		b	.L225
 3018              	.LVL337:
 3019              	.L236:
 629:application-library/usb-cdc-device.c ****           {
 3020              		.loc 1 629 0
 3021 00e8 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3022 00ec DBB2     		uxtb	r3, r3
 3023 00ee 032B     		cmp	r3, #3
 3024 00f0 10D0     		beq	.L242
 631:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 3025              		.loc 1 631 0
 3026 00f2 FFF7FEFF 		bl	USBD_CtlError
 3027              	.LVL338:
 632:application-library/usb-cdc-device.c ****           }
 3028              		.loc 1 632 0
 3029 00f6 0320     		movs	r0, #3
 3030 00f8 08E0     		b	.L225
 3031              	.LVL339:
ARM GAS  /tmp/ccSzmojl.s 			page 111


 3032              	.L232:
 640:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 3033              		.loc 1 640 0
 3034 00fa FFF7FEFF 		bl	USBD_CtlError
 3035              	.LVL340:
 641:application-library/usb-cdc-device.c ****           break;
 3036              		.loc 1 641 0
 3037 00fe 0320     		movs	r0, #3
 642:application-library/usb-cdc-device.c ****       }
 3038              		.loc 1 642 0
 3039 0100 04E0     		b	.L225
 3040              	.LVL341:
 3041              	.L243:
 647:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 3042              		.loc 1 647 0
 3043 0102 FFF7FEFF 		bl	USBD_CtlError
 3044              	.LVL342:
 648:application-library/usb-cdc-device.c ****       break;
 3045              		.loc 1 648 0
 3046 0106 0320     		movs	r0, #3
 649:application-library/usb-cdc-device.c ****   }
 3047              		.loc 1 649 0
 3048 0108 00E0     		b	.L225
 3049              	.LVL343:
 3050              	.L239:
 569:application-library/usb-cdc-device.c ****   }
 3051              		.loc 1 569 0
 3052 010a 0320     		movs	r0, #3
 3053              	.LVL344:
 3054              	.L225:
 653:application-library/usb-cdc-device.c **** 
 3055              		.loc 1 653 0
 3056 010c 03B0     		add	sp, sp, #12
 3057              	.LCFI46:
 3058              		.cfi_remember_state
 3059              		.cfi_def_cfa_offset 20
 3060              		@ sp needed
 3061 010e F0BD     		pop	{r4, r5, r6, r7, pc}
 3062              	.LVL345:
 3063              	.L241:
 3064              	.LCFI47:
 3065              		.cfi_restore_state
 565:application-library/usb-cdc-device.c **** 
 3066              		.loc 1 565 0
 3067 0110 0020     		movs	r0, #0
 3068              	.LVL346:
 3069 0112 FBE7     		b	.L225
 3070              	.LVL347:
 3071              	.L242:
 3072 0114 0020     		movs	r0, #0
 3073              	.LVL348:
 3074 0116 F9E7     		b	.L225
 3075              		.cfi_endproc
 3076              	.LFE141:
 3078              		.section	.text.USBD_CtlContinueRx,"ax",%progbits
 3079              		.align	1
 3080              		.global	USBD_CtlContinueRx
ARM GAS  /tmp/ccSzmojl.s 			page 112


 3081              		.syntax unified
 3082              		.thumb
 3083              		.thumb_func
 3084              		.fpu fpv4-sp-d16
 3086              	USBD_CtlContinueRx:
 3087              	.LFB194:
2630:application-library/usb-cdc-device.c **** 
2631:application-library/usb-cdc-device.c **** /**
2632:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlContinueRx
2633:application-library/usb-cdc-device.c ****   *         continue receive data on the ctl pipe
2634:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2635:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2636:application-library/usb-cdc-device.c ****   * @param  len: length of data to be received
2637:application-library/usb-cdc-device.c ****   * @retval status
2638:application-library/usb-cdc-device.c ****   */
2639:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlContinueRx(USBD_HandleTypeDef *pdev,
2640:application-library/usb-cdc-device.c ****                                       uint8_t *pbuf, uint32_t len)
2641:application-library/usb-cdc-device.c **** {
 3088              		.loc 1 2641 0
 3089              		.cfi_startproc
 3090              		@ args = 0, pretend = 0, frame = 0
 3091              		@ frame_needed = 0, uses_anonymous_args = 0
 3092              	.LVL349:
 3093 0000 08B5     		push	{r3, lr}
 3094              	.LCFI48:
 3095              		.cfi_def_cfa_offset 8
 3096              		.cfi_offset 3, -8
 3097              		.cfi_offset 14, -4
2642:application-library/usb-cdc-device.c ****   (void)USBD_LL_PrepareReceive(pdev, 0U, pbuf, len);
 3098              		.loc 1 2642 0
 3099 0002 1346     		mov	r3, r2
 3100 0004 0A46     		mov	r2, r1
 3101              	.LVL350:
 3102 0006 0021     		movs	r1, #0
 3103              	.LVL351:
 3104 0008 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 3105              	.LVL352:
2643:application-library/usb-cdc-device.c **** 
2644:application-library/usb-cdc-device.c ****   return USBD_OK;
2645:application-library/usb-cdc-device.c **** }
 3106              		.loc 1 2645 0
 3107 000c 0020     		movs	r0, #0
 3108 000e 08BD     		pop	{r3, pc}
 3109              		.cfi_endproc
 3110              	.LFE194:
 3112              		.section	.text.USBD_CtlSendStatus,"ax",%progbits
 3113              		.align	1
 3114              		.global	USBD_CtlSendStatus
 3115              		.syntax unified
 3116              		.thumb
 3117              		.thumb_func
 3118              		.fpu fpv4-sp-d16
 3120              	USBD_CtlSendStatus:
 3121              	.LFB195:
2646:application-library/usb-cdc-device.c **** 
2647:application-library/usb-cdc-device.c **** /**
2648:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlSendStatus
ARM GAS  /tmp/ccSzmojl.s 			page 113


2649:application-library/usb-cdc-device.c ****   *         send zero lzngth packet on the ctl pipe
2650:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2651:application-library/usb-cdc-device.c ****   * @retval status
2652:application-library/usb-cdc-device.c ****   */
2653:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlSendStatus(USBD_HandleTypeDef *pdev)
2654:application-library/usb-cdc-device.c **** {
 3122              		.loc 1 2654 0
 3123              		.cfi_startproc
 3124              		@ args = 0, pretend = 0, frame = 0
 3125              		@ frame_needed = 0, uses_anonymous_args = 0
 3126              	.LVL353:
 3127 0000 08B5     		push	{r3, lr}
 3128              	.LCFI49:
 3129              		.cfi_def_cfa_offset 8
 3130              		.cfi_offset 3, -8
 3131              		.cfi_offset 14, -4
2655:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2656:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_STATUS_IN;
 3132              		.loc 1 2656 0
 3133 0002 0422     		movs	r2, #4
 3134 0004 C0F89422 		str	r2, [r0, #660]
2657:application-library/usb-cdc-device.c **** 
2658:application-library/usb-cdc-device.c ****   /* Start the transfer */
2659:application-library/usb-cdc-device.c ****   (void)USBD_LL_Transmit(pdev, 0x00U, NULL, 0U);
 3135              		.loc 1 2659 0
 3136 0008 0023     		movs	r3, #0
 3137 000a 1A46     		mov	r2, r3
 3138 000c 1946     		mov	r1, r3
 3139 000e FFF7FEFF 		bl	USBD_LL_Transmit
 3140              	.LVL354:
2660:application-library/usb-cdc-device.c **** 
2661:application-library/usb-cdc-device.c ****   return USBD_OK;
2662:application-library/usb-cdc-device.c **** }
 3141              		.loc 1 2662 0
 3142 0012 0020     		movs	r0, #0
 3143 0014 08BD     		pop	{r3, pc}
 3144              		.cfi_endproc
 3145              	.LFE195:
 3147              		.section	.text.USBD_LL_DataOutStage,"ax",%progbits
 3148              		.align	1
 3149              		.global	USBD_LL_DataOutStage
 3150              		.syntax unified
 3151              		.thumb
 3152              		.thumb_func
 3153              		.fpu fpv4-sp-d16
 3155              	USBD_LL_DataOutStage:
 3156              	.LFB163:
1246:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 3157              		.loc 1 1246 0
 3158              		.cfi_startproc
 3159              		@ args = 0, pretend = 0, frame = 0
 3160              		@ frame_needed = 0, uses_anonymous_args = 0
 3161              	.LVL355:
 3162 0000 38B5     		push	{r3, r4, r5, lr}
 3163              	.LCFI50:
 3164              		.cfi_def_cfa_offset 16
 3165              		.cfi_offset 3, -16
ARM GAS  /tmp/ccSzmojl.s 			page 114


 3166              		.cfi_offset 4, -12
 3167              		.cfi_offset 5, -8
 3168              		.cfi_offset 14, -4
 3169 0002 0446     		mov	r4, r0
 3170              	.LVL356:
1251:application-library/usb-cdc-device.c ****   {
 3171              		.loc 1 1251 0
 3172 0004 0D46     		mov	r5, r1
 3173 0006 0029     		cmp	r1, #0
 3174 0008 3DD1     		bne	.L253
 3175 000a 1346     		mov	r3, r2
 3176              	.LVL357:
1255:application-library/usb-cdc-device.c ****     {
 3177              		.loc 1 1255 0
 3178 000c D0F89422 		ldr	r2, [r0, #660]
 3179              	.LVL358:
 3180 0010 032A     		cmp	r2, #3
 3181 0012 01D0     		beq	.L265
1331:application-library/usb-cdc-device.c **** }
 3182              		.loc 1 1331 0
 3183 0014 0020     		movs	r0, #0
 3184              	.LVL359:
 3185 0016 38BD     		pop	{r3, r4, r5, pc}
 3186              	.LVL360:
 3187              	.L265:
1257:application-library/usb-cdc-device.c ****       {
 3188              		.loc 1 1257 0
 3189 0018 D0F85C11 		ldr	r1, [r0, #348]
 3190              	.LVL361:
 3191 001c D0F86021 		ldr	r2, [r0, #352]
 3192 0020 9142     		cmp	r1, r2
 3193 0022 15D8     		bhi	.L266
1266:application-library/usb-cdc-device.c ****         {
 3194              		.loc 1 1266 0
 3195 0024 90F8AA32 		ldrb	r3, [r0, #682]	@ zero_extendqisi2
 3196              	.LVL362:
 3197 0028 03F01F03 		and	r3, r3, #31
 3198 002c 022B     		cmp	r3, #2
 3199 002e 04D1     		bne	.L256
1279:application-library/usb-cdc-device.c ****             break;
 3200              		.loc 1 1279 0
 3201 0030 90F8AE12 		ldrb	r1, [r0, #686]	@ zero_extendqisi2
 3202 0034 FFF7FEFF 		bl	USBD_CoreFindEP
 3203              	.LVL363:
 3204 0038 0546     		mov	r5, r0
 3205              	.LVL364:
 3206              	.L256:
1288:application-library/usb-cdc-device.c ****         {
 3207              		.loc 1 1288 0
 3208 003a 25B9     		cbnz	r5, .L258
1291:application-library/usb-cdc-device.c ****           {
 3209              		.loc 1 1291 0
 3210 003c 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 3211 0040 DBB2     		uxtb	r3, r3
 3212 0042 032B     		cmp	r3, #3
 3213 0044 0FD0     		beq	.L267
 3214              	.LVL365:
ARM GAS  /tmp/ccSzmojl.s 			page 115


 3215              	.L258:
1301:application-library/usb-cdc-device.c ****       }
 3216              		.loc 1 1301 0
 3217 0046 2046     		mov	r0, r4
 3218 0048 FFF7FEFF 		bl	USBD_CtlSendStatus
 3219              	.LVL366:
1331:application-library/usb-cdc-device.c **** }
 3220              		.loc 1 1331 0
 3221 004c 0020     		movs	r0, #0
 3222 004e 38BD     		pop	{r3, r4, r5, pc}
 3223              	.LVL367:
 3224              	.L266:
1259:application-library/usb-cdc-device.c **** 
 3225              		.loc 1 1259 0
 3226 0050 891A     		subs	r1, r1, r2
 3227 0052 C0F85C11 		str	r1, [r0, #348]
1261:application-library/usb-cdc-device.c ****       }
 3228              		.loc 1 1261 0
 3229 0056 8A42     		cmp	r2, r1
 3230 0058 28BF     		it	cs
 3231 005a 0A46     		movcs	r2, r1
 3232 005c 1946     		mov	r1, r3
 3233 005e FFF7FEFF 		bl	USBD_CtlContinueRx
 3234              	.LVL368:
1331:application-library/usb-cdc-device.c **** }
 3235              		.loc 1 1331 0
 3236 0062 0020     		movs	r0, #0
 3237 0064 38BD     		pop	{r3, r4, r5, pc}
 3238              	.LVL369:
 3239              	.L267:
1293:application-library/usb-cdc-device.c ****             {
 3240              		.loc 1 1293 0
 3241 0066 05F1AE03 		add	r3, r5, #174
 3242 006a 54F82330 		ldr	r3, [r4, r3, lsl #2]
 3243 006e 1B69     		ldr	r3, [r3, #16]
 3244 0070 002B     		cmp	r3, #0
 3245 0072 E8D0     		beq	.L258
1295:application-library/usb-cdc-device.c ****               pdev->pClass[idx]->EP0_RxReady(pdev);
 3246              		.loc 1 1295 0
 3247 0074 C4F8D452 		str	r5, [r4, #724]
1296:application-library/usb-cdc-device.c ****             }
 3248              		.loc 1 1296 0
 3249 0078 AE35     		adds	r5, r5, #174
 3250              	.LVL370:
 3251 007a 54F82530 		ldr	r3, [r4, r5, lsl #2]
 3252 007e 1B69     		ldr	r3, [r3, #16]
 3253 0080 2046     		mov	r0, r4
 3254 0082 9847     		blx	r3
 3255              	.LVL371:
 3256 0084 DFE7     		b	.L258
 3257              	.LVL372:
 3258              	.L253:
1311:application-library/usb-cdc-device.c **** 
 3259              		.loc 1 1311 0
 3260 0086 01F07F01 		and	r1, r1, #127
 3261              	.LVL373:
 3262 008a FFF7FEFF 		bl	USBD_CoreFindEP
ARM GAS  /tmp/ccSzmojl.s 			page 116


 3263              	.LVL374:
1313:application-library/usb-cdc-device.c ****     {
 3264              		.loc 1 1313 0
 3265 008e 0246     		mov	r2, r0
 3266 0090 C0B9     		cbnz	r0, .L261
1316:application-library/usb-cdc-device.c ****       {
 3267              		.loc 1 1316 0
 3268 0092 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 3269 0096 DBB2     		uxtb	r3, r3
 3270 0098 032B     		cmp	r3, #3
 3271 009a 01D0     		beq	.L268
1248:application-library/usb-cdc-device.c ****   uint8_t idx;
 3272              		.loc 1 1248 0
 3273 009c 0020     		movs	r0, #0
 3274              	.LVL375:
 3275 009e 38BD     		pop	{r3, r4, r5, pc}
 3276              	.LVL376:
 3277              	.L268:
1318:application-library/usb-cdc-device.c ****         {
 3278              		.loc 1 1318 0
 3279 00a0 00F1AE03 		add	r3, r0, #174
 3280 00a4 54F82330 		ldr	r3, [r4, r3, lsl #2]
 3281 00a8 9B69     		ldr	r3, [r3, #24]
 3282 00aa 4BB1     		cbz	r3, .L263
1320:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataOut(pdev, epnum);
 3283              		.loc 1 1320 0
 3284 00ac C4F8D402 		str	r0, [r4, #724]
1321:application-library/usb-cdc-device.c ****         }
 3285              		.loc 1 1321 0
 3286 00b0 AE32     		adds	r2, r2, #174
 3287 00b2 54F82230 		ldr	r3, [r4, r2, lsl #2]
 3288 00b6 9B69     		ldr	r3, [r3, #24]
 3289 00b8 2946     		mov	r1, r5
 3290 00ba 2046     		mov	r0, r4
 3291              	.LVL377:
 3292 00bc 9847     		blx	r3
 3293              	.LVL378:
 3294 00be 38BD     		pop	{r3, r4, r5, pc}
 3295              	.LVL379:
 3296              	.L263:
1248:application-library/usb-cdc-device.c ****   uint8_t idx;
 3297              		.loc 1 1248 0
 3298 00c0 0020     		movs	r0, #0
 3299              	.LVL380:
 3300 00c2 38BD     		pop	{r3, r4, r5, pc}
 3301              	.LVL381:
 3302              	.L261:
1331:application-library/usb-cdc-device.c **** }
 3303              		.loc 1 1331 0
 3304 00c4 0020     		movs	r0, #0
 3305              	.LVL382:
1332:application-library/usb-cdc-device.c **** 
 3306              		.loc 1 1332 0
 3307 00c6 38BD     		pop	{r3, r4, r5, pc}
 3308              		.cfi_endproc
 3309              	.LFE163:
 3311              		.section	.text.USBD_StdItfReq,"ax",%progbits
ARM GAS  /tmp/ccSzmojl.s 			page 117


 3312              		.align	1
 3313              		.global	USBD_StdItfReq
 3314              		.syntax unified
 3315              		.thumb
 3316              		.thumb_func
 3317              		.fpu fpv4-sp-d16
 3319              	USBD_StdItfReq:
 3320              	.LFB178:
1773:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 3321              		.loc 1 1773 0
 3322              		.cfi_startproc
 3323              		@ args = 0, pretend = 0, frame = 0
 3324              		@ frame_needed = 0, uses_anonymous_args = 0
 3325              	.LVL383:
 3326 0000 70B5     		push	{r4, r5, r6, lr}
 3327              	.LCFI51:
 3328              		.cfi_def_cfa_offset 16
 3329              		.cfi_offset 4, -16
 3330              		.cfi_offset 5, -12
 3331              		.cfi_offset 6, -8
 3332              		.cfi_offset 14, -4
 3333 0002 0546     		mov	r5, r0
 3334 0004 0C46     		mov	r4, r1
 3335              	.LVL384:
1777:application-library/usb-cdc-device.c ****   {
 3336              		.loc 1 1777 0
 3337 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 3338 0008 03F06003 		and	r3, r3, #96
 3339 000c 202B     		cmp	r3, #32
 3340 000e 07D0     		beq	.L271
 3341 0010 402B     		cmp	r3, #64
 3342 0012 05D0     		beq	.L271
 3343 0014 23B1     		cbz	r3, .L271
1830:application-library/usb-cdc-device.c ****       break;
 3344              		.loc 1 1830 0
 3345 0016 FFF7FEFF 		bl	USBD_CtlError
 3346              	.LVL385:
1774:application-library/usb-cdc-device.c ****   uint8_t idx;
 3347              		.loc 1 1774 0
 3348 001a 0026     		movs	r6, #0
 3349              	.LVL386:
 3350              	.L276:
1835:application-library/usb-cdc-device.c **** 
 3351              		.loc 1 1835 0
 3352 001c 3046     		mov	r0, r6
 3353 001e 70BD     		pop	{r4, r5, r6, pc}
 3354              	.LVL387:
 3355              	.L271:
1782:application-library/usb-cdc-device.c ****       {
 3356              		.loc 1 1782 0
 3357 0020 95F89C32 		ldrb	r3, [r5, #668]	@ zero_extendqisi2
 3358 0024 013B     		subs	r3, r3, #1
 3359 0026 022B     		cmp	r3, #2
 3360 0028 1FD8     		bhi	.L272
1788:application-library/usb-cdc-device.c ****           {
 3361              		.loc 1 1788 0
 3362 002a 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
ARM GAS  /tmp/ccSzmojl.s 			page 118


 3363 002c 012B     		cmp	r3, #1
 3364 002e 16D8     		bhi	.L274
 3365              	.LVL388:
1795:application-library/usb-cdc-device.c ****               {
 3366              		.loc 1 1795 0
 3367 0030 D5F8B832 		ldr	r3, [r5, #696]
 3368 0034 9A68     		ldr	r2, [r3, #8]
 3369 0036 82B1     		cbz	r2, .L277
1797:application-library/usb-cdc-device.c ****                 ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
 3370              		.loc 1 1797 0
 3371 0038 0022     		movs	r2, #0
 3372 003a C5F8D422 		str	r2, [r5, #724]
1798:application-library/usb-cdc-device.c ****               }
 3373              		.loc 1 1798 0
 3374 003e 9B68     		ldr	r3, [r3, #8]
 3375 0040 2146     		mov	r1, r4
 3376              	.LVL389:
 3377 0042 2846     		mov	r0, r5
 3378              	.LVL390:
 3379 0044 9847     		blx	r3
 3380              	.LVL391:
 3381 0046 0646     		mov	r6, r0
 3382              	.LVL392:
 3383              	.L275:
1812:application-library/usb-cdc-device.c ****             {
 3384              		.loc 1 1812 0
 3385 0048 E388     		ldrh	r3, [r4, #6]
 3386 004a 002B     		cmp	r3, #0
 3387 004c E6D1     		bne	.L276
1812:application-library/usb-cdc-device.c ****             {
 3388              		.loc 1 1812 0 is_stmt 0 discriminator 1
 3389 004e 002E     		cmp	r6, #0
 3390 0050 E4D1     		bne	.L276
1814:application-library/usb-cdc-device.c ****             }
 3391              		.loc 1 1814 0 is_stmt 1
 3392 0052 2846     		mov	r0, r5
 3393 0054 FFF7FEFF 		bl	USBD_CtlSendStatus
 3394              	.LVL393:
 3395 0058 E0E7     		b	.L276
 3396              	.LVL394:
 3397              	.L277:
1803:application-library/usb-cdc-device.c ****               }
 3398              		.loc 1 1803 0
 3399 005a 0326     		movs	r6, #3
 3400 005c F4E7     		b	.L275
 3401              	.LVL395:
 3402              	.L274:
1819:application-library/usb-cdc-device.c ****           }
 3403              		.loc 1 1819 0
 3404 005e 2146     		mov	r1, r4
 3405              	.LVL396:
 3406 0060 2846     		mov	r0, r5
 3407              	.LVL397:
 3408 0062 FFF7FEFF 		bl	USBD_CtlError
 3409              	.LVL398:
1774:application-library/usb-cdc-device.c ****   uint8_t idx;
 3410              		.loc 1 1774 0
ARM GAS  /tmp/ccSzmojl.s 			page 119


 3411 0066 0026     		movs	r6, #0
 3412 0068 D8E7     		b	.L276
 3413              	.LVL399:
 3414              	.L272:
1824:application-library/usb-cdc-device.c ****           break;
 3415              		.loc 1 1824 0
 3416 006a 2146     		mov	r1, r4
 3417              	.LVL400:
 3418 006c 2846     		mov	r0, r5
 3419              	.LVL401:
 3420 006e FFF7FEFF 		bl	USBD_CtlError
 3421              	.LVL402:
1774:application-library/usb-cdc-device.c ****   uint8_t idx;
 3422              		.loc 1 1774 0
 3423 0072 0026     		movs	r6, #0
1825:application-library/usb-cdc-device.c ****       }
 3424              		.loc 1 1825 0
 3425 0074 D2E7     		b	.L276
 3426              		.cfi_endproc
 3427              	.LFE178:
 3429              		.section	.text.USBD_StdEPReq,"ax",%progbits
 3430              		.align	1
 3431              		.global	USBD_StdEPReq
 3432              		.syntax unified
 3433              		.thumb
 3434              		.thumb_func
 3435              		.fpu fpv4-sp-d16
 3437              	USBD_StdEPReq:
 3438              	.LFB179:
1845:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 3439              		.loc 1 1845 0
 3440              		.cfi_startproc
 3441              		@ args = 0, pretend = 0, frame = 0
 3442              		@ frame_needed = 0, uses_anonymous_args = 0
 3443              	.LVL403:
 3444 0000 70B5     		push	{r4, r5, r6, lr}
 3445              	.LCFI52:
 3446              		.cfi_def_cfa_offset 16
 3447              		.cfi_offset 4, -16
 3448              		.cfi_offset 5, -12
 3449              		.cfi_offset 6, -8
 3450              		.cfi_offset 14, -4
 3451 0002 0546     		mov	r5, r0
 3452 0004 0C46     		mov	r4, r1
 3453              	.LVL404:
1851:application-library/usb-cdc-device.c **** 
 3454              		.loc 1 1851 0
 3455 0006 8A88     		ldrh	r2, [r1, #4]
 3456 0008 D6B2     		uxtb	r6, r2
 3457              	.LVL405:
1853:application-library/usb-cdc-device.c ****   {
 3458              		.loc 1 1853 0
 3459 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 3460 000c 03F06003 		and	r3, r3, #96
 3461 0010 202B     		cmp	r3, #32
 3462 0012 06D0     		beq	.L282
 3463 0014 402B     		cmp	r3, #64
ARM GAS  /tmp/ccSzmojl.s 			page 120


 3464 0016 04D0     		beq	.L282
 3465 0018 C3B1     		cbz	r3, .L324
2018:application-library/usb-cdc-device.c ****       break;
 3466              		.loc 1 2018 0
 3467 001a FFF7FEFF 		bl	USBD_CtlError
 3468              	.LVL406:
1849:application-library/usb-cdc-device.c **** 
 3469              		.loc 1 1849 0
 3470 001e 0020     		movs	r0, #0
2019:application-library/usb-cdc-device.c ****   }
 3471              		.loc 1 2019 0
 3472 0020 70BD     		pop	{r4, r5, r6, pc}
 3473              	.LVL407:
 3474              	.L282:
1858:application-library/usb-cdc-device.c ****       if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
 3475              		.loc 1 1858 0
 3476 0022 3146     		mov	r1, r6
 3477              	.LVL408:
 3478 0024 2846     		mov	r0, r5
 3479              	.LVL409:
 3480 0026 FFF7FEFF 		bl	USBD_CoreFindEP
 3481              	.LVL410:
1859:application-library/usb-cdc-device.c ****       {
 3482              		.loc 1 1859 0
 3483 002a 0028     		cmp	r0, #0
 3484 002c 40F00281 		bne	.L313
1861:application-library/usb-cdc-device.c ****         /* Call the class data out function to manage the request */
 3485              		.loc 1 1861 0
 3486 0030 C5F8D402 		str	r0, [r5, #724]
1863:application-library/usb-cdc-device.c ****         {
 3487              		.loc 1 1863 0
 3488 0034 00F1AE02 		add	r2, r0, #174
 3489 0038 55F82220 		ldr	r2, [r5, r2, lsl #2]
 3490 003c 9268     		ldr	r2, [r2, #8]
 3491 003e 002A     		cmp	r2, #0
 3492 0040 00F0FA80 		beq	.L314
1865:application-library/usb-cdc-device.c ****         }
 3493              		.loc 1 1865 0
 3494 0044 2146     		mov	r1, r4
 3495 0046 2846     		mov	r0, r5
 3496              	.LVL411:
 3497 0048 9047     		blx	r2
 3498              	.LVL412:
 3499 004a 70BD     		pop	{r4, r5, r6, pc}
 3500              	.LVL413:
 3501              	.L324:
1871:application-library/usb-cdc-device.c ****       {
 3502              		.loc 1 1871 0
 3503 004c 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 3504 004e 012B     		cmp	r3, #1
 3505 0050 31D0     		beq	.L286
 3506 0052 002B     		cmp	r3, #0
 3507 0054 6FD0     		beq	.L287
 3508 0056 032B     		cmp	r3, #3
 3509 0058 40F0E880 		bne	.L319
1874:application-library/usb-cdc-device.c ****           {
 3510              		.loc 1 1874 0
ARM GAS  /tmp/ccSzmojl.s 			page 121


 3511 005c 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3512 0060 DBB2     		uxtb	r3, r3
 3513 0062 022B     		cmp	r3, #2
 3514 0064 05D0     		beq	.L290
 3515 0066 032B     		cmp	r3, #3
 3516 0068 15D0     		beq	.L291
1901:application-library/usb-cdc-device.c ****               break;
 3517              		.loc 1 1901 0
 3518 006a FFF7FEFF 		bl	USBD_CtlError
 3519              	.LVL414:
1849:application-library/usb-cdc-device.c **** 
 3520              		.loc 1 1849 0
 3521 006e 0020     		movs	r0, #0
1902:application-library/usb-cdc-device.c ****           }
 3522              		.loc 1 1902 0
 3523 0070 70BD     		pop	{r4, r5, r6, pc}
 3524              	.LVL415:
 3525              	.L290:
1877:application-library/usb-cdc-device.c ****               {
 3526              		.loc 1 1877 0
 3527 0072 56B1     		cbz	r6, .L292
1877:application-library/usb-cdc-device.c ****               {
 3528              		.loc 1 1877 0 is_stmt 0 discriminator 1
 3529 0074 802E     		cmp	r6, #128
 3530 0076 08D0     		beq	.L292
1879:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
 3531              		.loc 1 1879 0 is_stmt 1
 3532 0078 3146     		mov	r1, r6
 3533              	.LVL416:
 3534 007a FFF7FEFF 		bl	USBD_LL_StallEP
 3535              	.LVL417:
1880:application-library/usb-cdc-device.c ****               }
 3536              		.loc 1 1880 0
 3537 007e 8021     		movs	r1, #128
 3538 0080 2846     		mov	r0, r5
 3539 0082 FFF7FEFF 		bl	USBD_LL_StallEP
 3540              	.LVL418:
1849:application-library/usb-cdc-device.c **** 
 3541              		.loc 1 1849 0
 3542 0086 0020     		movs	r0, #0
1880:application-library/usb-cdc-device.c ****               }
 3543              		.loc 1 1880 0
 3544 0088 70BD     		pop	{r4, r5, r6, pc}
 3545              	.LVL419:
 3546              	.L292:
1884:application-library/usb-cdc-device.c ****               }
 3547              		.loc 1 1884 0
 3548 008a 2146     		mov	r1, r4
 3549              	.LVL420:
 3550 008c 2846     		mov	r0, r5
 3551              	.LVL421:
 3552 008e FFF7FEFF 		bl	USBD_CtlError
 3553              	.LVL422:
1849:application-library/usb-cdc-device.c **** 
 3554              		.loc 1 1849 0
 3555 0092 0020     		movs	r0, #0
 3556 0094 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccSzmojl.s 			page 122


 3557              	.LVL423:
 3558              	.L291:
1889:application-library/usb-cdc-device.c ****               {
 3559              		.loc 1 1889 0
 3560 0096 4B88     		ldrh	r3, [r1, #2]
 3561 0098 23B9     		cbnz	r3, .L293
1891:application-library/usb-cdc-device.c ****                 {
 3562              		.loc 1 1891 0
 3563 009a 1EB1     		cbz	r6, .L293
1891:application-library/usb-cdc-device.c ****                 {
 3564              		.loc 1 1891 0 is_stmt 0 discriminator 1
 3565 009c 802E     		cmp	r6, #128
 3566 009e 01D0     		beq	.L293
1891:application-library/usb-cdc-device.c ****                 {
 3567              		.loc 1 1891 0 discriminator 2
 3568 00a0 CB88     		ldrh	r3, [r1, #6]
 3569 00a2 23B1     		cbz	r3, .L325
 3570              	.LVL424:
 3571              	.L293:
1896:application-library/usb-cdc-device.c **** 
 3572              		.loc 1 1896 0 is_stmt 1
 3573 00a4 2846     		mov	r0, r5
 3574 00a6 FFF7FEFF 		bl	USBD_CtlSendStatus
 3575              	.LVL425:
1849:application-library/usb-cdc-device.c **** 
 3576              		.loc 1 1849 0
 3577 00aa 0020     		movs	r0, #0
1898:application-library/usb-cdc-device.c **** 
 3578              		.loc 1 1898 0
 3579 00ac 70BD     		pop	{r4, r5, r6, pc}
 3580              	.LVL426:
 3581              	.L325:
1893:application-library/usb-cdc-device.c ****                 }
 3582              		.loc 1 1893 0
 3583 00ae 3146     		mov	r1, r6
 3584              	.LVL427:
 3585 00b0 FFF7FEFF 		bl	USBD_LL_StallEP
 3586              	.LVL428:
 3587 00b4 F6E7     		b	.L293
 3588              	.LVL429:
 3589              	.L286:
1908:application-library/usb-cdc-device.c ****           {
 3590              		.loc 1 1908 0
 3591 00b6 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3592 00ba DBB2     		uxtb	r3, r3
 3593 00bc 022B     		cmp	r3, #2
 3594 00be 05D0     		beq	.L295
 3595 00c0 032B     		cmp	r3, #3
 3596 00c2 15D0     		beq	.L296
1946:application-library/usb-cdc-device.c ****               break;
 3597              		.loc 1 1946 0
 3598 00c4 FFF7FEFF 		bl	USBD_CtlError
 3599              	.LVL430:
1849:application-library/usb-cdc-device.c **** 
 3600              		.loc 1 1849 0
 3601 00c8 0020     		movs	r0, #0
1947:application-library/usb-cdc-device.c ****           }
ARM GAS  /tmp/ccSzmojl.s 			page 123


 3602              		.loc 1 1947 0
 3603 00ca 70BD     		pop	{r4, r5, r6, pc}
 3604              	.LVL431:
 3605              	.L295:
1911:application-library/usb-cdc-device.c ****               {
 3606              		.loc 1 1911 0
 3607 00cc 56B1     		cbz	r6, .L297
1911:application-library/usb-cdc-device.c ****               {
 3608              		.loc 1 1911 0 is_stmt 0 discriminator 1
 3609 00ce 802E     		cmp	r6, #128
 3610 00d0 08D0     		beq	.L297
1913:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
 3611              		.loc 1 1913 0 is_stmt 1
 3612 00d2 3146     		mov	r1, r6
 3613              	.LVL432:
 3614 00d4 FFF7FEFF 		bl	USBD_LL_StallEP
 3615              	.LVL433:
1914:application-library/usb-cdc-device.c ****               }
 3616              		.loc 1 1914 0
 3617 00d8 8021     		movs	r1, #128
 3618 00da 2846     		mov	r0, r5
 3619 00dc FFF7FEFF 		bl	USBD_LL_StallEP
 3620              	.LVL434:
1849:application-library/usb-cdc-device.c **** 
 3621              		.loc 1 1849 0
 3622 00e0 0020     		movs	r0, #0
1914:application-library/usb-cdc-device.c ****               }
 3623              		.loc 1 1914 0
 3624 00e2 70BD     		pop	{r4, r5, r6, pc}
 3625              	.LVL435:
 3626              	.L297:
1918:application-library/usb-cdc-device.c ****               }
 3627              		.loc 1 1918 0
 3628 00e4 2146     		mov	r1, r4
 3629              	.LVL436:
 3630 00e6 2846     		mov	r0, r5
 3631              	.LVL437:
 3632 00e8 FFF7FEFF 		bl	USBD_CtlError
 3633              	.LVL438:
1849:application-library/usb-cdc-device.c **** 
 3634              		.loc 1 1849 0
 3635 00ec 0020     		movs	r0, #0
 3636 00ee 70BD     		pop	{r4, r5, r6, pc}
 3637              	.LVL439:
 3638              	.L296:
1923:application-library/usb-cdc-device.c ****               {
 3639              		.loc 1 1923 0
 3640 00f0 4B88     		ldrh	r3, [r1, #2]
 3641 00f2 002B     		cmp	r3, #0
 3642 00f4 40F0A280 		bne	.L315
1925:application-library/usb-cdc-device.c ****                 {
 3643              		.loc 1 1925 0
 3644 00f8 16F07F0F 		tst	r6, #127
 3645 00fc 17D1     		bne	.L326
 3646              	.LVL440:
 3647              	.L298:
1929:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 124


 3648              		.loc 1 1929 0
 3649 00fe 2846     		mov	r0, r5
 3650 0100 FFF7FEFF 		bl	USBD_CtlSendStatus
 3651              	.LVL441:
1932:application-library/usb-cdc-device.c ****                 if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
 3652              		.loc 1 1932 0
 3653 0104 3146     		mov	r1, r6
 3654 0106 2846     		mov	r0, r5
 3655 0108 FFF7FEFF 		bl	USBD_CoreFindEP
 3656              	.LVL442:
1933:application-library/usb-cdc-device.c ****                 {
 3657              		.loc 1 1933 0
 3658 010c 0346     		mov	r3, r0
 3659 010e 0028     		cmp	r0, #0
 3660 0110 40F09680 		bne	.L316
1935:application-library/usb-cdc-device.c ****                   /* Call the class data out function to manage the request */
 3661              		.loc 1 1935 0
 3662 0114 C5F8D402 		str	r0, [r5, #724]
1937:application-library/usb-cdc-device.c ****                   {
 3663              		.loc 1 1937 0
 3664 0118 AE33     		adds	r3, r3, #174
 3665 011a 55F82330 		ldr	r3, [r5, r3, lsl #2]
 3666 011e 9B68     		ldr	r3, [r3, #8]
 3667 0120 002B     		cmp	r3, #0
 3668 0122 00F08F80 		beq	.L317
1939:application-library/usb-cdc-device.c ****                   }
 3669              		.loc 1 1939 0
 3670 0126 2146     		mov	r1, r4
 3671 0128 2846     		mov	r0, r5
 3672              	.LVL443:
 3673 012a 9847     		blx	r3
 3674              	.LVL444:
 3675 012c 70BD     		pop	{r4, r5, r6, pc}
 3676              	.LVL445:
 3677              	.L326:
1927:application-library/usb-cdc-device.c ****                 }
 3678              		.loc 1 1927 0
 3679 012e 3146     		mov	r1, r6
 3680              	.LVL446:
 3681 0130 FFF7FEFF 		bl	USBD_LL_ClearStallEP
 3682              	.LVL447:
 3683 0134 E3E7     		b	.L298
 3684              	.LVL448:
 3685              	.L287:
1952:application-library/usb-cdc-device.c ****           {
 3686              		.loc 1 1952 0
 3687 0136 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3688 013a DBB2     		uxtb	r3, r3
 3689 013c 022B     		cmp	r3, #2
 3690 013e 05D0     		beq	.L300
 3691 0140 032B     		cmp	r3, #3
 3692 0142 28D0     		beq	.L301
2006:application-library/usb-cdc-device.c ****               break;
 3693              		.loc 1 2006 0
 3694 0144 FFF7FEFF 		bl	USBD_CtlError
 3695              	.LVL449:
1849:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 125


 3696              		.loc 1 1849 0
 3697 0148 0020     		movs	r0, #0
2007:application-library/usb-cdc-device.c ****           }
 3698              		.loc 1 2007 0
 3699 014a 70BD     		pop	{r4, r5, r6, pc}
 3700              	.LVL450:
 3701              	.L300:
1955:application-library/usb-cdc-device.c ****               {
 3702              		.loc 1 1955 0
 3703 014c 0EB1     		cbz	r6, .L302
1955:application-library/usb-cdc-device.c ****               {
 3704              		.loc 1 1955 0 is_stmt 0 discriminator 1
 3705 014e 802E     		cmp	r6, #128
 3706 0150 13D1     		bne	.L327
 3707              	.L302:
1960:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3708              		.loc 1 1960 0 is_stmt 1
 3709 0152 12F0800F 		tst	r2, #128
 3710 0156 14D1     		bne	.L328
1961:application-library/usb-cdc-device.c **** 
 3711              		.loc 1 1961 0 discriminator 2
 3712 0158 06F07F06 		and	r6, r6, #127
 3713              	.LVL451:
1960:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3714              		.loc 1 1960 0 discriminator 2
 3715 015c 06EB8606 		add	r6, r6, r6, lsl #2
 3716 0160 B300     		lsls	r3, r6, #2
 3717 0162 03F5A871 		add	r1, r3, #336
 3718              	.LVL452:
 3719 0166 2944     		add	r1, r1, r5
 3720 0168 0431     		adds	r1, r1, #4
 3721              	.L304:
 3722              	.LVL453:
1963:application-library/usb-cdc-device.c **** 
 3723              		.loc 1 1963 0 discriminator 4
 3724 016a 0024     		movs	r4, #0
 3725              	.LVL454:
 3726 016c 0C60     		str	r4, [r1]
1965:application-library/usb-cdc-device.c ****               break;
 3727              		.loc 1 1965 0 discriminator 4
 3728 016e 0222     		movs	r2, #2
 3729              	.LVL455:
 3730 0170 2846     		mov	r0, r5
 3731              	.LVL456:
 3732 0172 FFF7FEFF 		bl	USBD_CtlSendData
 3733              	.LVL457:
1849:application-library/usb-cdc-device.c **** 
 3734              		.loc 1 1849 0 discriminator 4
 3735 0176 2046     		mov	r0, r4
1966:application-library/usb-cdc-device.c **** 
 3736              		.loc 1 1966 0 discriminator 4
 3737 0178 70BD     		pop	{r4, r5, r6, pc}
 3738              	.LVL458:
 3739              	.L327:
1957:application-library/usb-cdc-device.c ****                 break;
 3740              		.loc 1 1957 0
 3741 017a FFF7FEFF 		bl	USBD_CtlError
ARM GAS  /tmp/ccSzmojl.s 			page 126


 3742              	.LVL459:
1849:application-library/usb-cdc-device.c **** 
 3743              		.loc 1 1849 0
 3744 017e 0020     		movs	r0, #0
1958:application-library/usb-cdc-device.c ****               }
 3745              		.loc 1 1958 0
 3746 0180 70BD     		pop	{r4, r5, r6, pc}
 3747              	.LVL460:
 3748              	.L328:
1960:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3749              		.loc 1 1960 0 discriminator 1
 3750 0182 06F07F06 		and	r6, r6, #127
 3751              	.LVL461:
 3752 0186 06EB8606 		add	r6, r6, r6, lsl #2
 3753 018a B300     		lsls	r3, r6, #2
 3754 018c 03F11001 		add	r1, r3, #16
 3755              	.LVL462:
 3756 0190 2944     		add	r1, r1, r5
 3757 0192 0431     		adds	r1, r1, #4
 3758 0194 E9E7     		b	.L304
 3759              	.LVL463:
 3760              	.L301:
1969:application-library/usb-cdc-device.c ****               {
 3761              		.loc 1 1969 0
 3762 0196 52B2     		sxtb	r2, r2
 3763 0198 002A     		cmp	r2, #0
 3764 019a 1EDB     		blt	.L329
1979:application-library/usb-cdc-device.c ****                 {
 3765              		.loc 1 1979 0
 3766 019c 06F00F03 		and	r3, r6, #15
 3767 01a0 03EB8303 		add	r3, r3, r3, lsl #2
 3768 01a4 9900     		lsls	r1, r3, #2
 3769              	.LVL464:
 3770 01a6 0144     		add	r1, r1, r0
 3771 01a8 B1F86431 		ldrh	r3, [r1, #356]
 3772 01ac 1BB3     		cbz	r3, .L330
 3773              	.L306:
1986:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3774              		.loc 1 1986 0
 3775 01ae 002A     		cmp	r2, #0
 3776 01b0 26DB     		blt	.L331
1987:application-library/usb-cdc-device.c **** 
 3777              		.loc 1 1987 0 discriminator 2
 3778 01b2 06F07F02 		and	r2, r6, #127
1986:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3779              		.loc 1 1986 0 discriminator 2
 3780 01b6 02EB8202 		add	r2, r2, r2, lsl #2
 3781 01ba 9300     		lsls	r3, r2, #2
 3782 01bc 03F5A874 		add	r4, r3, #336
 3783              	.LVL465:
 3784 01c0 2C44     		add	r4, r4, r5
 3785 01c2 0434     		adds	r4, r4, #4
 3786              	.L308:
 3787              	.LVL466:
1989:application-library/usb-cdc-device.c ****               {
 3788              		.loc 1 1989 0 discriminator 4
 3789 01c4 36B3     		cbz	r6, .L309
ARM GAS  /tmp/ccSzmojl.s 			page 127


1989:application-library/usb-cdc-device.c ****               {
 3790              		.loc 1 1989 0 is_stmt 0 discriminator 1
 3791 01c6 802E     		cmp	r6, #128
 3792 01c8 24D0     		beq	.L309
1993:application-library/usb-cdc-device.c ****               {
 3793              		.loc 1 1993 0 is_stmt 1
 3794 01ca 3146     		mov	r1, r6
 3795 01cc 2846     		mov	r0, r5
 3796              	.LVL467:
 3797 01ce FFF7FEFF 		bl	USBD_LL_IsStallEP
 3798              	.LVL468:
 3799 01d2 40B3     		cbz	r0, .L312
1995:application-library/usb-cdc-device.c ****               }
 3800              		.loc 1 1995 0
 3801 01d4 0123     		movs	r3, #1
 3802 01d6 2360     		str	r3, [r4]
 3803 01d8 1EE0     		b	.L311
 3804              	.LVL469:
 3805              	.L329:
1971:application-library/usb-cdc-device.c ****                 {
 3806              		.loc 1 1971 0
 3807 01da 06F00F03 		and	r3, r6, #15
 3808 01de 03EB8303 		add	r3, r3, r3, lsl #2
 3809 01e2 9900     		lsls	r1, r3, #2
 3810              	.LVL470:
 3811 01e4 0144     		add	r1, r1, r0
 3812 01e6 8B8C     		ldrh	r3, [r1, #36]
 3813 01e8 002B     		cmp	r3, #0
 3814 01ea E0D1     		bne	.L306
1973:application-library/usb-cdc-device.c ****                   break;
 3815              		.loc 1 1973 0
 3816 01ec 2146     		mov	r1, r4
 3817 01ee FFF7FEFF 		bl	USBD_CtlError
 3818              	.LVL471:
1849:application-library/usb-cdc-device.c **** 
 3819              		.loc 1 1849 0
 3820 01f2 0020     		movs	r0, #0
1974:application-library/usb-cdc-device.c ****                 }
 3821              		.loc 1 1974 0
 3822 01f4 70BD     		pop	{r4, r5, r6, pc}
 3823              	.LVL472:
 3824              	.L330:
1981:application-library/usb-cdc-device.c ****                   break;
 3825              		.loc 1 1981 0
 3826 01f6 2146     		mov	r1, r4
 3827 01f8 FFF7FEFF 		bl	USBD_CtlError
 3828              	.LVL473:
1849:application-library/usb-cdc-device.c **** 
 3829              		.loc 1 1849 0
 3830 01fc 0020     		movs	r0, #0
1982:application-library/usb-cdc-device.c ****                 }
 3831              		.loc 1 1982 0
 3832 01fe 70BD     		pop	{r4, r5, r6, pc}
 3833              	.LVL474:
 3834              	.L331:
1986:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3835              		.loc 1 1986 0 discriminator 1
ARM GAS  /tmp/ccSzmojl.s 			page 128


 3836 0200 06F07F02 		and	r2, r6, #127
 3837 0204 02EB8202 		add	r2, r2, r2, lsl #2
 3838 0208 9300     		lsls	r3, r2, #2
 3839 020a 03F11004 		add	r4, r3, #16
 3840              	.LVL475:
 3841 020e 2C44     		add	r4, r4, r5
 3842 0210 0434     		adds	r4, r4, #4
 3843 0212 D7E7     		b	.L308
 3844              	.LVL476:
 3845              	.L309:
1991:application-library/usb-cdc-device.c ****               }
 3846              		.loc 1 1991 0
 3847 0214 0023     		movs	r3, #0
 3848 0216 2360     		str	r3, [r4]
 3849              	.LVL477:
 3850              	.L311:
2002:application-library/usb-cdc-device.c ****               break;
 3851              		.loc 1 2002 0
 3852 0218 0222     		movs	r2, #2
 3853 021a 2146     		mov	r1, r4
 3854 021c 2846     		mov	r0, r5
 3855 021e FFF7FEFF 		bl	USBD_CtlSendData
 3856              	.LVL478:
1849:application-library/usb-cdc-device.c **** 
 3857              		.loc 1 1849 0
 3858 0222 0020     		movs	r0, #0
2003:application-library/usb-cdc-device.c **** 
 3859              		.loc 1 2003 0
 3860 0224 70BD     		pop	{r4, r5, r6, pc}
 3861              	.LVL479:
 3862              	.L312:
1999:application-library/usb-cdc-device.c ****               }
 3863              		.loc 1 1999 0
 3864 0226 0023     		movs	r3, #0
 3865 0228 2360     		str	r3, [r4]
 3866 022a F5E7     		b	.L311
 3867              	.LVL480:
 3868              	.L319:
2012:application-library/usb-cdc-device.c ****           break;
 3869              		.loc 1 2012 0
 3870 022c FFF7FEFF 		bl	USBD_CtlError
 3871              	.LVL481:
1849:application-library/usb-cdc-device.c **** 
 3872              		.loc 1 1849 0
 3873 0230 0020     		movs	r0, #0
2013:application-library/usb-cdc-device.c ****       }
 3874              		.loc 1 2013 0
 3875 0232 70BD     		pop	{r4, r5, r6, pc}
 3876              	.LVL482:
 3877              	.L313:
1849:application-library/usb-cdc-device.c **** 
 3878              		.loc 1 1849 0
 3879 0234 0020     		movs	r0, #0
 3880              	.LVL483:
 3881 0236 70BD     		pop	{r4, r5, r6, pc}
 3882              	.LVL484:
 3883              	.L314:
ARM GAS  /tmp/ccSzmojl.s 			page 129


 3884 0238 0020     		movs	r0, #0
 3885              	.LVL485:
 3886 023a 70BD     		pop	{r4, r5, r6, pc}
 3887              	.LVL486:
 3888              	.L315:
 3889 023c 0020     		movs	r0, #0
 3890              	.LVL487:
 3891 023e 70BD     		pop	{r4, r5, r6, pc}
 3892              	.LVL488:
 3893              	.L316:
 3894 0240 0020     		movs	r0, #0
 3895              	.LVL489:
 3896 0242 70BD     		pop	{r4, r5, r6, pc}
 3897              	.LVL490:
 3898              	.L317:
 3899 0244 0020     		movs	r0, #0
 3900              	.LVL491:
2023:application-library/usb-cdc-device.c **** 
 3901              		.loc 1 2023 0
 3902 0246 70BD     		pop	{r4, r5, r6, pc}
 3903              		.cfi_endproc
 3904              	.LFE179:
 3906              		.section	.text.USBD_GetDescriptor,"ax",%progbits
 3907              		.align	1
 3908              		.global	USBD_GetDescriptor
 3909              		.syntax unified
 3910              		.thumb
 3911              		.thumb_func
 3912              		.fpu fpv4-sp-d16
 3914              	USBD_GetDescriptor:
 3915              	.LFB180:
2033:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 3916              		.loc 1 2033 0
 3917              		.cfi_startproc
 3918              		@ args = 0, pretend = 0, frame = 8
 3919              		@ frame_needed = 0, uses_anonymous_args = 0
 3920              	.LVL492:
 3921 0000 30B5     		push	{r4, r5, lr}
 3922              	.LCFI53:
 3923              		.cfi_def_cfa_offset 12
 3924              		.cfi_offset 4, -12
 3925              		.cfi_offset 5, -8
 3926              		.cfi_offset 14, -4
 3927 0002 83B0     		sub	sp, sp, #12
 3928              	.LCFI54:
 3929              		.cfi_def_cfa_offset 24
 3930 0004 0446     		mov	r4, r0
 3931 0006 0D46     		mov	r5, r1
2034:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
 3932              		.loc 1 2034 0
 3933 0008 0023     		movs	r3, #0
 3934 000a ADF80630 		strh	r3, [sp, #6]	@ movhi
 3935              	.LVL493:
2038:application-library/usb-cdc-device.c ****   {
 3936              		.loc 1 2038 0
 3937 000e 4A88     		ldrh	r2, [r1, #2]
 3938 0010 130A     		lsrs	r3, r2, #8
ARM GAS  /tmp/ccSzmojl.s 			page 130


 3939 0012 013B     		subs	r3, r3, #1
 3940 0014 062B     		cmp	r3, #6
 3941 0016 00F2C980 		bhi	.L333
 3942 001a DFE803F0 		tbb	[pc, r3]
 3943              	.LVL494:
 3944              	.L335:
 3945 001e 04       		.byte	(.L334-.L335)/2
 3946 001f 21       		.byte	(.L336-.L335)/2
 3947 0020 37       		.byte	(.L337-.L335)/2
 3948 0021 C7       		.byte	(.L333-.L335)/2
 3949 0022 C7       		.byte	(.L333-.L335)/2
 3950 0023 A5       		.byte	(.L338-.L335)/2
 3951 0024 B5       		.byte	(.L339-.L335)/2
 3952 0025 00       		.p2align 1
 3953              	.L334:
2041:application-library/usb-cdc-device.c ****       break;
 3954              		.loc 1 2041 0
 3955 0026 D0F8B432 		ldr	r3, [r0, #692]
 3956 002a 1B68     		ldr	r3, [r3]
 3957 002c 0DF10601 		add	r1, sp, #6
 3958 0030 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3959              	.LVL495:
 3960 0032 9847     		blx	r3
 3961              	.LVL496:
2036:application-library/usb-cdc-device.c **** 
 3962              		.loc 1 2036 0
 3963 0034 0023     		movs	r3, #0
 3964              	.LVL497:
 3965              	.L340:
2173:application-library/usb-cdc-device.c ****   {
 3966              		.loc 1 2173 0
 3967 0036 8BB9     		cbnz	r3, .L332
2178:application-library/usb-cdc-device.c ****   {
 3968              		.loc 1 2178 0
 3969 0038 EA88     		ldrh	r2, [r5, #6]
 3970 003a 002A     		cmp	r2, #0
 3971 003c 00F0C180 		beq	.L359
2180:application-library/usb-cdc-device.c ****     {
 3972              		.loc 1 2180 0
 3973 0040 BDF80630 		ldrh	r3, [sp, #6]
 3974              	.LVL498:
 3975 0044 002B     		cmp	r3, #0
 3976 0046 00F0B780 		beq	.L360
2182:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, pbuf, len);
 3977              		.loc 1 2182 0
 3978 004a 9A42     		cmp	r2, r3
 3979 004c 28BF     		it	cs
 3980 004e 1A46     		movcs	r2, r3
 3981 0050 ADF80620 		strh	r2, [sp, #6]	@ movhi
2183:application-library/usb-cdc-device.c ****     }
 3982              		.loc 1 2183 0
 3983 0054 0146     		mov	r1, r0
 3984 0056 2046     		mov	r0, r4
 3985              	.LVL499:
 3986 0058 FFF7FEFF 		bl	USBD_CtlSendData
 3987              	.LVL500:
 3988              	.L332:
ARM GAS  /tmp/ccSzmojl.s 			page 131


2194:application-library/usb-cdc-device.c **** 
 3989              		.loc 1 2194 0
 3990 005c 03B0     		add	sp, sp, #12
 3991              	.LCFI55:
 3992              		.cfi_remember_state
 3993              		.cfi_def_cfa_offset 12
 3994              		@ sp needed
 3995 005e 30BD     		pop	{r4, r5, pc}
 3996              	.LVL501:
 3997              	.L336:
 3998              	.LCFI56:
 3999              		.cfi_restore_state
2045:application-library/usb-cdc-device.c ****       {
 4000              		.loc 1 2045 0
 4001 0060 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4002 0062 4BB9     		cbnz	r3, .L341
2047:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 4003              		.loc 1 2047 0
 4004 0064 D0F8B832 		ldr	r3, [r0, #696]
 4005 0068 9B6A     		ldr	r3, [r3, #40]
 4006 006a 0DF10600 		add	r0, sp, #6
 4007              	.LVL502:
 4008 006e 9847     		blx	r3
 4009              	.LVL503:
2048:application-library/usb-cdc-device.c ****       }
 4010              		.loc 1 2048 0
 4011 0070 0223     		movs	r3, #2
 4012 0072 4370     		strb	r3, [r0, #1]
2036:application-library/usb-cdc-device.c **** 
 4013              		.loc 1 2036 0
 4014 0074 0023     		movs	r3, #0
 4015 0076 DEE7     		b	.L340
 4016              	.LVL504:
 4017              	.L341:
2052:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 4018              		.loc 1 2052 0
 4019 0078 D0F8B832 		ldr	r3, [r0, #696]
 4020 007c DB6A     		ldr	r3, [r3, #44]
 4021 007e 0DF10600 		add	r0, sp, #6
 4022              	.LVL505:
 4023 0082 9847     		blx	r3
 4024              	.LVL506:
2053:application-library/usb-cdc-device.c ****       }
 4025              		.loc 1 2053 0
 4026 0084 0223     		movs	r3, #2
 4027 0086 4370     		strb	r3, [r0, #1]
2036:application-library/usb-cdc-device.c **** 
 4028              		.loc 1 2036 0
 4029 0088 0023     		movs	r3, #0
 4030 008a D4E7     		b	.L340
 4031              	.LVL507:
 4032              	.L337:
2058:application-library/usb-cdc-device.c ****       {
 4033              		.loc 1 2058 0
 4034 008c D2B2     		uxtb	r2, r2
 4035 008e 052A     		cmp	r2, #5
 4036 0090 64D8     		bhi	.L342
ARM GAS  /tmp/ccSzmojl.s 			page 132


 4037 0092 DFE802F0 		tbb	[pc, r2]
 4038              	.L344:
 4039 0096 03       		.byte	(.L343-.L344)/2
 4040 0097 13       		.byte	(.L345-.L344)/2
 4041 0098 23       		.byte	(.L346-.L344)/2
 4042 0099 33       		.byte	(.L347-.L344)/2
 4043 009a 43       		.byte	(.L348-.L344)/2
 4044 009b 53       		.byte	(.L349-.L344)/2
 4045              		.p2align 1
 4046              	.L343:
2061:application-library/usb-cdc-device.c ****           {
 4047              		.loc 1 2061 0
 4048 009c D0F8B432 		ldr	r3, [r0, #692]
 4049 00a0 5B68     		ldr	r3, [r3, #4]
 4050 00a2 2BB1     		cbz	r3, .L350
2063:application-library/usb-cdc-device.c ****           }
 4051              		.loc 1 2063 0
 4052 00a4 0DF10601 		add	r1, sp, #6
 4053 00a8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4054              	.LVL508:
 4055 00aa 9847     		blx	r3
 4056              	.LVL509:
2036:application-library/usb-cdc-device.c **** 
 4057              		.loc 1 2036 0
 4058 00ac 0023     		movs	r3, #0
 4059 00ae C2E7     		b	.L340
 4060              	.LVL510:
 4061              	.L350:
2067:application-library/usb-cdc-device.c ****             err++;
 4062              		.loc 1 2067 0
 4063 00b0 2946     		mov	r1, r5
 4064 00b2 FFF7FEFF 		bl	USBD_CtlError
 4065              	.LVL511:
2068:application-library/usb-cdc-device.c ****           }
 4066              		.loc 1 2068 0
 4067 00b6 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4068              		.loc 1 2035 0
 4069 00b8 0020     		movs	r0, #0
 4070 00ba BCE7     		b	.L340
 4071              	.LVL512:
 4072              	.L345:
2073:application-library/usb-cdc-device.c ****           {
 4073              		.loc 1 2073 0
 4074 00bc D0F8B432 		ldr	r3, [r0, #692]
 4075 00c0 9B68     		ldr	r3, [r3, #8]
 4076 00c2 2BB1     		cbz	r3, .L351
2075:application-library/usb-cdc-device.c ****           }
 4077              		.loc 1 2075 0
 4078 00c4 0DF10601 		add	r1, sp, #6
 4079 00c8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4080              	.LVL513:
 4081 00ca 9847     		blx	r3
 4082              	.LVL514:
2036:application-library/usb-cdc-device.c **** 
 4083              		.loc 1 2036 0
 4084 00cc 0023     		movs	r3, #0
ARM GAS  /tmp/ccSzmojl.s 			page 133


 4085 00ce B2E7     		b	.L340
 4086              	.LVL515:
 4087              	.L351:
2079:application-library/usb-cdc-device.c ****             err++;
 4088              		.loc 1 2079 0
 4089 00d0 2946     		mov	r1, r5
 4090 00d2 FFF7FEFF 		bl	USBD_CtlError
 4091              	.LVL516:
2080:application-library/usb-cdc-device.c ****           }
 4092              		.loc 1 2080 0
 4093 00d6 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4094              		.loc 1 2035 0
 4095 00d8 0020     		movs	r0, #0
 4096 00da ACE7     		b	.L340
 4097              	.LVL517:
 4098              	.L346:
2085:application-library/usb-cdc-device.c ****           {
 4099              		.loc 1 2085 0
 4100 00dc D0F8B432 		ldr	r3, [r0, #692]
 4101 00e0 DB68     		ldr	r3, [r3, #12]
 4102 00e2 2BB1     		cbz	r3, .L352
2087:application-library/usb-cdc-device.c ****           }
 4103              		.loc 1 2087 0
 4104 00e4 0DF10601 		add	r1, sp, #6
 4105 00e8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4106              	.LVL518:
 4107 00ea 9847     		blx	r3
 4108              	.LVL519:
2036:application-library/usb-cdc-device.c **** 
 4109              		.loc 1 2036 0
 4110 00ec 0023     		movs	r3, #0
 4111 00ee A2E7     		b	.L340
 4112              	.LVL520:
 4113              	.L352:
2091:application-library/usb-cdc-device.c ****             err++;
 4114              		.loc 1 2091 0
 4115 00f0 2946     		mov	r1, r5
 4116 00f2 FFF7FEFF 		bl	USBD_CtlError
 4117              	.LVL521:
2092:application-library/usb-cdc-device.c ****           }
 4118              		.loc 1 2092 0
 4119 00f6 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4120              		.loc 1 2035 0
 4121 00f8 0020     		movs	r0, #0
 4122 00fa 9CE7     		b	.L340
 4123              	.LVL522:
 4124              	.L347:
2097:application-library/usb-cdc-device.c ****           {
 4125              		.loc 1 2097 0
 4126 00fc D0F8B432 		ldr	r3, [r0, #692]
 4127 0100 1B69     		ldr	r3, [r3, #16]
 4128 0102 2BB1     		cbz	r3, .L353
2099:application-library/usb-cdc-device.c ****           }
 4129              		.loc 1 2099 0
 4130 0104 0DF10601 		add	r1, sp, #6
ARM GAS  /tmp/ccSzmojl.s 			page 134


 4131 0108 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4132              	.LVL523:
 4133 010a 9847     		blx	r3
 4134              	.LVL524:
2036:application-library/usb-cdc-device.c **** 
 4135              		.loc 1 2036 0
 4136 010c 0023     		movs	r3, #0
 4137 010e 92E7     		b	.L340
 4138              	.LVL525:
 4139              	.L353:
2103:application-library/usb-cdc-device.c ****             err++;
 4140              		.loc 1 2103 0
 4141 0110 2946     		mov	r1, r5
 4142 0112 FFF7FEFF 		bl	USBD_CtlError
 4143              	.LVL526:
2104:application-library/usb-cdc-device.c ****           }
 4144              		.loc 1 2104 0
 4145 0116 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4146              		.loc 1 2035 0
 4147 0118 0020     		movs	r0, #0
 4148 011a 8CE7     		b	.L340
 4149              	.LVL527:
 4150              	.L348:
2109:application-library/usb-cdc-device.c ****           {
 4151              		.loc 1 2109 0
 4152 011c D0F8B432 		ldr	r3, [r0, #692]
 4153 0120 5B69     		ldr	r3, [r3, #20]
 4154 0122 2BB1     		cbz	r3, .L354
2111:application-library/usb-cdc-device.c ****           }
 4155              		.loc 1 2111 0
 4156 0124 0DF10601 		add	r1, sp, #6
 4157 0128 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4158              	.LVL528:
 4159 012a 9847     		blx	r3
 4160              	.LVL529:
2036:application-library/usb-cdc-device.c **** 
 4161              		.loc 1 2036 0
 4162 012c 0023     		movs	r3, #0
 4163 012e 82E7     		b	.L340
 4164              	.LVL530:
 4165              	.L354:
2115:application-library/usb-cdc-device.c ****             err++;
 4166              		.loc 1 2115 0
 4167 0130 2946     		mov	r1, r5
 4168 0132 FFF7FEFF 		bl	USBD_CtlError
 4169              	.LVL531:
2116:application-library/usb-cdc-device.c ****           }
 4170              		.loc 1 2116 0
 4171 0136 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4172              		.loc 1 2035 0
 4173 0138 0020     		movs	r0, #0
 4174 013a 7CE7     		b	.L340
 4175              	.LVL532:
 4176              	.L349:
2121:application-library/usb-cdc-device.c ****           {
ARM GAS  /tmp/ccSzmojl.s 			page 135


 4177              		.loc 1 2121 0
 4178 013c D0F8B432 		ldr	r3, [r0, #692]
 4179 0140 9B69     		ldr	r3, [r3, #24]
 4180 0142 2BB1     		cbz	r3, .L355
2123:application-library/usb-cdc-device.c ****           }
 4181              		.loc 1 2123 0
 4182 0144 0DF10601 		add	r1, sp, #6
 4183 0148 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4184              	.LVL533:
 4185 014a 9847     		blx	r3
 4186              	.LVL534:
2036:application-library/usb-cdc-device.c **** 
 4187              		.loc 1 2036 0
 4188 014c 0023     		movs	r3, #0
 4189 014e 72E7     		b	.L340
 4190              	.LVL535:
 4191              	.L355:
2127:application-library/usb-cdc-device.c ****             err++;
 4192              		.loc 1 2127 0
 4193 0150 2946     		mov	r1, r5
 4194 0152 FFF7FEFF 		bl	USBD_CtlError
 4195              	.LVL536:
2128:application-library/usb-cdc-device.c ****           }
 4196              		.loc 1 2128 0
 4197 0156 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4198              		.loc 1 2035 0
 4199 0158 0020     		movs	r0, #0
 4200 015a 6CE7     		b	.L340
 4201              	.LVL537:
 4202              	.L342:
2135:application-library/usb-cdc-device.c ****           err++;
 4203              		.loc 1 2135 0
 4204 015c 2946     		mov	r1, r5
 4205 015e FFF7FEFF 		bl	USBD_CtlError
 4206              	.LVL538:
2136:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
 4207              		.loc 1 2136 0
 4208 0162 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4209              		.loc 1 2035 0
 4210 0164 0020     		movs	r0, #0
2138:application-library/usb-cdc-device.c ****       }
 4211              		.loc 1 2138 0
 4212 0166 66E7     		b	.L340
 4213              	.LVL539:
 4214              	.L338:
2143:application-library/usb-cdc-device.c ****       {
 4215              		.loc 1 2143 0
 4216 0168 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4217 016a 3BB9     		cbnz	r3, .L356
2145:application-library/usb-cdc-device.c ****       }
 4218              		.loc 1 2145 0
 4219 016c D0F8B832 		ldr	r3, [r0, #696]
 4220 0170 5B6B     		ldr	r3, [r3, #52]
 4221 0172 0DF10600 		add	r0, sp, #6
 4222              	.LVL540:
ARM GAS  /tmp/ccSzmojl.s 			page 136


 4223 0176 9847     		blx	r3
 4224              	.LVL541:
2036:application-library/usb-cdc-device.c **** 
 4225              		.loc 1 2036 0
 4226 0178 0023     		movs	r3, #0
 4227 017a 5CE7     		b	.L340
 4228              	.LVL542:
 4229              	.L356:
2149:application-library/usb-cdc-device.c ****         err++;
 4230              		.loc 1 2149 0
 4231 017c 2946     		mov	r1, r5
 4232 017e FFF7FEFF 		bl	USBD_CtlError
 4233              	.LVL543:
2150:application-library/usb-cdc-device.c ****       }
 4234              		.loc 1 2150 0
 4235 0182 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4236              		.loc 1 2035 0
 4237 0184 0020     		movs	r0, #0
 4238 0186 56E7     		b	.L340
 4239              	.LVL544:
 4240              	.L339:
2155:application-library/usb-cdc-device.c ****       {
 4241              		.loc 1 2155 0
 4242 0188 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4243 018a 4BB9     		cbnz	r3, .L357
2157:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
 4244              		.loc 1 2157 0
 4245 018c D0F8B832 		ldr	r3, [r0, #696]
 4246 0190 1B6B     		ldr	r3, [r3, #48]
 4247 0192 0DF10600 		add	r0, sp, #6
 4248              	.LVL545:
 4249 0196 9847     		blx	r3
 4250              	.LVL546:
2158:application-library/usb-cdc-device.c ****       }
 4251              		.loc 1 2158 0
 4252 0198 0723     		movs	r3, #7
 4253 019a 4370     		strb	r3, [r0, #1]
2036:application-library/usb-cdc-device.c **** 
 4254              		.loc 1 2036 0
 4255 019c 0023     		movs	r3, #0
 4256 019e 4AE7     		b	.L340
 4257              	.LVL547:
 4258              	.L357:
2162:application-library/usb-cdc-device.c ****         err++;
 4259              		.loc 1 2162 0
 4260 01a0 2946     		mov	r1, r5
 4261 01a2 FFF7FEFF 		bl	USBD_CtlError
 4262              	.LVL548:
2163:application-library/usb-cdc-device.c ****       }
 4263              		.loc 1 2163 0
 4264 01a6 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4265              		.loc 1 2035 0
 4266 01a8 0020     		movs	r0, #0
 4267 01aa 44E7     		b	.L340
 4268              	.LVL549:
ARM GAS  /tmp/ccSzmojl.s 			page 137


 4269              	.L333:
2168:application-library/usb-cdc-device.c ****       err++;
 4270              		.loc 1 2168 0
 4271 01ac 2946     		mov	r1, r5
 4272 01ae FFF7FEFF 		bl	USBD_CtlError
 4273              	.LVL550:
2169:application-library/usb-cdc-device.c ****       break;
 4274              		.loc 1 2169 0
 4275 01b2 0123     		movs	r3, #1
2035:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4276              		.loc 1 2035 0
 4277 01b4 0020     		movs	r0, #0
2170:application-library/usb-cdc-device.c ****   }
 4278              		.loc 1 2170 0
 4279 01b6 3EE7     		b	.L340
 4280              	.LVL551:
 4281              	.L360:
2187:application-library/usb-cdc-device.c ****     }
 4282              		.loc 1 2187 0
 4283 01b8 2946     		mov	r1, r5
 4284 01ba 2046     		mov	r0, r4
 4285              	.LVL552:
 4286 01bc FFF7FEFF 		bl	USBD_CtlError
 4287              	.LVL553:
 4288 01c0 4CE7     		b	.L332
 4289              	.LVL554:
 4290              	.L359:
2192:application-library/usb-cdc-device.c ****   }
 4291              		.loc 1 2192 0
 4292 01c2 2046     		mov	r0, r4
 4293              	.LVL555:
 4294 01c4 FFF7FEFF 		bl	USBD_CtlSendStatus
 4295              	.LVL556:
 4296 01c8 48E7     		b	.L332
 4297              		.cfi_endproc
 4298              	.LFE180:
 4300              		.section	.text.USBD_SetAddress,"ax",%progbits
 4301              		.align	1
 4302              		.global	USBD_SetAddress
 4303              		.syntax unified
 4304              		.thumb
 4305              		.thumb_func
 4306              		.fpu fpv4-sp-d16
 4308              	USBD_SetAddress:
 4309              	.LFB181:
2204:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
 4310              		.loc 1 2204 0
 4311              		.cfi_startproc
 4312              		@ args = 0, pretend = 0, frame = 0
 4313              		@ frame_needed = 0, uses_anonymous_args = 0
 4314              	.LVL557:
 4315 0000 38B5     		push	{r3, r4, r5, lr}
 4316              	.LCFI57:
 4317              		.cfi_def_cfa_offset 16
 4318              		.cfi_offset 3, -16
 4319              		.cfi_offset 4, -12
 4320              		.cfi_offset 5, -8
ARM GAS  /tmp/ccSzmojl.s 			page 138


 4321              		.cfi_offset 14, -4
 4322 0002 0446     		mov	r4, r0
2207:application-library/usb-cdc-device.c ****   {
 4323              		.loc 1 2207 0
 4324 0004 8B88     		ldrh	r3, [r1, #4]
 4325 0006 FBB9     		cbnz	r3, .L365
2207:application-library/usb-cdc-device.c ****   {
 4326              		.loc 1 2207 0 is_stmt 0 discriminator 1
 4327 0008 CB88     		ldrh	r3, [r1, #6]
 4328 000a EBB9     		cbnz	r3, .L365
2207:application-library/usb-cdc-device.c ****   {
 4329              		.loc 1 2207 0 discriminator 2
 4330 000c 4B88     		ldrh	r3, [r1, #2]
 4331 000e 7F2B     		cmp	r3, #127
 4332 0010 1AD8     		bhi	.L365
2209:application-library/usb-cdc-device.c **** 
 4333              		.loc 1 2209 0 is_stmt 1
 4334 0012 03F07F05 		and	r5, r3, #127
 4335              	.LVL558:
2211:application-library/usb-cdc-device.c ****     {
 4336              		.loc 1 2211 0
 4337 0016 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4338 001a DBB2     		uxtb	r3, r3
 4339 001c 032B     		cmp	r3, #3
 4340 001e 0CD0     		beq	.L370
2217:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(pdev, dev_addr);
 4341              		.loc 1 2217 0
 4342 0020 80F89E52 		strb	r5, [r0, #670]
2218:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendStatus(pdev);
 4343              		.loc 1 2218 0
 4344 0024 2946     		mov	r1, r5
 4345              	.LVL559:
 4346 0026 FFF7FEFF 		bl	USBD_LL_SetUSBAddress
 4347              	.LVL560:
2219:application-library/usb-cdc-device.c **** 
 4348              		.loc 1 2219 0
 4349 002a 2046     		mov	r0, r4
 4350 002c FFF7FEFF 		bl	USBD_CtlSendStatus
 4351              	.LVL561:
2221:application-library/usb-cdc-device.c ****       {
 4352              		.loc 1 2221 0
 4353 0030 35B1     		cbz	r5, .L368
2223:application-library/usb-cdc-device.c ****       }
 4354              		.loc 1 2223 0
 4355 0032 0223     		movs	r3, #2
 4356 0034 84F89C32 		strb	r3, [r4, #668]
 4357 0038 38BD     		pop	{r3, r4, r5, pc}
 4358              	.LVL562:
 4359              	.L370:
2213:application-library/usb-cdc-device.c ****     }
 4360              		.loc 1 2213 0
 4361 003a FFF7FEFF 		bl	USBD_CtlError
 4362              	.LVL563:
 4363 003e 38BD     		pop	{r3, r4, r5, pc}
 4364              	.LVL564:
 4365              	.L368:
2227:application-library/usb-cdc-device.c ****       }
ARM GAS  /tmp/ccSzmojl.s 			page 139


 4366              		.loc 1 2227 0
 4367 0040 0123     		movs	r3, #1
 4368 0042 84F89C32 		strb	r3, [r4, #668]
 4369 0046 38BD     		pop	{r3, r4, r5, pc}
 4370              	.LVL565:
 4371              	.L365:
2233:application-library/usb-cdc-device.c ****   }
 4372              		.loc 1 2233 0
 4373 0048 2046     		mov	r0, r4
 4374              	.LVL566:
 4375 004a FFF7FEFF 		bl	USBD_CtlError
 4376              	.LVL567:
 4377 004e 38BD     		pop	{r3, r4, r5, pc}
 4378              		.cfi_endproc
 4379              	.LFE181:
 4381              		.section	.text.USBD_SetConfig,"ax",%progbits
 4382              		.align	1
 4383              		.global	USBD_SetConfig
 4384              		.syntax unified
 4385              		.thumb
 4386              		.thumb_func
 4387              		.fpu fpv4-sp-d16
 4389              	USBD_SetConfig:
 4390              	.LFB182:
2244:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4391              		.loc 1 2244 0
 4392              		.cfi_startproc
 4393              		@ args = 0, pretend = 0, frame = 0
 4394              		@ frame_needed = 0, uses_anonymous_args = 0
 4395              	.LVL568:
 4396 0000 70B5     		push	{r4, r5, r6, lr}
 4397              	.LCFI58:
 4398              		.cfi_def_cfa_offset 16
 4399              		.cfi_offset 4, -16
 4400              		.cfi_offset 5, -12
 4401              		.cfi_offset 6, -8
 4402              		.cfi_offset 14, -4
 4403 0002 0446     		mov	r4, r0
 4404 0004 0D46     		mov	r5, r1
 4405              	.LVL569:
2248:application-library/usb-cdc-device.c **** 
 4406              		.loc 1 2248 0
 4407 0006 8E78     		ldrb	r6, [r1, #2]	@ zero_extendqisi2
 4408              	.LVL570:
2250:application-library/usb-cdc-device.c ****   {
 4409              		.loc 1 2250 0
 4410 0008 012E     		cmp	r6, #1
 4411 000a 04D9     		bls	.L372
2252:application-library/usb-cdc-device.c ****     return USBD_FAIL;
 4412              		.loc 1 2252 0
 4413 000c FFF7FEFF 		bl	USBD_CtlError
 4414              	.LVL571:
2253:application-library/usb-cdc-device.c ****   }
 4415              		.loc 1 2253 0
 4416 0010 0326     		movs	r6, #3
 4417              	.LVL572:
 4418              	.L373:
ARM GAS  /tmp/ccSzmojl.s 			page 140


2325:application-library/usb-cdc-device.c **** 
 4419              		.loc 1 2325 0
 4420 0012 3046     		mov	r0, r6
 4421 0014 70BD     		pop	{r4, r5, r6, pc}
 4422              	.LVL573:
 4423              	.L372:
2256:application-library/usb-cdc-device.c ****   {
 4424              		.loc 1 2256 0
 4425 0016 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4426 001a DBB2     		uxtb	r3, r3
 4427 001c 022B     		cmp	r3, #2
 4428 001e 09D0     		beq	.L375
 4429 0020 032B     		cmp	r3, #3
 4430 0022 21D0     		beq	.L376
2318:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(pdev, cfgidx);
 4431              		.loc 1 2318 0
 4432 0024 FFF7FEFF 		bl	USBD_CtlError
 4433              	.LVL574:
2319:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 4434              		.loc 1 2319 0
 4435 0028 3146     		mov	r1, r6
 4436 002a 2046     		mov	r0, r4
 4437 002c FFF7FEFF 		bl	USBD_ClrClassConfig
 4438              	.LVL575:
2320:application-library/usb-cdc-device.c ****       break;
 4439              		.loc 1 2320 0
 4440 0030 0326     		movs	r6, #3
 4441              	.LVL576:
2321:application-library/usb-cdc-device.c ****   }
 4442              		.loc 1 2321 0
 4443 0032 EEE7     		b	.L373
 4444              	.LVL577:
 4445              	.L375:
2259:application-library/usb-cdc-device.c ****       {
 4446              		.loc 1 2259 0
 4447 0034 A6B1     		cbz	r6, .L377
2261:application-library/usb-cdc-device.c **** 
 4448              		.loc 1 2261 0
 4449 0036 4660     		str	r6, [r0, #4]
2263:application-library/usb-cdc-device.c **** 
 4450              		.loc 1 2263 0
 4451 0038 3146     		mov	r1, r6
 4452              	.LVL578:
 4453 003a FFF7FEFF 		bl	USBD_SetClassConfig
 4454              	.LVL579:
2265:application-library/usb-cdc-device.c ****         {
 4455              		.loc 1 2265 0
 4456 003e 0646     		mov	r6, r0
 4457              	.LVL580:
 4458 0040 38B1     		cbz	r0, .L378
2267:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
 4459              		.loc 1 2267 0
 4460 0042 2946     		mov	r1, r5
 4461 0044 2046     		mov	r0, r4
 4462              	.LVL581:
 4463 0046 FFF7FEFF 		bl	USBD_CtlError
 4464              	.LVL582:
ARM GAS  /tmp/ccSzmojl.s 			page 141


2268:application-library/usb-cdc-device.c ****         }
 4465              		.loc 1 2268 0
 4466 004a 0223     		movs	r3, #2
 4467 004c 84F89C32 		strb	r3, [r4, #668]
 4468 0050 DFE7     		b	.L373
 4469              	.LVL583:
 4470              	.L378:
2272:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_CONFIGURED;
 4471              		.loc 1 2272 0
 4472 0052 2046     		mov	r0, r4
 4473              	.LVL584:
 4474 0054 FFF7FEFF 		bl	USBD_CtlSendStatus
 4475              	.LVL585:
2273:application-library/usb-cdc-device.c ****         }
 4476              		.loc 1 2273 0
 4477 0058 0323     		movs	r3, #3
 4478 005a 84F89C32 		strb	r3, [r4, #668]
 4479 005e D8E7     		b	.L373
 4480              	.LVL586:
 4481              	.L377:
2278:application-library/usb-cdc-device.c ****       }
 4482              		.loc 1 2278 0
 4483 0060 FFF7FEFF 		bl	USBD_CtlSendStatus
 4484              	.LVL587:
2245:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4485              		.loc 1 2245 0
 4486 0064 0026     		movs	r6, #0
 4487              	.LVL588:
 4488 0066 D4E7     		b	.L373
 4489              	.LVL589:
 4490              	.L376:
2283:application-library/usb-cdc-device.c ****       {
 4491              		.loc 1 2283 0
 4492 0068 C6B1     		cbz	r6, .L384
2290:application-library/usb-cdc-device.c ****       {
 4493              		.loc 1 2290 0
 4494 006a 4168     		ldr	r1, [r0, #4]
 4495              	.LVL590:
 4496 006c 8E42     		cmp	r6, r1
 4497 006e 24D0     		beq	.L380
2293:application-library/usb-cdc-device.c **** 
 4498              		.loc 1 2293 0
 4499 0070 C9B2     		uxtb	r1, r1
 4500 0072 FFF7FEFF 		bl	USBD_ClrClassConfig
 4501              	.LVL591:
2296:application-library/usb-cdc-device.c **** 
 4502              		.loc 1 2296 0
 4503 0076 6660     		str	r6, [r4, #4]
2298:application-library/usb-cdc-device.c **** 
 4504              		.loc 1 2298 0
 4505 0078 3146     		mov	r1, r6
 4506 007a 2046     		mov	r0, r4
 4507 007c FFF7FEFF 		bl	USBD_SetClassConfig
 4508              	.LVL592:
2300:application-library/usb-cdc-device.c ****         {
 4509              		.loc 1 2300 0
 4510 0080 0646     		mov	r6, r0
ARM GAS  /tmp/ccSzmojl.s 			page 142


 4511              	.LVL593:
 4512 0082 B0B1     		cbz	r0, .L381
2302:application-library/usb-cdc-device.c ****           (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
 4513              		.loc 1 2302 0
 4514 0084 2946     		mov	r1, r5
 4515 0086 2046     		mov	r0, r4
 4516              	.LVL594:
 4517 0088 FFF7FEFF 		bl	USBD_CtlError
 4518              	.LVL595:
2303:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
 4519              		.loc 1 2303 0
 4520 008c 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 4521 008e 2046     		mov	r0, r4
 4522 0090 FFF7FEFF 		bl	USBD_ClrClassConfig
 4523              	.LVL596:
2304:application-library/usb-cdc-device.c ****         }
 4524              		.loc 1 2304 0
 4525 0094 0223     		movs	r3, #2
 4526 0096 84F89C32 		strb	r3, [r4, #668]
 4527 009a BAE7     		b	.L373
 4528              	.LVL597:
 4529              	.L384:
2285:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
 4530              		.loc 1 2285 0
 4531 009c 0223     		movs	r3, #2
 4532 009e 80F89C32 		strb	r3, [r0, #668]
2286:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, cfgidx);
 4533              		.loc 1 2286 0
 4534 00a2 4660     		str	r6, [r0, #4]
2287:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
 4535              		.loc 1 2287 0
 4536 00a4 3146     		mov	r1, r6
 4537              	.LVL598:
 4538 00a6 FFF7FEFF 		bl	USBD_ClrClassConfig
 4539              	.LVL599:
2288:application-library/usb-cdc-device.c ****       }
 4540              		.loc 1 2288 0
 4541 00aa 2046     		mov	r0, r4
 4542 00ac FFF7FEFF 		bl	USBD_CtlSendStatus
 4543              	.LVL600:
 4544 00b0 AFE7     		b	.L373
 4545              	.LVL601:
 4546              	.L381:
2308:application-library/usb-cdc-device.c ****         }
 4547              		.loc 1 2308 0
 4548 00b2 2046     		mov	r0, r4
 4549              	.LVL602:
 4550 00b4 FFF7FEFF 		bl	USBD_CtlSendStatus
 4551              	.LVL603:
 4552 00b8 ABE7     		b	.L373
 4553              	.LVL604:
 4554              	.L380:
2313:application-library/usb-cdc-device.c ****       }
 4555              		.loc 1 2313 0
 4556 00ba FFF7FEFF 		bl	USBD_CtlSendStatus
 4557              	.LVL605:
2245:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
ARM GAS  /tmp/ccSzmojl.s 			page 143


 4558              		.loc 1 2245 0
 4559 00be 0026     		movs	r6, #0
 4560              	.LVL606:
 4561 00c0 A7E7     		b	.L373
 4562              		.cfi_endproc
 4563              	.LFE182:
 4565              		.section	.text.USBD_SetFeature,"ax",%progbits
 4566              		.align	1
 4567              		.global	USBD_SetFeature
 4568              		.syntax unified
 4569              		.thumb
 4570              		.thumb_func
 4571              		.fpu fpv4-sp-d16
 4573              	USBD_SetFeature:
 4574              	.LFB185:
2409:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
 4575              		.loc 1 2409 0
 4576              		.cfi_startproc
 4577              		@ args = 0, pretend = 0, frame = 0
 4578              		@ frame_needed = 0, uses_anonymous_args = 0
 4579              	.LVL607:
 4580 0000 08B5     		push	{r3, lr}
 4581              	.LCFI59:
 4582              		.cfi_def_cfa_offset 8
 4583              		.cfi_offset 3, -8
 4584              		.cfi_offset 14, -4
2410:application-library/usb-cdc-device.c ****   {
 4585              		.loc 1 2410 0
 4586 0002 4B88     		ldrh	r3, [r1, #2]
 4587 0004 012B     		cmp	r3, #1
 4588 0006 04D0     		beq	.L390
2415:application-library/usb-cdc-device.c ****   {
 4589              		.loc 1 2415 0
 4590 0008 022B     		cmp	r3, #2
 4591 000a 07D0     		beq	.L391
2422:application-library/usb-cdc-device.c ****   }
 4592              		.loc 1 2422 0
 4593 000c FFF7FEFF 		bl	USBD_CtlError
 4594              	.LVL608:
 4595 0010 08BD     		pop	{r3, pc}
 4596              	.LVL609:
 4597              	.L390:
2412:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
 4598              		.loc 1 2412 0
 4599 0012 C0F8A432 		str	r3, [r0, #676]
2413:application-library/usb-cdc-device.c ****   }
 4600              		.loc 1 2413 0
 4601 0016 FFF7FEFF 		bl	USBD_CtlSendStatus
 4602              	.LVL610:
 4603 001a 08BD     		pop	{r3, pc}
 4604              	.LVL611:
 4605              	.L391:
2417:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
 4606              		.loc 1 2417 0
 4607 001c 8B88     		ldrh	r3, [r1, #4]
 4608 001e 1B0A     		lsrs	r3, r3, #8
 4609 0020 80F8A032 		strb	r3, [r0, #672]
ARM GAS  /tmp/ccSzmojl.s 			page 144


2418:application-library/usb-cdc-device.c ****   }
 4610              		.loc 1 2418 0
 4611 0024 FFF7FEFF 		bl	USBD_CtlSendStatus
 4612              	.LVL612:
 4613 0028 08BD     		pop	{r3, pc}
 4614              		.cfi_endproc
 4615              	.LFE185:
 4617              		.section	.text.USBD_ClrFeature,"ax",%progbits
 4618              		.align	1
 4619              		.global	USBD_ClrFeature
 4620              		.syntax unified
 4621              		.thumb
 4622              		.thumb_func
 4623              		.fpu fpv4-sp-d16
 4625              	USBD_ClrFeature:
 4626              	.LFB186:
2435:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
 4627              		.loc 1 2435 0
 4628              		.cfi_startproc
 4629              		@ args = 0, pretend = 0, frame = 0
 4630              		@ frame_needed = 0, uses_anonymous_args = 0
 4631              	.LVL613:
 4632 0000 08B5     		push	{r3, lr}
 4633              	.LCFI60:
 4634              		.cfi_def_cfa_offset 8
 4635              		.cfi_offset 3, -8
 4636              		.cfi_offset 14, -4
2436:application-library/usb-cdc-device.c ****   {
 4637              		.loc 1 2436 0
 4638 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4639 0006 013B     		subs	r3, r3, #1
 4640 0008 022B     		cmp	r3, #2
 4641 000a 09D8     		bhi	.L393
2441:application-library/usb-cdc-device.c ****       {
 4642              		.loc 1 2441 0
 4643 000c 4B88     		ldrh	r3, [r1, #2]
 4644 000e 012B     		cmp	r3, #1
 4645 0010 00D0     		beq	.L397
 4646              	.LVL614:
 4647              	.L392:
 4648 0012 08BD     		pop	{r3, pc}
 4649              	.LVL615:
 4650              	.L397:
2443:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
 4651              		.loc 1 2443 0
 4652 0014 0023     		movs	r3, #0
 4653 0016 C0F8A432 		str	r3, [r0, #676]
2444:application-library/usb-cdc-device.c ****       }
 4654              		.loc 1 2444 0
 4655 001a FFF7FEFF 		bl	USBD_CtlSendStatus
 4656              	.LVL616:
 4657 001e 08BD     		pop	{r3, pc}
 4658              	.LVL617:
 4659              	.L393:
2449:application-library/usb-cdc-device.c ****       break;
 4660              		.loc 1 2449 0
 4661 0020 FFF7FEFF 		bl	USBD_CtlError
ARM GAS  /tmp/ccSzmojl.s 			page 145


 4662              	.LVL618:
2452:application-library/usb-cdc-device.c **** 
 4663              		.loc 1 2452 0
 4664 0024 F5E7     		b	.L392
 4665              		.cfi_endproc
 4666              	.LFE186:
 4668              		.section	.text.USBD_StdDevReq,"ax",%progbits
 4669              		.align	1
 4670              		.global	USBD_StdDevReq
 4671              		.syntax unified
 4672              		.thumb
 4673              		.thumb_func
 4674              		.fpu fpv4-sp-d16
 4676              	USBD_StdDevReq:
 4677              	.LFB177:
1710:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4678              		.loc 1 1710 0
 4679              		.cfi_startproc
 4680              		@ args = 0, pretend = 0, frame = 0
 4681              		@ frame_needed = 0, uses_anonymous_args = 0
 4682              	.LVL619:
 4683 0000 08B5     		push	{r3, lr}
 4684              	.LCFI61:
 4685              		.cfi_def_cfa_offset 8
 4686              		.cfi_offset 3, -8
 4687              		.cfi_offset 14, -4
 4688              	.LVL620:
1713:application-library/usb-cdc-device.c ****   {
 4689              		.loc 1 1713 0
 4690 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 4691 0004 03F06003 		and	r3, r3, #96
 4692 0008 202B     		cmp	r3, #32
 4693 000a 06D0     		beq	.L400
 4694 000c 402B     		cmp	r3, #64
 4695 000e 04D0     		beq	.L400
 4696 0010 5BB1     		cbz	r3, .L414
1758:application-library/usb-cdc-device.c ****       break;
 4697              		.loc 1 1758 0
 4698 0012 FFF7FEFF 		bl	USBD_CtlError
 4699              	.LVL621:
1711:application-library/usb-cdc-device.c **** 
 4700              		.loc 1 1711 0
 4701 0016 0020     		movs	r0, #0
 4702              	.LVL622:
1763:application-library/usb-cdc-device.c **** 
 4703              		.loc 1 1763 0
 4704 0018 08BD     		pop	{r3, pc}
 4705              	.LVL623:
 4706              	.L400:
1717:application-library/usb-cdc-device.c ****       break;
 4707              		.loc 1 1717 0
 4708 001a D0F8D432 		ldr	r3, [r0, #724]
 4709 001e AE33     		adds	r3, r3, #174
 4710 0020 50F82330 		ldr	r3, [r0, r3, lsl #2]
 4711 0024 9B68     		ldr	r3, [r3, #8]
 4712 0026 9847     		blx	r3
 4713              	.LVL624:
ARM GAS  /tmp/ccSzmojl.s 			page 146


1718:application-library/usb-cdc-device.c **** 
 4714              		.loc 1 1718 0
 4715 0028 08BD     		pop	{r3, pc}
 4716              	.LVL625:
 4717              	.L414:
1721:application-library/usb-cdc-device.c ****       {
 4718              		.loc 1 1721 0
 4719 002a 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4720 002c 092B     		cmp	r3, #9
 4721 002e 21D8     		bhi	.L403
 4722 0030 DFE803F0 		tbb	[pc, r3]
 4723              	.L405:
 4724 0034 14       		.byte	(.L404-.L405)/2
 4725 0035 1C       		.byte	(.L406-.L405)/2
 4726 0036 20       		.byte	(.L403-.L405)/2
 4727 0037 18       		.byte	(.L407-.L405)/2
 4728 0038 20       		.byte	(.L403-.L405)/2
 4729 0039 09       		.byte	(.L408-.L405)/2
 4730 003a 05       		.byte	(.L409-.L405)/2
 4731 003b 20       		.byte	(.L403-.L405)/2
 4732 003c 10       		.byte	(.L410-.L405)/2
 4733 003d 0D       		.byte	(.L411-.L405)/2
 4734              		.p2align 1
 4735              	.L409:
1724:application-library/usb-cdc-device.c ****           break;
 4736              		.loc 1 1724 0
 4737 003e FFF7FEFF 		bl	USBD_GetDescriptor
 4738              	.LVL626:
1711:application-library/usb-cdc-device.c **** 
 4739              		.loc 1 1711 0
 4740 0042 0020     		movs	r0, #0
1725:application-library/usb-cdc-device.c **** 
 4741              		.loc 1 1725 0
 4742 0044 08BD     		pop	{r3, pc}
 4743              	.LVL627:
 4744              	.L408:
1728:application-library/usb-cdc-device.c ****           break;
 4745              		.loc 1 1728 0
 4746 0046 FFF7FEFF 		bl	USBD_SetAddress
 4747              	.LVL628:
1711:application-library/usb-cdc-device.c **** 
 4748              		.loc 1 1711 0
 4749 004a 0020     		movs	r0, #0
1729:application-library/usb-cdc-device.c **** 
 4750              		.loc 1 1729 0
 4751 004c 08BD     		pop	{r3, pc}
 4752              	.LVL629:
 4753              	.L411:
1732:application-library/usb-cdc-device.c ****           break;
 4754              		.loc 1 1732 0
 4755 004e FFF7FEFF 		bl	USBD_SetConfig
 4756              	.LVL630:
1733:application-library/usb-cdc-device.c **** 
 4757              		.loc 1 1733 0
 4758 0052 08BD     		pop	{r3, pc}
 4759              	.LVL631:
 4760              	.L410:
ARM GAS  /tmp/ccSzmojl.s 			page 147


1736:application-library/usb-cdc-device.c ****           break;
 4761              		.loc 1 1736 0
 4762 0054 FFF7FEFF 		bl	USBD_GetConfig
 4763              	.LVL632:
1711:application-library/usb-cdc-device.c **** 
 4764              		.loc 1 1711 0
 4765 0058 0020     		movs	r0, #0
1737:application-library/usb-cdc-device.c **** 
 4766              		.loc 1 1737 0
 4767 005a 08BD     		pop	{r3, pc}
 4768              	.LVL633:
 4769              	.L404:
1740:application-library/usb-cdc-device.c ****           break;
 4770              		.loc 1 1740 0
 4771 005c FFF7FEFF 		bl	USBD_GetStatus
 4772              	.LVL634:
1711:application-library/usb-cdc-device.c **** 
 4773              		.loc 1 1711 0
 4774 0060 0020     		movs	r0, #0
1741:application-library/usb-cdc-device.c **** 
 4775              		.loc 1 1741 0
 4776 0062 08BD     		pop	{r3, pc}
 4777              	.LVL635:
 4778              	.L407:
1744:application-library/usb-cdc-device.c ****           break;
 4779              		.loc 1 1744 0
 4780 0064 FFF7FEFF 		bl	USBD_SetFeature
 4781              	.LVL636:
1711:application-library/usb-cdc-device.c **** 
 4782              		.loc 1 1711 0
 4783 0068 0020     		movs	r0, #0
1745:application-library/usb-cdc-device.c **** 
 4784              		.loc 1 1745 0
 4785 006a 08BD     		pop	{r3, pc}
 4786              	.LVL637:
 4787              	.L406:
1748:application-library/usb-cdc-device.c ****           break;
 4788              		.loc 1 1748 0
 4789 006c FFF7FEFF 		bl	USBD_ClrFeature
 4790              	.LVL638:
1711:application-library/usb-cdc-device.c **** 
 4791              		.loc 1 1711 0
 4792 0070 0020     		movs	r0, #0
1749:application-library/usb-cdc-device.c **** 
 4793              		.loc 1 1749 0
 4794 0072 08BD     		pop	{r3, pc}
 4795              	.LVL639:
 4796              	.L403:
1752:application-library/usb-cdc-device.c ****           break;
 4797              		.loc 1 1752 0
 4798 0074 FFF7FEFF 		bl	USBD_CtlError
 4799              	.LVL640:
1711:application-library/usb-cdc-device.c **** 
 4800              		.loc 1 1711 0
 4801 0078 0020     		movs	r0, #0
1753:application-library/usb-cdc-device.c ****       }
 4802              		.loc 1 1753 0
ARM GAS  /tmp/ccSzmojl.s 			page 148


 4803 007a 08BD     		pop	{r3, pc}
 4804              		.cfi_endproc
 4805              	.LFE177:
 4807              		.section	.text.USBD_LL_SetupStage,"ax",%progbits
 4808              		.align	1
 4809              		.global	USBD_LL_SetupStage
 4810              		.syntax unified
 4811              		.thumb
 4812              		.thumb_func
 4813              		.fpu fpv4-sp-d16
 4815              	USBD_LL_SetupStage:
 4816              	.LFB162:
1205:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 4817              		.loc 1 1205 0
 4818              		.cfi_startproc
 4819              		@ args = 0, pretend = 0, frame = 0
 4820              		@ frame_needed = 0, uses_anonymous_args = 0
 4821              	.LVL641:
 4822 0000 38B5     		push	{r3, r4, r5, lr}
 4823              	.LCFI62:
 4824              		.cfi_def_cfa_offset 16
 4825              		.cfi_offset 3, -16
 4826              		.cfi_offset 4, -12
 4827              		.cfi_offset 5, -8
 4828              		.cfi_offset 14, -4
 4829 0002 0446     		mov	r4, r0
1208:application-library/usb-cdc-device.c **** 
 4830              		.loc 1 1208 0
 4831 0004 00F2AA25 		addw	r5, r0, #682
 4832 0008 2846     		mov	r0, r5
 4833              	.LVL642:
 4834 000a FFF7FEFF 		bl	USBD_ParseSetupRequest
 4835              	.LVL643:
1210:application-library/usb-cdc-device.c **** 
 4836              		.loc 1 1210 0
 4837 000e 0123     		movs	r3, #1
 4838 0010 C4F89432 		str	r3, [r4, #660]
1212:application-library/usb-cdc-device.c **** 
 4839              		.loc 1 1212 0
 4840 0014 B4F8B032 		ldrh	r3, [r4, #688]
 4841 0018 C4F89832 		str	r3, [r4, #664]
1214:application-library/usb-cdc-device.c ****   {
 4842              		.loc 1 1214 0
 4843 001c 94F8AA12 		ldrb	r1, [r4, #682]	@ zero_extendqisi2
 4844 0020 01F01F03 		and	r3, r1, #31
 4845 0024 012B     		cmp	r3, #1
 4846 0026 0DD0     		beq	.L417
 4847 0028 3BB1     		cbz	r3, .L418
 4848 002a 022B     		cmp	r3, #2
 4849 002c 0FD0     		beq	.L419
1229:application-library/usb-cdc-device.c ****       break;
 4850              		.loc 1 1229 0
 4851 002e 01F08001 		and	r1, r1, #128
 4852 0032 2046     		mov	r0, r4
 4853 0034 FFF7FEFF 		bl	USBD_LL_StallEP
 4854              	.LVL644:
1234:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccSzmojl.s 			page 149


 4855              		.loc 1 1234 0
 4856 0038 38BD     		pop	{r3, r4, r5, pc}
 4857              	.LVL645:
 4858              	.L418:
1217:application-library/usb-cdc-device.c ****       break;
 4859              		.loc 1 1217 0
 4860 003a 2946     		mov	r1, r5
 4861 003c 2046     		mov	r0, r4
 4862 003e FFF7FEFF 		bl	USBD_StdDevReq
 4863              	.LVL646:
1218:application-library/usb-cdc-device.c **** 
 4864              		.loc 1 1218 0
 4865 0042 38BD     		pop	{r3, r4, r5, pc}
 4866              	.LVL647:
 4867              	.L417:
1221:application-library/usb-cdc-device.c ****       break;
 4868              		.loc 1 1221 0
 4869 0044 2946     		mov	r1, r5
 4870 0046 2046     		mov	r0, r4
 4871 0048 FFF7FEFF 		bl	USBD_StdItfReq
 4872              	.LVL648:
1222:application-library/usb-cdc-device.c **** 
 4873              		.loc 1 1222 0
 4874 004c 38BD     		pop	{r3, r4, r5, pc}
 4875              	.LVL649:
 4876              	.L419:
1225:application-library/usb-cdc-device.c ****       break;
 4877              		.loc 1 1225 0
 4878 004e 2946     		mov	r1, r5
 4879 0050 2046     		mov	r0, r4
 4880 0052 FFF7FEFF 		bl	USBD_StdEPReq
 4881              	.LVL650:
1226:application-library/usb-cdc-device.c **** 
 4882              		.loc 1 1226 0
 4883 0056 38BD     		pop	{r3, r4, r5, pc}
 4884              		.cfi_endproc
 4885              	.LFE162:
 4887              		.section	.text.USBD_CtlReceiveStatus,"ax",%progbits
 4888              		.align	1
 4889              		.global	USBD_CtlReceiveStatus
 4890              		.syntax unified
 4891              		.thumb
 4892              		.thumb_func
 4893              		.fpu fpv4-sp-d16
 4895              	USBD_CtlReceiveStatus:
 4896              	.LFB196:
2663:application-library/usb-cdc-device.c **** 
2664:application-library/usb-cdc-device.c **** /**
2665:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlReceiveStatus
2666:application-library/usb-cdc-device.c ****   *         receive zero lzngth packet on the ctl pipe
2667:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2668:application-library/usb-cdc-device.c ****   * @retval status
2669:application-library/usb-cdc-device.c ****   */
2670:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlReceiveStatus(USBD_HandleTypeDef *pdev)
2671:application-library/usb-cdc-device.c **** {
 4897              		.loc 1 2671 0
 4898              		.cfi_startproc
ARM GAS  /tmp/ccSzmojl.s 			page 150


 4899              		@ args = 0, pretend = 0, frame = 0
 4900              		@ frame_needed = 0, uses_anonymous_args = 0
 4901              	.LVL651:
 4902 0000 08B5     		push	{r3, lr}
 4903              	.LCFI63:
 4904              		.cfi_def_cfa_offset 8
 4905              		.cfi_offset 3, -8
 4906              		.cfi_offset 14, -4
2672:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2673:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_STATUS_OUT;
 4907              		.loc 1 2673 0
 4908 0002 0522     		movs	r2, #5
 4909 0004 C0F89422 		str	r2, [r0, #660]
2674:application-library/usb-cdc-device.c **** 
2675:application-library/usb-cdc-device.c ****   /* Start the transfer */
2676:application-library/usb-cdc-device.c ****   (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
 4910              		.loc 1 2676 0
 4911 0008 0023     		movs	r3, #0
 4912 000a 1A46     		mov	r2, r3
 4913 000c 1946     		mov	r1, r3
 4914 000e FFF7FEFF 		bl	USBD_LL_PrepareReceive
 4915              	.LVL652:
2677:application-library/usb-cdc-device.c **** 
2678:application-library/usb-cdc-device.c ****   return USBD_OK;
2679:application-library/usb-cdc-device.c **** }
 4916              		.loc 1 2679 0
 4917 0012 0020     		movs	r0, #0
 4918 0014 08BD     		pop	{r3, pc}
 4919              		.cfi_endproc
 4920              	.LFE196:
 4922              		.section	.text.USBD_LL_DataInStage,"ax",%progbits
 4923              		.align	1
 4924              		.global	USBD_LL_DataInStage
 4925              		.syntax unified
 4926              		.thumb
 4927              		.thumb_func
 4928              		.fpu fpv4-sp-d16
 4930              	USBD_LL_DataInStage:
 4931              	.LFB164:
1343:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 4932              		.loc 1 1343 0
 4933              		.cfi_startproc
 4934              		@ args = 0, pretend = 0, frame = 0
 4935              		@ frame_needed = 0, uses_anonymous_args = 0
 4936              	.LVL653:
 4937 0000 38B5     		push	{r3, r4, r5, lr}
 4938              	.LCFI64:
 4939              		.cfi_def_cfa_offset 16
 4940              		.cfi_offset 3, -16
 4941              		.cfi_offset 4, -12
 4942              		.cfi_offset 5, -8
 4943              		.cfi_offset 14, -4
 4944 0002 0446     		mov	r4, r0
1348:application-library/usb-cdc-device.c ****   {
 4945              		.loc 1 1348 0
 4946 0004 0029     		cmp	r1, #0
 4947 0006 4BD1     		bne	.L426
ARM GAS  /tmp/ccSzmojl.s 			page 151


 4948 0008 1346     		mov	r3, r2
 4949              	.LVL654:
1352:application-library/usb-cdc-device.c ****     {
 4950              		.loc 1 1352 0
 4951 000a D0F89422 		ldr	r2, [r0, #660]
 4952              	.LVL655:
 4953 000e 022A     		cmp	r2, #2
 4954 0010 07D0     		beq	.L437
 4955              	.LVL656:
 4956              	.L427:
1392:application-library/usb-cdc-device.c ****     {
 4957              		.loc 1 1392 0
 4958 0012 94F8A032 		ldrb	r3, [r4, #672]	@ zero_extendqisi2
 4959 0016 002B     		cmp	r3, #0
 4960 0018 60D0     		beq	.L432
1395:application-library/usb-cdc-device.c ****     }
 4961              		.loc 1 1395 0
 4962 001a 0020     		movs	r0, #0
 4963 001c 84F8A002 		strb	r0, [r4, #672]
 4964 0020 38BD     		pop	{r3, r4, r5, pc}
 4965              	.LVL657:
 4966              	.L437:
1354:application-library/usb-cdc-device.c ****       {
 4967              		.loc 1 1354 0
 4968 0022 C269     		ldr	r2, [r0, #28]
 4969 0024 016A     		ldr	r1, [r0, #32]
 4970              	.LVL658:
 4971 0026 8A42     		cmp	r2, r1
 4972 0028 0ED8     		bhi	.L438
1366:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 4973              		.loc 1 1366 0
 4974 002a 8A42     		cmp	r2, r1
 4975 002c 18D0     		beq	.L439
 4976              	.LVL659:
 4977              	.L429:
1378:application-library/usb-cdc-device.c ****           {
 4978              		.loc 1 1378 0
 4979 002e 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 4980 0032 DBB2     		uxtb	r3, r3
 4981 0034 032B     		cmp	r3, #3
 4982 0036 27D0     		beq	.L440
 4983              	.LVL660:
 4984              	.L430:
1386:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(pdev);
 4985              		.loc 1 1386 0
 4986 0038 8021     		movs	r1, #128
 4987 003a 2046     		mov	r0, r4
 4988 003c FFF7FEFF 		bl	USBD_LL_StallEP
 4989              	.LVL661:
1387:application-library/usb-cdc-device.c ****         }
 4990              		.loc 1 1387 0
 4991 0040 2046     		mov	r0, r4
 4992 0042 FFF7FEFF 		bl	USBD_CtlReceiveStatus
 4993              	.LVL662:
 4994 0046 E4E7     		b	.L427
 4995              	.LVL663:
 4996              	.L438:
ARM GAS  /tmp/ccSzmojl.s 			page 152


1356:application-library/usb-cdc-device.c **** 
 4997              		.loc 1 1356 0
 4998 0048 521A     		subs	r2, r2, r1
 4999 004a C261     		str	r2, [r0, #28]
1358:application-library/usb-cdc-device.c **** 
 5000              		.loc 1 1358 0
 5001 004c 1946     		mov	r1, r3
 5002 004e FFF7FEFF 		bl	USBD_CtlContinueSendData
 5003              	.LVL664:
1361:application-library/usb-cdc-device.c ****       }
 5004              		.loc 1 1361 0
 5005 0052 0023     		movs	r3, #0
 5006 0054 1A46     		mov	r2, r3
 5007 0056 1946     		mov	r1, r3
 5008 0058 2046     		mov	r0, r4
 5009 005a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5010              	.LVL665:
 5011 005e D8E7     		b	.L427
 5012              	.LVL666:
 5013              	.L439:
1367:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
 5014              		.loc 1 1367 0 discriminator 1
 5015 0060 8369     		ldr	r3, [r0, #24]
 5016              	.LVL667:
1366:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 5017              		.loc 1 1366 0 discriminator 1
 5018 0062 9942     		cmp	r1, r3
 5019 0064 E3D8     		bhi	.L429
1368:application-library/usb-cdc-device.c ****         {
 5020              		.loc 1 1368 0
 5021 0066 D0F89822 		ldr	r2, [r0, #664]
1367:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
 5022              		.loc 1 1367 0
 5023 006a 9342     		cmp	r3, r2
 5024 006c DFD2     		bcs	.L429
1370:application-library/usb-cdc-device.c ****           pdev->ep0_data_len = 0U;
 5025              		.loc 1 1370 0
 5026 006e 0022     		movs	r2, #0
 5027 0070 1146     		mov	r1, r2
 5028 0072 FFF7FEFF 		bl	USBD_CtlContinueSendData
 5029              	.LVL668:
1371:application-library/usb-cdc-device.c **** 
 5030              		.loc 1 1371 0
 5031 0076 0021     		movs	r1, #0
 5032 0078 C4F89812 		str	r1, [r4, #664]
1374:application-library/usb-cdc-device.c ****         }
 5033              		.loc 1 1374 0
 5034 007c 0B46     		mov	r3, r1
 5035 007e 0A46     		mov	r2, r1
 5036 0080 2046     		mov	r0, r4
 5037 0082 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5038              	.LVL669:
 5039 0086 C4E7     		b	.L427
 5040              	.LVL670:
 5041              	.L440:
1380:application-library/usb-cdc-device.c ****             {
 5042              		.loc 1 1380 0
ARM GAS  /tmp/ccSzmojl.s 			page 153


 5043 0088 D4F8B832 		ldr	r3, [r4, #696]
 5044 008c DA68     		ldr	r2, [r3, #12]
 5045 008e 002A     		cmp	r2, #0
 5046 0090 D2D0     		beq	.L430
1382:application-library/usb-cdc-device.c ****               pdev->pClass[0]->EP0_TxSent(pdev);
 5047              		.loc 1 1382 0
 5048 0092 0022     		movs	r2, #0
 5049 0094 C4F8D422 		str	r2, [r4, #724]
1383:application-library/usb-cdc-device.c ****             }
 5050              		.loc 1 1383 0
 5051 0098 DB68     		ldr	r3, [r3, #12]
 5052 009a 2046     		mov	r0, r4
 5053              	.LVL671:
 5054 009c 9847     		blx	r3
 5055              	.LVL672:
 5056 009e CBE7     		b	.L430
 5057              	.LVL673:
 5058              	.L426:
 5059 00a0 0D46     		mov	r5, r1
1401:application-library/usb-cdc-device.c **** 
 5060              		.loc 1 1401 0
 5061 00a2 41F08001 		orr	r1, r1, #128
 5062              	.LVL674:
 5063 00a6 FFF7FEFF 		bl	USBD_CoreFindEP
 5064              	.LVL675:
1403:application-library/usb-cdc-device.c ****     {
 5065              		.loc 1 1403 0
 5066 00aa 0246     		mov	r2, r0
 5067 00ac C0B9     		cbnz	r0, .L433
1406:application-library/usb-cdc-device.c ****       {
 5068              		.loc 1 1406 0
 5069 00ae 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 5070 00b2 DBB2     		uxtb	r3, r3
 5071 00b4 032B     		cmp	r3, #3
 5072 00b6 01D0     		beq	.L441
1422:application-library/usb-cdc-device.c **** }
 5073              		.loc 1 1422 0
 5074 00b8 0020     		movs	r0, #0
 5075              	.LVL676:
 5076 00ba 38BD     		pop	{r3, r4, r5, pc}
 5077              	.LVL677:
 5078              	.L441:
1408:application-library/usb-cdc-device.c ****         {
 5079              		.loc 1 1408 0
 5080 00bc 00F1AE03 		add	r3, r0, #174
 5081 00c0 54F82330 		ldr	r3, [r4, r3, lsl #2]
 5082 00c4 5B69     		ldr	r3, [r3, #20]
 5083 00c6 6BB1     		cbz	r3, .L435
1410:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataIn(pdev, epnum);
 5084              		.loc 1 1410 0
 5085 00c8 C4F8D402 		str	r0, [r4, #724]
1411:application-library/usb-cdc-device.c **** 
 5086              		.loc 1 1411 0
 5087 00cc AE32     		adds	r2, r2, #174
 5088 00ce 54F82230 		ldr	r3, [r4, r2, lsl #2]
 5089 00d2 5B69     		ldr	r3, [r3, #20]
 5090 00d4 2946     		mov	r1, r5
ARM GAS  /tmp/ccSzmojl.s 			page 154


 5091 00d6 2046     		mov	r0, r4
 5092              	.LVL678:
 5093 00d8 9847     		blx	r3
 5094              	.LVL679:
 5095 00da 38BD     		pop	{r3, r4, r5, pc}
 5096              	.LVL680:
 5097              	.L432:
1422:application-library/usb-cdc-device.c **** }
 5098              		.loc 1 1422 0
 5099 00dc 0020     		movs	r0, #0
 5100 00de 38BD     		pop	{r3, r4, r5, pc}
 5101              	.LVL681:
 5102              	.L433:
 5103 00e0 0020     		movs	r0, #0
 5104              	.LVL682:
 5105 00e2 38BD     		pop	{r3, r4, r5, pc}
 5106              	.LVL683:
 5107              	.L435:
 5108 00e4 0020     		movs	r0, #0
 5109              	.LVL684:
1423:application-library/usb-cdc-device.c **** 
 5110              		.loc 1 1423 0
 5111 00e6 38BD     		pop	{r3, r4, r5, pc}
 5112              		.cfi_endproc
 5113              	.LFE164:
 5115              		.section	.text.USBD_GetRxCount,"ax",%progbits
 5116              		.align	1
 5117              		.global	USBD_GetRxCount
 5118              		.syntax unified
 5119              		.thumb
 5120              		.thumb_func
 5121              		.fpu fpv4-sp-d16
 5123              	USBD_GetRxCount:
 5124              	.LFB197:
2680:application-library/usb-cdc-device.c **** 
2681:application-library/usb-cdc-device.c **** /**
2682:application-library/usb-cdc-device.c ****   * @brief  USBD_GetRxCount
2683:application-library/usb-cdc-device.c ****   *         returns the received data length
2684:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2685:application-library/usb-cdc-device.c ****   * @param  ep_addr: endpoint address
2686:application-library/usb-cdc-device.c ****   * @retval Rx Data blength
2687:application-library/usb-cdc-device.c ****   */
2688:application-library/usb-cdc-device.c **** uint32_t USBD_GetRxCount(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
2689:application-library/usb-cdc-device.c **** {
 5125              		.loc 1 2689 0
 5126              		.cfi_startproc
 5127              		@ args = 0, pretend = 0, frame = 0
 5128              		@ frame_needed = 0, uses_anonymous_args = 0
 5129              	.LVL685:
 5130 0000 08B5     		push	{r3, lr}
 5131              	.LCFI65:
 5132              		.cfi_def_cfa_offset 8
 5133              		.cfi_offset 3, -8
 5134              		.cfi_offset 14, -4
2690:application-library/usb-cdc-device.c ****   return USBD_LL_GetRxDataSize(pdev, ep_addr);
 5135              		.loc 1 2690 0
 5136 0002 FFF7FEFF 		bl	USBD_LL_GetRxDataSize
ARM GAS  /tmp/ccSzmojl.s 			page 155


 5137              	.LVL686:
2691:application-library/usb-cdc-device.c **** }
 5138              		.loc 1 2691 0
 5139 0006 08BD     		pop	{r3, pc}
 5140              		.cfi_endproc
 5141              	.LFE197:
 5143              		.global	USBD_Interface_fops_FS
 5144              		.global	USBD_CDC_CfgDesc
 5145              		.global	USBD_CDC
 5146              		.global	USBD_CDC_DeviceQualifierDesc
 5147              		.global	p_usbd_handle
 5148              		.comm	hUsbDeviceFS,732,4
 5149              		.comm	UserTxBufferFS,2048,4
 5150              		.comm	UserRxBufferFS,2048,4
 5151              		.section	.data.USBD_CDC,"aw",%progbits
 5152              		.align	2
 5153              		.set	.LANCHOR2,. + 0
 5156              	USBD_CDC:
 5157 0000 00000000 		.word	USBD_CDC_Init
 5158 0004 00000000 		.word	USBD_CDC_DeInit
 5159 0008 00000000 		.word	USBD_CDC_Setup
 5160 000c 00000000 		.word	0
 5161 0010 00000000 		.word	USBD_CDC_EP0_RxReady
 5162 0014 00000000 		.word	USBD_CDC_DataIn
 5163 0018 00000000 		.word	USBD_CDC_DataOut
 5164 001c 00000000 		.word	0
 5165 0020 00000000 		.word	0
 5166 0024 00000000 		.word	0
 5167 0028 00000000 		.word	USBD_CDC_GetHSCfgDesc
 5168 002c 00000000 		.word	USBD_CDC_GetFSCfgDesc
 5169 0030 00000000 		.word	USBD_CDC_GetOtherSpeedCfgDesc
 5170 0034 00000000 		.word	USBD_CDC_GetDeviceQualifierDescriptor
 5171              		.section	.data.USBD_CDC_CfgDesc,"aw",%progbits
 5172              		.align	2
 5173              		.set	.LANCHOR4,. + 0
 5176              	USBD_CDC_CfgDesc:
 5177 0000 09       		.byte	9
 5178 0001 02       		.byte	2
 5179 0002 43       		.byte	67
 5180 0003 00       		.byte	0
 5181 0004 02       		.byte	2
 5182 0005 01       		.byte	1
 5183 0006 00       		.byte	0
 5184 0007 C0       		.byte	-64
 5185 0008 32       		.byte	50
 5186 0009 09       		.byte	9
 5187 000a 04       		.byte	4
 5188 000b 00       		.byte	0
 5189 000c 00       		.byte	0
 5190 000d 01       		.byte	1
 5191 000e 02       		.byte	2
 5192 000f 02       		.byte	2
 5193 0010 01       		.byte	1
 5194 0011 00       		.byte	0
 5195 0012 05       		.byte	5
 5196 0013 24       		.byte	36
 5197 0014 00       		.byte	0
ARM GAS  /tmp/ccSzmojl.s 			page 156


 5198 0015 10       		.byte	16
 5199 0016 01       		.byte	1
 5200 0017 05       		.byte	5
 5201 0018 24       		.byte	36
 5202 0019 01       		.byte	1
 5203 001a 00       		.byte	0
 5204 001b 01       		.byte	1
 5205 001c 04       		.byte	4
 5206 001d 24       		.byte	36
 5207 001e 02       		.byte	2
 5208 001f 02       		.byte	2
 5209 0020 05       		.byte	5
 5210 0021 24       		.byte	36
 5211 0022 06       		.byte	6
 5212 0023 00       		.byte	0
 5213 0024 01       		.byte	1
 5214 0025 07       		.byte	7
 5215 0026 05       		.byte	5
 5216 0027 82       		.byte	-126
 5217 0028 03       		.byte	3
 5218 0029 08       		.byte	8
 5219 002a 00       		.byte	0
 5220 002b 10       		.byte	16
 5221 002c 09       		.byte	9
 5222 002d 04       		.byte	4
 5223 002e 01       		.byte	1
 5224 002f 00       		.byte	0
 5225 0030 02       		.byte	2
 5226 0031 0A       		.byte	10
 5227 0032 00       		.byte	0
 5228 0033 00       		.byte	0
 5229 0034 00       		.byte	0
 5230 0035 07       		.byte	7
 5231 0036 05       		.byte	5
 5232 0037 01       		.byte	1
 5233 0038 02       		.byte	2
 5234 0039 40       		.byte	64
 5235 003a 00       		.byte	0
 5236 003b 00       		.byte	0
 5237 003c 07       		.byte	7
 5238 003d 05       		.byte	5
 5239 003e 81       		.byte	-127
 5240 003f 02       		.byte	2
 5241 0040 40       		.byte	64
 5242 0041 00       		.byte	0
 5243 0042 00       		.byte	0
 5244              		.section	.data.USBD_CDC_DeviceQualifierDesc,"aw",%progbits
 5245              		.align	2
 5246              		.set	.LANCHOR0,. + 0
 5249              	USBD_CDC_DeviceQualifierDesc:
 5250 0000 0A       		.byte	10
 5251 0001 06       		.byte	6
 5252 0002 00       		.byte	0
 5253 0003 02       		.byte	2
 5254 0004 00       		.byte	0
 5255 0005 00       		.byte	0
 5256 0006 00       		.byte	0
ARM GAS  /tmp/ccSzmojl.s 			page 157


 5257 0007 40       		.byte	64
 5258 0008 01       		.byte	1
 5259 0009 00       		.byte	0
 5260              		.section	.data.USBD_Interface_fops_FS,"aw",%progbits
 5261              		.align	2
 5262              		.set	.LANCHOR3,. + 0
 5265              	USBD_Interface_fops_FS:
 5266 0000 00000000 		.word	CDC_Init_FS
 5267 0004 00000000 		.word	CDC_DeInit_FS
 5268 0008 00000000 		.word	CDC_Control_FS
 5269 000c 00000000 		.word	CDC_Receive_FS
 5270 0010 00000000 		.word	CDC_TransmitCplt_FS
 5271              		.section	.data.p_usbd_handle,"aw",%progbits
 5272              		.align	2
 5273              		.set	.LANCHOR1,. + 0
 5276              	p_usbd_handle:
 5277 0000 00000000 		.word	hUsbDeviceFS
 5278              		.section	.rodata.CDC_Receive_FS.str1.4,"aMS",%progbits,1
 5279              		.align	2
 5280              	.LC0:
 5281 0000 20656368 		.ascii	" echoed.\012\000"
 5281      6F65642E 
 5281      0A00
 5282              		.text
 5283              	.Letext0:
 5284              		.file 3 "/usr/include/newlib/machine/_default_types.h"
 5285              		.file 4 "/usr/include/newlib/sys/_stdint.h"
 5286              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 5287              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 5288              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 5289              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 5290              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 5291              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 5292              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd.h"
 5293              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 5294              		.file 13 "/usr/include/newlib/sys/lock.h"
 5295              		.file 14 "/usr/include/newlib/sys/_types.h"
 5296              		.file 15 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 5297              		.file 16 "/usr/include/newlib/sys/reent.h"
 5298              		.file 17 "/usr/include/newlib/stdlib.h"
 5299              		.file 18 "USB_DEVICE/App/usbd_desc.h"
 5300              		.file 19 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_core.h"
 5301              		.file 20 "USB_DEVICE/Target/usbd_conf.h"
 5302              		.file 21 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd_ex.h"
 5303              		.file 22 "<built-in>"
ARM GAS  /tmp/ccSzmojl.s 			page 158


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb-cdc-device.c
     /tmp/ccSzmojl.s:18     .text.CDC_DeInit_FS:0000000000000000 $t
     /tmp/ccSzmojl.s:25     .text.CDC_DeInit_FS:0000000000000000 CDC_DeInit_FS
     /tmp/ccSzmojl.s:40     .text.CDC_Control_FS:0000000000000000 $t
     /tmp/ccSzmojl.s:47     .text.CDC_Control_FS:0000000000000000 CDC_Control_FS
     /tmp/ccSzmojl.s:63     .text.CDC_TransmitCplt_FS:0000000000000000 $t
     /tmp/ccSzmojl.s:70     .text.CDC_TransmitCplt_FS:0000000000000000 CDC_TransmitCplt_FS
     /tmp/ccSzmojl.s:86     .text.USBD_CDC_EP0_RxReady:0000000000000000 $t
     /tmp/ccSzmojl.s:93     .text.USBD_CDC_EP0_RxReady:0000000000000000 USBD_CDC_EP0_RxReady
     /tmp/ccSzmojl.s:153    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 $t
     /tmp/ccSzmojl.s:160    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 USBD_CDC_GetDeviceQualifierDescriptor
     /tmp/ccSzmojl.s:178    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000008 $d
     /tmp/ccSzmojl.s:183    .text.USBD_CDC_Init:0000000000000000 $t
     /tmp/ccSzmojl.s:190    .text.USBD_CDC_Init:0000000000000000 USBD_CDC_Init
     /tmp/ccSzmojl.s:348    .text.USBD_CDC_DeInit:0000000000000000 $t
     /tmp/ccSzmojl.s:355    .text.USBD_CDC_DeInit:0000000000000000 USBD_CDC_DeInit
     /tmp/ccSzmojl.s:426    .text.USBD_CDC_DataIn:0000000000000000 $t
     /tmp/ccSzmojl.s:433    .text.USBD_CDC_DataIn:0000000000000000 USBD_CDC_DataIn
     /tmp/ccSzmojl.s:533    .text.USBD_CDC_DataOut:0000000000000000 $t
     /tmp/ccSzmojl.s:540    .text.USBD_CDC_DataOut:0000000000000000 USBD_CDC_DataOut
     /tmp/ccSzmojl.s:590    .text.usb_device_init:0000000000000000 $t
     /tmp/ccSzmojl.s:597    .text.usb_device_init:0000000000000000 usb_device_init
     /tmp/ccSzmojl.s:710    .text.usb_device_init:00000000000000a0 $d
     /tmp/ccSzmojl.s:719    .text.USBD_CDC_RegisterInterface:0000000000000000 $t
     /tmp/ccSzmojl.s:726    .text.USBD_CDC_RegisterInterface:0000000000000000 USBD_CDC_RegisterInterface
     /tmp/ccSzmojl.s:756    .text.USBD_CDC_SetTxBuffer:0000000000000000 $t
     /tmp/ccSzmojl.s:763    .text.USBD_CDC_SetTxBuffer:0000000000000000 USBD_CDC_SetTxBuffer
     /tmp/ccSzmojl.s:797    .text.USBD_CDC_SetRxBuffer:0000000000000000 $t
     /tmp/ccSzmojl.s:804    .text.USBD_CDC_SetRxBuffer:0000000000000000 USBD_CDC_SetRxBuffer
     /tmp/ccSzmojl.s:836    .text.CDC_Init_FS:0000000000000000 $t
     /tmp/ccSzmojl.s:843    .text.CDC_Init_FS:0000000000000000 CDC_Init_FS
     /tmp/ccSzmojl.s:872    .text.CDC_Init_FS:000000000000001c $d
                            *COM*:00000000000002dc hUsbDeviceFS
                            *COM*:0000000000000800 UserTxBufferFS
                            *COM*:0000000000000800 UserRxBufferFS
     /tmp/ccSzmojl.s:879    .text.USBD_CDC_TransmitPacket:0000000000000000 $t
     /tmp/ccSzmojl.s:886    .text.USBD_CDC_TransmitPacket:0000000000000000 USBD_CDC_TransmitPacket
     /tmp/ccSzmojl.s:941    .text.CDC_Transmit_FS:0000000000000000 $t
     /tmp/ccSzmojl.s:948    .text.CDC_Transmit_FS:0000000000000000 CDC_Transmit_FS
     /tmp/ccSzmojl.s:993    .text.CDC_Transmit_FS:0000000000000028 $d
     /tmp/ccSzmojl.s:998    .text.USBD_CDC_ReceivePacket:0000000000000000 $t
     /tmp/ccSzmojl.s:1005   .text.USBD_CDC_ReceivePacket:0000000000000000 USBD_CDC_ReceivePacket
     /tmp/ccSzmojl.s:1060   .text.CDC_Receive_FS:0000000000000000 $t
     /tmp/ccSzmojl.s:1067   .text.CDC_Receive_FS:0000000000000000 CDC_Receive_FS
     /tmp/ccSzmojl.s:1148   .text.CDC_Receive_FS:0000000000000064 $d
     /tmp/ccSzmojl.s:1154   .text.USBD_Init:0000000000000000 $t
     /tmp/ccSzmojl.s:1161   .text.USBD_Init:0000000000000000 USBD_Init
     /tmp/ccSzmojl.s:1216   .text.USBD_DeInit:0000000000000000 $t
     /tmp/ccSzmojl.s:1223   .text.USBD_DeInit:0000000000000000 USBD_DeInit
     /tmp/ccSzmojl.s:1269   .text.USBD_RegisterClass:0000000000000000 $t
     /tmp/ccSzmojl.s:1276   .text.USBD_RegisterClass:0000000000000000 USBD_RegisterClass
     /tmp/ccSzmojl.s:1339   .text.USBD_Start:0000000000000000 $t
     /tmp/ccSzmojl.s:1346   .text.USBD_Start:0000000000000000 USBD_Start
     /tmp/ccSzmojl.s:1390   .text.USBD_Stop:0000000000000000 $t
     /tmp/ccSzmojl.s:1397   .text.USBD_Stop:0000000000000000 USBD_Stop
     /tmp/ccSzmojl.s:1430   .text.USBD_RunTestMode:0000000000000000 $t
ARM GAS  /tmp/ccSzmojl.s 			page 159


     /tmp/ccSzmojl.s:1437   .text.USBD_RunTestMode:0000000000000000 USBD_RunTestMode
     /tmp/ccSzmojl.s:1453   .text.USBD_SetClassConfig:0000000000000000 $t
     /tmp/ccSzmojl.s:1460   .text.USBD_SetClassConfig:0000000000000000 USBD_SetClassConfig
     /tmp/ccSzmojl.s:1492   .text.USBD_ClrClassConfig:0000000000000000 $t
     /tmp/ccSzmojl.s:1499   .text.USBD_ClrClassConfig:0000000000000000 USBD_ClrClassConfig
     /tmp/ccSzmojl.s:1528   .text.USBD_LL_Reset:0000000000000000 $t
     /tmp/ccSzmojl.s:1535   .text.USBD_LL_Reset:0000000000000000 USBD_LL_Reset
     /tmp/ccSzmojl.s:1623   .text.USBD_LL_SetSpeed:0000000000000000 $t
     /tmp/ccSzmojl.s:1630   .text.USBD_LL_SetSpeed:0000000000000000 USBD_LL_SetSpeed
     /tmp/ccSzmojl.s:1648   .text.USBD_LL_Suspend:0000000000000000 $t
     /tmp/ccSzmojl.s:1655   .text.USBD_LL_Suspend:0000000000000000 USBD_LL_Suspend
     /tmp/ccSzmojl.s:1678   .text.USBD_LL_Resume:0000000000000000 $t
     /tmp/ccSzmojl.s:1685   .text.USBD_LL_Resume:0000000000000000 USBD_LL_Resume
     /tmp/ccSzmojl.s:1714   .text.USBD_LL_SOF:0000000000000000 $t
     /tmp/ccSzmojl.s:1721   .text.USBD_LL_SOF:0000000000000000 USBD_LL_SOF
     /tmp/ccSzmojl.s:1761   .text.USBD_LL_IsoINIncomplete:0000000000000000 $t
     /tmp/ccSzmojl.s:1768   .text.USBD_LL_IsoINIncomplete:0000000000000000 USBD_LL_IsoINIncomplete
     /tmp/ccSzmojl.s:1822   .text.USBD_LL_IsoOUTIncomplete:0000000000000000 $t
     /tmp/ccSzmojl.s:1829   .text.USBD_LL_IsoOUTIncomplete:0000000000000000 USBD_LL_IsoOUTIncomplete
     /tmp/ccSzmojl.s:1883   .text.USBD_LL_DevConnected:0000000000000000 $t
     /tmp/ccSzmojl.s:1890   .text.USBD_LL_DevConnected:0000000000000000 USBD_LL_DevConnected
     /tmp/ccSzmojl.s:1906   .text.USBD_LL_DevDisconnected:0000000000000000 $t
     /tmp/ccSzmojl.s:1913   .text.USBD_LL_DevDisconnected:0000000000000000 USBD_LL_DevDisconnected
     /tmp/ccSzmojl.s:1956   .text.USBD_CoreFindEP:0000000000000000 $t
     /tmp/ccSzmojl.s:1963   .text.USBD_CoreFindEP:0000000000000000 USBD_CoreFindEP
     /tmp/ccSzmojl.s:1979   .text.USBD_GetNextDesc:0000000000000000 $t
     /tmp/ccSzmojl.s:1986   .text.USBD_GetNextDesc:0000000000000000 USBD_GetNextDesc
     /tmp/ccSzmojl.s:2010   .text.USBD_GetEpDesc:0000000000000000 $t
     /tmp/ccSzmojl.s:2017   .text.USBD_GetEpDesc:0000000000000000 USBD_GetEpDesc
     /tmp/ccSzmojl.s:2090   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 $t
     /tmp/ccSzmojl.s:2097   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 USBD_CDC_GetFSCfgDesc
     /tmp/ccSzmojl.s:2170   .text.USBD_CDC_GetFSCfgDesc:0000000000000044 $d
     /tmp/ccSzmojl.s:2175   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 $t
     /tmp/ccSzmojl.s:2182   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 USBD_CDC_GetHSCfgDesc
     /tmp/ccSzmojl.s:2255   .text.USBD_CDC_GetHSCfgDesc:0000000000000044 $d
     /tmp/ccSzmojl.s:2260   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 $t
     /tmp/ccSzmojl.s:2267   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 USBD_CDC_GetOtherSpeedCfgDesc
     /tmp/ccSzmojl.s:2340   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000044 $d
     /tmp/ccSzmojl.s:2345   .text.USBD_ParseSetupRequest:0000000000000000 $t
     /tmp/ccSzmojl.s:2352   .text.USBD_ParseSetupRequest:0000000000000000 USBD_ParseSetupRequest
     /tmp/ccSzmojl.s:2422   .text.USBD_CtlError:0000000000000000 $t
     /tmp/ccSzmojl.s:2429   .text.USBD_CtlError:0000000000000000 USBD_CtlError
     /tmp/ccSzmojl.s:2457   .text.USBD_GetLen:0000000000000000 $t
     /tmp/ccSzmojl.s:2464   .text.USBD_GetLen:0000000000000000 USBD_GetLen
     /tmp/ccSzmojl.s:2499   .text.USBD_GetString:0000000000000000 $t
     /tmp/ccSzmojl.s:2506   .text.USBD_GetString:0000000000000000 USBD_GetString
     /tmp/ccSzmojl.s:2581   .text.USBD_CtlSendData:0000000000000000 $t
     /tmp/ccSzmojl.s:2588   .text.USBD_CtlSendData:0000000000000000 USBD_CtlSendData
     /tmp/ccSzmojl.s:2622   .text.USBD_GetConfig:0000000000000000 $t
     /tmp/ccSzmojl.s:2629   .text.USBD_GetConfig:0000000000000000 USBD_GetConfig
     /tmp/ccSzmojl.s:2690   .text.USBD_GetStatus:0000000000000000 $t
     /tmp/ccSzmojl.s:2697   .text.USBD_GetStatus:0000000000000000 USBD_GetStatus
     /tmp/ccSzmojl.s:2753   .text.USBD_CtlContinueSendData:0000000000000000 $t
     /tmp/ccSzmojl.s:2760   .text.USBD_CtlContinueSendData:0000000000000000 USBD_CtlContinueSendData
     /tmp/ccSzmojl.s:2787   .text.USBD_CtlPrepareRx:0000000000000000 $t
     /tmp/ccSzmojl.s:2794   .text.USBD_CtlPrepareRx:0000000000000000 USBD_CtlPrepareRx
     /tmp/ccSzmojl.s:2828   .text.USBD_CDC_Setup:0000000000000000 $t
ARM GAS  /tmp/ccSzmojl.s 			page 160


     /tmp/ccSzmojl.s:2835   .text.USBD_CDC_Setup:0000000000000000 USBD_CDC_Setup
     /tmp/ccSzmojl.s:2958   .text.USBD_CDC_Setup:000000000000009e $d
     /tmp/ccSzmojl.s:2970   .text.USBD_CDC_Setup:00000000000000aa $t
     /tmp/ccSzmojl.s:3079   .text.USBD_CtlContinueRx:0000000000000000 $t
     /tmp/ccSzmojl.s:3086   .text.USBD_CtlContinueRx:0000000000000000 USBD_CtlContinueRx
     /tmp/ccSzmojl.s:3113   .text.USBD_CtlSendStatus:0000000000000000 $t
     /tmp/ccSzmojl.s:3120   .text.USBD_CtlSendStatus:0000000000000000 USBD_CtlSendStatus
     /tmp/ccSzmojl.s:3148   .text.USBD_LL_DataOutStage:0000000000000000 $t
     /tmp/ccSzmojl.s:3155   .text.USBD_LL_DataOutStage:0000000000000000 USBD_LL_DataOutStage
     /tmp/ccSzmojl.s:3312   .text.USBD_StdItfReq:0000000000000000 $t
     /tmp/ccSzmojl.s:3319   .text.USBD_StdItfReq:0000000000000000 USBD_StdItfReq
     /tmp/ccSzmojl.s:3430   .text.USBD_StdEPReq:0000000000000000 $t
     /tmp/ccSzmojl.s:3437   .text.USBD_StdEPReq:0000000000000000 USBD_StdEPReq
     /tmp/ccSzmojl.s:3907   .text.USBD_GetDescriptor:0000000000000000 $t
     /tmp/ccSzmojl.s:3914   .text.USBD_GetDescriptor:0000000000000000 USBD_GetDescriptor
     /tmp/ccSzmojl.s:3945   .text.USBD_GetDescriptor:000000000000001e $d
     /tmp/ccSzmojl.s:4039   .text.USBD_GetDescriptor:0000000000000096 $d
     /tmp/ccSzmojl.s:4045   .text.USBD_GetDescriptor:000000000000009c $t
     /tmp/ccSzmojl.s:4301   .text.USBD_SetAddress:0000000000000000 $t
     /tmp/ccSzmojl.s:4308   .text.USBD_SetAddress:0000000000000000 USBD_SetAddress
     /tmp/ccSzmojl.s:4382   .text.USBD_SetConfig:0000000000000000 $t
     /tmp/ccSzmojl.s:4389   .text.USBD_SetConfig:0000000000000000 USBD_SetConfig
     /tmp/ccSzmojl.s:4566   .text.USBD_SetFeature:0000000000000000 $t
     /tmp/ccSzmojl.s:4573   .text.USBD_SetFeature:0000000000000000 USBD_SetFeature
     /tmp/ccSzmojl.s:4618   .text.USBD_ClrFeature:0000000000000000 $t
     /tmp/ccSzmojl.s:4625   .text.USBD_ClrFeature:0000000000000000 USBD_ClrFeature
     /tmp/ccSzmojl.s:4669   .text.USBD_StdDevReq:0000000000000000 $t
     /tmp/ccSzmojl.s:4676   .text.USBD_StdDevReq:0000000000000000 USBD_StdDevReq
     /tmp/ccSzmojl.s:4724   .text.USBD_StdDevReq:0000000000000034 $d
     /tmp/ccSzmojl.s:4734   .text.USBD_StdDevReq:000000000000003e $t
     /tmp/ccSzmojl.s:4808   .text.USBD_LL_SetupStage:0000000000000000 $t
     /tmp/ccSzmojl.s:4815   .text.USBD_LL_SetupStage:0000000000000000 USBD_LL_SetupStage
     /tmp/ccSzmojl.s:4888   .text.USBD_CtlReceiveStatus:0000000000000000 $t
     /tmp/ccSzmojl.s:4895   .text.USBD_CtlReceiveStatus:0000000000000000 USBD_CtlReceiveStatus
     /tmp/ccSzmojl.s:4923   .text.USBD_LL_DataInStage:0000000000000000 $t
     /tmp/ccSzmojl.s:4930   .text.USBD_LL_DataInStage:0000000000000000 USBD_LL_DataInStage
     /tmp/ccSzmojl.s:5116   .text.USBD_GetRxCount:0000000000000000 $t
     /tmp/ccSzmojl.s:5123   .text.USBD_GetRxCount:0000000000000000 USBD_GetRxCount
     /tmp/ccSzmojl.s:5265   .data.USBD_Interface_fops_FS:0000000000000000 USBD_Interface_fops_FS
     /tmp/ccSzmojl.s:5176   .data.USBD_CDC_CfgDesc:0000000000000000 USBD_CDC_CfgDesc
     /tmp/ccSzmojl.s:5156   .data.USBD_CDC:0000000000000000 USBD_CDC
     /tmp/ccSzmojl.s:5249   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 USBD_CDC_DeviceQualifierDesc
     /tmp/ccSzmojl.s:5276   .data.p_usbd_handle:0000000000000000 p_usbd_handle
     /tmp/ccSzmojl.s:5152   .data.USBD_CDC:0000000000000000 $d
     /tmp/ccSzmojl.s:5172   .data.USBD_CDC_CfgDesc:0000000000000000 $d
     /tmp/ccSzmojl.s:5245   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 $d
     /tmp/ccSzmojl.s:5261   .data.USBD_Interface_fops_FS:0000000000000000 $d
     /tmp/ccSzmojl.s:5272   .data.p_usbd_handle:0000000000000000 $d
     /tmp/ccSzmojl.s:5279   .rodata.CDC_Receive_FS.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccSzmojl.s:3952   .text.USBD_GetDescriptor:0000000000000025 $d
     /tmp/ccSzmojl.s:3952   .text.USBD_GetDescriptor:0000000000000026 $t

UNDEFINED SYMBOLS
USBD_static_malloc
memset
USBD_LL_OpenEP
ARM GAS  /tmp/ccSzmojl.s 			page 161


USBD_LL_PrepareReceive
USBD_LL_CloseEP
USBD_static_free
USBD_LL_Transmit
USBD_LL_GetRxDataSize
HAL_PCD_Start
HAL_PCD_Init
HAL_PCDEx_SetRxFiFo
HAL_PCDEx_SetTxFiFo
FS_Desc
hpcd_USB_OTG_FS
memcpy
strlen
USBD_LL_Init
USBD_LL_Stop
USBD_LL_DeInit
USBD_LL_StallEP
USBD_LL_ClearStallEP
USBD_LL_IsStallEP
USBD_LL_SetUSBAddress
