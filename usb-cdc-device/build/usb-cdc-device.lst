ARM GAS  /tmp/ccf4hwpD.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usb-cdc-device.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CDC_DeInit_FS,"ax",%progbits
  18              		.align	1
  19              		.global	CDC_DeInit_FS
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	CDC_DeInit_FS:
  26              	.LFB133:
  27              		.file 1 "application-library/usb-cdc-device.c"
   1:application-library/usb-cdc-device.c **** /**
   2:application-library/usb-cdc-device.c ****  * @brief usb-cdc-device.c merged four classes: 
   3:application-library/usb-cdc-device.c ****  *          1. usbd_cdc_if
   4:application-library/usb-cdc-device.c ****  *          2. usb_device
   5:application-library/usb-cdc-device.c ****  *          3. usbd_cdc
   6:application-library/usb-cdc-device.c ****  *          4. usbd_core
   7:application-library/usb-cdc-device.c ****  *          5. usbd_ctlreq
   8:application-library/usb-cdc-device.c ****  *          6. usbd_ioreq
   9:application-library/usb-cdc-device.c ****  *          7. usbd_conf
  10:application-library/usb-cdc-device.c ****  */
  11:application-library/usb-cdc-device.c **** 
  12:application-library/usb-cdc-device.c **** /* Includes ------------------------------------------------------------------*/
  13:application-library/usb-cdc-device.c **** #include "usb-cdc-device.h"
  14:application-library/usb-cdc-device.c **** // #include "usbd_desc.h"
  15:application-library/usb-cdc-device.c **** #include "stm32f4xx.h"
  16:application-library/usb-cdc-device.c **** #include "stm32f4xx_hal.h"
  17:application-library/usb-cdc-device.c **** 
  18:application-library/usb-cdc-device.c **** 
  19:application-library/usb-cdc-device.c **** #define USBD_VID     1155
  20:application-library/usb-cdc-device.c **** #define USBD_LANGID_STRING     1033
  21:application-library/usb-cdc-device.c **** #define USBD_MANUFACTURER_STRING     "STMicroelectronics"
  22:application-library/usb-cdc-device.c **** #define USBD_PID_FS     22336
  23:application-library/usb-cdc-device.c **** #define USBD_PRODUCT_STRING_FS     "STM32 Virtual ComPort"
  24:application-library/usb-cdc-device.c **** #define USBD_CONFIGURATION_STRING_FS     "CDC Config"
  25:application-library/usb-cdc-device.c **** #define USBD_INTERFACE_STRING_FS     "CDC Interface"
  26:application-library/usb-cdc-device.c **** #define USB_SIZ_BOS_DESC            0x0C
  27:application-library/usb-cdc-device.c **** 
  28:application-library/usb-cdc-device.c **** 
  29:application-library/usb-cdc-device.c **** /* usbd_cdc_if.c BEGIN---- ---- ---- ---- */
  30:application-library/usb-cdc-device.c **** /** Received data over USB are stored in this buffer      */
  31:application-library/usb-cdc-device.c **** uint8_t UserRxBufferFS[APP_RX_DATA_SIZE];
ARM GAS  /tmp/ccf4hwpD.s 			page 2


  32:application-library/usb-cdc-device.c **** /** Data to send over USB CDC are stored in this buffer   */
  33:application-library/usb-cdc-device.c **** uint8_t UserTxBufferFS[APP_TX_DATA_SIZE];
  34:application-library/usb-cdc-device.c **** 
  35:application-library/usb-cdc-device.c **** /* USB Device Core handle declaration. */
  36:application-library/usb-cdc-device.c **** USBD_Handle_t hUsbDeviceFS;
  37:application-library/usb-cdc-device.c **** 
  38:application-library/usb-cdc-device.c **** /**
  39:application-library/usb-cdc-device.c ****   * @brief Device qualifier
  40:application-library/usb-cdc-device.c ****   * @note  The device_qualifier descriptor describes information about 
  41:application-library/usb-cdc-device.c ****   *          a high-speed capable device that would change if the device 
  42:application-library/usb-cdc-device.c ****   *          were operating at the other speed. 
  43:application-library/usb-cdc-device.c ****   *         For example, if the device is currently operating at full-speed, 
  44:application-library/usb-cdc-device.c ****   *           the device_qualifier returns information about how it would 
  45:application-library/usb-cdc-device.c ****   *           operate at high-speed and vice-versa. 
  46:application-library/usb-cdc-device.c ****   */
  47:application-library/usb-cdc-device.c **** /* USB Standard Device Descriptor */
  48:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END =
  49:application-library/usb-cdc-device.c **** {
  50:application-library/usb-cdc-device.c ****   0x0A,
  51:application-library/usb-cdc-device.c ****   0x06,
  52:application-library/usb-cdc-device.c ****   0x00,
  53:application-library/usb-cdc-device.c ****   0x02,
  54:application-library/usb-cdc-device.c ****   0x00,
  55:application-library/usb-cdc-device.c ****   0x00,
  56:application-library/usb-cdc-device.c ****   0x00,
  57:application-library/usb-cdc-device.c ****   0x40,
  58:application-library/usb-cdc-device.c ****   0x01,
  59:application-library/usb-cdc-device.c ****   0x00,
  60:application-library/usb-cdc-device.c **** };
  61:application-library/usb-cdc-device.c **** 
  62:application-library/usb-cdc-device.c **** 
  63:application-library/usb-cdc-device.c **** /* CDC interface class callbacks structure */
  64:application-library/usb-cdc-device.c **** USBD_ClassTypeDef USBD_CDC =
  65:application-library/usb-cdc-device.c **** {
  66:application-library/usb-cdc-device.c ****   USBD_CDC_Init,
  67:application-library/usb-cdc-device.c ****   USBD_CDC_DeInit,
  68:application-library/usb-cdc-device.c ****   USBD_CDC_Setup,
  69:application-library/usb-cdc-device.c ****   NULL,                 /* EP0_TxSent */
  70:application-library/usb-cdc-device.c ****   USBD_CDC_EP0_RxReady,
  71:application-library/usb-cdc-device.c ****   USBD_CDC_DataIn,
  72:application-library/usb-cdc-device.c ****   USBD_CDC_DataOut,
  73:application-library/usb-cdc-device.c ****   NULL,
  74:application-library/usb-cdc-device.c ****   NULL,
  75:application-library/usb-cdc-device.c ****   NULL,
  76:application-library/usb-cdc-device.c ****   USBD_CDC_GetHSCfgDesc,
  77:application-library/usb-cdc-device.c ****   USBD_CDC_GetFSCfgDesc,
  78:application-library/usb-cdc-device.c ****   USBD_CDC_GetOtherSpeedCfgDesc,
  79:application-library/usb-cdc-device.c ****   USBD_CDC_GetDeviceQualifierDescriptor,
  80:application-library/usb-cdc-device.c **** };
  81:application-library/usb-cdc-device.c **** 
  82:application-library/usb-cdc-device.c **** /* USB CDC device Configuration Descriptor */
  83:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_CfgDesc[USB_CDC_CONFIG_DESC_SIZ] __ALIGN_END =
  84:application-library/usb-cdc-device.c **** {
  85:application-library/usb-cdc-device.c ****   /* Configuration Descriptor */
  86:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Configuration Descriptor size */
  87:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_CONFIGURATION,                /* bDescriptorType: Configuration */
  88:application-library/usb-cdc-device.c ****   USB_CDC_CONFIG_DESC_SIZ,                    /* wTotalLength */
ARM GAS  /tmp/ccf4hwpD.s 			page 3


  89:application-library/usb-cdc-device.c ****   0x00,
  90:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumInterfaces: 2 interfaces */
  91:application-library/usb-cdc-device.c ****   0x01,                                       /* bConfigurationValue: Configuration value */
  92:application-library/usb-cdc-device.c ****   0x00,                                       /* iConfiguration: Index of string descriptor */
  93:application-library/usb-cdc-device.c ****   0xC0,                                       /* bmAttributes: Bus is self-powered. */
  94:application-library/usb-cdc-device.c ****   USBD_MAX_POWER,                             /* MaxPower (mA) */
  95:application-library/usb-cdc-device.c **** 
  96:application-library/usb-cdc-device.c ****   /* Interface Descriptor */
  97:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Interface Descriptor size */
  98:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: Interface */
  99:application-library/usb-cdc-device.c ****   /* Interface descriptor type */
 100:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceNumber: Number of Interface */
 101:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
 102:application-library/usb-cdc-device.c ****   0x01,                                       /* bNumEndpoints: One endpoint used */
 103:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceClass: Communication Interface Class */
 104:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceSubClass: Abstract Control Model */
 105:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceProtocol: Common AT commands */
 106:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
 107:application-library/usb-cdc-device.c **** 
 108:application-library/usb-cdc-device.c ****   /* Header Functional Descriptor */
 109:application-library/usb-cdc-device.c ****   0x05,                                       /* bLength: Endpoint Descriptor size */
 110:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 111:application-library/usb-cdc-device.c ****   0x00,                                       /* bDescriptorSubtype: Header Func Desc */
 112:application-library/usb-cdc-device.c ****   0x10,                                       /* bcdCDC: spec release number */
 113:application-library/usb-cdc-device.c ****   0x01,
 114:application-library/usb-cdc-device.c **** 
 115:application-library/usb-cdc-device.c ****   /* Call Management Functional Descriptor */
 116:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 117:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 118:application-library/usb-cdc-device.c ****   0x01,                                       /* bDescriptorSubtype: Call Management Func Desc */
 119:application-library/usb-cdc-device.c ****   0x00,                                       /* bmCapabilities: D0+D1 */
 120:application-library/usb-cdc-device.c ****   0x01,                                       /* bDataInterface */
 121:application-library/usb-cdc-device.c **** 
 122:application-library/usb-cdc-device.c ****   /* ACM Functional Descriptor */
 123:application-library/usb-cdc-device.c ****   0x04,                                       /* bFunctionLength */
 124:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 125:application-library/usb-cdc-device.c ****   0x02,                                       /* bDescriptorSubtype: Abstract Control Management de
 126:application-library/usb-cdc-device.c ****   0x02,                                       /* bmCapabilities */
 127:application-library/usb-cdc-device.c **** 
 128:application-library/usb-cdc-device.c ****   /* Union Functional Descriptor */
 129:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 130:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 131:application-library/usb-cdc-device.c ****   0x06,                                       /* bDescriptorSubtype: Union func desc */
 132:application-library/usb-cdc-device.c ****   0x00,                                       /* bMasterInterface: Communication class interface */
 133:application-library/usb-cdc-device.c ****   0x01,                                       /* bSlaveInterface0: Data Class Interface */
 134:application-library/usb-cdc-device.c **** 
 135:application-library/usb-cdc-device.c ****   /* Endpoint 2 Descriptor */
 136:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 137:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 138:application-library/usb-cdc-device.c ****   CDC_CMD_EP,                                 /* bEndpointAddress */
 139:application-library/usb-cdc-device.c ****   0x03,                                       /* bmAttributes: Interrupt */
 140:application-library/usb-cdc-device.c ****   LOBYTE(CDC_CMD_PACKET_SIZE),                /* wMaxPacketSize */
 141:application-library/usb-cdc-device.c ****   HIBYTE(CDC_CMD_PACKET_SIZE),
 142:application-library/usb-cdc-device.c ****   CDC_FS_BINTERVAL,                           /* bInterval */
 143:application-library/usb-cdc-device.c ****   /*---------------------------------------------------------------------------*/
 144:application-library/usb-cdc-device.c **** 
 145:application-library/usb-cdc-device.c ****   /* Data class interface descriptor */
ARM GAS  /tmp/ccf4hwpD.s 			page 4


 146:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Endpoint Descriptor size */
 147:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: */
 148:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceNumber: Number of Interface */
 149:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
 150:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumEndpoints: Two endpoints used */
 151:application-library/usb-cdc-device.c ****   0x0A,                                       /* bInterfaceClass: CDC */
 152:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceSubClass */
 153:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceProtocol */
 154:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
 155:application-library/usb-cdc-device.c **** 
 156:application-library/usb-cdc-device.c ****   /* Endpoint OUT Descriptor */
 157:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 158:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 159:application-library/usb-cdc-device.c ****   CDC_OUT_EP,                                 /* bEndpointAddress */
 160:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 161:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 162:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 163:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterval */
 164:application-library/usb-cdc-device.c **** 
 165:application-library/usb-cdc-device.c ****   /* Endpoint IN Descriptor */
 166:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 167:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 168:application-library/usb-cdc-device.c ****   CDC_IN_EP,                                  /* bEndpointAddress */
 169:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 170:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 171:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 172:application-library/usb-cdc-device.c ****   0x00                                        /* bInterval */
 173:application-library/usb-cdc-device.c **** };
 174:application-library/usb-cdc-device.c **** 
 175:application-library/usb-cdc-device.c **** 
 176:application-library/usb-cdc-device.c **** USBD_CDC_ItfTypeDef USBD_Interface_fops_FS =
 177:application-library/usb-cdc-device.c **** {
 178:application-library/usb-cdc-device.c ****   CDC_Init_FS,
 179:application-library/usb-cdc-device.c ****   CDC_DeInit_FS,
 180:application-library/usb-cdc-device.c ****   CDC_Control_FS,
 181:application-library/usb-cdc-device.c ****   CDC_Receive_FS,
 182:application-library/usb-cdc-device.c ****   CDC_TransmitCplt_FS
 183:application-library/usb-cdc-device.c **** };
 184:application-library/usb-cdc-device.c **** 
 185:application-library/usb-cdc-device.c **** /**
 186:application-library/usb-cdc-device.c ****   * @brief  Initializes the CDC media low layer over the FS USB IP
 187:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 188:application-library/usb-cdc-device.c ****   */
 189:application-library/usb-cdc-device.c **** int8_t CDC_Init_FS(void)
 190:application-library/usb-cdc-device.c **** {
 191:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 192:application-library/usb-cdc-device.c ****   /* Set Application Buffers */
 193:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, UserTxBufferFS, 0);
 194:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 195:application-library/usb-cdc-device.c ****   return (USBD_OK);
 196:application-library/usb-cdc-device.c ****   /* USER CODE END 3 */
 197:application-library/usb-cdc-device.c **** }
 198:application-library/usb-cdc-device.c **** 
 199:application-library/usb-cdc-device.c **** /**
 200:application-library/usb-cdc-device.c ****   * @brief  DeInitializes the CDC media low layer
 201:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 202:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccf4hwpD.s 			page 5


 203:application-library/usb-cdc-device.c **** int8_t CDC_DeInit_FS(void)
 204:application-library/usb-cdc-device.c **** {
  28              		.loc 1 204 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 205:application-library/usb-cdc-device.c ****   return (USBD_OK);
 206:application-library/usb-cdc-device.c **** }
  33              		.loc 1 206 0
  34 0000 0020     		movs	r0, #0
  35 0002 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE133:
  39              		.section	.text.CDC_Control_FS,"ax",%progbits
  40              		.align	1
  41              		.global	CDC_Control_FS
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	CDC_Control_FS:
  48              	.LFB134:
 207:application-library/usb-cdc-device.c **** 
 208:application-library/usb-cdc-device.c **** /**
 209:application-library/usb-cdc-device.c ****   * @brief  Manage the CDC class requests
 210:application-library/usb-cdc-device.c ****   * @param  cmd: Command code
 211:application-library/usb-cdc-device.c ****   * @param  pbuf: Buffer containing command data (request parameters)
 212:application-library/usb-cdc-device.c ****   * @param  length: Number of data to be sent (in bytes)
 213:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 214:application-library/usb-cdc-device.c ****   */
 215:application-library/usb-cdc-device.c **** int8_t CDC_Control_FS(uint8_t cmd, uint8_t* pbuf, uint16_t length)
 216:application-library/usb-cdc-device.c **** {
  49              		.loc 1 216 0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53              		@ link register save eliminated.
  54              	.LVL0:
 217:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 5 */
 218:application-library/usb-cdc-device.c ****   switch(cmd)
 219:application-library/usb-cdc-device.c ****   {
 220:application-library/usb-cdc-device.c ****     case CDC_SEND_ENCAPSULATED_COMMAND:
 221:application-library/usb-cdc-device.c ****     break;
 222:application-library/usb-cdc-device.c ****     case CDC_GET_ENCAPSULATED_RESPONSE:
 223:application-library/usb-cdc-device.c ****     break;
 224:application-library/usb-cdc-device.c ****     case CDC_SET_COMM_FEATURE:
 225:application-library/usb-cdc-device.c ****     break;
 226:application-library/usb-cdc-device.c ****     case CDC_GET_COMM_FEATURE:
 227:application-library/usb-cdc-device.c ****     break;
 228:application-library/usb-cdc-device.c ****     case CDC_CLEAR_COMM_FEATURE:
 229:application-library/usb-cdc-device.c ****     break;
 230:application-library/usb-cdc-device.c **** 
 231:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 232:application-library/usb-cdc-device.c ****   /* Line Coding Structure                                                       */
 233:application-library/usb-cdc-device.c ****   /*-----------------------------------------------------------------------------*/
 234:application-library/usb-cdc-device.c ****   /* Offset | Field       | Size | Value  | Description                          */
ARM GAS  /tmp/ccf4hwpD.s 			page 6


 235:application-library/usb-cdc-device.c ****   /* 0      | dwDTERate   |   4  | Number |Data terminal rate, in bits per second*/
 236:application-library/usb-cdc-device.c ****   /* 4      | bCharFormat |   1  | Number | Stop bits                            */
 237:application-library/usb-cdc-device.c ****   /*                                        0 - 1 Stop bit                       */
 238:application-library/usb-cdc-device.c ****   /*                                        1 - 1.5 Stop bits                    */
 239:application-library/usb-cdc-device.c ****   /*                                        2 - 2 Stop bits                      */
 240:application-library/usb-cdc-device.c ****   /* 5      | bParityType |  1   | Number | Parity                               */
 241:application-library/usb-cdc-device.c ****   /*                                        0 - None                             */
 242:application-library/usb-cdc-device.c ****   /*                                        1 - Odd                              */
 243:application-library/usb-cdc-device.c ****   /*                                        2 - Even                             */
 244:application-library/usb-cdc-device.c ****   /*                                        3 - Mark                             */
 245:application-library/usb-cdc-device.c ****   /*                                        4 - Space                            */
 246:application-library/usb-cdc-device.c ****   /* 6      | bDataBits  |   1   | Number Data bits (5, 6, 7, 8 or 16).          */
 247:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 248:application-library/usb-cdc-device.c ****     case CDC_SET_LINE_CODING:
 249:application-library/usb-cdc-device.c ****     break;
 250:application-library/usb-cdc-device.c ****     case CDC_GET_LINE_CODING:
 251:application-library/usb-cdc-device.c ****     break;
 252:application-library/usb-cdc-device.c ****     case CDC_SET_CONTROL_LINE_STATE:
 253:application-library/usb-cdc-device.c ****     break;
 254:application-library/usb-cdc-device.c ****     case CDC_SEND_BREAK:
 255:application-library/usb-cdc-device.c ****     break;
 256:application-library/usb-cdc-device.c ****   default:
 257:application-library/usb-cdc-device.c ****     break;
 258:application-library/usb-cdc-device.c ****   }
 259:application-library/usb-cdc-device.c ****   return (USBD_OK);
 260:application-library/usb-cdc-device.c **** }
  55              		.loc 1 260 0
  56 0000 0020     		movs	r0, #0
  57              	.LVL1:
  58 0002 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE134:
  62              		.section	.text.CDC_TransmitCplt_FS,"ax",%progbits
  63              		.align	1
  64              		.global	CDC_TransmitCplt_FS
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  68              		.fpu fpv4-sp-d16
  70              	CDC_TransmitCplt_FS:
  71              	.LFB137:
 261:application-library/usb-cdc-device.c **** 
 262:application-library/usb-cdc-device.c **** /**
 263:application-library/usb-cdc-device.c ****   * @brief  Data received over USB OUT endpoint are sent over CDC interface
 264:application-library/usb-cdc-device.c ****   *         through this function.
 265:application-library/usb-cdc-device.c ****   *
 266:application-library/usb-cdc-device.c ****   *         @note
 267:application-library/usb-cdc-device.c ****   *         This function will issue a NAK packet on any OUT packet received on
 268:application-library/usb-cdc-device.c ****   *         USB endpoint until exiting this function. If you exit this function
 269:application-library/usb-cdc-device.c ****   *         before transfer is complete on CDC interface (ie. using DMA controller)
 270:application-library/usb-cdc-device.c ****   *         it will result in receiving more data while previous ones are still
 271:application-library/usb-cdc-device.c ****   *         not sent.
 272:application-library/usb-cdc-device.c ****   *
 273:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 274:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 275:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 276:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccf4hwpD.s 			page 7


 277:application-library/usb-cdc-device.c **** int8_t CDC_Receive_FS(uint8_t* Buf, uint32_t *Len)
 278:application-library/usb-cdc-device.c **** {
 279:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 280:application-library/usb-cdc-device.c ****   uint8_t received_msg[64];
 281:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, &Buf[0]);
 282:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
 283:application-library/usb-cdc-device.c **** 
 284:application-library/usb-cdc-device.c ****   memset (received_msg, '\0', 64);  // clear the buffer
 285:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 286:application-library/usb-cdc-device.c ****   memcpy(received_msg, Buf, len);  // copy the data to the buffer
 287:application-library/usb-cdc-device.c **** 
 288:application-library/usb-cdc-device.c ****   strcat((char*) received_msg, (char *)" echoed.\n");
 289:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 290:application-library/usb-cdc-device.c ****   usbd_transmit(received_msg, sizeof(received_msg));
 291:application-library/usb-cdc-device.c ****   return (USBD_OK);
 292:application-library/usb-cdc-device.c ****   /* USER CODE END 6 */
 293:application-library/usb-cdc-device.c **** }
 294:application-library/usb-cdc-device.c **** 
 295:application-library/usb-cdc-device.c **** /**
 296:application-library/usb-cdc-device.c ****   * @brief  Trasmit Data to send over USB IN endpoint are sent over CDC interface
 297:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be sent
 298:application-library/usb-cdc-device.c ****   * @param  Len: Number of data to be sent (in bytes)
 299:application-library/usb-cdc-device.c ****   * @retval void
 300:application-library/usb-cdc-device.c ****   */
 301:application-library/usb-cdc-device.c **** void usbd_transmit(uint8_t* Buf, uint16_t Len)
 302:application-library/usb-cdc-device.c **** {
 303:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, Buf, Len);
 304:application-library/usb-cdc-device.c **** 
 305:application-library/usb-cdc-device.c ****   // start transmission.
 306:application-library/usb-cdc-device.c ****   USBD_Handle_t* p_usbd_instance = &hUsbDeviceFS;
 307:application-library/usb-cdc-device.c ****   
 308:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 309:application-library/usb-cdc-device.c ****   if (hcdc->TxState == 0U)
 310:application-library/usb-cdc-device.c ****   {
 311:application-library/usb-cdc-device.c ****     /* Tx Transfer in progress */
 312:application-library/usb-cdc-device.c ****     hcdc->TxState = 1U;
 313:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 314:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_in[CDC_IN_EP & 0xFU].total_length = hcdc->TxLength;
 315:application-library/usb-cdc-device.c ****     /* Transmit next packet */
 316:application-library/usb-cdc-device.c ****     USBD_LL_Transmit(p_usbd_instance, CDC_IN_EP, hcdc->TxBuffer, hcdc->TxLength);
 317:application-library/usb-cdc-device.c ****   }
 318:application-library/usb-cdc-device.c **** }
 319:application-library/usb-cdc-device.c **** 
 320:application-library/usb-cdc-device.c **** /**
 321:application-library/usb-cdc-device.c ****   * @brief  Data transmitted callback
 322:application-library/usb-cdc-device.c ****   *         This function is IN transfer complete callback used to inform user that
 323:application-library/usb-cdc-device.c ****   *         the submitted Data is successfully sent over USB.
 324:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 325:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 326:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 327:application-library/usb-cdc-device.c ****   */
 328:application-library/usb-cdc-device.c **** int8_t CDC_TransmitCplt_FS(uint8_t *Buf, uint32_t *Len, uint8_t epnum)
 329:application-library/usb-cdc-device.c **** {
  72              		.loc 1 329 0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccf4hwpD.s 			page 8


  76              		@ link register save eliminated.
  77              	.LVL2:
 330:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 331:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 13 */
 332:application-library/usb-cdc-device.c ****   UNUSED(Buf);
 333:application-library/usb-cdc-device.c ****   UNUSED(Len);
 334:application-library/usb-cdc-device.c ****   UNUSED(epnum);
 335:application-library/usb-cdc-device.c ****   /* USER CODE END 13 */
 336:application-library/usb-cdc-device.c ****   return result;
 337:application-library/usb-cdc-device.c **** }
  78              		.loc 1 337 0
  79 0000 0020     		movs	r0, #0
  80              	.LVL3:
  81 0002 7047     		bx	lr
  82              		.cfi_endproc
  83              	.LFE137:
  85              		.section	.text.USBD_CDC_EP0_RxReady,"ax",%progbits
  86              		.align	1
  87              		.global	USBD_CDC_EP0_RxReady
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	USBD_CDC_EP0_RxReady:
  94              	.LFB144:
 338:application-library/usb-cdc-device.c **** 
 339:application-library/usb-cdc-device.c **** 
 340:application-library/usb-cdc-device.c **** /**
 341:application-library/usb-cdc-device.c ****   * @brief Init USB device Library, add supported class and start the library
 342:application-library/usb-cdc-device.c ****   */
 343:application-library/usb-cdc-device.c **** void usb_device_init(void)
 344:application-library/usb-cdc-device.c **** {
 345:application-library/usb-cdc-device.c ****   USBD_Init(&hUsbDeviceFS, &FS_Desc, DEVICE_FS);
 346:application-library/usb-cdc-device.c ****   USBD_RegisterClass(&hUsbDeviceFS, &USBD_CDC); // usbd_core.c
 347:application-library/usb-cdc-device.c ****   USBD_CDC_RegisterInterface(&hUsbDeviceFS, &USBD_Interface_fops_FS);
 348:application-library/usb-cdc-device.c ****   USBD_Start(&hUsbDeviceFS);  /* p_usbd_handle->pData has type void */
 349:application-library/usb-cdc-device.c **** }
 350:application-library/usb-cdc-device.c **** 
 351:application-library/usb-cdc-device.c **** /**
 352:application-library/usb-cdc-device.c ****   * @brief  Initialize the CDC interface
 353:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 354:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 355:application-library/usb-cdc-device.c ****   * @retval status
 356:application-library/usb-cdc-device.c ****   */
 357:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Init(USBD_Handle_t *p_usbd_instance, uint8_t cfgidx)
 358:application-library/usb-cdc-device.c **** {
 359:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 360:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc;
 361:application-library/usb-cdc-device.c **** 
 362:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_Buffer_t *)USBD_malloc(sizeof(USBD_CDC_Buffer_t));
 363:application-library/usb-cdc-device.c **** 
 364:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 365:application-library/usb-cdc-device.c ****   {
 366:application-library/usb-cdc-device.c ****     p_usbd_instance->pClassDataCmsit = NULL;
 367:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 368:application-library/usb-cdc-device.c ****   }
 369:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 9


 370:application-library/usb-cdc-device.c ****   memset(hcdc, 0, sizeof(USBD_CDC_Buffer_t));
 371:application-library/usb-cdc-device.c **** 
 372:application-library/usb-cdc-device.c ****   p_usbd_instance->pClassDataCmsit = (void *)hcdc;
 373:application-library/usb-cdc-device.c ****   p_usbd_instance->pClassData = p_usbd_instance->pClassDataCmsit;
 374:application-library/usb-cdc-device.c **** 
 375:application-library/usb-cdc-device.c ****   /* High Speed */
 376:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_speed == USBD_SPEED_HIGH)
 377:application-library/usb-cdc-device.c ****   {
 378:application-library/usb-cdc-device.c ****     /* Open EP IN */
 379:application-library/usb-cdc-device.c ****     USBD_LL_OpenEP(p_usbd_instance, CDC_IN_EP, USBD_EP_TYPE_BULK,
 380:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 381:application-library/usb-cdc-device.c **** 
 382:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 383:application-library/usb-cdc-device.c **** 
 384:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 385:application-library/usb-cdc-device.c ****     USBD_LL_OpenEP(p_usbd_instance, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 386:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 387:application-library/usb-cdc-device.c **** 
 388:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 389:application-library/usb-cdc-device.c **** 
 390:application-library/usb-cdc-device.c ****     /* Set bInterval for CDC CMD Endpoint */
 391:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_HS_BINTERVAL;
 392:application-library/usb-cdc-device.c ****   }
 393:application-library/usb-cdc-device.c ****   /* Low/Full Speed */
 394:application-library/usb-cdc-device.c ****   else
 395:application-library/usb-cdc-device.c ****   {
 396:application-library/usb-cdc-device.c ****     /* Open EP IN */
 397:application-library/usb-cdc-device.c ****     USBD_LL_OpenEP(p_usbd_instance, CDC_IN_EP, USBD_EP_TYPE_BULK,
 398:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 399:application-library/usb-cdc-device.c **** 
 400:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 401:application-library/usb-cdc-device.c **** 
 402:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 403:application-library/usb-cdc-device.c ****     USBD_LL_OpenEP(p_usbd_instance, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 404:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 405:application-library/usb-cdc-device.c **** 
 406:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 407:application-library/usb-cdc-device.c **** 
 408:application-library/usb-cdc-device.c ****     /* Set bInterval for CMD Endpoint */
 409:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_FS_BINTERVAL;
 410:application-library/usb-cdc-device.c ****   }
 411:application-library/usb-cdc-device.c **** 
 412:application-library/usb-cdc-device.c ****   /* Open Command IN EP */
 413:application-library/usb-cdc-device.c ****   USBD_LL_OpenEP(p_usbd_instance, CDC_CMD_EP, USBD_EP_TYPE_INTR, CDC_CMD_PACKET_SIZE);
 414:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
 415:application-library/usb-cdc-device.c **** 
 416:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = NULL;
 417:application-library/usb-cdc-device.c **** 
 418:application-library/usb-cdc-device.c ****   /* Init  physical Interface components */
 419:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->Init();
 420:application-library/usb-cdc-device.c **** 
 421:application-library/usb-cdc-device.c ****   /* Init Xfer states */
 422:application-library/usb-cdc-device.c ****   hcdc->TxState = 0U;
 423:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 424:application-library/usb-cdc-device.c **** 
 425:application-library/usb-cdc-device.c ****   if (hcdc->RxBuffer == NULL)
 426:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccf4hwpD.s 			page 10


 427:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 428:application-library/usb-cdc-device.c ****   }
 429:application-library/usb-cdc-device.c **** 
 430:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_speed == USBD_SPEED_HIGH)
 431:application-library/usb-cdc-device.c ****   {
 432:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 433:application-library/usb-cdc-device.c ****     USBD_LL_PrepareReceive(p_usbd_instance, CDC_OUT_EP, hcdc->RxBuffer,
 434:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 435:application-library/usb-cdc-device.c ****   }
 436:application-library/usb-cdc-device.c ****   else
 437:application-library/usb-cdc-device.c ****   {
 438:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 439:application-library/usb-cdc-device.c ****     USBD_LL_PrepareReceive(p_usbd_instance, CDC_OUT_EP, hcdc->RxBuffer,
 440:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 441:application-library/usb-cdc-device.c ****   }
 442:application-library/usb-cdc-device.c **** 
 443:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 444:application-library/usb-cdc-device.c **** }
 445:application-library/usb-cdc-device.c **** 
 446:application-library/usb-cdc-device.c **** /**
 447:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Init
 448:application-library/usb-cdc-device.c ****   *         DeInitialize the CDC layer
 449:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 450:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 451:application-library/usb-cdc-device.c ****   * @retval status
 452:application-library/usb-cdc-device.c ****   */
 453:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DeInit(USBD_Handle_t *p_usbd_instance, uint8_t cfgidx)
 454:application-library/usb-cdc-device.c **** {
 455:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 456:application-library/usb-cdc-device.c **** 
 457:application-library/usb-cdc-device.c ****   /* Close EP IN */
 458:application-library/usb-cdc-device.c ****   USBD_LL_CloseEP(p_usbd_instance, CDC_IN_EP);
 459:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 460:application-library/usb-cdc-device.c **** 
 461:application-library/usb-cdc-device.c ****   /* Close EP OUT */
 462:application-library/usb-cdc-device.c ****   USBD_LL_CloseEP(p_usbd_instance, CDC_OUT_EP);
 463:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 464:application-library/usb-cdc-device.c **** 
 465:application-library/usb-cdc-device.c ****   /* Close Command IN EP */
 466:application-library/usb-cdc-device.c ****   USBD_LL_CloseEP(p_usbd_instance, CDC_CMD_EP);
 467:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 468:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 469:application-library/usb-cdc-device.c **** 
 470:application-library/usb-cdc-device.c ****   /* DeInit  physical Interface components */
 471:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClassDataCmsit != NULL)
 472:application-library/usb-cdc-device.c ****   {
 473:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->DeInit();
 474:application-library/usb-cdc-device.c ****     USBD_static_free(p_usbd_instance->pClassDataCmsit);
 475:application-library/usb-cdc-device.c ****     p_usbd_instance->pClassDataCmsit = NULL;
 476:application-library/usb-cdc-device.c ****     p_usbd_instance->pClassData = NULL;
 477:application-library/usb-cdc-device.c ****   }
 478:application-library/usb-cdc-device.c **** 
 479:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 480:application-library/usb-cdc-device.c **** }
 481:application-library/usb-cdc-device.c **** 
 482:application-library/usb-cdc-device.c **** /**
 483:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Setup
ARM GAS  /tmp/ccf4hwpD.s 			page 11


 484:application-library/usb-cdc-device.c ****   *         Handle the CDC specific requests
 485:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: instance
 486:application-library/usb-cdc-device.c ****   * @param  req: usb requests
 487:application-library/usb-cdc-device.c ****   * @retval status
 488:application-library/usb-cdc-device.c ****   */
 489:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Setup(USBD_Handle_t *p_usbd_instance,
 490:application-library/usb-cdc-device.c ****                               USBD_SetupReqTypedef *req)
 491:application-library/usb-cdc-device.c **** {
 492:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 493:application-library/usb-cdc-device.c ****   uint16_t len;
 494:application-library/usb-cdc-device.c ****   uint8_t ifalt = 0U;
 495:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 496:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 497:application-library/usb-cdc-device.c **** 
 498:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 499:application-library/usb-cdc-device.c ****   {
 500:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 501:application-library/usb-cdc-device.c ****   }
 502:application-library/usb-cdc-device.c **** 
 503:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
 504:application-library/usb-cdc-device.c ****   {
 505:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
 506:application-library/usb-cdc-device.c ****       if (req->wLength != 0U)
 507:application-library/usb-cdc-device.c ****       {
 508:application-library/usb-cdc-device.c ****         if ((req->bmRequest & 0x80U) != 0U)
 509:application-library/usb-cdc-device.c ****         {
 510:application-library/usb-cdc-device.c ****           ((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->Control(req->bRequest,
 511:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 512:application-library/usb-cdc-device.c ****                                                                            req->wLength);
 513:application-library/usb-cdc-device.c **** 
 514:application-library/usb-cdc-device.c ****           len = MIN(CDC_REQ_MAX_DATA_SIZE, req->wLength);
 515:application-library/usb-cdc-device.c ****           USBD_CtlSendData(p_usbd_instance, (uint8_t *)hcdc->data, len);
 516:application-library/usb-cdc-device.c ****         }
 517:application-library/usb-cdc-device.c ****         else
 518:application-library/usb-cdc-device.c ****         {
 519:application-library/usb-cdc-device.c ****           hcdc->CmdOpCode = req->bRequest;
 520:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 521:application-library/usb-cdc-device.c **** 
 522:application-library/usb-cdc-device.c ****           USBD_CtlPrepareRx(p_usbd_instance, (uint8_t *)hcdc->data, hcdc->CmdLength);
 523:application-library/usb-cdc-device.c ****         }
 524:application-library/usb-cdc-device.c ****       }
 525:application-library/usb-cdc-device.c ****       else
 526:application-library/usb-cdc-device.c ****       {
 527:application-library/usb-cdc-device.c ****         ((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->Control(req->bRequest,
 528:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
 529:application-library/usb-cdc-device.c ****       }
 530:application-library/usb-cdc-device.c ****       break;
 531:application-library/usb-cdc-device.c **** 
 532:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
 533:application-library/usb-cdc-device.c ****       switch (req->bRequest)
 534:application-library/usb-cdc-device.c ****       {
 535:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
 536:application-library/usb-cdc-device.c ****           if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
 537:application-library/usb-cdc-device.c ****           {
 538:application-library/usb-cdc-device.c ****             USBD_CtlSendData(p_usbd_instance, (uint8_t *)&status_info, 2U);
 539:application-library/usb-cdc-device.c ****           }
 540:application-library/usb-cdc-device.c ****           else
ARM GAS  /tmp/ccf4hwpD.s 			page 12


 541:application-library/usb-cdc-device.c ****           {
 542:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
 543:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 544:application-library/usb-cdc-device.c ****           }
 545:application-library/usb-cdc-device.c ****           break;
 546:application-library/usb-cdc-device.c **** 
 547:application-library/usb-cdc-device.c ****         case USB_REQ_GET_INTERFACE:
 548:application-library/usb-cdc-device.c ****           if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
 549:application-library/usb-cdc-device.c ****           {
 550:application-library/usb-cdc-device.c ****             USBD_CtlSendData(p_usbd_instance, &ifalt, 1U);
 551:application-library/usb-cdc-device.c ****           }
 552:application-library/usb-cdc-device.c ****           else
 553:application-library/usb-cdc-device.c ****           {
 554:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
 555:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 556:application-library/usb-cdc-device.c ****           }
 557:application-library/usb-cdc-device.c ****           break;
 558:application-library/usb-cdc-device.c **** 
 559:application-library/usb-cdc-device.c ****         case USB_REQ_SET_INTERFACE:
 560:application-library/usb-cdc-device.c ****           if (p_usbd_instance->dev_state != USBD_STATE_CONFIGURED)
 561:application-library/usb-cdc-device.c ****           {
 562:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
 563:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 564:application-library/usb-cdc-device.c ****           }
 565:application-library/usb-cdc-device.c ****           break;
 566:application-library/usb-cdc-device.c **** 
 567:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
 568:application-library/usb-cdc-device.c ****           break;
 569:application-library/usb-cdc-device.c **** 
 570:application-library/usb-cdc-device.c ****         default:
 571:application-library/usb-cdc-device.c ****           USBD_CtlError(p_usbd_instance, req);
 572:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 573:application-library/usb-cdc-device.c ****           break;
 574:application-library/usb-cdc-device.c ****       }
 575:application-library/usb-cdc-device.c ****       break;
 576:application-library/usb-cdc-device.c **** 
 577:application-library/usb-cdc-device.c ****     default:
 578:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
 579:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 580:application-library/usb-cdc-device.c ****       break;
 581:application-library/usb-cdc-device.c ****   }
 582:application-library/usb-cdc-device.c **** 
 583:application-library/usb-cdc-device.c ****   return (uint8_t)ret;
 584:application-library/usb-cdc-device.c **** }
 585:application-library/usb-cdc-device.c **** 
 586:application-library/usb-cdc-device.c **** 
 587:application-library/usb-cdc-device.c **** /**
 588:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataIn
 589:application-library/usb-cdc-device.c ****   *         Data sent on non-control IN endpoint
 590:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 591:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 592:application-library/usb-cdc-device.c ****   * @retval status
 593:application-library/usb-cdc-device.c ****   */
 594:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataIn(USBD_Handle_t *p_usbd_instance, uint8_t epnum)
 595:application-library/usb-cdc-device.c **** {
 596:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc;
 597:application-library/usb-cdc-device.c ****   PCD_HandleTypeDef *hpcd = (PCD_HandleTypeDef *)p_usbd_instance->pData;
ARM GAS  /tmp/ccf4hwpD.s 			page 13


 598:application-library/usb-cdc-device.c **** 
 599:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClassDataCmsit == NULL)
 600:application-library/usb-cdc-device.c ****   {
 601:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 602:application-library/usb-cdc-device.c ****   }
 603:application-library/usb-cdc-device.c **** 
 604:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 605:application-library/usb-cdc-device.c **** 
 606:application-library/usb-cdc-device.c ****   if ((p_usbd_instance->ep_in[epnum & 0xFU].total_length > 0U) &&
 607:application-library/usb-cdc-device.c ****       ((p_usbd_instance->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) ==
 608:application-library/usb-cdc-device.c ****   {
 609:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 610:application-library/usb-cdc-device.c ****     p_usbd_instance->ep_in[epnum & 0xFU].total_length = 0U;
 611:application-library/usb-cdc-device.c **** 
 612:application-library/usb-cdc-device.c ****     /* Send ZLP */
 613:application-library/usb-cdc-device.c ****     USBD_LL_Transmit(p_usbd_instance, epnum, NULL, 0U);
 614:application-library/usb-cdc-device.c ****   }
 615:application-library/usb-cdc-device.c ****   else
 616:application-library/usb-cdc-device.c ****   {
 617:application-library/usb-cdc-device.c ****     hcdc->TxState = 0U;
 618:application-library/usb-cdc-device.c **** 
 619:application-library/usb-cdc-device.c ****     if (((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->TransmitCplt != NULL)
 620:application-library/usb-cdc-device.c ****     {
 621:application-library/usb-cdc-device.c ****       ((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->TransmitCplt(hcdc->TxBuffer, &hcdc->TxLe
 622:application-library/usb-cdc-device.c ****     }
 623:application-library/usb-cdc-device.c ****   }
 624:application-library/usb-cdc-device.c **** 
 625:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 626:application-library/usb-cdc-device.c **** }
 627:application-library/usb-cdc-device.c **** 
 628:application-library/usb-cdc-device.c **** 
 629:application-library/usb-cdc-device.c **** 
 630:application-library/usb-cdc-device.c **** /**
 631:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataOut
 632:application-library/usb-cdc-device.c ****   *         Data received on non-control Out endpoint
 633:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 634:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 635:application-library/usb-cdc-device.c ****   * @retval status
 636:application-library/usb-cdc-device.c ****   */
 637:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataOut(USBD_Handle_t *p_usbd_instance, uint8_t epnum)
 638:application-library/usb-cdc-device.c **** {
 639:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 640:application-library/usb-cdc-device.c **** 
 641:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClassDataCmsit == NULL)
 642:application-library/usb-cdc-device.c ****   {
 643:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 644:application-library/usb-cdc-device.c ****   }
 645:application-library/usb-cdc-device.c **** 
 646:application-library/usb-cdc-device.c ****   /* Get the received data length */
 647:application-library/usb-cdc-device.c ****   hcdc->RxLength = USBD_LL_GetRxDataSize(p_usbd_instance, epnum);
 648:application-library/usb-cdc-device.c **** 
 649:application-library/usb-cdc-device.c ****   /* USB data will be immediately processed, this allow next USB traffic being
 650:application-library/usb-cdc-device.c ****   NAKed till the end of the application Xfer */
 651:application-library/usb-cdc-device.c **** 
 652:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->Receive(hcdc->RxBuffer, &hcdc->RxLength);
 653:application-library/usb-cdc-device.c **** 
 654:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
ARM GAS  /tmp/ccf4hwpD.s 			page 14


 655:application-library/usb-cdc-device.c **** }
 656:application-library/usb-cdc-device.c **** 
 657:application-library/usb-cdc-device.c **** /**
 658:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_EP0_RxReady
 659:application-library/usb-cdc-device.c ****   *         Handle EP0 Rx Ready event
 660:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 661:application-library/usb-cdc-device.c ****   * @retval status
 662:application-library/usb-cdc-device.c ****   */
 663:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_EP0_RxReady(USBD_Handle_t *p_usbd_instance)
 664:application-library/usb-cdc-device.c **** {
  95              		.loc 1 664 0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99              	.LVL4:
 100 0000 10B5     		push	{r4, lr}
 101              	.LCFI0:
 102              		.cfi_def_cfa_offset 8
 103              		.cfi_offset 4, -8
 104              		.cfi_offset 14, -4
 665:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 105              		.loc 1 665 0
 106 0002 D0F8BC42 		ldr	r4, [r0, #700]
 107              	.LVL5:
 666:application-library/usb-cdc-device.c **** 
 667:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 108              		.loc 1 667 0
 109 0006 84B1     		cbz	r4, .L6
 668:application-library/usb-cdc-device.c ****   {
 669:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 670:application-library/usb-cdc-device.c ****   }
 671:application-library/usb-cdc-device.c **** 
 672:application-library/usb-cdc-device.c ****   if ((p_usbd_instance->pUserData != NULL) && (hcdc->CmdOpCode != 0xFFU))
 110              		.loc 1 672 0
 111 0008 D0F8C032 		ldr	r3, [r0, #704]
 112 000c 7BB1     		cbz	r3, .L7
 113              		.loc 1 672 0 is_stmt 0 discriminator 1
 114 000e 94F80002 		ldrb	r0, [r4, #512]	@ zero_extendqisi2
 115              	.LVL6:
 116 0012 FF28     		cmp	r0, #255
 117 0014 0DD0     		beq	.L8
 673:application-library/usb-cdc-device.c ****   {
 674:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)p_usbd_instance->pUserData)->Control(hcdc->CmdOpCode,
 118              		.loc 1 674 0 is_stmt 1
 119 0016 9B68     		ldr	r3, [r3, #8]
 120 0018 94F80122 		ldrb	r2, [r4, #513]	@ zero_extendqisi2
 121 001c 2146     		mov	r1, r4
 122 001e 9847     		blx	r3
 123              	.LVL7:
 675:application-library/usb-cdc-device.c ****                                                                      (uint8_t *)hcdc->data,
 676:application-library/usb-cdc-device.c ****                                                                      (uint16_t)hcdc->CmdLength);
 677:application-library/usb-cdc-device.c ****     hcdc->CmdOpCode = 0xFFU;
 124              		.loc 1 677 0
 125 0020 FF23     		movs	r3, #255
 126 0022 84F80032 		strb	r3, [r4, #512]
 678:application-library/usb-cdc-device.c ****   }
 679:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 15


 680:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 127              		.loc 1 680 0
 128 0026 0020     		movs	r0, #0
 129 0028 10BD     		pop	{r4, pc}
 130              	.LVL8:
 131              	.L6:
 669:application-library/usb-cdc-device.c ****   }
 132              		.loc 1 669 0
 133 002a 0320     		movs	r0, #3
 134              	.LVL9:
 135 002c 10BD     		pop	{r4, pc}
 136              	.LVL10:
 137              	.L7:
 138              		.loc 1 680 0
 139 002e 0020     		movs	r0, #0
 140              	.LVL11:
 141 0030 10BD     		pop	{r4, pc}
 142              	.LVL12:
 143              	.L8:
 144 0032 0020     		movs	r0, #0
 681:application-library/usb-cdc-device.c **** }
 145              		.loc 1 681 0
 146 0034 10BD     		pop	{r4, pc}
 147              		.cfi_endproc
 148              	.LFE144:
 150              		.section	.text.USBD_CDC_GetDeviceQualifierDescriptor,"ax",%progbits
 151              		.align	1
 152              		.global	USBD_CDC_GetDeviceQualifierDescriptor
 153              		.syntax unified
 154              		.thumb
 155              		.thumb_func
 156              		.fpu fpv4-sp-d16
 158              	USBD_CDC_GetDeviceQualifierDescriptor:
 159              	.LFB148:
 682:application-library/usb-cdc-device.c **** /**
 683:application-library/usb-cdc-device.c ****   * @brief  Get full speed configuration descriptor.
 684:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 685:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 686:application-library/usb-cdc-device.c ****   */
 687:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetFSCfgDesc(uint16_t *length)
 688:application-library/usb-cdc-device.c **** {
 689:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 690:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 691:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 692:application-library/usb-cdc-device.c **** 
 693:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 694:application-library/usb-cdc-device.c ****   {
 695:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 696:application-library/usb-cdc-device.c ****   }
 697:application-library/usb-cdc-device.c **** 
 698:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 699:application-library/usb-cdc-device.c ****   {
 700:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 701:application-library/usb-cdc-device.c ****   }
 702:application-library/usb-cdc-device.c **** 
 703:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 704:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccf4hwpD.s 			page 16


 705:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 706:application-library/usb-cdc-device.c ****   }
 707:application-library/usb-cdc-device.c **** 
 708:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 709:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 710:application-library/usb-cdc-device.c **** }
 711:application-library/usb-cdc-device.c **** 
 712:application-library/usb-cdc-device.c **** /**
 713:application-library/usb-cdc-device.c ****   * @brief  Return configuration descriptor
 714:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 715:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 716:application-library/usb-cdc-device.c ****   */
 717:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetHSCfgDesc(uint16_t *length)
 718:application-library/usb-cdc-device.c **** {
 719:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 720:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 721:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 722:application-library/usb-cdc-device.c **** 
 723:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 724:application-library/usb-cdc-device.c ****   {
 725:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_HS_BINTERVAL;
 726:application-library/usb-cdc-device.c ****   }
 727:application-library/usb-cdc-device.c **** 
 728:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 729:application-library/usb-cdc-device.c ****   {
 730:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 731:application-library/usb-cdc-device.c ****   }
 732:application-library/usb-cdc-device.c **** 
 733:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 734:application-library/usb-cdc-device.c ****   {
 735:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 736:application-library/usb-cdc-device.c ****   }
 737:application-library/usb-cdc-device.c **** 
 738:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 739:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 740:application-library/usb-cdc-device.c **** }
 741:application-library/usb-cdc-device.c **** 
 742:application-library/usb-cdc-device.c **** /**
 743:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_GetOtherSpeedCfgDesc
 744:application-library/usb-cdc-device.c ****   *         Return configuration descriptor
 745:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 746:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 747:application-library/usb-cdc-device.c ****   */
 748:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetOtherSpeedCfgDesc(uint16_t *length)
 749:application-library/usb-cdc-device.c **** {
 750:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 751:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 752:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 753:application-library/usb-cdc-device.c **** 
 754:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 755:application-library/usb-cdc-device.c ****   {
 756:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 757:application-library/usb-cdc-device.c ****   }
 758:application-library/usb-cdc-device.c **** 
 759:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 760:application-library/usb-cdc-device.c ****   {
 761:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
ARM GAS  /tmp/ccf4hwpD.s 			page 17


 762:application-library/usb-cdc-device.c ****   }
 763:application-library/usb-cdc-device.c **** 
 764:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 765:application-library/usb-cdc-device.c ****   {
 766:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 767:application-library/usb-cdc-device.c ****   }
 768:application-library/usb-cdc-device.c **** 
 769:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 770:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 771:application-library/usb-cdc-device.c **** }
 772:application-library/usb-cdc-device.c **** 
 773:application-library/usb-cdc-device.c **** /**
 774:application-library/usb-cdc-device.c ****   * @brief  Get Device Qualifier descriptor
 775:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 776:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 777:application-library/usb-cdc-device.c ****   */
 778:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetDeviceQualifierDescriptor(uint16_t *length)
 779:application-library/usb-cdc-device.c **** {
 160              		.loc 1 779 0
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 0
 163              		@ frame_needed = 0, uses_anonymous_args = 0
 164              		@ link register save eliminated.
 165              	.LVL13:
 780:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_DeviceQualifierDesc);
 166              		.loc 1 780 0
 167 0000 0A23     		movs	r3, #10
 168 0002 0380     		strh	r3, [r0]	@ movhi
 781:application-library/usb-cdc-device.c **** 
 782:application-library/usb-cdc-device.c ****   return USBD_CDC_DeviceQualifierDesc;
 783:application-library/usb-cdc-device.c **** }
 169              		.loc 1 783 0
 170 0004 0048     		ldr	r0, .L11
 171              	.LVL14:
 172 0006 7047     		bx	lr
 173              	.L12:
 174              		.align	2
 175              	.L11:
 176 0008 00000000 		.word	.LANCHOR0
 177              		.cfi_endproc
 178              	.LFE148:
 180              		.section	.text.USBD_FS_DeviceDescriptor,"ax",%progbits
 181              		.align	1
 182              		.global	USBD_FS_DeviceDescriptor
 183              		.syntax unified
 184              		.thumb
 185              		.thumb_func
 186              		.fpu fpv4-sp-d16
 188              	USBD_FS_DeviceDescriptor:
 189              	.LFB224:
 784:application-library/usb-cdc-device.c **** 
 785:application-library/usb-cdc-device.c **** /**
 786:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_RegisterInterface
 787:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 788:application-library/usb-cdc-device.c ****   * @param  fops: CD  Interface callback
 789:application-library/usb-cdc-device.c ****   * @retval status
 790:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccf4hwpD.s 			page 18


 791:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_RegisterInterface(USBD_Handle_t *p_usbd_instance,
 792:application-library/usb-cdc-device.c ****                                    USBD_CDC_ItfTypeDef *fops)
 793:application-library/usb-cdc-device.c **** {
 794:application-library/usb-cdc-device.c ****   if (fops == NULL)
 795:application-library/usb-cdc-device.c ****   {
 796:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 797:application-library/usb-cdc-device.c ****   }
 798:application-library/usb-cdc-device.c **** 
 799:application-library/usb-cdc-device.c ****   p_usbd_instance->pUserData = fops;
 800:application-library/usb-cdc-device.c **** 
 801:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 802:application-library/usb-cdc-device.c **** }
 803:application-library/usb-cdc-device.c **** 
 804:application-library/usb-cdc-device.c **** /**
 805:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetTxBuffer
 806:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 807:application-library/usb-cdc-device.c ****   * @param  pbuff: Tx Buffer
 808:application-library/usb-cdc-device.c ****   * @param  length: Tx Buffer length
 809:application-library/usb-cdc-device.c ****   * @retval status
 810:application-library/usb-cdc-device.c ****   */
 811:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetTxBuffer(USBD_Handle_t *p_usbd_instance,
 812:application-library/usb-cdc-device.c ****                              uint8_t *pbuff, uint32_t length)
 813:application-library/usb-cdc-device.c **** {
 814:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 815:application-library/usb-cdc-device.c **** 
 816:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 817:application-library/usb-cdc-device.c ****   {
 818:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 819:application-library/usb-cdc-device.c ****   }
 820:application-library/usb-cdc-device.c **** 
 821:application-library/usb-cdc-device.c ****   hcdc->TxBuffer = pbuff;
 822:application-library/usb-cdc-device.c ****   hcdc->TxLength = length;
 823:application-library/usb-cdc-device.c **** 
 824:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 825:application-library/usb-cdc-device.c **** }
 826:application-library/usb-cdc-device.c **** 
 827:application-library/usb-cdc-device.c **** /**
 828:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetRxBuffer
 829:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 830:application-library/usb-cdc-device.c ****   * @param  pbuff: Rx Buffer
 831:application-library/usb-cdc-device.c ****   * @retval status
 832:application-library/usb-cdc-device.c ****   */
 833:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetRxBuffer(USBD_Handle_t *p_usbd_instance, uint8_t *pbuff)
 834:application-library/usb-cdc-device.c **** {
 835:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 836:application-library/usb-cdc-device.c **** 
 837:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 838:application-library/usb-cdc-device.c ****   {
 839:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 840:application-library/usb-cdc-device.c ****   }
 841:application-library/usb-cdc-device.c **** 
 842:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = pbuff;
 843:application-library/usb-cdc-device.c **** 
 844:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 845:application-library/usb-cdc-device.c **** }
 846:application-library/usb-cdc-device.c **** 
 847:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 19


 848:application-library/usb-cdc-device.c **** /**
 849:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_ReceivePacket
 850:application-library/usb-cdc-device.c ****   *         prepare OUT Endpoint for reception
 851:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 852:application-library/usb-cdc-device.c ****   * @retval status
 853:application-library/usb-cdc-device.c ****   */
 854:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_ReceivePacket(USBD_Handle_t *p_usbd_instance)
 855:application-library/usb-cdc-device.c **** {
 856:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 857:application-library/usb-cdc-device.c **** 
 858:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClassDataCmsit == NULL)
 859:application-library/usb-cdc-device.c ****   {
 860:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 861:application-library/usb-cdc-device.c ****   }
 862:application-library/usb-cdc-device.c **** 
 863:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_speed == USBD_SPEED_HIGH)
 864:application-library/usb-cdc-device.c ****   {
 865:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 866:application-library/usb-cdc-device.c ****     USBD_LL_PrepareReceive(p_usbd_instance, CDC_OUT_EP, hcdc->RxBuffer,
 867:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 868:application-library/usb-cdc-device.c ****   }
 869:application-library/usb-cdc-device.c ****   else
 870:application-library/usb-cdc-device.c ****   {
 871:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 872:application-library/usb-cdc-device.c ****     USBD_LL_PrepareReceive(p_usbd_instance, CDC_OUT_EP, hcdc->RxBuffer,
 873:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 874:application-library/usb-cdc-device.c ****   }
 875:application-library/usb-cdc-device.c **** 
 876:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 877:application-library/usb-cdc-device.c **** }
 878:application-library/usb-cdc-device.c **** 
 879:application-library/usb-cdc-device.c **** /**
 880:application-library/usb-cdc-device.c ****   * @brief  Initializes the device stack and load the class driver
 881:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 882:application-library/usb-cdc-device.c ****   * @param  pdesc: Descriptor structure address
 883:application-library/usb-cdc-device.c ****   * @param  id: Low level core index
 884:application-library/usb-cdc-device.c ****   * @retval None
 885:application-library/usb-cdc-device.c ****   */
 886:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Init(USBD_Handle_t *p_usbd_instance,
 887:application-library/usb-cdc-device.c ****                              USBD_DescriptorsTypeDef *pdesc, uint8_t id)
 888:application-library/usb-cdc-device.c **** {
 889:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 890:application-library/usb-cdc-device.c ****   /* Check whether the USB Host handle is valid */
 891:application-library/usb-cdc-device.c ****   if (p_usbd_instance == NULL)
 892:application-library/usb-cdc-device.c ****   {
 893:application-library/usb-cdc-device.c ****     return USBD_FAIL;
 894:application-library/usb-cdc-device.c ****   }
 895:application-library/usb-cdc-device.c ****   /* Unlink previous class*/
 896:application-library/usb-cdc-device.c ****   p_usbd_instance->pClass = NULL;
 897:application-library/usb-cdc-device.c ****   p_usbd_instance->pUserData = NULL;
 898:application-library/usb-cdc-device.c ****   p_usbd_instance->pConfDesc = NULL;
 899:application-library/usb-cdc-device.c **** 
 900:application-library/usb-cdc-device.c ****   /* Assign USBD Descriptors */
 901:application-library/usb-cdc-device.c ****   if (pdesc != NULL)
 902:application-library/usb-cdc-device.c ****   {
 903:application-library/usb-cdc-device.c ****     p_usbd_instance->pDesc = pdesc;
 904:application-library/usb-cdc-device.c ****   }
ARM GAS  /tmp/ccf4hwpD.s 			page 20


 905:application-library/usb-cdc-device.c ****   /* Set Device initial State */
 906:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_state = USBD_STATE_DEFAULT;  // DEFAULT - ADDRESSED - CONFIGURED - SUSPEND
 907:application-library/usb-cdc-device.c ****   p_usbd_instance->id = id; // DEVICE_FS (0)
 908:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
 909:application-library/usb-cdc-device.c ****   ret = USBD_LL_Init(p_usbd_instance); // configure the TX or the RX FIFO of the new defined endpor
 910:application-library/usb-cdc-device.c **** 
 911:application-library/usb-cdc-device.c ****   return ret;
 912:application-library/usb-cdc-device.c **** }
 913:application-library/usb-cdc-device.c **** 
 914:application-library/usb-cdc-device.c **** /**
 915:application-library/usb-cdc-device.c ****   * @brief  USBD_DeInit
 916:application-library/usb-cdc-device.c ****   *         Re-Initialize the device library
 917:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
 918:application-library/usb-cdc-device.c ****   * @retval status: status
 919:application-library/usb-cdc-device.c ****   */
 920:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_DeInit(USBD_Handle_t *p_usbd_instance)
 921:application-library/usb-cdc-device.c **** {
 922:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 923:application-library/usb-cdc-device.c **** 
 924:application-library/usb-cdc-device.c ****   /* Disconnect the USB Device */
 925:application-library/usb-cdc-device.c ****   USBD_LL_Stop(p_usbd_instance);
 926:application-library/usb-cdc-device.c **** 
 927:application-library/usb-cdc-device.c ****   /* Set Default State */
 928:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_state = USBD_STATE_DEFAULT;
 929:application-library/usb-cdc-device.c **** 
 930:application-library/usb-cdc-device.c ****   /* Free Class Resources */
 931:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass != NULL)
 932:application-library/usb-cdc-device.c ****   {
 933:application-library/usb-cdc-device.c ****     p_usbd_instance->pClass->DeInit(p_usbd_instance, (uint8_t)p_usbd_instance->dev_config);
 934:application-library/usb-cdc-device.c ****   }
 935:application-library/usb-cdc-device.c **** 
 936:application-library/usb-cdc-device.c ****   p_usbd_instance->pUserData = NULL;
 937:application-library/usb-cdc-device.c **** 
 938:application-library/usb-cdc-device.c ****   /* Free Device descriptors resources */
 939:application-library/usb-cdc-device.c ****   p_usbd_instance->pDesc = NULL;
 940:application-library/usb-cdc-device.c ****   p_usbd_instance->pConfDesc = NULL;
 941:application-library/usb-cdc-device.c **** 
 942:application-library/usb-cdc-device.c ****   /* DeInitialize low level driver */
 943:application-library/usb-cdc-device.c ****   ret = USBD_LL_DeInit(p_usbd_instance);
 944:application-library/usb-cdc-device.c **** 
 945:application-library/usb-cdc-device.c ****   return ret;
 946:application-library/usb-cdc-device.c **** }
 947:application-library/usb-cdc-device.c **** 
 948:application-library/usb-cdc-device.c **** /**
 949:application-library/usb-cdc-device.c ****   * @brief  USBD_RegisterClass
 950:application-library/usb-cdc-device.c ****   *         Link class driver to Device Core.
 951:application-library/usb-cdc-device.c ****   * @param  p_usbd_instanceice : Device Handle
 952:application-library/usb-cdc-device.c ****   * @param  pclass: Class handle
 953:application-library/usb-cdc-device.c ****   * @retval USBD Status
 954:application-library/usb-cdc-device.c ****   */
 955:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_RegisterClass(USBD_Handle_t *p_usbd_instance, USBD_ClassTypeDef *pclass)
 956:application-library/usb-cdc-device.c **** {
 957:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 958:application-library/usb-cdc-device.c **** 
 959:application-library/usb-cdc-device.c ****   if (pclass == NULL)
 960:application-library/usb-cdc-device.c ****   {
 961:application-library/usb-cdc-device.c ****     return USBD_FAIL;
ARM GAS  /tmp/ccf4hwpD.s 			page 21


 962:application-library/usb-cdc-device.c ****   }
 963:application-library/usb-cdc-device.c ****   /* link the class to the USB Device handle */
 964:application-library/usb-cdc-device.c ****   p_usbd_instance->pClass = pclass;
 965:application-library/usb-cdc-device.c **** 
 966:application-library/usb-cdc-device.c ****   /* Get Device Configuration Descriptor */
 967:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass->GetFSConfigDescriptor != NULL)
 968:application-library/usb-cdc-device.c ****   {
 969:application-library/usb-cdc-device.c ****     p_usbd_instance->pConfDesc = (void *)p_usbd_instance->pClass->GetFSConfigDescriptor(&len);
 970:application-library/usb-cdc-device.c ****   }
 971:application-library/usb-cdc-device.c ****   /* Increment the NumClasses */
 972:application-library/usb-cdc-device.c ****   p_usbd_instance->NumClasses ++;
 973:application-library/usb-cdc-device.c ****   return USBD_OK;
 974:application-library/usb-cdc-device.c **** }
 975:application-library/usb-cdc-device.c **** 
 976:application-library/usb-cdc-device.c **** 
 977:application-library/usb-cdc-device.c **** /**
 978:application-library/usb-cdc-device.c ****   * @brief  USBD_Start
 979:application-library/usb-cdc-device.c ****   *         Start the USB Device Core.
 980:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device Handle
 981:application-library/usb-cdc-device.c ****   * @retval USBD Status
 982:application-library/usb-cdc-device.c ****   */
 983:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Start(USBD_Handle_t *p_usbd_instance)
 984:application-library/usb-cdc-device.c **** {
 985:application-library/usb-cdc-device.c ****   /* Start the low level driver  */
 986:application-library/usb-cdc-device.c ****   // return USBD_LL_Start(p_usbd_instance);
 987:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 988:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
 989:application-library/usb-cdc-device.c **** 
 990:application-library/usb-cdc-device.c ****   /* Enable USB Transciver */
 991:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Start(p_usbd_instance->pData);
 992:application-library/usb-cdc-device.c **** 
 993:application-library/usb-cdc-device.c ****   // usb_status =  USBD_Get_USB_Status(hal_status); /* defined in usbd_conf.c */
 994:application-library/usb-cdc-device.c ****   switch (hal_status)
 995:application-library/usb-cdc-device.c ****   {
 996:application-library/usb-cdc-device.c ****     case HAL_OK :
 997:application-library/usb-cdc-device.c ****       usb_status = USBD_OK;
 998:application-library/usb-cdc-device.c ****     break;
 999:application-library/usb-cdc-device.c ****     case HAL_ERROR :
1000:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1001:application-library/usb-cdc-device.c ****     break;
1002:application-library/usb-cdc-device.c ****     case HAL_BUSY :
1003:application-library/usb-cdc-device.c ****       usb_status = USBD_BUSY;
1004:application-library/usb-cdc-device.c ****     break;
1005:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
1006:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1007:application-library/usb-cdc-device.c ****     break;
1008:application-library/usb-cdc-device.c ****     default :
1009:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1010:application-library/usb-cdc-device.c ****     break;
1011:application-library/usb-cdc-device.c ****   }
1012:application-library/usb-cdc-device.c **** 
1013:application-library/usb-cdc-device.c ****   return usb_status;
1014:application-library/usb-cdc-device.c **** }
1015:application-library/usb-cdc-device.c **** 
1016:application-library/usb-cdc-device.c **** 
1017:application-library/usb-cdc-device.c **** /**
1018:application-library/usb-cdc-device.c ****   * @brief  USBD_Stop
ARM GAS  /tmp/ccf4hwpD.s 			page 22


1019:application-library/usb-cdc-device.c ****   *         Stop the USB Device Core.
1020:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device Handle
1021:application-library/usb-cdc-device.c ****   * @retval USBD Status
1022:application-library/usb-cdc-device.c ****   */
1023:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Stop(USBD_Handle_t *p_usbd_instance)
1024:application-library/usb-cdc-device.c **** {
1025:application-library/usb-cdc-device.c ****   /* Disconnect USB Device */
1026:application-library/usb-cdc-device.c ****   USBD_LL_Stop(p_usbd_instance);
1027:application-library/usb-cdc-device.c **** 
1028:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1029:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass != NULL)
1030:application-library/usb-cdc-device.c ****   {
1031:application-library/usb-cdc-device.c ****     (void)p_usbd_instance->pClass->DeInit(p_usbd_instance, (uint8_t)p_usbd_instance->dev_config);
1032:application-library/usb-cdc-device.c ****   }
1033:application-library/usb-cdc-device.c **** 
1034:application-library/usb-cdc-device.c ****   return USBD_OK;
1035:application-library/usb-cdc-device.c **** }
1036:application-library/usb-cdc-device.c **** 
1037:application-library/usb-cdc-device.c **** /**
1038:application-library/usb-cdc-device.c ****   * @brief  USBD_SetClassConfig
1039:application-library/usb-cdc-device.c ****   *        Configure device and start the interface
1040:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1041:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1042:application-library/usb-cdc-device.c ****   * @retval None.
1043:application-library/usb-cdc-device.c ****   */
1044:application-library/usb-cdc-device.c **** 
1045:application-library/usb-cdc-device.c **** void USBD_SetClassConfig(USBD_Handle_t *p_usbd_instance, uint8_t cfgidx)
1046:application-library/usb-cdc-device.c **** {
1047:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass != NULL)
1048:application-library/usb-cdc-device.c ****   {
1049:application-library/usb-cdc-device.c ****     /* Set configuration and Start the Class */
1050:application-library/usb-cdc-device.c ****     p_usbd_instance->pClass->Init(p_usbd_instance, cfgidx);
1051:application-library/usb-cdc-device.c ****   }
1052:application-library/usb-cdc-device.c **** }
1053:application-library/usb-cdc-device.c **** 
1054:application-library/usb-cdc-device.c **** /**
1055:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrClassConfig
1056:application-library/usb-cdc-device.c ****   *         Clear current configuration
1057:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1058:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1059:application-library/usb-cdc-device.c ****   * @retval status: USBD_StatusTypeDef
1060:application-library/usb-cdc-device.c ****   */
1061:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_ClrClassConfig(USBD_Handle_t *p_usbd_instance, uint8_t cfgidx)
1062:application-library/usb-cdc-device.c **** {
1063:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1064:application-library/usb-cdc-device.c **** 
1065:application-library/usb-cdc-device.c ****   /* Clear configuration  and De-initialize the Class process */
1066:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass->DeInit(p_usbd_instance, cfgidx) != 0U)
1067:application-library/usb-cdc-device.c ****   {
1068:application-library/usb-cdc-device.c ****     ret = USBD_FAIL;
1069:application-library/usb-cdc-device.c ****   }
1070:application-library/usb-cdc-device.c **** 
1071:application-library/usb-cdc-device.c ****   return ret;
1072:application-library/usb-cdc-device.c **** }
1073:application-library/usb-cdc-device.c **** 
1074:application-library/usb-cdc-device.c **** 
1075:application-library/usb-cdc-device.c **** /**
ARM GAS  /tmp/ccf4hwpD.s 			page 23


1076:application-library/usb-cdc-device.c ****   * @brief  Handle the setup stage
1077:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1078:application-library/usb-cdc-device.c ****   * @retval None.
1079:application-library/usb-cdc-device.c ****   */
1080:application-library/usb-cdc-device.c **** void USBD_LL_SetupStage(USBD_Handle_t *p_usbd_instance, uint8_t *psetup)
1081:application-library/usb-cdc-device.c **** {
1082:application-library/usb-cdc-device.c **** 
1083:application-library/usb-cdc-device.c ****   USBD_ParseSetupRequest(&p_usbd_instance->request, psetup);
1084:application-library/usb-cdc-device.c **** 
1085:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_state = USBD_EP0_SETUP;
1086:application-library/usb-cdc-device.c **** 
1087:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_data_len = p_usbd_instance->request.wLength;
1088:application-library/usb-cdc-device.c **** 
1089:application-library/usb-cdc-device.c ****   switch (p_usbd_instance->request.bmRequest & 0x1FU)
1090:application-library/usb-cdc-device.c ****   {
1091:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_DEVICE:
1092:application-library/usb-cdc-device.c ****       USBD_StdDevReq(p_usbd_instance, &p_usbd_instance->request);
1093:application-library/usb-cdc-device.c ****       break;
1094:application-library/usb-cdc-device.c **** 
1095:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_INTERFACE:
1096:application-library/usb-cdc-device.c ****       USBD_StdItfReq(p_usbd_instance, &p_usbd_instance->request);
1097:application-library/usb-cdc-device.c ****       break;
1098:application-library/usb-cdc-device.c **** 
1099:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_ENDPOINT:
1100:application-library/usb-cdc-device.c ****       USBD_StdEPReq(p_usbd_instance, &p_usbd_instance->request);
1101:application-library/usb-cdc-device.c ****       break;
1102:application-library/usb-cdc-device.c **** 
1103:application-library/usb-cdc-device.c ****     default:
1104:application-library/usb-cdc-device.c ****       USBD_LL_StallEP(p_usbd_instance, (p_usbd_instance->request.bmRequest & 0x80U));
1105:application-library/usb-cdc-device.c ****       break;
1106:application-library/usb-cdc-device.c ****   }
1107:application-library/usb-cdc-device.c **** }
1108:application-library/usb-cdc-device.c **** 
1109:application-library/usb-cdc-device.c **** /**
1110:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataOutStage
1111:application-library/usb-cdc-device.c ****   *         Handle data OUT stage
1112:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1113:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1114:application-library/usb-cdc-device.c ****   * @param  pdata: data pointer
1115:application-library/usb-cdc-device.c ****   * @retval status
1116:application-library/usb-cdc-device.c ****   */
1117:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DataOutStage(USBD_Handle_t *p_usbd_instance,
1118:application-library/usb-cdc-device.c ****                                         uint8_t epnum, uint8_t *pdata)
1119:application-library/usb-cdc-device.c **** {
1120:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1121:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1122:application-library/usb-cdc-device.c ****   uint8_t idx;
1123:application-library/usb-cdc-device.c **** 
1124:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1125:application-library/usb-cdc-device.c ****   {
1126:application-library/usb-cdc-device.c ****     pep = &p_usbd_instance->ep_out[0];
1127:application-library/usb-cdc-device.c **** 
1128:application-library/usb-cdc-device.c ****     if (p_usbd_instance->ep0_state == USBD_EP0_DATA_OUT)
1129:application-library/usb-cdc-device.c ****     {
1130:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1131:application-library/usb-cdc-device.c ****       {
1132:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
ARM GAS  /tmp/ccf4hwpD.s 			page 24


1133:application-library/usb-cdc-device.c **** 
1134:application-library/usb-cdc-device.c ****         (void)USBD_CtlContinueRx(p_usbd_instance, pdata, MIN(pep->rem_length, pep->maxpacket));
1135:application-library/usb-cdc-device.c ****       }
1136:application-library/usb-cdc-device.c ****       else
1137:application-library/usb-cdc-device.c ****       {
1138:application-library/usb-cdc-device.c ****         /* Find the class ID relative to the current request */
1139:application-library/usb-cdc-device.c ****         switch (p_usbd_instance->request.bmRequest & 0x1FU)
1140:application-library/usb-cdc-device.c ****         {
1141:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_DEVICE:
1142:application-library/usb-cdc-device.c ****             /* Device requests must be managed by the first instantiated class
1143:application-library/usb-cdc-device.c ****                (or duplicated by all classes for simplicity) */
1144:application-library/usb-cdc-device.c ****             idx = 0U;
1145:application-library/usb-cdc-device.c ****             break;
1146:application-library/usb-cdc-device.c **** 
1147:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_INTERFACE:
1148:application-library/usb-cdc-device.c ****             idx = 0x00U;
1149:application-library/usb-cdc-device.c ****             break;
1150:application-library/usb-cdc-device.c **** 
1151:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_ENDPOINT:
1152:application-library/usb-cdc-device.c ****             idx = USBD_CoreFindEP(p_usbd_instance, LOBYTE(p_usbd_instance->request.wIndex));
1153:application-library/usb-cdc-device.c ****             break;
1154:application-library/usb-cdc-device.c **** 
1155:application-library/usb-cdc-device.c ****           default:
1156:application-library/usb-cdc-device.c ****             /* Back to the first class in case of doubt */
1157:application-library/usb-cdc-device.c ****             idx = 0U;
1158:application-library/usb-cdc-device.c ****             break;
1159:application-library/usb-cdc-device.c ****         }
1160:application-library/usb-cdc-device.c **** 
1161:application-library/usb-cdc-device.c ****         /* Setup the class ID and route the request to the relative class function */
1162:application-library/usb-cdc-device.c ****         if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
1163:application-library/usb-cdc-device.c ****         {
1164:application-library/usb-cdc-device.c ****           if (p_usbd_instance->pClass->EP0_RxReady != NULL)
1165:application-library/usb-cdc-device.c ****           {
1166:application-library/usb-cdc-device.c ****             // p_usbd_instance->classId = idx;
1167:application-library/usb-cdc-device.c ****             p_usbd_instance->pClass->EP0_RxReady(p_usbd_instance);
1168:application-library/usb-cdc-device.c ****           }
1169:application-library/usb-cdc-device.c ****         }
1170:application-library/usb-cdc-device.c **** 
1171:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
1172:application-library/usb-cdc-device.c ****       }
1173:application-library/usb-cdc-device.c ****     }
1174:application-library/usb-cdc-device.c ****     else
1175:application-library/usb-cdc-device.c ****     {
1176:application-library/usb-cdc-device.c ****     }
1177:application-library/usb-cdc-device.c ****   }
1178:application-library/usb-cdc-device.c ****   else
1179:application-library/usb-cdc-device.c ****   {
1180:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1181:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(p_usbd_instance, (epnum & 0x7FU));
1182:application-library/usb-cdc-device.c **** 
1183:application-library/usb-cdc-device.c ****     if ((uint16_t)idx != 0xFFU)
1184:application-library/usb-cdc-device.c ****     {
1185:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1186:application-library/usb-cdc-device.c ****       if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
1187:application-library/usb-cdc-device.c ****       {
1188:application-library/usb-cdc-device.c ****         if (p_usbd_instance->pClass->DataOut != NULL)
1189:application-library/usb-cdc-device.c ****         {
ARM GAS  /tmp/ccf4hwpD.s 			page 25


1190:application-library/usb-cdc-device.c ****           // p_usbd_instance->classId = idx;
1191:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)p_usbd_instance->pClass->DataOut(p_usbd_instance, epnum);
1192:application-library/usb-cdc-device.c ****         }
1193:application-library/usb-cdc-device.c ****       }
1194:application-library/usb-cdc-device.c ****       if (ret != USBD_OK)
1195:application-library/usb-cdc-device.c ****       {
1196:application-library/usb-cdc-device.c ****         return ret;
1197:application-library/usb-cdc-device.c ****       }
1198:application-library/usb-cdc-device.c ****     }
1199:application-library/usb-cdc-device.c ****   }
1200:application-library/usb-cdc-device.c **** 
1201:application-library/usb-cdc-device.c ****   return USBD_OK;
1202:application-library/usb-cdc-device.c **** }
1203:application-library/usb-cdc-device.c **** 
1204:application-library/usb-cdc-device.c **** /**
1205:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataInStage
1206:application-library/usb-cdc-device.c ****   *         Handle data in stage
1207:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1208:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1209:application-library/usb-cdc-device.c ****   * @retval void.
1210:application-library/usb-cdc-device.c ****   */
1211:application-library/usb-cdc-device.c **** void USBD_LL_DataInStage(USBD_Handle_t *p_usbd_instance,
1212:application-library/usb-cdc-device.c ****                                        uint8_t epnum, uint8_t *pdata)
1213:application-library/usb-cdc-device.c **** {
1214:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1215:application-library/usb-cdc-device.c ****   uint8_t idx;
1216:application-library/usb-cdc-device.c **** 
1217:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1218:application-library/usb-cdc-device.c ****   {
1219:application-library/usb-cdc-device.c ****     pep = &p_usbd_instance->ep_in[0];
1220:application-library/usb-cdc-device.c **** 
1221:application-library/usb-cdc-device.c ****     if (p_usbd_instance->ep0_state == USBD_EP0_DATA_IN)
1222:application-library/usb-cdc-device.c ****     {
1223:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1224:application-library/usb-cdc-device.c ****       {
1225:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
1226:application-library/usb-cdc-device.c **** 
1227:application-library/usb-cdc-device.c ****         USBD_CtlContinueSendData(p_usbd_instance, pdata, pep->rem_length);
1228:application-library/usb-cdc-device.c **** 
1229:application-library/usb-cdc-device.c ****         /* Prepare endpoint for premature end of transfer */
1230:application-library/usb-cdc-device.c ****         USBD_LL_PrepareReceive(p_usbd_instance, 0U, NULL, 0U);
1231:application-library/usb-cdc-device.c ****       }
1232:application-library/usb-cdc-device.c ****       else
1233:application-library/usb-cdc-device.c ****       {
1234:application-library/usb-cdc-device.c ****         /* last packet is MPS multiple, so send ZLP packet */
1235:application-library/usb-cdc-device.c ****         if ((pep->maxpacket == pep->rem_length) &&
1236:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
1237:application-library/usb-cdc-device.c ****             (pep->total_length < p_usbd_instance->ep0_data_len))
1238:application-library/usb-cdc-device.c ****         {
1239:application-library/usb-cdc-device.c ****           USBD_CtlContinueSendData(p_usbd_instance, NULL, 0U);
1240:application-library/usb-cdc-device.c ****           p_usbd_instance->ep0_data_len = 0U;
1241:application-library/usb-cdc-device.c **** 
1242:application-library/usb-cdc-device.c ****           /* Prepare endpoint for premature end of transfer */
1243:application-library/usb-cdc-device.c ****           USBD_LL_PrepareReceive(p_usbd_instance, 0U, NULL, 0U);
1244:application-library/usb-cdc-device.c ****         }
1245:application-library/usb-cdc-device.c ****         else
1246:application-library/usb-cdc-device.c ****         {
ARM GAS  /tmp/ccf4hwpD.s 			page 26


1247:application-library/usb-cdc-device.c ****           if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
1248:application-library/usb-cdc-device.c ****           {
1249:application-library/usb-cdc-device.c ****             if (p_usbd_instance->pClass->EP0_TxSent != NULL)
1250:application-library/usb-cdc-device.c ****             {
1251:application-library/usb-cdc-device.c ****               // p_usbd_instance->classId = 0U;
1252:application-library/usb-cdc-device.c ****               p_usbd_instance->pClass->EP0_TxSent(p_usbd_instance);
1253:application-library/usb-cdc-device.c ****             }
1254:application-library/usb-cdc-device.c ****           }
1255:application-library/usb-cdc-device.c ****           (void)USBD_LL_StallEP(p_usbd_instance, 0x80U);
1256:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(p_usbd_instance);
1257:application-library/usb-cdc-device.c ****         }
1258:application-library/usb-cdc-device.c ****       }
1259:application-library/usb-cdc-device.c ****     }
1260:application-library/usb-cdc-device.c ****   }
1261:application-library/usb-cdc-device.c ****   else
1262:application-library/usb-cdc-device.c ****   {
1263:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1264:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(p_usbd_instance, ((uint8_t)epnum | 0x80U));
1265:application-library/usb-cdc-device.c **** 
1266:application-library/usb-cdc-device.c ****     if ((uint16_t)idx != 0xFFU)
1267:application-library/usb-cdc-device.c ****     {
1268:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1269:application-library/usb-cdc-device.c ****       if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
1270:application-library/usb-cdc-device.c ****       {
1271:application-library/usb-cdc-device.c ****         if (p_usbd_instance->pClass->DataIn != NULL)
1272:application-library/usb-cdc-device.c ****         {
1273:application-library/usb-cdc-device.c ****           // p_usbd_instance->classId = idx;
1274:application-library/usb-cdc-device.c ****           p_usbd_instance->pClass->DataIn(p_usbd_instance, epnum);
1275:application-library/usb-cdc-device.c ****         }
1276:application-library/usb-cdc-device.c ****       }
1277:application-library/usb-cdc-device.c ****     }
1278:application-library/usb-cdc-device.c ****   }
1279:application-library/usb-cdc-device.c **** }
1280:application-library/usb-cdc-device.c **** 
1281:application-library/usb-cdc-device.c **** /**
1282:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Reset
1283:application-library/usb-cdc-device.c ****   *         Handle Reset event
1284:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1285:application-library/usb-cdc-device.c ****   * @retval status
1286:application-library/usb-cdc-device.c ****   */
1287:application-library/usb-cdc-device.c **** 
1288:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Reset(USBD_Handle_t *p_usbd_instance)
1289:application-library/usb-cdc-device.c **** {
1290:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1291:application-library/usb-cdc-device.c **** 
1292:application-library/usb-cdc-device.c ****   /* Upon Reset call user call back */
1293:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_state = USBD_STATE_DEFAULT;
1294:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_state = USBD_EP0_IDLE;
1295:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_config = 0U;
1296:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_remote_wakeup = 0U;
1297:application-library/usb-cdc-device.c **** 
1298:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass != NULL)
1299:application-library/usb-cdc-device.c ****   {
1300:application-library/usb-cdc-device.c ****     if (p_usbd_instance->pClass->DeInit != NULL)
1301:application-library/usb-cdc-device.c ****     {
1302:application-library/usb-cdc-device.c ****       if (p_usbd_instance->pClass->DeInit(p_usbd_instance, (uint8_t)p_usbd_instance->dev_config) !=
1303:application-library/usb-cdc-device.c ****       {
ARM GAS  /tmp/ccf4hwpD.s 			page 27


1304:application-library/usb-cdc-device.c ****         ret = USBD_FAIL;
1305:application-library/usb-cdc-device.c ****       }
1306:application-library/usb-cdc-device.c ****     }
1307:application-library/usb-cdc-device.c ****   }
1308:application-library/usb-cdc-device.c **** 
1309:application-library/usb-cdc-device.c ****   /* Open EP0 OUT */
1310:application-library/usb-cdc-device.c ****   USBD_LL_OpenEP(p_usbd_instance, 0x00U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
1311:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[0x00U & 0xFU].is_used = 1U;
1312:application-library/usb-cdc-device.c **** 
1313:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[0].maxpacket = USB_MAX_EP0_SIZE;
1314:application-library/usb-cdc-device.c **** 
1315:application-library/usb-cdc-device.c ****   /* Open EP0 IN */
1316:application-library/usb-cdc-device.c ****   USBD_LL_OpenEP(p_usbd_instance, 0x80U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
1317:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[0x80U & 0xFU].is_used = 1U;
1318:application-library/usb-cdc-device.c **** 
1319:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[0].maxpacket = USB_MAX_EP0_SIZE;
1320:application-library/usb-cdc-device.c **** 
1321:application-library/usb-cdc-device.c ****   return ret;
1322:application-library/usb-cdc-device.c **** }
1323:application-library/usb-cdc-device.c **** 
1324:application-library/usb-cdc-device.c **** /**
1325:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SetSpeed
1326:application-library/usb-cdc-device.c ****   *         Handle Reset event
1327:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1328:application-library/usb-cdc-device.c ****   * @retval None.
1329:application-library/usb-cdc-device.c ****   */
1330:application-library/usb-cdc-device.c **** void USBD_LL_SetSpeed(USBD_Handle_t *p_usbd_instance,
1331:application-library/usb-cdc-device.c ****                                     USBD_SpeedTypeDef speed)
1332:application-library/usb-cdc-device.c **** {
1333:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_speed = speed;
1334:application-library/usb-cdc-device.c **** }
1335:application-library/usb-cdc-device.c **** 
1336:application-library/usb-cdc-device.c **** /**
1337:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Suspend
1338:application-library/usb-cdc-device.c ****   *         Handle Suspend event
1339:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1340:application-library/usb-cdc-device.c ****   * @retval status
1341:application-library/usb-cdc-device.c ****   */
1342:application-library/usb-cdc-device.c **** 
1343:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Suspend(USBD_Handle_t *p_usbd_instance)
1344:application-library/usb-cdc-device.c **** {
1345:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_old_state = p_usbd_instance->dev_state;
1346:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_state = USBD_STATE_SUSPENDED;
1347:application-library/usb-cdc-device.c ****   return USBD_OK;
1348:application-library/usb-cdc-device.c **** }
1349:application-library/usb-cdc-device.c **** 
1350:application-library/usb-cdc-device.c **** /**
1351:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Resume
1352:application-library/usb-cdc-device.c ****   *         Handle Resume event
1353:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1354:application-library/usb-cdc-device.c ****   * @retval status
1355:application-library/usb-cdc-device.c ****   */
1356:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Resume(USBD_Handle_t *p_usbd_instance)
1357:application-library/usb-cdc-device.c **** {
1358:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_state == USBD_STATE_SUSPENDED)
1359:application-library/usb-cdc-device.c ****   {
1360:application-library/usb-cdc-device.c ****     p_usbd_instance->dev_state = p_usbd_instance->dev_old_state;
ARM GAS  /tmp/ccf4hwpD.s 			page 28


1361:application-library/usb-cdc-device.c ****   }
1362:application-library/usb-cdc-device.c **** 
1363:application-library/usb-cdc-device.c ****   return USBD_OK;
1364:application-library/usb-cdc-device.c **** }
1365:application-library/usb-cdc-device.c **** 
1366:application-library/usb-cdc-device.c **** /**
1367:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SOF
1368:application-library/usb-cdc-device.c ****   *         Handle SOF event
1369:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1370:application-library/usb-cdc-device.c ****   * @retval status
1371:application-library/usb-cdc-device.c ****   */
1372:application-library/usb-cdc-device.c **** 
1373:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SOF(USBD_Handle_t *p_usbd_instance)
1374:application-library/usb-cdc-device.c **** {
1375:application-library/usb-cdc-device.c ****   /* The SOF event can be distributed for all classes that support it */
1376:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
1377:application-library/usb-cdc-device.c ****   {
1378:application-library/usb-cdc-device.c ****     if (p_usbd_instance->pClass != NULL)
1379:application-library/usb-cdc-device.c ****     {
1380:application-library/usb-cdc-device.c ****       if (p_usbd_instance->pClass->SOF != NULL)
1381:application-library/usb-cdc-device.c ****       {
1382:application-library/usb-cdc-device.c ****         (void)p_usbd_instance->pClass->SOF(p_usbd_instance);
1383:application-library/usb-cdc-device.c ****       }
1384:application-library/usb-cdc-device.c ****     }
1385:application-library/usb-cdc-device.c ****   }
1386:application-library/usb-cdc-device.c **** 
1387:application-library/usb-cdc-device.c ****   return USBD_OK;
1388:application-library/usb-cdc-device.c **** }
1389:application-library/usb-cdc-device.c **** 
1390:application-library/usb-cdc-device.c **** /**
1391:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_IsoINIncomplete
1392:application-library/usb-cdc-device.c ****   *         Handle iso in incomplete event
1393:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1394:application-library/usb-cdc-device.c ****   * @retval status
1395:application-library/usb-cdc-device.c ****   */
1396:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_IsoINIncomplete(USBD_Handle_t *p_usbd_instance,
1397:application-library/usb-cdc-device.c ****                                            uint8_t epnum)
1398:application-library/usb-cdc-device.c **** {
1399:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass == NULL)
1400:application-library/usb-cdc-device.c ****   {
1401:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1402:application-library/usb-cdc-device.c ****   }
1403:application-library/usb-cdc-device.c **** 
1404:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
1405:application-library/usb-cdc-device.c ****   {
1406:application-library/usb-cdc-device.c ****     if (p_usbd_instance->pClass->IsoINIncomplete != NULL)
1407:application-library/usb-cdc-device.c ****     {
1408:application-library/usb-cdc-device.c ****       (void)p_usbd_instance->pClass->IsoINIncomplete(p_usbd_instance, epnum);
1409:application-library/usb-cdc-device.c ****     }
1410:application-library/usb-cdc-device.c ****   }
1411:application-library/usb-cdc-device.c **** 
1412:application-library/usb-cdc-device.c ****   return USBD_OK;
1413:application-library/usb-cdc-device.c **** }
1414:application-library/usb-cdc-device.c **** 
1415:application-library/usb-cdc-device.c **** /**
1416:application-library/usb-cdc-device.c ****   * @brief  Handle iso out incomplete event.
1417:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
ARM GAS  /tmp/ccf4hwpD.s 			page 29


1418:application-library/usb-cdc-device.c ****   * @retval None.
1419:application-library/usb-cdc-device.c ****   */
1420:application-library/usb-cdc-device.c **** void USBD_LL_IsoOUTIncomplete(USBD_Handle_t *p_usbd_instance,
1421:application-library/usb-cdc-device.c ****                                             uint8_t epnum)
1422:application-library/usb-cdc-device.c **** {
1423:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass == NULL)
1424:application-library/usb-cdc-device.c ****   {
1425:application-library/usb-cdc-device.c ****     return;
1426:application-library/usb-cdc-device.c ****   }
1427:application-library/usb-cdc-device.c **** 
1428:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
1429:application-library/usb-cdc-device.c ****   {
1430:application-library/usb-cdc-device.c ****     if (p_usbd_instance->pClass->IsoOUTIncomplete != NULL)
1431:application-library/usb-cdc-device.c ****     {
1432:application-library/usb-cdc-device.c ****       (void)p_usbd_instance->pClass->IsoOUTIncomplete(p_usbd_instance, epnum);
1433:application-library/usb-cdc-device.c ****     }
1434:application-library/usb-cdc-device.c ****   }
1435:application-library/usb-cdc-device.c **** }
1436:application-library/usb-cdc-device.c **** 
1437:application-library/usb-cdc-device.c **** /**
1438:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevConnected
1439:application-library/usb-cdc-device.c ****   *         Handle device connection event
1440:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1441:application-library/usb-cdc-device.c ****   * @retval status
1442:application-library/usb-cdc-device.c ****   */
1443:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevConnected(USBD_Handle_t *p_usbd_instance)
1444:application-library/usb-cdc-device.c **** {
1445:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
1446:application-library/usb-cdc-device.c ****   UNUSED(p_usbd_instance);
1447:application-library/usb-cdc-device.c ****   return USBD_OK;
1448:application-library/usb-cdc-device.c **** }
1449:application-library/usb-cdc-device.c **** 
1450:application-library/usb-cdc-device.c **** /**
1451:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevDisconnected
1452:application-library/usb-cdc-device.c ****   *         Handle device disconnection event
1453:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1454:application-library/usb-cdc-device.c ****   * @retval status
1455:application-library/usb-cdc-device.c ****   */
1456:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevDisconnected(USBD_Handle_t *p_usbd_instance)
1457:application-library/usb-cdc-device.c **** {
1458:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef   ret = USBD_OK;
1459:application-library/usb-cdc-device.c **** 
1460:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1461:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_state = USBD_STATE_DEFAULT;
1462:application-library/usb-cdc-device.c **** 
1463:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass != NULL)
1464:application-library/usb-cdc-device.c ****   {
1465:application-library/usb-cdc-device.c ****     if (p_usbd_instance->pClass->DeInit(p_usbd_instance, (uint8_t)p_usbd_instance->dev_config) != 0
1466:application-library/usb-cdc-device.c ****     {
1467:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
1468:application-library/usb-cdc-device.c ****     }
1469:application-library/usb-cdc-device.c ****   }
1470:application-library/usb-cdc-device.c **** 
1471:application-library/usb-cdc-device.c ****   return ret;
1472:application-library/usb-cdc-device.c **** }
1473:application-library/usb-cdc-device.c **** 
1474:application-library/usb-cdc-device.c **** /**
ARM GAS  /tmp/ccf4hwpD.s 			page 30


1475:application-library/usb-cdc-device.c ****   * @brief  Returns the class index relative to the selected endpoint
1476:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1477:application-library/usb-cdc-device.c ****   * @param  index : selected endpoint number
1478:application-library/usb-cdc-device.c ****   * @retval index of the class using the selected endpoint number. 0xFF if no class found.
1479:application-library/usb-cdc-device.c ****   */
1480:application-library/usb-cdc-device.c **** uint8_t USBD_CoreFindEP(USBD_Handle_t *p_usbd_instance, uint8_t index)
1481:application-library/usb-cdc-device.c **** {
1482:application-library/usb-cdc-device.c ****   UNUSED(p_usbd_instance);
1483:application-library/usb-cdc-device.c ****   UNUSED(index);
1484:application-library/usb-cdc-device.c ****   return 0x00U;
1485:application-library/usb-cdc-device.c **** }
1486:application-library/usb-cdc-device.c **** 
1487:application-library/usb-cdc-device.c **** /**
1488:application-library/usb-cdc-device.c ****   * @brief  Returns the Endpoint descriptor
1489:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1490:application-library/usb-cdc-device.c ****   * @param  pConfDesc:  pointer to Bos descriptor
1491:application-library/usb-cdc-device.c ****   * @param  EpAddr:  endpoint address
1492:application-library/usb-cdc-device.c ****   * @retval pointer to video endpoint descriptor
1493:application-library/usb-cdc-device.c ****   */
1494:application-library/usb-cdc-device.c **** void *USBD_GetEpDesc(uint8_t *pConfDesc, uint8_t EpAddr)
1495:application-library/usb-cdc-device.c **** {
1496:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
1497:application-library/usb-cdc-device.c ****   USBD_ConfigDescTypeDef *desc = (USBD_ConfigDescTypeDef *)(void *)pConfDesc;
1498:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpDesc = NULL;
1499:application-library/usb-cdc-device.c ****   uint16_t ptr;
1500:application-library/usb-cdc-device.c **** 
1501:application-library/usb-cdc-device.c ****   if (desc->wTotalLength > desc->bLength)
1502:application-library/usb-cdc-device.c ****   {
1503:application-library/usb-cdc-device.c ****     ptr = desc->bLength;
1504:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
1505:application-library/usb-cdc-device.c ****     {
1506:application-library/usb-cdc-device.c ****       pdesc = USBD_GetNextDesc((uint8_t *)pdesc, &ptr);
1507:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
1508:application-library/usb-cdc-device.c ****       {
1509:application-library/usb-cdc-device.c ****         pEpDesc = (USBD_EpDescTypeDef *)(void *)pdesc;
1510:application-library/usb-cdc-device.c **** 
1511:application-library/usb-cdc-device.c ****         if (pEpDesc->bEndpointAddress == EpAddr)
1512:application-library/usb-cdc-device.c ****         {
1513:application-library/usb-cdc-device.c ****           break;
1514:application-library/usb-cdc-device.c ****         }
1515:application-library/usb-cdc-device.c ****         else
1516:application-library/usb-cdc-device.c ****         {
1517:application-library/usb-cdc-device.c ****           pEpDesc = NULL;
1518:application-library/usb-cdc-device.c ****         }
1519:application-library/usb-cdc-device.c ****       }
1520:application-library/usb-cdc-device.c ****     }
1521:application-library/usb-cdc-device.c ****   }
1522:application-library/usb-cdc-device.c **** 
1523:application-library/usb-cdc-device.c ****   return (void *)pEpDesc;
1524:application-library/usb-cdc-device.c **** }
1525:application-library/usb-cdc-device.c **** 
1526:application-library/usb-cdc-device.c **** /**
1527:application-library/usb-cdc-device.c ****   * @brief  Returns the next descriptor header
1528:application-library/usb-cdc-device.c ****   * @param  buf: Buffer where the descriptor is available
1529:application-library/usb-cdc-device.c ****   * @param  ptr: data pointer inside the descriptor
1530:application-library/usb-cdc-device.c ****   * @retval next header
1531:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccf4hwpD.s 			page 31


1532:application-library/usb-cdc-device.c **** USBD_DescHeaderTypeDef *USBD_GetNextDesc(uint8_t *pbuf, uint16_t *ptr)
1533:application-library/usb-cdc-device.c **** {
1534:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pnext = (USBD_DescHeaderTypeDef *)(void *)pbuf;
1535:application-library/usb-cdc-device.c **** 
1536:application-library/usb-cdc-device.c ****   *ptr += pnext->bLength;
1537:application-library/usb-cdc-device.c ****   pnext = (USBD_DescHeaderTypeDef *)(void *)(pbuf + pnext->bLength);
1538:application-library/usb-cdc-device.c ****   return (pnext);
1539:application-library/usb-cdc-device.c **** }
1540:application-library/usb-cdc-device.c **** 
1541:application-library/usb-cdc-device.c **** /**
1542:application-library/usb-cdc-device.c ****   * @brief  USBD_StdDevReq
1543:application-library/usb-cdc-device.c ****   *         Handle standard usb device requests
1544:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1545:application-library/usb-cdc-device.c ****   * @param  req: usb request
1546:application-library/usb-cdc-device.c ****   * @retval status
1547:application-library/usb-cdc-device.c ****   */
1548:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdDevReq(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
1549:application-library/usb-cdc-device.c **** {
1550:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1551:application-library/usb-cdc-device.c **** 
1552:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1553:application-library/usb-cdc-device.c ****   {
1554:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1555:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1556:application-library/usb-cdc-device.c ****       ret = (USBD_StatusTypeDef)p_usbd_instance->pClass->Setup(p_usbd_instance, req);
1557:application-library/usb-cdc-device.c ****       break;
1558:application-library/usb-cdc-device.c **** 
1559:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1560:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1561:application-library/usb-cdc-device.c ****       {
1562:application-library/usb-cdc-device.c ****         case USB_REQ_GET_DESCRIPTOR:
1563:application-library/usb-cdc-device.c ****           USBD_GetDescriptor(p_usbd_instance, req);
1564:application-library/usb-cdc-device.c ****           break;
1565:application-library/usb-cdc-device.c **** 
1566:application-library/usb-cdc-device.c ****         case USB_REQ_SET_ADDRESS:
1567:application-library/usb-cdc-device.c ****           USBD_SetAddress(p_usbd_instance, req);
1568:application-library/usb-cdc-device.c ****           break;
1569:application-library/usb-cdc-device.c **** 
1570:application-library/usb-cdc-device.c ****         case USB_REQ_SET_CONFIGURATION:
1571:application-library/usb-cdc-device.c ****           ret = USBD_SetConfig(p_usbd_instance, req);
1572:application-library/usb-cdc-device.c ****           break;
1573:application-library/usb-cdc-device.c **** 
1574:application-library/usb-cdc-device.c ****         case USB_REQ_GET_CONFIGURATION:
1575:application-library/usb-cdc-device.c ****           USBD_GetConfig(p_usbd_instance, req);
1576:application-library/usb-cdc-device.c ****           break;
1577:application-library/usb-cdc-device.c **** 
1578:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
1579:application-library/usb-cdc-device.c ****           USBD_GetStatus(p_usbd_instance, req);
1580:application-library/usb-cdc-device.c ****           break;
1581:application-library/usb-cdc-device.c **** 
1582:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1583:application-library/usb-cdc-device.c ****           USBD_SetFeature(p_usbd_instance, req);
1584:application-library/usb-cdc-device.c ****           break;
1585:application-library/usb-cdc-device.c **** 
1586:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1587:application-library/usb-cdc-device.c ****           USBD_ClrFeature(p_usbd_instance, req);
1588:application-library/usb-cdc-device.c ****           break;
ARM GAS  /tmp/ccf4hwpD.s 			page 32


1589:application-library/usb-cdc-device.c **** 
1590:application-library/usb-cdc-device.c ****         default:
1591:application-library/usb-cdc-device.c ****           USBD_CtlError(p_usbd_instance, req);
1592:application-library/usb-cdc-device.c ****           break;
1593:application-library/usb-cdc-device.c ****       }
1594:application-library/usb-cdc-device.c ****       break;
1595:application-library/usb-cdc-device.c **** 
1596:application-library/usb-cdc-device.c ****     default:
1597:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
1598:application-library/usb-cdc-device.c ****       break;
1599:application-library/usb-cdc-device.c ****   }
1600:application-library/usb-cdc-device.c **** 
1601:application-library/usb-cdc-device.c ****   return ret;
1602:application-library/usb-cdc-device.c **** }
1603:application-library/usb-cdc-device.c **** 
1604:application-library/usb-cdc-device.c **** /**
1605:application-library/usb-cdc-device.c ****   * @brief  USBD_StdItfReq
1606:application-library/usb-cdc-device.c ****   *         Handle standard usb interface requests
1607:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1608:application-library/usb-cdc-device.c ****   * @param  req: usb request
1609:application-library/usb-cdc-device.c ****   * @retval status
1610:application-library/usb-cdc-device.c ****   */
1611:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdItfReq(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
1612:application-library/usb-cdc-device.c **** {
1613:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1614:application-library/usb-cdc-device.c ****   uint8_t idx;
1615:application-library/usb-cdc-device.c **** 
1616:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1617:application-library/usb-cdc-device.c ****   {
1618:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1619:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1620:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1621:application-library/usb-cdc-device.c ****       switch (p_usbd_instance->dev_state)
1622:application-library/usb-cdc-device.c ****       {
1623:application-library/usb-cdc-device.c ****         case USBD_STATE_DEFAULT:
1624:application-library/usb-cdc-device.c ****         case USBD_STATE_ADDRESSED:
1625:application-library/usb-cdc-device.c ****         case USBD_STATE_CONFIGURED:
1626:application-library/usb-cdc-device.c **** 
1627:application-library/usb-cdc-device.c ****           if (LOBYTE(req->wIndex) <= USBD_MAX_NUM_INTERFACES)
1628:application-library/usb-cdc-device.c ****           {
1629:application-library/usb-cdc-device.c ****             /* Get the class index relative to this interface */
1630:application-library/usb-cdc-device.c ****             idx = 0x00U;
1631:application-library/usb-cdc-device.c ****             if ((uint8_t)idx != 0xFFU)
1632:application-library/usb-cdc-device.c ****             {
1633:application-library/usb-cdc-device.c ****               /* Call the class data out function to manage the request */
1634:application-library/usb-cdc-device.c ****               if (p_usbd_instance->pClass->Setup != NULL)
1635:application-library/usb-cdc-device.c ****               {
1636:application-library/usb-cdc-device.c ****                 // p_usbd_instance->classId = idx;
1637:application-library/usb-cdc-device.c ****                 ret = (USBD_StatusTypeDef)(p_usbd_instance->pClass->Setup(p_usbd_instance, req));
1638:application-library/usb-cdc-device.c ****               }
1639:application-library/usb-cdc-device.c ****               else
1640:application-library/usb-cdc-device.c ****               {
1641:application-library/usb-cdc-device.c ****                 /* should never reach this condition */
1642:application-library/usb-cdc-device.c ****                 ret = USBD_FAIL;
1643:application-library/usb-cdc-device.c ****               }
1644:application-library/usb-cdc-device.c ****             }
1645:application-library/usb-cdc-device.c ****             else
ARM GAS  /tmp/ccf4hwpD.s 			page 33


1646:application-library/usb-cdc-device.c ****             {
1647:application-library/usb-cdc-device.c ****               /* No relative interface found */
1648:application-library/usb-cdc-device.c ****               ret = USBD_FAIL;
1649:application-library/usb-cdc-device.c ****             }
1650:application-library/usb-cdc-device.c **** 
1651:application-library/usb-cdc-device.c ****             if ((req->wLength == 0U) && (ret == USBD_OK))
1652:application-library/usb-cdc-device.c ****             {
1653:application-library/usb-cdc-device.c ****               USBD_CtlSendStatus(p_usbd_instance);
1654:application-library/usb-cdc-device.c ****             }
1655:application-library/usb-cdc-device.c ****           }
1656:application-library/usb-cdc-device.c ****           else
1657:application-library/usb-cdc-device.c ****           {
1658:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
1659:application-library/usb-cdc-device.c ****           }
1660:application-library/usb-cdc-device.c ****           break;
1661:application-library/usb-cdc-device.c **** 
1662:application-library/usb-cdc-device.c ****         default:
1663:application-library/usb-cdc-device.c ****           USBD_CtlError(p_usbd_instance, req);
1664:application-library/usb-cdc-device.c ****           break;
1665:application-library/usb-cdc-device.c ****       }
1666:application-library/usb-cdc-device.c ****       break;
1667:application-library/usb-cdc-device.c **** 
1668:application-library/usb-cdc-device.c ****     default:
1669:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
1670:application-library/usb-cdc-device.c ****       break;
1671:application-library/usb-cdc-device.c ****   }
1672:application-library/usb-cdc-device.c **** 
1673:application-library/usb-cdc-device.c ****   return ret;
1674:application-library/usb-cdc-device.c **** }
1675:application-library/usb-cdc-device.c **** 
1676:application-library/usb-cdc-device.c **** /**
1677:application-library/usb-cdc-device.c ****   * @brief  Handle standard usb endpoint requests
1678:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1679:application-library/usb-cdc-device.c ****   * @param  req: usb request
1680:application-library/usb-cdc-device.c ****   * @retval status
1681:application-library/usb-cdc-device.c ****   */
1682:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdEPReq(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
1683:application-library/usb-cdc-device.c **** {
1684:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1685:application-library/usb-cdc-device.c ****   uint8_t ep_addr;
1686:application-library/usb-cdc-device.c ****   uint8_t idx;
1687:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1688:application-library/usb-cdc-device.c **** 
1689:application-library/usb-cdc-device.c ****   ep_addr = LOBYTE(req->wIndex);
1690:application-library/usb-cdc-device.c **** 
1691:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1692:application-library/usb-cdc-device.c ****   {
1693:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1694:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1695:application-library/usb-cdc-device.c ****       /* Get the class index relative to this endpoint */
1696:application-library/usb-cdc-device.c ****       idx = USBD_CoreFindEP(p_usbd_instance, ep_addr);
1697:application-library/usb-cdc-device.c ****       if ((uint8_t)idx != 0xFFU)
1698:application-library/usb-cdc-device.c ****       {
1699:application-library/usb-cdc-device.c ****         // p_usbd_instance->classId = idx;
1700:application-library/usb-cdc-device.c ****         /* Call the class data out function to manage the request */
1701:application-library/usb-cdc-device.c ****         if (p_usbd_instance->pClass->Setup != NULL)
1702:application-library/usb-cdc-device.c ****         {
ARM GAS  /tmp/ccf4hwpD.s 			page 34


1703:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)p_usbd_instance->pClass->Setup(p_usbd_instance, req);
1704:application-library/usb-cdc-device.c ****         }
1705:application-library/usb-cdc-device.c ****       }
1706:application-library/usb-cdc-device.c ****       break;
1707:application-library/usb-cdc-device.c **** 
1708:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1709:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1710:application-library/usb-cdc-device.c ****       {
1711:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1712:application-library/usb-cdc-device.c ****           switch (p_usbd_instance->dev_state)
1713:application-library/usb-cdc-device.c ****           {
1714:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1715:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1716:application-library/usb-cdc-device.c ****               {
1717:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(p_usbd_instance, ep_addr);
1718:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(p_usbd_instance, 0x80U);
1719:application-library/usb-cdc-device.c ****               }
1720:application-library/usb-cdc-device.c ****               else
1721:application-library/usb-cdc-device.c ****               {
1722:application-library/usb-cdc-device.c ****                 USBD_CtlError(p_usbd_instance, req);
1723:application-library/usb-cdc-device.c ****               }
1724:application-library/usb-cdc-device.c ****               break;
1725:application-library/usb-cdc-device.c **** 
1726:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1727:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
1728:application-library/usb-cdc-device.c ****               {
1729:application-library/usb-cdc-device.c ****                 if ((ep_addr != 0x00U) && (ep_addr != 0x80U) && (req->wLength == 0x00U))
1730:application-library/usb-cdc-device.c ****                 {
1731:application-library/usb-cdc-device.c ****                   (void)USBD_LL_StallEP(p_usbd_instance, ep_addr);
1732:application-library/usb-cdc-device.c ****                 }
1733:application-library/usb-cdc-device.c ****               }
1734:application-library/usb-cdc-device.c ****               USBD_CtlSendStatus(p_usbd_instance);
1735:application-library/usb-cdc-device.c **** 
1736:application-library/usb-cdc-device.c ****               break;
1737:application-library/usb-cdc-device.c **** 
1738:application-library/usb-cdc-device.c ****             default:
1739:application-library/usb-cdc-device.c ****               USBD_CtlError(p_usbd_instance, req);
1740:application-library/usb-cdc-device.c ****               break;
1741:application-library/usb-cdc-device.c ****           }
1742:application-library/usb-cdc-device.c ****           break;
1743:application-library/usb-cdc-device.c **** 
1744:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1745:application-library/usb-cdc-device.c **** 
1746:application-library/usb-cdc-device.c ****           switch (p_usbd_instance->dev_state)
1747:application-library/usb-cdc-device.c ****           {
1748:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1749:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1750:application-library/usb-cdc-device.c ****               {
1751:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(p_usbd_instance, ep_addr);
1752:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(p_usbd_instance, 0x80U);
1753:application-library/usb-cdc-device.c ****               }
1754:application-library/usb-cdc-device.c ****               else
1755:application-library/usb-cdc-device.c ****               {
1756:application-library/usb-cdc-device.c ****                 USBD_CtlError(p_usbd_instance, req);
1757:application-library/usb-cdc-device.c ****               }
1758:application-library/usb-cdc-device.c ****               break;
1759:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 35


1760:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1761:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
1762:application-library/usb-cdc-device.c ****               {
1763:application-library/usb-cdc-device.c ****                 if ((ep_addr & 0x7FU) != 0x00U)
1764:application-library/usb-cdc-device.c ****                 {
1765:application-library/usb-cdc-device.c ****                   USBD_LL_ClearStallEP(p_usbd_instance, ep_addr);
1766:application-library/usb-cdc-device.c ****                 }
1767:application-library/usb-cdc-device.c ****                 USBD_CtlSendStatus(p_usbd_instance);
1768:application-library/usb-cdc-device.c **** 
1769:application-library/usb-cdc-device.c ****                 /* Get the class index relative to this interface */
1770:application-library/usb-cdc-device.c ****                 idx = USBD_CoreFindEP(p_usbd_instance, ep_addr);
1771:application-library/usb-cdc-device.c ****                 if ((uint8_t)idx != 0xFFU)
1772:application-library/usb-cdc-device.c ****                 {
1773:application-library/usb-cdc-device.c ****                   // p_usbd_instance->classId = idx;
1774:application-library/usb-cdc-device.c ****                   /* Call the class data out function to manage the request */
1775:application-library/usb-cdc-device.c ****                   if (p_usbd_instance->pClass->Setup != NULL)
1776:application-library/usb-cdc-device.c ****                   {
1777:application-library/usb-cdc-device.c ****                     ret = (USBD_StatusTypeDef)(p_usbd_instance->pClass->Setup(p_usbd_instance, req)
1778:application-library/usb-cdc-device.c ****                   }
1779:application-library/usb-cdc-device.c ****                 }
1780:application-library/usb-cdc-device.c ****               }
1781:application-library/usb-cdc-device.c ****               break;
1782:application-library/usb-cdc-device.c **** 
1783:application-library/usb-cdc-device.c ****             default:
1784:application-library/usb-cdc-device.c ****               USBD_CtlError(p_usbd_instance, req);
1785:application-library/usb-cdc-device.c ****               break;
1786:application-library/usb-cdc-device.c ****           }
1787:application-library/usb-cdc-device.c ****           break;
1788:application-library/usb-cdc-device.c **** 
1789:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
1790:application-library/usb-cdc-device.c ****           switch (p_usbd_instance->dev_state)
1791:application-library/usb-cdc-device.c ****           {
1792:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1793:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1794:application-library/usb-cdc-device.c ****               {
1795:application-library/usb-cdc-device.c ****                 USBD_CtlError(p_usbd_instance, req);
1796:application-library/usb-cdc-device.c ****                 break;
1797:application-library/usb-cdc-device.c ****               }
1798:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &p_usbd_instance->ep_in[ep_addr & 0x7FU] : \
1799:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
1800:application-library/usb-cdc-device.c **** 
1801:application-library/usb-cdc-device.c ****               pep->status = 0x0000U;
1802:application-library/usb-cdc-device.c **** 
1803:application-library/usb-cdc-device.c ****               USBD_CtlSendData(p_usbd_instance, (uint8_t *)&pep->status, 2U);
1804:application-library/usb-cdc-device.c ****               break;
1805:application-library/usb-cdc-device.c **** 
1806:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1807:application-library/usb-cdc-device.c ****               if ((ep_addr & 0x80U) == 0x80U)
1808:application-library/usb-cdc-device.c ****               {
1809:application-library/usb-cdc-device.c ****                 if (p_usbd_instance->ep_in[ep_addr & 0xFU].is_used == 0U)
1810:application-library/usb-cdc-device.c ****                 {
1811:application-library/usb-cdc-device.c ****                   USBD_CtlError(p_usbd_instance, req);
1812:application-library/usb-cdc-device.c ****                   break;
1813:application-library/usb-cdc-device.c ****                 }
1814:application-library/usb-cdc-device.c ****               }
1815:application-library/usb-cdc-device.c ****               else
1816:application-library/usb-cdc-device.c ****               {
ARM GAS  /tmp/ccf4hwpD.s 			page 36


1817:application-library/usb-cdc-device.c ****                 if (p_usbd_instance->ep_out[ep_addr & 0xFU].is_used == 0U)
1818:application-library/usb-cdc-device.c ****                 {
1819:application-library/usb-cdc-device.c ****                   USBD_CtlError(p_usbd_instance, req);
1820:application-library/usb-cdc-device.c ****                   break;
1821:application-library/usb-cdc-device.c ****                 }
1822:application-library/usb-cdc-device.c ****               }
1823:application-library/usb-cdc-device.c **** 
1824:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &p_usbd_instance->ep_in[ep_addr & 0x7FU] : \
1825:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
1826:application-library/usb-cdc-device.c **** 
1827:application-library/usb-cdc-device.c ****               if ((ep_addr == 0x00U) || (ep_addr == 0x80U))
1828:application-library/usb-cdc-device.c ****               {
1829:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
1830:application-library/usb-cdc-device.c ****               }
1831:application-library/usb-cdc-device.c ****               else if (USBD_LL_IsStallEP(p_usbd_instance, ep_addr) != 0U)
1832:application-library/usb-cdc-device.c ****               {
1833:application-library/usb-cdc-device.c ****                 pep->status = 0x0001U;
1834:application-library/usb-cdc-device.c ****               }
1835:application-library/usb-cdc-device.c ****               else
1836:application-library/usb-cdc-device.c ****               {
1837:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
1838:application-library/usb-cdc-device.c ****               }
1839:application-library/usb-cdc-device.c **** 
1840:application-library/usb-cdc-device.c ****               USBD_CtlSendData(p_usbd_instance, (uint8_t *)&pep->status, 2U);
1841:application-library/usb-cdc-device.c ****               break;
1842:application-library/usb-cdc-device.c **** 
1843:application-library/usb-cdc-device.c ****             default:
1844:application-library/usb-cdc-device.c ****               USBD_CtlError(p_usbd_instance, req);
1845:application-library/usb-cdc-device.c ****               break;
1846:application-library/usb-cdc-device.c ****           }
1847:application-library/usb-cdc-device.c ****           break;
1848:application-library/usb-cdc-device.c **** 
1849:application-library/usb-cdc-device.c ****         default:
1850:application-library/usb-cdc-device.c ****           USBD_CtlError(p_usbd_instance, req);
1851:application-library/usb-cdc-device.c ****           break;
1852:application-library/usb-cdc-device.c ****       }
1853:application-library/usb-cdc-device.c ****       break;
1854:application-library/usb-cdc-device.c **** 
1855:application-library/usb-cdc-device.c ****     default:
1856:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
1857:application-library/usb-cdc-device.c ****       break;
1858:application-library/usb-cdc-device.c ****   }
1859:application-library/usb-cdc-device.c **** 
1860:application-library/usb-cdc-device.c ****   return ret;
1861:application-library/usb-cdc-device.c **** }
1862:application-library/usb-cdc-device.c **** 
1863:application-library/usb-cdc-device.c **** 
1864:application-library/usb-cdc-device.c **** /**
1865:application-library/usb-cdc-device.c ****   * @brief  Handle Get Descriptor requests
1866:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
1867:application-library/usb-cdc-device.c ****   * @param  req: usb request
1868:application-library/usb-cdc-device.c ****   * @retval status
1869:application-library/usb-cdc-device.c ****   */
1870:application-library/usb-cdc-device.c **** void USBD_GetDescriptor(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
1871:application-library/usb-cdc-device.c **** {
1872:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
1873:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
ARM GAS  /tmp/ccf4hwpD.s 			page 37


1874:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
1875:application-library/usb-cdc-device.c **** 
1876:application-library/usb-cdc-device.c ****   switch (req->wValue >> 8)
1877:application-library/usb-cdc-device.c ****   {
1878:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE:
1879:application-library/usb-cdc-device.c ****       pbuf = p_usbd_instance->pDesc->GetDeviceDescriptor(p_usbd_instance->dev_speed, &len);
1880:application-library/usb-cdc-device.c ****       break;
1881:application-library/usb-cdc-device.c **** 
1882:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_CONFIGURATION:
1883:application-library/usb-cdc-device.c ****       if (p_usbd_instance->dev_speed == USBD_SPEED_HIGH)
1884:application-library/usb-cdc-device.c ****       {
1885:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)p_usbd_instance->pClass->GetHSConfigDescriptor(&len);
1886:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
1887:application-library/usb-cdc-device.c ****       }
1888:application-library/usb-cdc-device.c ****       else
1889:application-library/usb-cdc-device.c ****       {
1890:application-library/usb-cdc-device.c ****         pbuf   = (uint8_t *)p_usbd_instance->pClass->GetFSConfigDescriptor(&len);
1891:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
1892:application-library/usb-cdc-device.c ****       }
1893:application-library/usb-cdc-device.c ****       break;
1894:application-library/usb-cdc-device.c **** 
1895:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_STRING:
1896:application-library/usb-cdc-device.c ****       switch ((uint8_t)(req->wValue))
1897:application-library/usb-cdc-device.c ****       {
1898:application-library/usb-cdc-device.c ****         case USBD_IDX_LANGID_STR:
1899:application-library/usb-cdc-device.c ****           if (p_usbd_instance->pDesc->GetLangIDStrDescriptor != NULL)
1900:application-library/usb-cdc-device.c ****           {
1901:application-library/usb-cdc-device.c ****             pbuf = p_usbd_instance->pDesc->GetLangIDStrDescriptor(p_usbd_instance->dev_speed, &len)
1902:application-library/usb-cdc-device.c ****           }
1903:application-library/usb-cdc-device.c ****           else
1904:application-library/usb-cdc-device.c ****           {
1905:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
1906:application-library/usb-cdc-device.c ****             err++;
1907:application-library/usb-cdc-device.c ****           }
1908:application-library/usb-cdc-device.c ****           break;
1909:application-library/usb-cdc-device.c **** 
1910:application-library/usb-cdc-device.c ****         case USBD_IDX_MFC_STR:
1911:application-library/usb-cdc-device.c ****           if (p_usbd_instance->pDesc->GetManufacturerStrDescriptor != NULL)
1912:application-library/usb-cdc-device.c ****           {
1913:application-library/usb-cdc-device.c ****             pbuf = p_usbd_instance->pDesc->GetManufacturerStrDescriptor(p_usbd_instance->dev_speed,
1914:application-library/usb-cdc-device.c ****           }
1915:application-library/usb-cdc-device.c ****           else
1916:application-library/usb-cdc-device.c ****           {
1917:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
1918:application-library/usb-cdc-device.c ****             err++;
1919:application-library/usb-cdc-device.c ****           }
1920:application-library/usb-cdc-device.c ****           break;
1921:application-library/usb-cdc-device.c **** 
1922:application-library/usb-cdc-device.c ****         case USBD_IDX_PRODUCT_STR:
1923:application-library/usb-cdc-device.c ****           if (p_usbd_instance->pDesc->GetProductStrDescriptor != NULL)
1924:application-library/usb-cdc-device.c ****           {
1925:application-library/usb-cdc-device.c ****             pbuf = p_usbd_instance->pDesc->GetProductStrDescriptor(p_usbd_instance->dev_speed, &len
1926:application-library/usb-cdc-device.c ****           }
1927:application-library/usb-cdc-device.c ****           else
1928:application-library/usb-cdc-device.c ****           {
1929:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
1930:application-library/usb-cdc-device.c ****             err++;
ARM GAS  /tmp/ccf4hwpD.s 			page 38


1931:application-library/usb-cdc-device.c ****           }
1932:application-library/usb-cdc-device.c ****           break;
1933:application-library/usb-cdc-device.c **** 
1934:application-library/usb-cdc-device.c ****         case USBD_IDX_SERIAL_STR:
1935:application-library/usb-cdc-device.c ****           if (p_usbd_instance->pDesc->GetSerialStrDescriptor != NULL)
1936:application-library/usb-cdc-device.c ****           {
1937:application-library/usb-cdc-device.c ****             pbuf = p_usbd_instance->pDesc->GetSerialStrDescriptor(p_usbd_instance->dev_speed, &len)
1938:application-library/usb-cdc-device.c ****           }
1939:application-library/usb-cdc-device.c ****           else
1940:application-library/usb-cdc-device.c ****           {
1941:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
1942:application-library/usb-cdc-device.c ****             err++;
1943:application-library/usb-cdc-device.c ****           }
1944:application-library/usb-cdc-device.c ****           break;
1945:application-library/usb-cdc-device.c **** 
1946:application-library/usb-cdc-device.c ****         case USBD_IDX_CONFIG_STR:
1947:application-library/usb-cdc-device.c ****           if (p_usbd_instance->pDesc->GetConfigurationStrDescriptor != NULL)
1948:application-library/usb-cdc-device.c ****           {
1949:application-library/usb-cdc-device.c ****             pbuf = p_usbd_instance->pDesc->GetConfigurationStrDescriptor(p_usbd_instance->dev_speed
1950:application-library/usb-cdc-device.c ****           }
1951:application-library/usb-cdc-device.c ****           else
1952:application-library/usb-cdc-device.c ****           {
1953:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
1954:application-library/usb-cdc-device.c ****             err++;
1955:application-library/usb-cdc-device.c ****           }
1956:application-library/usb-cdc-device.c ****           break;
1957:application-library/usb-cdc-device.c **** 
1958:application-library/usb-cdc-device.c ****         case USBD_IDX_INTERFACE_STR:
1959:application-library/usb-cdc-device.c ****           if (p_usbd_instance->pDesc->GetInterfaceStrDescriptor != NULL)
1960:application-library/usb-cdc-device.c ****           {
1961:application-library/usb-cdc-device.c ****             pbuf = p_usbd_instance->pDesc->GetInterfaceStrDescriptor(p_usbd_instance->dev_speed, &l
1962:application-library/usb-cdc-device.c ****           }
1963:application-library/usb-cdc-device.c ****           else
1964:application-library/usb-cdc-device.c ****           {
1965:application-library/usb-cdc-device.c ****             USBD_CtlError(p_usbd_instance, req);
1966:application-library/usb-cdc-device.c ****             err++;
1967:application-library/usb-cdc-device.c ****           }
1968:application-library/usb-cdc-device.c ****           break;
1969:application-library/usb-cdc-device.c **** 
1970:application-library/usb-cdc-device.c ****         default:
1971:application-library/usb-cdc-device.c **** 
1972:application-library/usb-cdc-device.c **** #if ((USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U))
1973:application-library/usb-cdc-device.c ****           USBD_CtlError(p_usbd_instance, req);
1974:application-library/usb-cdc-device.c ****           err++;
1975:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
1976:application-library/usb-cdc-device.c ****           break;
1977:application-library/usb-cdc-device.c ****       }
1978:application-library/usb-cdc-device.c ****       break;
1979:application-library/usb-cdc-device.c **** 
1980:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE_QUALIFIER:
1981:application-library/usb-cdc-device.c ****       if (p_usbd_instance->dev_speed == USBD_SPEED_HIGH)
1982:application-library/usb-cdc-device.c ****       {
1983:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)p_usbd_instance->pClass->GetDeviceQualifierDescriptor(&len);
1984:application-library/usb-cdc-device.c ****       }
1985:application-library/usb-cdc-device.c ****       else
1986:application-library/usb-cdc-device.c ****       {
1987:application-library/usb-cdc-device.c ****         USBD_CtlError(p_usbd_instance, req);
ARM GAS  /tmp/ccf4hwpD.s 			page 39


1988:application-library/usb-cdc-device.c ****         err++;
1989:application-library/usb-cdc-device.c ****       }
1990:application-library/usb-cdc-device.c ****       break;
1991:application-library/usb-cdc-device.c **** 
1992:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION:
1993:application-library/usb-cdc-device.c ****       if (p_usbd_instance->dev_speed == USBD_SPEED_HIGH)
1994:application-library/usb-cdc-device.c ****       {
1995:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)p_usbd_instance->pClass->GetOtherSpeedConfigDescriptor(&len);
1996:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
1997:application-library/usb-cdc-device.c ****       }
1998:application-library/usb-cdc-device.c ****       else
1999:application-library/usb-cdc-device.c ****       {
2000:application-library/usb-cdc-device.c ****         USBD_CtlError(p_usbd_instance, req);
2001:application-library/usb-cdc-device.c ****         err++;
2002:application-library/usb-cdc-device.c ****       }
2003:application-library/usb-cdc-device.c ****       break;
2004:application-library/usb-cdc-device.c **** 
2005:application-library/usb-cdc-device.c ****     default:
2006:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
2007:application-library/usb-cdc-device.c ****       err++;
2008:application-library/usb-cdc-device.c ****       break;
2009:application-library/usb-cdc-device.c ****   }
2010:application-library/usb-cdc-device.c **** 
2011:application-library/usb-cdc-device.c ****   if (err != 0U)
2012:application-library/usb-cdc-device.c ****   {
2013:application-library/usb-cdc-device.c ****     return;
2014:application-library/usb-cdc-device.c ****   }
2015:application-library/usb-cdc-device.c **** 
2016:application-library/usb-cdc-device.c ****   if (req->wLength != 0U)
2017:application-library/usb-cdc-device.c ****   {
2018:application-library/usb-cdc-device.c ****     if (len != 0U)
2019:application-library/usb-cdc-device.c ****     {
2020:application-library/usb-cdc-device.c ****       len = MIN(len, req->wLength);
2021:application-library/usb-cdc-device.c ****       USBD_CtlSendData(p_usbd_instance, pbuf, len);
2022:application-library/usb-cdc-device.c ****     }
2023:application-library/usb-cdc-device.c ****     else
2024:application-library/usb-cdc-device.c ****     {
2025:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
2026:application-library/usb-cdc-device.c ****     }
2027:application-library/usb-cdc-device.c ****   }
2028:application-library/usb-cdc-device.c ****   else
2029:application-library/usb-cdc-device.c ****   {
2030:application-library/usb-cdc-device.c ****     USBD_CtlSendStatus(p_usbd_instance);
2031:application-library/usb-cdc-device.c ****   }
2032:application-library/usb-cdc-device.c **** }
2033:application-library/usb-cdc-device.c **** 
2034:application-library/usb-cdc-device.c **** 
2035:application-library/usb-cdc-device.c **** /**
2036:application-library/usb-cdc-device.c ****   * @brief  Set device address
2037:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2038:application-library/usb-cdc-device.c ****   * @param  req: usb request
2039:application-library/usb-cdc-device.c ****   * @retval status
2040:application-library/usb-cdc-device.c ****   */
2041:application-library/usb-cdc-device.c **** void USBD_SetAddress(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
2042:application-library/usb-cdc-device.c **** {
2043:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
2044:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 40


2045:application-library/usb-cdc-device.c ****   if ((req->wIndex == 0U) && (req->wLength == 0U) && (req->wValue < 128U))
2046:application-library/usb-cdc-device.c ****   {
2047:application-library/usb-cdc-device.c ****     dev_addr = (uint8_t)(req->wValue) & 0x7FU;
2048:application-library/usb-cdc-device.c **** 
2049:application-library/usb-cdc-device.c ****     if (p_usbd_instance->dev_state == USBD_STATE_CONFIGURED)
2050:application-library/usb-cdc-device.c ****     {
2051:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
2052:application-library/usb-cdc-device.c ****     }
2053:application-library/usb-cdc-device.c ****     else
2054:application-library/usb-cdc-device.c ****     {
2055:application-library/usb-cdc-device.c ****       p_usbd_instance->dev_address = dev_addr;
2056:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(p_usbd_instance, dev_addr);
2057:application-library/usb-cdc-device.c ****       USBD_CtlSendStatus(p_usbd_instance);
2058:application-library/usb-cdc-device.c **** 
2059:application-library/usb-cdc-device.c ****       if (dev_addr != 0U)
2060:application-library/usb-cdc-device.c ****       {
2061:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_state = USBD_STATE_ADDRESSED;
2062:application-library/usb-cdc-device.c ****       }
2063:application-library/usb-cdc-device.c ****       else
2064:application-library/usb-cdc-device.c ****       {
2065:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_state = USBD_STATE_DEFAULT;
2066:application-library/usb-cdc-device.c ****       }
2067:application-library/usb-cdc-device.c ****     }
2068:application-library/usb-cdc-device.c ****   }
2069:application-library/usb-cdc-device.c ****   else
2070:application-library/usb-cdc-device.c ****   {
2071:application-library/usb-cdc-device.c ****     USBD_CtlError(p_usbd_instance, req);
2072:application-library/usb-cdc-device.c ****   }
2073:application-library/usb-cdc-device.c **** }
2074:application-library/usb-cdc-device.c **** 
2075:application-library/usb-cdc-device.c **** /**
2076:application-library/usb-cdc-device.c ****   * @brief  Handle Set device configuration request
2077:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2078:application-library/usb-cdc-device.c ****   * @param  req: usb request
2079:application-library/usb-cdc-device.c ****   * @retval status
2080:application-library/usb-cdc-device.c ****   */
2081:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_SetConfig(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
2082:application-library/usb-cdc-device.c **** {
2083:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
2084:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
2085:application-library/usb-cdc-device.c **** 
2086:application-library/usb-cdc-device.c ****   cfgidx = (uint8_t)(req->wValue);
2087:application-library/usb-cdc-device.c **** 
2088:application-library/usb-cdc-device.c ****   if (cfgidx > USBD_MAX_NUM_CONFIGURATION)
2089:application-library/usb-cdc-device.c ****   {
2090:application-library/usb-cdc-device.c ****     USBD_CtlError(p_usbd_instance, req);
2091:application-library/usb-cdc-device.c ****     return USBD_FAIL;
2092:application-library/usb-cdc-device.c ****   }
2093:application-library/usb-cdc-device.c **** 
2094:application-library/usb-cdc-device.c ****   switch (p_usbd_instance->dev_state)
2095:application-library/usb-cdc-device.c ****   {
2096:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2097:application-library/usb-cdc-device.c ****       if (cfgidx != 0U)
2098:application-library/usb-cdc-device.c ****       {
2099:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_config = cfgidx;
2100:application-library/usb-cdc-device.c **** 
2101:application-library/usb-cdc-device.c ****         USBD_SetClassConfig(p_usbd_instance, cfgidx);
ARM GAS  /tmp/ccf4hwpD.s 			page 41


2102:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
2103:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_state = USBD_STATE_CONFIGURED;
2104:application-library/usb-cdc-device.c ****       }
2105:application-library/usb-cdc-device.c ****       else
2106:application-library/usb-cdc-device.c ****       {
2107:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
2108:application-library/usb-cdc-device.c ****       }
2109:application-library/usb-cdc-device.c ****       break;
2110:application-library/usb-cdc-device.c **** 
2111:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2112:application-library/usb-cdc-device.c ****       if (cfgidx == 0U)
2113:application-library/usb-cdc-device.c ****       {
2114:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_state = USBD_STATE_ADDRESSED;
2115:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_config = cfgidx;
2116:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(p_usbd_instance, cfgidx);
2117:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
2118:application-library/usb-cdc-device.c ****       }
2119:application-library/usb-cdc-device.c ****       else if (cfgidx != p_usbd_instance->dev_config)
2120:application-library/usb-cdc-device.c ****       {
2121:application-library/usb-cdc-device.c ****         /* Clear old configuration */
2122:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(p_usbd_instance, (uint8_t)p_usbd_instance->dev_config);
2123:application-library/usb-cdc-device.c **** 
2124:application-library/usb-cdc-device.c ****         /* set new configuration */
2125:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_config = cfgidx;
2126:application-library/usb-cdc-device.c **** 
2127:application-library/usb-cdc-device.c ****         USBD_SetClassConfig(p_usbd_instance, cfgidx);
2128:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
2129:application-library/usb-cdc-device.c ****       }
2130:application-library/usb-cdc-device.c ****       else
2131:application-library/usb-cdc-device.c ****       {
2132:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
2133:application-library/usb-cdc-device.c ****       }
2134:application-library/usb-cdc-device.c ****       break;
2135:application-library/usb-cdc-device.c **** 
2136:application-library/usb-cdc-device.c ****     default:
2137:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
2138:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(p_usbd_instance, cfgidx);
2139:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
2140:application-library/usb-cdc-device.c ****       break;
2141:application-library/usb-cdc-device.c ****   }
2142:application-library/usb-cdc-device.c **** 
2143:application-library/usb-cdc-device.c ****   return ret;
2144:application-library/usb-cdc-device.c **** }
2145:application-library/usb-cdc-device.c **** 
2146:application-library/usb-cdc-device.c **** /**
2147:application-library/usb-cdc-device.c ****   * @brief  Handle Get device configuration request
2148:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2149:application-library/usb-cdc-device.c ****   * @param  req: usb request
2150:application-library/usb-cdc-device.c ****   * @retval status
2151:application-library/usb-cdc-device.c ****   */
2152:application-library/usb-cdc-device.c **** void USBD_GetConfig(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
2153:application-library/usb-cdc-device.c **** {
2154:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
2155:application-library/usb-cdc-device.c ****   {
2156:application-library/usb-cdc-device.c ****     USBD_CtlError(p_usbd_instance, req);
2157:application-library/usb-cdc-device.c ****   }
2158:application-library/usb-cdc-device.c ****   else
ARM GAS  /tmp/ccf4hwpD.s 			page 42


2159:application-library/usb-cdc-device.c ****   {
2160:application-library/usb-cdc-device.c ****     switch (p_usbd_instance->dev_state)
2161:application-library/usb-cdc-device.c ****     {
2162:application-library/usb-cdc-device.c ****       case USBD_STATE_DEFAULT:
2163:application-library/usb-cdc-device.c ****       case USBD_STATE_ADDRESSED:
2164:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_default_config = 0U;
2165:application-library/usb-cdc-device.c ****         USBD_CtlSendData(p_usbd_instance, (uint8_t *)&p_usbd_instance->dev_default_config, 1U);
2166:application-library/usb-cdc-device.c ****         break;
2167:application-library/usb-cdc-device.c **** 
2168:application-library/usb-cdc-device.c ****       case USBD_STATE_CONFIGURED:
2169:application-library/usb-cdc-device.c ****         USBD_CtlSendData(p_usbd_instance, (uint8_t *)&p_usbd_instance->dev_config, 1U);
2170:application-library/usb-cdc-device.c ****         break;
2171:application-library/usb-cdc-device.c **** 
2172:application-library/usb-cdc-device.c ****       default:
2173:application-library/usb-cdc-device.c ****         USBD_CtlError(p_usbd_instance, req);
2174:application-library/usb-cdc-device.c ****         break;
2175:application-library/usb-cdc-device.c ****     }
2176:application-library/usb-cdc-device.c ****   }
2177:application-library/usb-cdc-device.c **** }
2178:application-library/usb-cdc-device.c **** 
2179:application-library/usb-cdc-device.c **** /**
2180:application-library/usb-cdc-device.c ****   * @brief  USBD_GetStatus
2181:application-library/usb-cdc-device.c ****   *         Handle Get Status request
2182:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2183:application-library/usb-cdc-device.c ****   * @param  req: usb request
2184:application-library/usb-cdc-device.c ****   * @retval status
2185:application-library/usb-cdc-device.c ****   */
2186:application-library/usb-cdc-device.c **** void USBD_GetStatus(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
2187:application-library/usb-cdc-device.c **** {
2188:application-library/usb-cdc-device.c ****   switch (p_usbd_instance->dev_state)
2189:application-library/usb-cdc-device.c ****   {
2190:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2191:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2192:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2193:application-library/usb-cdc-device.c ****       if (req->wLength != 0x2U)
2194:application-library/usb-cdc-device.c ****       {
2195:application-library/usb-cdc-device.c ****         USBD_CtlError(p_usbd_instance, req);
2196:application-library/usb-cdc-device.c ****         break;
2197:application-library/usb-cdc-device.c ****       }
2198:application-library/usb-cdc-device.c **** 
2199:application-library/usb-cdc-device.c **** #if (USBD_SELF_POWERED == 1U)
2200:application-library/usb-cdc-device.c ****       p_usbd_instance->dev_config_status = USB_CONFIG_SELF_POWERED;
2201:application-library/usb-cdc-device.c **** #else
2202:application-library/usb-cdc-device.c ****       p_usbd_instance->dev_config_status = 0U;
2203:application-library/usb-cdc-device.c **** #endif /* USBD_SELF_POWERED */
2204:application-library/usb-cdc-device.c **** 
2205:application-library/usb-cdc-device.c ****       if (p_usbd_instance->dev_remote_wakeup != 0U)
2206:application-library/usb-cdc-device.c ****       {
2207:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_config_status |= USB_CONFIG_REMOTE_WAKEUP;
2208:application-library/usb-cdc-device.c ****       }
2209:application-library/usb-cdc-device.c **** 
2210:application-library/usb-cdc-device.c ****       USBD_CtlSendData(p_usbd_instance, (uint8_t *)&p_usbd_instance->dev_config_status, 2U);
2211:application-library/usb-cdc-device.c ****       break;
2212:application-library/usb-cdc-device.c **** 
2213:application-library/usb-cdc-device.c ****     default:
2214:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
2215:application-library/usb-cdc-device.c ****       break;
ARM GAS  /tmp/ccf4hwpD.s 			page 43


2216:application-library/usb-cdc-device.c ****   }
2217:application-library/usb-cdc-device.c **** }
2218:application-library/usb-cdc-device.c **** 
2219:application-library/usb-cdc-device.c **** 
2220:application-library/usb-cdc-device.c **** /**
2221:application-library/usb-cdc-device.c ****   * @brief  USBD_SetFeature
2222:application-library/usb-cdc-device.c ****   *         Handle Set device feature request
2223:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2224:application-library/usb-cdc-device.c ****   * @param  req: usb request
2225:application-library/usb-cdc-device.c ****   * @retval status
2226:application-library/usb-cdc-device.c ****   */
2227:application-library/usb-cdc-device.c **** void USBD_SetFeature(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
2228:application-library/usb-cdc-device.c **** {
2229:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2230:application-library/usb-cdc-device.c ****   {
2231:application-library/usb-cdc-device.c ****     p_usbd_instance->dev_remote_wakeup = 1U;
2232:application-library/usb-cdc-device.c ****     USBD_CtlSendStatus(p_usbd_instance);
2233:application-library/usb-cdc-device.c ****   }
2234:application-library/usb-cdc-device.c ****   else
2235:application-library/usb-cdc-device.c ****   {
2236:application-library/usb-cdc-device.c ****     USBD_CtlError(p_usbd_instance, req);
2237:application-library/usb-cdc-device.c ****   }
2238:application-library/usb-cdc-device.c **** }
2239:application-library/usb-cdc-device.c **** 
2240:application-library/usb-cdc-device.c **** 
2241:application-library/usb-cdc-device.c **** /**
2242:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrFeature
2243:application-library/usb-cdc-device.c ****   *         Handle clear device feature request
2244:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2245:application-library/usb-cdc-device.c ****   * @param  req: usb request
2246:application-library/usb-cdc-device.c ****   * @retval status
2247:application-library/usb-cdc-device.c ****   */
2248:application-library/usb-cdc-device.c **** void USBD_ClrFeature(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
2249:application-library/usb-cdc-device.c **** {
2250:application-library/usb-cdc-device.c ****   switch (p_usbd_instance->dev_state)
2251:application-library/usb-cdc-device.c ****   {
2252:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2253:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2254:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2255:application-library/usb-cdc-device.c ****       if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2256:application-library/usb-cdc-device.c ****       {
2257:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_remote_wakeup = 0U;
2258:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
2259:application-library/usb-cdc-device.c ****       }
2260:application-library/usb-cdc-device.c ****       break;
2261:application-library/usb-cdc-device.c **** 
2262:application-library/usb-cdc-device.c ****     default:
2263:application-library/usb-cdc-device.c ****       USBD_CtlError(p_usbd_instance, req);
2264:application-library/usb-cdc-device.c ****       break;
2265:application-library/usb-cdc-device.c ****   }
2266:application-library/usb-cdc-device.c **** }
2267:application-library/usb-cdc-device.c **** 
2268:application-library/usb-cdc-device.c **** 
2269:application-library/usb-cdc-device.c **** /**
2270:application-library/usb-cdc-device.c ****   * @brief  USBD_ParseSetupRequest
2271:application-library/usb-cdc-device.c ****   *         Copy buffer into setup structure
2272:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
ARM GAS  /tmp/ccf4hwpD.s 			page 44


2273:application-library/usb-cdc-device.c ****   * @param  req: usb request
2274:application-library/usb-cdc-device.c ****   * @retval None
2275:application-library/usb-cdc-device.c ****   */
2276:application-library/usb-cdc-device.c **** void USBD_ParseSetupRequest(USBD_SetupReqTypedef *req, uint8_t *pdata)
2277:application-library/usb-cdc-device.c **** {
2278:application-library/usb-cdc-device.c ****   uint8_t *pbuff = pdata;
2279:application-library/usb-cdc-device.c **** 
2280:application-library/usb-cdc-device.c ****   req->bmRequest = *(uint8_t *)(pbuff);
2281:application-library/usb-cdc-device.c **** 
2282:application-library/usb-cdc-device.c ****   pbuff++;
2283:application-library/usb-cdc-device.c ****   req->bRequest = *(uint8_t *)(pbuff);
2284:application-library/usb-cdc-device.c **** 
2285:application-library/usb-cdc-device.c ****   pbuff++;
2286:application-library/usb-cdc-device.c ****   req->wValue = SWAPBYTE(pbuff);
2287:application-library/usb-cdc-device.c **** 
2288:application-library/usb-cdc-device.c ****   pbuff++;
2289:application-library/usb-cdc-device.c ****   pbuff++;
2290:application-library/usb-cdc-device.c ****   req->wIndex = SWAPBYTE(pbuff);
2291:application-library/usb-cdc-device.c **** 
2292:application-library/usb-cdc-device.c ****   pbuff++;
2293:application-library/usb-cdc-device.c ****   pbuff++;
2294:application-library/usb-cdc-device.c ****   req->wLength = SWAPBYTE(pbuff);
2295:application-library/usb-cdc-device.c **** }
2296:application-library/usb-cdc-device.c **** 
2297:application-library/usb-cdc-device.c **** 
2298:application-library/usb-cdc-device.c **** /**
2299:application-library/usb-cdc-device.c ****   * @brief  Handle USB low level Error
2300:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2301:application-library/usb-cdc-device.c ****   * @param  req: usb request
2302:application-library/usb-cdc-device.c ****   * @retval None
2303:application-library/usb-cdc-device.c ****   */
2304:application-library/usb-cdc-device.c **** void USBD_CtlError(USBD_Handle_t *p_usbd_instance, USBD_SetupReqTypedef *req)
2305:application-library/usb-cdc-device.c **** {
2306:application-library/usb-cdc-device.c ****   UNUSED(req);
2307:application-library/usb-cdc-device.c **** 
2308:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(p_usbd_instance, 0x80U);
2309:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(p_usbd_instance, 0U);
2310:application-library/usb-cdc-device.c **** }
2311:application-library/usb-cdc-device.c **** 
2312:application-library/usb-cdc-device.c **** 
2313:application-library/usb-cdc-device.c **** /**
2314:application-library/usb-cdc-device.c ****   * @brief  USBD_GetString
2315:application-library/usb-cdc-device.c ****   *         Convert Ascii string into unicode one
2316:application-library/usb-cdc-device.c ****   * @param  desc : descriptor buffer
2317:application-library/usb-cdc-device.c ****   * @param  unicode : Formatted string buffer (unicode)
2318:application-library/usb-cdc-device.c ****   * @param  len : descriptor length
2319:application-library/usb-cdc-device.c ****   * @retval None
2320:application-library/usb-cdc-device.c ****   */
2321:application-library/usb-cdc-device.c **** void USBD_GetString(uint8_t *desc, uint8_t *unicode, uint16_t *len)
2322:application-library/usb-cdc-device.c **** {
2323:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
2324:application-library/usb-cdc-device.c ****   uint8_t *pdesc;
2325:application-library/usb-cdc-device.c **** 
2326:application-library/usb-cdc-device.c ****   if (desc == NULL)
2327:application-library/usb-cdc-device.c ****   {
2328:application-library/usb-cdc-device.c ****     return;
2329:application-library/usb-cdc-device.c ****   }
ARM GAS  /tmp/ccf4hwpD.s 			page 45


2330:application-library/usb-cdc-device.c **** 
2331:application-library/usb-cdc-device.c ****   pdesc = desc;
2332:application-library/usb-cdc-device.c ****   *len = ((uint16_t)USBD_GetLen(pdesc) * 2U) + 2U;
2333:application-library/usb-cdc-device.c **** 
2334:application-library/usb-cdc-device.c ****   unicode[idx] = *(uint8_t *)len;
2335:application-library/usb-cdc-device.c ****   idx++;
2336:application-library/usb-cdc-device.c ****   unicode[idx] = USB_DESC_TYPE_STRING;
2337:application-library/usb-cdc-device.c ****   idx++;
2338:application-library/usb-cdc-device.c **** 
2339:application-library/usb-cdc-device.c ****   while (*pdesc != (uint8_t)'\0')
2340:application-library/usb-cdc-device.c ****   {
2341:application-library/usb-cdc-device.c ****     unicode[idx] = *pdesc;
2342:application-library/usb-cdc-device.c ****     pdesc++;
2343:application-library/usb-cdc-device.c ****     idx++;
2344:application-library/usb-cdc-device.c **** 
2345:application-library/usb-cdc-device.c ****     unicode[idx] = 0U;
2346:application-library/usb-cdc-device.c ****     idx++;
2347:application-library/usb-cdc-device.c ****   }
2348:application-library/usb-cdc-device.c **** }
2349:application-library/usb-cdc-device.c **** 
2350:application-library/usb-cdc-device.c **** 
2351:application-library/usb-cdc-device.c **** /**
2352:application-library/usb-cdc-device.c ****   * @brief  Return the string length
2353:application-library/usb-cdc-device.c ****    * @param  buf : pointer to the ascii string buffer
2354:application-library/usb-cdc-device.c ****   * @retval string length
2355:application-library/usb-cdc-device.c ****   */
2356:application-library/usb-cdc-device.c **** uint8_t USBD_GetLen(uint8_t *buf)
2357:application-library/usb-cdc-device.c **** {
2358:application-library/usb-cdc-device.c ****   uint8_t  len = 0U;
2359:application-library/usb-cdc-device.c ****   uint8_t *pbuff = buf;
2360:application-library/usb-cdc-device.c **** 
2361:application-library/usb-cdc-device.c ****   while (*pbuff != (uint8_t)'\0')
2362:application-library/usb-cdc-device.c ****   {
2363:application-library/usb-cdc-device.c ****     len++;
2364:application-library/usb-cdc-device.c ****     pbuff++;
2365:application-library/usb-cdc-device.c ****   }
2366:application-library/usb-cdc-device.c **** 
2367:application-library/usb-cdc-device.c ****   return len;
2368:application-library/usb-cdc-device.c **** }
2369:application-library/usb-cdc-device.c **** 
2370:application-library/usb-cdc-device.c **** /**
2371:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlSendData
2372:application-library/usb-cdc-device.c ****   *         send data on the ctl pipe
2373:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2374:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2375:application-library/usb-cdc-device.c ****   * @param  len: length of data to be sent
2376:application-library/usb-cdc-device.c ****   * @retval void
2377:application-library/usb-cdc-device.c ****   */
2378:application-library/usb-cdc-device.c **** void USBD_CtlSendData(USBD_Handle_t *p_usbd_instance,
2379:application-library/usb-cdc-device.c ****                                     uint8_t *pbuf, uint32_t len)
2380:application-library/usb-cdc-device.c **** {
2381:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2382:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_state = USBD_EP0_DATA_IN;
2383:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[0].total_length = len;
2384:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[0].rem_length = len;
2385:application-library/usb-cdc-device.c ****   /* Start the transfer */
2386:application-library/usb-cdc-device.c ****   USBD_LL_Transmit(p_usbd_instance, 0x00U, pbuf, len);
ARM GAS  /tmp/ccf4hwpD.s 			page 46


2387:application-library/usb-cdc-device.c **** }
2388:application-library/usb-cdc-device.c **** 
2389:application-library/usb-cdc-device.c **** /**
2390:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlContinueSendData
2391:application-library/usb-cdc-device.c ****   *         continue sending data on the ctl pipe
2392:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2393:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2394:application-library/usb-cdc-device.c ****   * @param  len: length of data to be sent
2395:application-library/usb-cdc-device.c ****   * @retval None.
2396:application-library/usb-cdc-device.c ****   */
2397:application-library/usb-cdc-device.c **** void USBD_CtlContinueSendData(USBD_Handle_t *p_usbd_instance,
2398:application-library/usb-cdc-device.c ****                                             uint8_t *pbuf, uint32_t len)
2399:application-library/usb-cdc-device.c **** {
2400:application-library/usb-cdc-device.c ****   /* Start the next transfer */
2401:application-library/usb-cdc-device.c ****   USBD_LL_Transmit(p_usbd_instance, 0x00U, pbuf, len);
2402:application-library/usb-cdc-device.c **** }
2403:application-library/usb-cdc-device.c **** 
2404:application-library/usb-cdc-device.c **** /**
2405:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlPrepareRx
2406:application-library/usb-cdc-device.c ****   *         receive data on the ctl pipe
2407:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2408:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2409:application-library/usb-cdc-device.c ****   * @param  len: length of data to be received
2410:application-library/usb-cdc-device.c ****   * @retval None.
2411:application-library/usb-cdc-device.c ****   */
2412:application-library/usb-cdc-device.c **** void USBD_CtlPrepareRx(USBD_Handle_t *p_usbd_instance,
2413:application-library/usb-cdc-device.c ****                                      uint8_t *pbuf, uint32_t len)
2414:application-library/usb-cdc-device.c **** {
2415:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2416:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_state = USBD_EP0_DATA_OUT;
2417:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[0].total_length = len;
2418:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[0].rem_length = len;
2419:application-library/usb-cdc-device.c **** 
2420:application-library/usb-cdc-device.c ****   /* Start the transfer */
2421:application-library/usb-cdc-device.c ****   USBD_LL_PrepareReceive(p_usbd_instance, 0U, pbuf, len);
2422:application-library/usb-cdc-device.c **** }
2423:application-library/usb-cdc-device.c **** 
2424:application-library/usb-cdc-device.c **** /**
2425:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlContinueRx
2426:application-library/usb-cdc-device.c ****   *         continue receive data on the ctl pipe
2427:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2428:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2429:application-library/usb-cdc-device.c ****   * @param  len: length of data to be received
2430:application-library/usb-cdc-device.c ****   * @retval status
2431:application-library/usb-cdc-device.c ****   */
2432:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlContinueRx(USBD_Handle_t *p_usbd_instance,
2433:application-library/usb-cdc-device.c ****                                       uint8_t *pbuf, uint32_t len)
2434:application-library/usb-cdc-device.c **** {
2435:application-library/usb-cdc-device.c ****   USBD_LL_PrepareReceive(p_usbd_instance, 0U, pbuf, len);
2436:application-library/usb-cdc-device.c **** 
2437:application-library/usb-cdc-device.c ****   return USBD_OK;
2438:application-library/usb-cdc-device.c **** }
2439:application-library/usb-cdc-device.c **** 
2440:application-library/usb-cdc-device.c **** /**
2441:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlSendStatus
2442:application-library/usb-cdc-device.c ****   *         send zero lzngth packet on the ctl pipe
2443:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
ARM GAS  /tmp/ccf4hwpD.s 			page 47


2444:application-library/usb-cdc-device.c ****   * @retval status
2445:application-library/usb-cdc-device.c ****   */
2446:application-library/usb-cdc-device.c **** void USBD_CtlSendStatus(USBD_Handle_t *p_usbd_instance)
2447:application-library/usb-cdc-device.c **** {
2448:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2449:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_state = USBD_EP0_STATUS_IN;
2450:application-library/usb-cdc-device.c **** 
2451:application-library/usb-cdc-device.c ****   /* Start the transfer */
2452:application-library/usb-cdc-device.c ****   USBD_LL_Transmit(p_usbd_instance, 0x00U, NULL, 0U);
2453:application-library/usb-cdc-device.c **** }
2454:application-library/usb-cdc-device.c **** 
2455:application-library/usb-cdc-device.c **** /**
2456:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlReceiveStatus
2457:application-library/usb-cdc-device.c ****   *         receive zero lzngth packet on the ctl pipe
2458:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2459:application-library/usb-cdc-device.c ****   * @retval status
2460:application-library/usb-cdc-device.c ****   */
2461:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlReceiveStatus(USBD_Handle_t *p_usbd_instance)
2462:application-library/usb-cdc-device.c **** {
2463:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2464:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_state = USBD_EP0_STATUS_OUT;
2465:application-library/usb-cdc-device.c **** 
2466:application-library/usb-cdc-device.c ****   /* Start the transfer */
2467:application-library/usb-cdc-device.c ****   USBD_LL_PrepareReceive(p_usbd_instance, 0U, NULL, 0U);
2468:application-library/usb-cdc-device.c **** 
2469:application-library/usb-cdc-device.c ****   return USBD_OK;
2470:application-library/usb-cdc-device.c **** }
2471:application-library/usb-cdc-device.c **** 
2472:application-library/usb-cdc-device.c **** /**
2473:application-library/usb-cdc-device.c ****   * @brief  USBD_GetRxCount
2474:application-library/usb-cdc-device.c ****   *         returns the received data length
2475:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: device instance
2476:application-library/usb-cdc-device.c ****   * @param  ep_addr: endpoint address
2477:application-library/usb-cdc-device.c ****   * @retval Rx Data blength
2478:application-library/usb-cdc-device.c ****   */
2479:application-library/usb-cdc-device.c **** uint32_t USBD_GetRxCount(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr)
2480:application-library/usb-cdc-device.c **** {
2481:application-library/usb-cdc-device.c ****   return USBD_LL_GetRxDataSize(p_usbd_instance, ep_addr);
2482:application-library/usb-cdc-device.c **** }
2483:application-library/usb-cdc-device.c **** 
2484:application-library/usb-cdc-device.c **** /* usbd_ioreq.c END ---- ---- ---- ---- */
2485:application-library/usb-cdc-device.c **** 
2486:application-library/usb-cdc-device.c **** 
2487:application-library/usb-cdc-device.c **** 
2488:application-library/usb-cdc-device.c **** PCD_HandleTypeDef hpcd_USB_OTG_FS;
2489:application-library/usb-cdc-device.c **** void Error_Handler(void);
2490:application-library/usb-cdc-device.c **** 
2491:application-library/usb-cdc-device.c **** void SystemClock_Config(void);
2492:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Get_USB_Status(HAL_StatusTypeDef hal_status);
2493:application-library/usb-cdc-device.c **** 
2494:application-library/usb-cdc-device.c **** /*******************************************************************************
2495:application-library/usb-cdc-device.c ****                        LL Driver Callbacks (PCD -> USB Device Library)
2496:application-library/usb-cdc-device.c **** *******************************************************************************/
2497:application-library/usb-cdc-device.c **** /* MSP Init */
2498:application-library/usb-cdc-device.c **** 
2499:application-library/usb-cdc-device.c **** void HAL_PCD_MspInit(PCD_HandleTypeDef* pcdHandle)
2500:application-library/usb-cdc-device.c **** {
ARM GAS  /tmp/ccf4hwpD.s 			page 48


2501:application-library/usb-cdc-device.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
2502:application-library/usb-cdc-device.c ****   if(pcdHandle->Instance==USB_OTG_FS)
2503:application-library/usb-cdc-device.c ****   {
2504:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspInit 0 */
2505:application-library/usb-cdc-device.c **** 
2506:application-library/usb-cdc-device.c ****   /* USER CODE END USB_OTG_FS_MspInit 0 */
2507:application-library/usb-cdc-device.c **** 
2508:application-library/usb-cdc-device.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
2509:application-library/usb-cdc-device.c ****     /**USB_OTG_FS GPIO Configuration
2510:application-library/usb-cdc-device.c ****     PA11     ------> USB_OTG_FS_DM
2511:application-library/usb-cdc-device.c ****     PA12     ------> USB_OTG_FS_DP
2512:application-library/usb-cdc-device.c ****     */
2513:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Pin = GPIO_PIN_11|GPIO_PIN_12;
2514:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
2515:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
2516:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
2517:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Alternate = GPIO_AF10_OTG_FS;
2518:application-library/usb-cdc-device.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
2519:application-library/usb-cdc-device.c **** 
2520:application-library/usb-cdc-device.c ****     /* Peripheral clock enable */
2521:application-library/usb-cdc-device.c ****     __HAL_RCC_USB_OTG_FS_CLK_ENABLE();
2522:application-library/usb-cdc-device.c **** 
2523:application-library/usb-cdc-device.c ****     /* Peripheral interrupt init */
2524:application-library/usb-cdc-device.c ****     HAL_NVIC_SetPriority(OTG_FS_IRQn, 0, 0);
2525:application-library/usb-cdc-device.c ****     HAL_NVIC_EnableIRQ(OTG_FS_IRQn);
2526:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspInit 1 */
2527:application-library/usb-cdc-device.c **** 
2528:application-library/usb-cdc-device.c ****   /* USER CODE END USB_OTG_FS_MspInit 1 */
2529:application-library/usb-cdc-device.c ****   }
2530:application-library/usb-cdc-device.c **** }
2531:application-library/usb-cdc-device.c **** 
2532:application-library/usb-cdc-device.c **** void HAL_PCD_MspDeInit(PCD_HandleTypeDef* pcdHandle)
2533:application-library/usb-cdc-device.c **** {
2534:application-library/usb-cdc-device.c ****   if(pcdHandle->Instance==USB_OTG_FS)
2535:application-library/usb-cdc-device.c ****   {
2536:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspDeInit 0 */
2537:application-library/usb-cdc-device.c **** 
2538:application-library/usb-cdc-device.c ****   /* USER CODE END USB_OTG_FS_MspDeInit 0 */
2539:application-library/usb-cdc-device.c ****     /* Peripheral clock disable */
2540:application-library/usb-cdc-device.c ****     __HAL_RCC_USB_OTG_FS_CLK_DISABLE();
2541:application-library/usb-cdc-device.c **** 
2542:application-library/usb-cdc-device.c ****     /**USB_OTG_FS GPIO Configuration
2543:application-library/usb-cdc-device.c ****     PA11     ------> USB_OTG_FS_DM
2544:application-library/usb-cdc-device.c ****     PA12     ------> USB_OTG_FS_DP
2545:application-library/usb-cdc-device.c ****     */
2546:application-library/usb-cdc-device.c ****     HAL_GPIO_DeInit(GPIOA, GPIO_PIN_11|GPIO_PIN_12);
2547:application-library/usb-cdc-device.c **** 
2548:application-library/usb-cdc-device.c ****     /* Peripheral interrupt Deinit*/
2549:application-library/usb-cdc-device.c ****     HAL_NVIC_DisableIRQ(OTG_FS_IRQn);
2550:application-library/usb-cdc-device.c ****   }
2551:application-library/usb-cdc-device.c **** }
2552:application-library/usb-cdc-device.c **** 
2553:application-library/usb-cdc-device.c **** /**
2554:application-library/usb-cdc-device.c ****   * @brief  Setup stage callback
2555:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2556:application-library/usb-cdc-device.c ****   * @retval None
2557:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccf4hwpD.s 			page 49


2558:application-library/usb-cdc-device.c **** void HAL_PCD_SetupStageCallback(PCD_HandleTypeDef *hpcd)
2559:application-library/usb-cdc-device.c **** {
2560:application-library/usb-cdc-device.c ****   USBD_LL_SetupStage((USBD_Handle_t*)hpcd->pData, (uint8_t *)hpcd->Setup);
2561:application-library/usb-cdc-device.c **** }
2562:application-library/usb-cdc-device.c **** 
2563:application-library/usb-cdc-device.c **** /**
2564:application-library/usb-cdc-device.c ****   * @brief  Data Out stage callback.
2565:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2566:application-library/usb-cdc-device.c ****   * @param  epnum: Endpoint number
2567:application-library/usb-cdc-device.c ****   * @retval None
2568:application-library/usb-cdc-device.c ****   */
2569:application-library/usb-cdc-device.c **** void HAL_PCD_DataOutStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2570:application-library/usb-cdc-device.c **** {
2571:application-library/usb-cdc-device.c ****   USBD_LL_DataOutStage((USBD_Handle_t*)hpcd->pData, epnum, hpcd->OUT_ep[epnum].xfer_buff);
2572:application-library/usb-cdc-device.c **** }
2573:application-library/usb-cdc-device.c **** 
2574:application-library/usb-cdc-device.c **** /**
2575:application-library/usb-cdc-device.c ****   * @brief  Data In stage callback.
2576:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2577:application-library/usb-cdc-device.c ****   * @param  epnum: Endpoint number
2578:application-library/usb-cdc-device.c ****   * @retval None
2579:application-library/usb-cdc-device.c ****   */
2580:application-library/usb-cdc-device.c **** void HAL_PCD_DataInStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2581:application-library/usb-cdc-device.c **** {
2582:application-library/usb-cdc-device.c ****   USBD_LL_DataInStage((USBD_Handle_t*)hpcd->pData, epnum, hpcd->IN_ep[epnum].xfer_buff);
2583:application-library/usb-cdc-device.c **** }
2584:application-library/usb-cdc-device.c **** 
2585:application-library/usb-cdc-device.c **** /**
2586:application-library/usb-cdc-device.c ****   * @brief  SOF callback.
2587:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2588:application-library/usb-cdc-device.c ****   * @retval None
2589:application-library/usb-cdc-device.c ****   */
2590:application-library/usb-cdc-device.c **** void HAL_PCD_SOFCallback(PCD_HandleTypeDef *hpcd)
2591:application-library/usb-cdc-device.c **** {
2592:application-library/usb-cdc-device.c ****   USBD_LL_SOF((USBD_Handle_t*)hpcd->pData);
2593:application-library/usb-cdc-device.c **** }
2594:application-library/usb-cdc-device.c **** 
2595:application-library/usb-cdc-device.c **** /**
2596:application-library/usb-cdc-device.c ****   * @brief  Reset callback.
2597:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2598:application-library/usb-cdc-device.c ****   * @retval None
2599:application-library/usb-cdc-device.c ****   */
2600:application-library/usb-cdc-device.c **** void HAL_PCD_ResetCallback(PCD_HandleTypeDef *hpcd)
2601:application-library/usb-cdc-device.c **** {
2602:application-library/usb-cdc-device.c ****   USBD_SpeedTypeDef speed = USBD_SPEED_FULL;
2603:application-library/usb-cdc-device.c **** 
2604:application-library/usb-cdc-device.c ****   if ( hpcd->Init.speed == PCD_SPEED_HIGH)
2605:application-library/usb-cdc-device.c ****   {
2606:application-library/usb-cdc-device.c ****     speed = USBD_SPEED_HIGH;
2607:application-library/usb-cdc-device.c ****   }
2608:application-library/usb-cdc-device.c ****   else if ( hpcd->Init.speed == PCD_SPEED_FULL)
2609:application-library/usb-cdc-device.c ****   {
2610:application-library/usb-cdc-device.c ****     speed = USBD_SPEED_FULL;
2611:application-library/usb-cdc-device.c ****   }
2612:application-library/usb-cdc-device.c ****   else
2613:application-library/usb-cdc-device.c ****   {
2614:application-library/usb-cdc-device.c ****     Error_Handler();
ARM GAS  /tmp/ccf4hwpD.s 			page 50


2615:application-library/usb-cdc-device.c ****   }
2616:application-library/usb-cdc-device.c ****     /* Set Speed. */
2617:application-library/usb-cdc-device.c ****   USBD_LL_SetSpeed((USBD_Handle_t*)hpcd->pData, speed);
2618:application-library/usb-cdc-device.c **** 
2619:application-library/usb-cdc-device.c ****   /* Reset Device. */
2620:application-library/usb-cdc-device.c ****   USBD_LL_Reset((USBD_Handle_t*)hpcd->pData);
2621:application-library/usb-cdc-device.c **** }
2622:application-library/usb-cdc-device.c **** 
2623:application-library/usb-cdc-device.c **** /**
2624:application-library/usb-cdc-device.c ****   * @brief  Suspend callback.
2625:application-library/usb-cdc-device.c ****   * When Low power mode is enabled the debug cannot be used (IAR, Keil doesn't support it)
2626:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2627:application-library/usb-cdc-device.c ****   * @retval None
2628:application-library/usb-cdc-device.c ****   */
2629:application-library/usb-cdc-device.c **** void HAL_PCD_SuspendCallback(PCD_HandleTypeDef *hpcd)
2630:application-library/usb-cdc-device.c **** {
2631:application-library/usb-cdc-device.c ****   /* Inform USB library that core enters in suspend Mode. */
2632:application-library/usb-cdc-device.c ****   USBD_LL_Suspend((USBD_Handle_t*)hpcd->pData);
2633:application-library/usb-cdc-device.c ****   __HAL_PCD_GATE_PHYCLOCK(hpcd);
2634:application-library/usb-cdc-device.c ****   /* Enter in STOP mode. */
2635:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 2 */
2636:application-library/usb-cdc-device.c ****   if (hpcd->Init.low_power_enable)
2637:application-library/usb-cdc-device.c ****   {
2638:application-library/usb-cdc-device.c ****     /* Set SLEEPDEEP bit and SleepOnExit of Cortex System Control Register. */
2639:application-library/usb-cdc-device.c ****     SCB->SCR |= (uint32_t)((uint32_t)(SCB_SCR_SLEEPDEEP_Msk | SCB_SCR_SLEEPONEXIT_Msk));
2640:application-library/usb-cdc-device.c ****   }
2641:application-library/usb-cdc-device.c **** }
2642:application-library/usb-cdc-device.c **** 
2643:application-library/usb-cdc-device.c **** 
2644:application-library/usb-cdc-device.c **** /**
2645:application-library/usb-cdc-device.c ****   * @brief  Connect callback.
2646:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2647:application-library/usb-cdc-device.c ****   * @retval None
2648:application-library/usb-cdc-device.c ****   */
2649:application-library/usb-cdc-device.c **** void HAL_PCD_ConnectCallback(PCD_HandleTypeDef *hpcd)
2650:application-library/usb-cdc-device.c **** {
2651:application-library/usb-cdc-device.c ****   USBD_LL_DevConnected((USBD_Handle_t*)hpcd->pData);
2652:application-library/usb-cdc-device.c **** }
2653:application-library/usb-cdc-device.c **** 
2654:application-library/usb-cdc-device.c **** /**
2655:application-library/usb-cdc-device.c ****   * @brief  Disconnect callback.
2656:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2657:application-library/usb-cdc-device.c ****   * @retval None
2658:application-library/usb-cdc-device.c ****   */
2659:application-library/usb-cdc-device.c **** void HAL_PCD_DisconnectCallback(PCD_HandleTypeDef *hpcd)
2660:application-library/usb-cdc-device.c **** {
2661:application-library/usb-cdc-device.c ****   USBD_LL_DevDisconnected((USBD_Handle_t*)hpcd->pData);
2662:application-library/usb-cdc-device.c **** }
2663:application-library/usb-cdc-device.c **** 
2664:application-library/usb-cdc-device.c **** /*******************************************************************************
2665:application-library/usb-cdc-device.c ****                        LL Driver Interface (USB Device Library --> PCD)
2666:application-library/usb-cdc-device.c **** *******************************************************************************/
2667:application-library/usb-cdc-device.c **** 
2668:application-library/usb-cdc-device.c **** /**
2669:application-library/usb-cdc-device.c ****   * @brief  Initializes the low level portion of the device driver.
2670:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2671:application-library/usb-cdc-device.c ****   * @retval USBD status
ARM GAS  /tmp/ccf4hwpD.s 			page 51


2672:application-library/usb-cdc-device.c ****   */
2673:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Init(USBD_Handle_t *p_usbd_instance)
2674:application-library/usb-cdc-device.c **** {
2675:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
2676:application-library/usb-cdc-device.c ****   if (p_usbd_instance->id == DEVICE_FS) {
2677:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
2678:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.pData = p_usbd_instance;
2679:application-library/usb-cdc-device.c ****   p_usbd_instance->pData = &hpcd_USB_OTG_FS;
2680:application-library/usb-cdc-device.c **** 
2681:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Instance = USB_OTG_FS;
2682:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
2683:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
2684:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
2685:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
2686:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
2687:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
2688:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
2689:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
2690:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
2691:application-library/usb-cdc-device.c **** 
2692:application-library/usb-cdc-device.c ****   /* Initialize the hardware. */
2693:application-library/usb-cdc-device.c ****   if (HAL_PCD_Init(&hpcd_USB_OTG_FS) != HAL_OK)
2694:application-library/usb-cdc-device.c ****   {
2695:application-library/usb-cdc-device.c ****     Error_Handler( );
2696:application-library/usb-cdc-device.c ****   }
2697:application-library/usb-cdc-device.c **** 
2698:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
2699:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetRxFiFo(&hpcd_USB_OTG_FS, 0x80);    /* set RX FIFO size 0x80*/
2700:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
2701:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
2702:application-library/usb-cdc-device.c ****   }
2703:application-library/usb-cdc-device.c ****   return USBD_OK;
2704:application-library/usb-cdc-device.c **** }
2705:application-library/usb-cdc-device.c **** 
2706:application-library/usb-cdc-device.c **** /**
2707:application-library/usb-cdc-device.c ****   * @brief  De-Initializes the low level portion of the device driver.
2708:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2709:application-library/usb-cdc-device.c ****   * @retval USBD status
2710:application-library/usb-cdc-device.c ****   */
2711:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DeInit(USBD_Handle_t *p_usbd_instance)
2712:application-library/usb-cdc-device.c **** {
2713:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
2714:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
2715:application-library/usb-cdc-device.c **** 
2716:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_DeInit(p_usbd_instance->pData);
2717:application-library/usb-cdc-device.c **** 
2718:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
2719:application-library/usb-cdc-device.c **** 
2720:application-library/usb-cdc-device.c ****   return usb_status;
2721:application-library/usb-cdc-device.c **** }
2722:application-library/usb-cdc-device.c **** 
2723:application-library/usb-cdc-device.c **** /**
2724:application-library/usb-cdc-device.c ****   * @brief  Starts the low level portion of the device driver.
2725:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2726:application-library/usb-cdc-device.c ****   * @retval USBD status
2727:application-library/usb-cdc-device.c ****   */
2728:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Start(USBD_Handle_t *p_usbd_instance)
ARM GAS  /tmp/ccf4hwpD.s 			page 52


2729:application-library/usb-cdc-device.c **** {
2730:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
2731:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
2732:application-library/usb-cdc-device.c **** 
2733:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Start(p_usbd_instance->pData);
2734:application-library/usb-cdc-device.c **** 
2735:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
2736:application-library/usb-cdc-device.c **** 
2737:application-library/usb-cdc-device.c ****   return usb_status;
2738:application-library/usb-cdc-device.c **** }
2739:application-library/usb-cdc-device.c **** 
2740:application-library/usb-cdc-device.c **** /**
2741:application-library/usb-cdc-device.c ****   * @brief  Stops the low level portion of the device driver.
2742:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2743:application-library/usb-cdc-device.c ****   * @retval None.
2744:application-library/usb-cdc-device.c ****   */
2745:application-library/usb-cdc-device.c **** void USBD_LL_Stop(USBD_Handle_t *p_usbd_instance)
2746:application-library/usb-cdc-device.c **** {
2747:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
2748:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Stop(p_usbd_instance->pData);
2749:application-library/usb-cdc-device.c ****   USBD_Get_USB_Status(hal_status);
2750:application-library/usb-cdc-device.c **** }
2751:application-library/usb-cdc-device.c **** 
2752:application-library/usb-cdc-device.c **** /**
2753:application-library/usb-cdc-device.c ****   * @brief  Opens an endpoint of the low level driver.
2754:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2755:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2756:application-library/usb-cdc-device.c ****   * @param  ep_type: Endpoint type
2757:application-library/usb-cdc-device.c ****   * @param  ep_mps: Endpoint max packet size
2758:application-library/usb-cdc-device.c ****   * @retval None.
2759:application-library/usb-cdc-device.c ****   */
2760:application-library/usb-cdc-device.c **** void USBD_LL_OpenEP(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr, uint8_t ep_type, uint16_t ep_m
2761:application-library/usb-cdc-device.c **** {
2762:application-library/usb-cdc-device.c ****   HAL_PCD_EP_Open(p_usbd_instance->pData, ep_addr, ep_mps, ep_type);
2763:application-library/usb-cdc-device.c **** }
2764:application-library/usb-cdc-device.c **** 
2765:application-library/usb-cdc-device.c **** /**
2766:application-library/usb-cdc-device.c ****   * @brief  Closes an endpoint of the low level driver.
2767:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2768:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2769:application-library/usb-cdc-device.c ****   * @retval None.
2770:application-library/usb-cdc-device.c ****   */
2771:application-library/usb-cdc-device.c **** void USBD_LL_CloseEP(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr)
2772:application-library/usb-cdc-device.c **** {
2773:application-library/usb-cdc-device.c ****   HAL_PCD_EP_Close(p_usbd_instance->pData, ep_addr);
2774:application-library/usb-cdc-device.c **** }
2775:application-library/usb-cdc-device.c **** 
2776:application-library/usb-cdc-device.c **** /**
2777:application-library/usb-cdc-device.c ****   * @brief  Flushes an endpoint of the Low Level Driver.
2778:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2779:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2780:application-library/usb-cdc-device.c ****   * @retval None.
2781:application-library/usb-cdc-device.c ****   */
2782:application-library/usb-cdc-device.c **** void USBD_LL_FlushEP(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr)
2783:application-library/usb-cdc-device.c **** {
2784:application-library/usb-cdc-device.c ****   HAL_PCD_EP_Flush(p_usbd_instance->pData, ep_addr);
2785:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccf4hwpD.s 			page 53


2786:application-library/usb-cdc-device.c **** 
2787:application-library/usb-cdc-device.c **** /**
2788:application-library/usb-cdc-device.c ****   * @brief  Sets a Stall condition on an endpoint of the Low Level Driver.
2789:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2790:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2791:application-library/usb-cdc-device.c ****   * @retval None
2792:application-library/usb-cdc-device.c ****   */
2793:application-library/usb-cdc-device.c **** void USBD_LL_StallEP(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr)
2794:application-library/usb-cdc-device.c **** {
2795:application-library/usb-cdc-device.c ****   HAL_PCD_EP_SetStall(p_usbd_instance->pData, ep_addr);
2796:application-library/usb-cdc-device.c **** }
2797:application-library/usb-cdc-device.c **** 
2798:application-library/usb-cdc-device.c **** /**
2799:application-library/usb-cdc-device.c ****   * @brief  Clears a Stall condition on an endpoint of the Low Level Driver.
2800:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2801:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2802:application-library/usb-cdc-device.c ****   * @retval None.
2803:application-library/usb-cdc-device.c ****   */
2804:application-library/usb-cdc-device.c **** void USBD_LL_ClearStallEP(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr)
2805:application-library/usb-cdc-device.c **** {
2806:application-library/usb-cdc-device.c ****   HAL_PCD_EP_ClrStall(p_usbd_instance->pData, ep_addr);
2807:application-library/usb-cdc-device.c **** }
2808:application-library/usb-cdc-device.c **** 
2809:application-library/usb-cdc-device.c **** /**
2810:application-library/usb-cdc-device.c ****   * @brief  Returns Stall condition.
2811:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2812:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2813:application-library/usb-cdc-device.c ****   * @retval Stall (1: Yes, 0: No)
2814:application-library/usb-cdc-device.c ****   */
2815:application-library/usb-cdc-device.c **** uint8_t USBD_LL_IsStallEP(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr)
2816:application-library/usb-cdc-device.c **** {
2817:application-library/usb-cdc-device.c ****   PCD_HandleTypeDef *hpcd = (PCD_HandleTypeDef*) p_usbd_instance->pData;
2818:application-library/usb-cdc-device.c **** 
2819:application-library/usb-cdc-device.c ****   if((ep_addr & 0x80) == 0x80)
2820:application-library/usb-cdc-device.c ****   {
2821:application-library/usb-cdc-device.c ****     return hpcd->IN_ep[ep_addr & 0x7F].is_stall;
2822:application-library/usb-cdc-device.c ****   }
2823:application-library/usb-cdc-device.c ****   else
2824:application-library/usb-cdc-device.c ****   {
2825:application-library/usb-cdc-device.c ****     return hpcd->OUT_ep[ep_addr & 0x7F].is_stall;
2826:application-library/usb-cdc-device.c ****   }
2827:application-library/usb-cdc-device.c **** }
2828:application-library/usb-cdc-device.c **** 
2829:application-library/usb-cdc-device.c **** /**
2830:application-library/usb-cdc-device.c ****   * @brief  Assigns a USB address to the device.
2831:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2832:application-library/usb-cdc-device.c ****   * @param  dev_addr: Device address
2833:application-library/usb-cdc-device.c ****   * @retval void
2834:application-library/usb-cdc-device.c ****   */
2835:application-library/usb-cdc-device.c **** void USBD_LL_SetUSBAddress(USBD_Handle_t *p_usbd_instance, uint8_t dev_addr)
2836:application-library/usb-cdc-device.c **** {
2837:application-library/usb-cdc-device.c ****   HAL_PCD_SetAddress(p_usbd_instance->pData, dev_addr);
2838:application-library/usb-cdc-device.c **** }
2839:application-library/usb-cdc-device.c **** 
2840:application-library/usb-cdc-device.c **** /**
2841:application-library/usb-cdc-device.c ****   * @brief  Transmits data over an endpoint.
2842:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
ARM GAS  /tmp/ccf4hwpD.s 			page 54


2843:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2844:application-library/usb-cdc-device.c ****   * @param  pbuf: Pointer to data to be sent
2845:application-library/usb-cdc-device.c ****   * @param  size: Data size
2846:application-library/usb-cdc-device.c ****   * @retval None.
2847:application-library/usb-cdc-device.c ****   */
2848:application-library/usb-cdc-device.c **** void USBD_LL_Transmit(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr, uint8_t *pbuf, uint32_t size
2849:application-library/usb-cdc-device.c **** {
2850:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
2851:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_Transmit(p_usbd_instance->pData, ep_addr, pbuf, size);
2852:application-library/usb-cdc-device.c ****   USBD_Get_USB_Status(hal_status);
2853:application-library/usb-cdc-device.c **** }
2854:application-library/usb-cdc-device.c **** 
2855:application-library/usb-cdc-device.c **** /**
2856:application-library/usb-cdc-device.c ****   * @brief  Prepares an endpoint for reception.
2857:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2858:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2859:application-library/usb-cdc-device.c ****   * @param  pbuf: Pointer to data to be received
2860:application-library/usb-cdc-device.c ****   * @param  size: Data size
2861:application-library/usb-cdc-device.c ****   * @retval void
2862:application-library/usb-cdc-device.c ****   */
2863:application-library/usb-cdc-device.c **** void USBD_LL_PrepareReceive(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr, uint8_t *pbuf, uint32_
2864:application-library/usb-cdc-device.c **** {
2865:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
2866:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_Receive(p_usbd_instance->pData, ep_addr, pbuf, size);
2867:application-library/usb-cdc-device.c ****   USBD_Get_USB_Status(hal_status);
2868:application-library/usb-cdc-device.c **** }
2869:application-library/usb-cdc-device.c **** 
2870:application-library/usb-cdc-device.c **** /**
2871:application-library/usb-cdc-device.c ****   * @brief  Returns the last transferred packet size.
2872:application-library/usb-cdc-device.c ****   * @param  p_usbd_instance: Device handle
2873:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
2874:application-library/usb-cdc-device.c ****   * @retval Received Data Size
2875:application-library/usb-cdc-device.c ****   */
2876:application-library/usb-cdc-device.c **** uint32_t USBD_LL_GetRxDataSize(USBD_Handle_t *p_usbd_instance, uint8_t ep_addr)
2877:application-library/usb-cdc-device.c **** {
2878:application-library/usb-cdc-device.c ****   return HAL_PCD_EP_GetRxCount((PCD_HandleTypeDef*) p_usbd_instance->pData, ep_addr);
2879:application-library/usb-cdc-device.c **** }
2880:application-library/usb-cdc-device.c **** 
2881:application-library/usb-cdc-device.c **** /**
2882:application-library/usb-cdc-device.c ****   * @brief  single allocation.
2883:application-library/usb-cdc-device.c ****   * @param  size: Size of allocated memory
2884:application-library/usb-cdc-device.c ****   * @retval None
2885:application-library/usb-cdc-device.c ****   */
2886:application-library/usb-cdc-device.c **** void *USBD_static_malloc(uint32_t size)
2887:application-library/usb-cdc-device.c **** {
2888:application-library/usb-cdc-device.c ****   static uint32_t mem[(sizeof(USBD_CDC_Buffer_t)/4)+1];/* On 32-bit boundary */
2889:application-library/usb-cdc-device.c ****   return mem;
2890:application-library/usb-cdc-device.c **** }
2891:application-library/usb-cdc-device.c **** 
2892:application-library/usb-cdc-device.c **** /**
2893:application-library/usb-cdc-device.c ****   * @brief  Dummy memory free
2894:application-library/usb-cdc-device.c ****   * @param  p: Pointer to allocated  memory address
2895:application-library/usb-cdc-device.c ****   * @retval None
2896:application-library/usb-cdc-device.c ****   */
2897:application-library/usb-cdc-device.c **** void USBD_static_free(void *p)
2898:application-library/usb-cdc-device.c **** {
2899:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccf4hwpD.s 			page 55


2900:application-library/usb-cdc-device.c **** 
2901:application-library/usb-cdc-device.c **** /**
2902:application-library/usb-cdc-device.c ****   * @brief  Delays routine for the USB Device Library.
2903:application-library/usb-cdc-device.c ****   * @param  Delay: Delay in ms
2904:application-library/usb-cdc-device.c ****   * @retval None
2905:application-library/usb-cdc-device.c ****   */
2906:application-library/usb-cdc-device.c **** void USBD_LL_Delay(uint32_t Delay)
2907:application-library/usb-cdc-device.c **** {
2908:application-library/usb-cdc-device.c ****   HAL_Delay(Delay);
2909:application-library/usb-cdc-device.c **** }
2910:application-library/usb-cdc-device.c **** 
2911:application-library/usb-cdc-device.c **** /**
2912:application-library/usb-cdc-device.c ****   * @brief  Returns the USB status depending on the HAL status:
2913:application-library/usb-cdc-device.c ****   * @param  hal_status: HAL status
2914:application-library/usb-cdc-device.c ****   * @retval USB status
2915:application-library/usb-cdc-device.c ****   */
2916:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Get_USB_Status(HAL_StatusTypeDef hal_status)
2917:application-library/usb-cdc-device.c **** {
2918:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
2919:application-library/usb-cdc-device.c **** 
2920:application-library/usb-cdc-device.c ****   switch (hal_status)
2921:application-library/usb-cdc-device.c ****   {
2922:application-library/usb-cdc-device.c ****     case HAL_OK :
2923:application-library/usb-cdc-device.c ****       usb_status = USBD_OK;
2924:application-library/usb-cdc-device.c ****     break;
2925:application-library/usb-cdc-device.c ****     case HAL_ERROR :
2926:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
2927:application-library/usb-cdc-device.c ****     break;
2928:application-library/usb-cdc-device.c ****     case HAL_BUSY :
2929:application-library/usb-cdc-device.c ****       usb_status = USBD_BUSY;
2930:application-library/usb-cdc-device.c ****     break;
2931:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
2932:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
2933:application-library/usb-cdc-device.c ****     break;
2934:application-library/usb-cdc-device.c ****     default :
2935:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
2936:application-library/usb-cdc-device.c ****     break;
2937:application-library/usb-cdc-device.c ****   }
2938:application-library/usb-cdc-device.c ****   return usb_status;
2939:application-library/usb-cdc-device.c **** }
2940:application-library/usb-cdc-device.c **** 
2941:application-library/usb-cdc-device.c **** USBD_DescriptorsTypeDef FS_Desc =
2942:application-library/usb-cdc-device.c **** {
2943:application-library/usb-cdc-device.c ****   USBD_FS_DeviceDescriptor
2944:application-library/usb-cdc-device.c **** , USBD_FS_LangIDStrDescriptor
2945:application-library/usb-cdc-device.c **** , USBD_FS_ManufacturerStrDescriptor
2946:application-library/usb-cdc-device.c **** , USBD_FS_ProductStrDescriptor
2947:application-library/usb-cdc-device.c **** , USBD_FS_SerialStrDescriptor
2948:application-library/usb-cdc-device.c **** , USBD_FS_ConfigStrDescriptor
2949:application-library/usb-cdc-device.c **** , USBD_FS_InterfaceStrDescriptor
2950:application-library/usb-cdc-device.c **** };
2951:application-library/usb-cdc-device.c **** 
2952:application-library/usb-cdc-device.c **** /** USB standard device descriptor. */
2953:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_FS_DeviceDesc[USB_LEN_DEV_DESC] __ALIGN_END =
2954:application-library/usb-cdc-device.c **** {
2955:application-library/usb-cdc-device.c ****   0x12,                       /*bLength */
2956:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_DEVICE,       /*bDescriptorType*/
ARM GAS  /tmp/ccf4hwpD.s 			page 56


2957:application-library/usb-cdc-device.c ****   0x00,                       /*bcdUSB */
2958:application-library/usb-cdc-device.c ****   0x02,
2959:application-library/usb-cdc-device.c ****   0x02,                       /*bDeviceClass*/
2960:application-library/usb-cdc-device.c ****   0x02,                       /*bDeviceSubClass*/
2961:application-library/usb-cdc-device.c ****   0x00,                       /*bDeviceProtocol*/
2962:application-library/usb-cdc-device.c ****   USB_MAX_EP0_SIZE,           /*bMaxPacketSize*/
2963:application-library/usb-cdc-device.c ****   LOBYTE(USBD_VID),           /*idVendor*/
2964:application-library/usb-cdc-device.c ****   HIBYTE(USBD_VID),           /*idVendor*/
2965:application-library/usb-cdc-device.c ****   LOBYTE(USBD_PID_FS),        /*idProduct*/
2966:application-library/usb-cdc-device.c ****   HIBYTE(USBD_PID_FS),        /*idProduct*/
2967:application-library/usb-cdc-device.c ****   0x00,                       /*bcdDevice rel. 2.00*/
2968:application-library/usb-cdc-device.c ****   0x02,
2969:application-library/usb-cdc-device.c ****   USBD_IDX_MFC_STR,           /*Index of manufacturer  string*/
2970:application-library/usb-cdc-device.c ****   USBD_IDX_PRODUCT_STR,       /*Index of product string*/
2971:application-library/usb-cdc-device.c ****   USBD_IDX_SERIAL_STR,        /*Index of serial number string*/
2972:application-library/usb-cdc-device.c ****   USBD_MAX_NUM_CONFIGURATION  /*bNumConfigurations*/
2973:application-library/usb-cdc-device.c **** };
2974:application-library/usb-cdc-device.c **** 
2975:application-library/usb-cdc-device.c **** /** USB lang identifier descriptor. */
2976:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_LangIDDesc[USB_LEN_LANGID_STR_DESC] __ALIGN_END =
2977:application-library/usb-cdc-device.c **** {
2978:application-library/usb-cdc-device.c ****      USB_LEN_LANGID_STR_DESC,
2979:application-library/usb-cdc-device.c ****      USB_DESC_TYPE_STRING,
2980:application-library/usb-cdc-device.c ****      LOBYTE(USBD_LANGID_STRING),
2981:application-library/usb-cdc-device.c ****      HIBYTE(USBD_LANGID_STRING)
2982:application-library/usb-cdc-device.c **** };
2983:application-library/usb-cdc-device.c **** 
2984:application-library/usb-cdc-device.c **** /* Internal string descriptor. */
2985:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_StrDesc[USBD_MAX_STR_DESC_SIZ] __ALIGN_END;
2986:application-library/usb-cdc-device.c **** 
2987:application-library/usb-cdc-device.c **** 
2988:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_StringSerial[USB_SIZ_STRING_SERIAL] __ALIGN_END = {
2989:application-library/usb-cdc-device.c ****   USB_SIZ_STRING_SERIAL,
2990:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_STRING,
2991:application-library/usb-cdc-device.c **** };
2992:application-library/usb-cdc-device.c **** 
2993:application-library/usb-cdc-device.c **** /**
2994:application-library/usb-cdc-device.c ****   * @brief  Return the device descriptor
2995:application-library/usb-cdc-device.c ****   * @param  speed : Current device speed
2996:application-library/usb-cdc-device.c ****   * @param  length : Pointer to data length variable
2997:application-library/usb-cdc-device.c ****   * @retval Pointer to descriptor buffer
2998:application-library/usb-cdc-device.c ****   */
2999:application-library/usb-cdc-device.c **** uint8_t * USBD_FS_DeviceDescriptor(USBD_SpeedTypeDef speed, uint16_t *length)
3000:application-library/usb-cdc-device.c **** {
 190              		.loc 1 3000 0
 191              		.cfi_startproc
 192              		@ args = 0, pretend = 0, frame = 0
 193              		@ frame_needed = 0, uses_anonymous_args = 0
 194              		@ link register save eliminated.
 195              	.LVL15:
3001:application-library/usb-cdc-device.c ****   UNUSED(speed);
3002:application-library/usb-cdc-device.c ****   *length = sizeof(USBD_FS_DeviceDesc);
 196              		.loc 1 3002 0
 197 0000 1223     		movs	r3, #18
 198 0002 0B80     		strh	r3, [r1]	@ movhi
3003:application-library/usb-cdc-device.c ****   return USBD_FS_DeviceDesc;
3004:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccf4hwpD.s 			page 57


 199              		.loc 1 3004 0
 200 0004 0048     		ldr	r0, .L14
 201              	.LVL16:
 202 0006 7047     		bx	lr
 203              	.L15:
 204              		.align	2
 205              	.L14:
 206 0008 00000000 		.word	.LANCHOR1
 207              		.cfi_endproc
 208              	.LFE224:
 210              		.section	.text.USBD_FS_LangIDStrDescriptor,"ax",%progbits
 211              		.align	1
 212              		.global	USBD_FS_LangIDStrDescriptor
 213              		.syntax unified
 214              		.thumb
 215              		.thumb_func
 216              		.fpu fpv4-sp-d16
 218              	USBD_FS_LangIDStrDescriptor:
 219              	.LFB225:
3005:application-library/usb-cdc-device.c **** 
3006:application-library/usb-cdc-device.c **** /**
3007:application-library/usb-cdc-device.c ****   * @brief  Return the LangID string descriptor
3008:application-library/usb-cdc-device.c ****   * @param  speed : Current device speed
3009:application-library/usb-cdc-device.c ****   * @param  length : Pointer to data length variable
3010:application-library/usb-cdc-device.c ****   * @retval Pointer to descriptor buffer
3011:application-library/usb-cdc-device.c ****   */
3012:application-library/usb-cdc-device.c **** uint8_t * USBD_FS_LangIDStrDescriptor(USBD_SpeedTypeDef speed, uint16_t *length)
3013:application-library/usb-cdc-device.c **** {
 220              		.loc 1 3013 0
 221              		.cfi_startproc
 222              		@ args = 0, pretend = 0, frame = 0
 223              		@ frame_needed = 0, uses_anonymous_args = 0
 224              		@ link register save eliminated.
 225              	.LVL17:
3014:application-library/usb-cdc-device.c ****   UNUSED(speed);
3015:application-library/usb-cdc-device.c ****   *length = sizeof(USBD_LangIDDesc);
 226              		.loc 1 3015 0
 227 0000 0423     		movs	r3, #4
 228 0002 0B80     		strh	r3, [r1]	@ movhi
3016:application-library/usb-cdc-device.c ****   return USBD_LangIDDesc;
3017:application-library/usb-cdc-device.c **** }
 229              		.loc 1 3017 0
 230 0004 0048     		ldr	r0, .L17
 231              	.LVL18:
 232 0006 7047     		bx	lr
 233              	.L18:
 234              		.align	2
 235              	.L17:
 236 0008 00000000 		.word	.LANCHOR2
 237              		.cfi_endproc
 238              	.LFE225:
 240              		.section	.text.USBD_CDC_RegisterInterface,"ax",%progbits
 241              		.align	1
 242              		.global	USBD_CDC_RegisterInterface
 243              		.syntax unified
 244              		.thumb
 245              		.thumb_func
ARM GAS  /tmp/ccf4hwpD.s 			page 58


 246              		.fpu fpv4-sp-d16
 248              	USBD_CDC_RegisterInterface:
 249              	.LFB149:
 793:application-library/usb-cdc-device.c ****   if (fops == NULL)
 250              		.loc 1 793 0
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 0
 253              		@ frame_needed = 0, uses_anonymous_args = 0
 254              		@ link register save eliminated.
 255              	.LVL19:
 794:application-library/usb-cdc-device.c ****   {
 256              		.loc 1 794 0
 257 0000 19B1     		cbz	r1, .L21
 799:application-library/usb-cdc-device.c **** 
 258              		.loc 1 799 0
 259 0002 C0F8C012 		str	r1, [r0, #704]
 801:application-library/usb-cdc-device.c **** }
 260              		.loc 1 801 0
 261 0006 0020     		movs	r0, #0
 262              	.LVL20:
 263 0008 7047     		bx	lr
 264              	.LVL21:
 265              	.L21:
 796:application-library/usb-cdc-device.c ****   }
 266              		.loc 1 796 0
 267 000a 0320     		movs	r0, #3
 268              	.LVL22:
 802:application-library/usb-cdc-device.c **** 
 269              		.loc 1 802 0
 270 000c 7047     		bx	lr
 271              		.cfi_endproc
 272              	.LFE149:
 274              		.section	.text.USBD_CDC_SetTxBuffer,"ax",%progbits
 275              		.align	1
 276              		.global	USBD_CDC_SetTxBuffer
 277              		.syntax unified
 278              		.thumb
 279              		.thumb_func
 280              		.fpu fpv4-sp-d16
 282              	USBD_CDC_SetTxBuffer:
 283              	.LFB150:
 813:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 284              		.loc 1 813 0
 285              		.cfi_startproc
 286              		@ args = 0, pretend = 0, frame = 0
 287              		@ frame_needed = 0, uses_anonymous_args = 0
 288              		@ link register save eliminated.
 289              	.LVL23:
 814:application-library/usb-cdc-device.c **** 
 290              		.loc 1 814 0
 291 0000 D0F8BC32 		ldr	r3, [r0, #700]
 292              	.LVL24:
 816:application-library/usb-cdc-device.c ****   {
 293              		.loc 1 816 0
 294 0004 2BB1     		cbz	r3, .L24
 821:application-library/usb-cdc-device.c ****   hcdc->TxLength = length;
 295              		.loc 1 821 0
ARM GAS  /tmp/ccf4hwpD.s 			page 59


 296 0006 C3F80812 		str	r1, [r3, #520]
 822:application-library/usb-cdc-device.c **** 
 297              		.loc 1 822 0
 298 000a C3F81022 		str	r2, [r3, #528]
 824:application-library/usb-cdc-device.c **** }
 299              		.loc 1 824 0
 300 000e 0020     		movs	r0, #0
 301              	.LVL25:
 302 0010 7047     		bx	lr
 303              	.LVL26:
 304              	.L24:
 818:application-library/usb-cdc-device.c ****   }
 305              		.loc 1 818 0
 306 0012 0320     		movs	r0, #3
 307              	.LVL27:
 825:application-library/usb-cdc-device.c **** 
 308              		.loc 1 825 0
 309 0014 7047     		bx	lr
 310              		.cfi_endproc
 311              	.LFE150:
 313              		.section	.text.USBD_CDC_SetRxBuffer,"ax",%progbits
 314              		.align	1
 315              		.global	USBD_CDC_SetRxBuffer
 316              		.syntax unified
 317              		.thumb
 318              		.thumb_func
 319              		.fpu fpv4-sp-d16
 321              	USBD_CDC_SetRxBuffer:
 322              	.LFB151:
 834:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 323              		.loc 1 834 0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327              		@ link register save eliminated.
 328              	.LVL28:
 835:application-library/usb-cdc-device.c **** 
 329              		.loc 1 835 0
 330 0000 D0F8BC32 		ldr	r3, [r0, #700]
 331              	.LVL29:
 837:application-library/usb-cdc-device.c ****   {
 332              		.loc 1 837 0
 333 0004 1BB1     		cbz	r3, .L27
 842:application-library/usb-cdc-device.c **** 
 334              		.loc 1 842 0
 335 0006 C3F80412 		str	r1, [r3, #516]
 844:application-library/usb-cdc-device.c **** }
 336              		.loc 1 844 0
 337 000a 0020     		movs	r0, #0
 338              	.LVL30:
 339 000c 7047     		bx	lr
 340              	.LVL31:
 341              	.L27:
 839:application-library/usb-cdc-device.c ****   }
 342              		.loc 1 839 0
 343 000e 0320     		movs	r0, #3
 344              	.LVL32:
ARM GAS  /tmp/ccf4hwpD.s 			page 60


 845:application-library/usb-cdc-device.c **** 
 345              		.loc 1 845 0
 346 0010 7047     		bx	lr
 347              		.cfi_endproc
 348              	.LFE151:
 350              		.section	.text.CDC_Init_FS,"ax",%progbits
 351              		.align	1
 352              		.global	CDC_Init_FS
 353              		.syntax unified
 354              		.thumb
 355              		.thumb_func
 356              		.fpu fpv4-sp-d16
 358              	CDC_Init_FS:
 359              	.LFB132:
 190:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 360              		.loc 1 190 0
 361              		.cfi_startproc
 362              		@ args = 0, pretend = 0, frame = 0
 363              		@ frame_needed = 0, uses_anonymous_args = 0
 364 0000 10B5     		push	{r4, lr}
 365              	.LCFI1:
 366              		.cfi_def_cfa_offset 8
 367              		.cfi_offset 4, -8
 368              		.cfi_offset 14, -4
 193:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 369              		.loc 1 193 0
 370 0002 064C     		ldr	r4, .L30
 371 0004 0022     		movs	r2, #0
 372 0006 0649     		ldr	r1, .L30+4
 373 0008 2046     		mov	r0, r4
 374 000a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 375              	.LVL33:
 194:application-library/usb-cdc-device.c ****   return (USBD_OK);
 376              		.loc 1 194 0
 377 000e 0549     		ldr	r1, .L30+8
 378 0010 2046     		mov	r0, r4
 379 0012 FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 380              	.LVL34:
 197:application-library/usb-cdc-device.c **** 
 381              		.loc 1 197 0
 382 0016 0020     		movs	r0, #0
 383 0018 10BD     		pop	{r4, pc}
 384              	.L31:
 385 001a 00BF     		.align	2
 386              	.L30:
 387 001c 00000000 		.word	hUsbDeviceFS
 388 0020 00000000 		.word	UserTxBufferFS
 389 0024 00000000 		.word	UserRxBufferFS
 390              		.cfi_endproc
 391              	.LFE132:
 393              		.section	.text.USBD_RegisterClass,"ax",%progbits
 394              		.align	1
 395              		.global	USBD_RegisterClass
 396              		.syntax unified
 397              		.thumb
 398              		.thumb_func
 399              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccf4hwpD.s 			page 61


 401              	USBD_RegisterClass:
 402              	.LFB155:
 956:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 403              		.loc 1 956 0
 404              		.cfi_startproc
 405              		@ args = 0, pretend = 0, frame = 8
 406              		@ frame_needed = 0, uses_anonymous_args = 0
 407              	.LVL35:
 408 0000 10B5     		push	{r4, lr}
 409              	.LCFI2:
 410              		.cfi_def_cfa_offset 8
 411              		.cfi_offset 4, -8
 412              		.cfi_offset 14, -4
 413 0002 82B0     		sub	sp, sp, #8
 414              	.LCFI3:
 415              		.cfi_def_cfa_offset 16
 957:application-library/usb-cdc-device.c **** 
 416              		.loc 1 957 0
 417 0004 0023     		movs	r3, #0
 418 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
 959:application-library/usb-cdc-device.c ****   {
 419              		.loc 1 959 0
 420 000a 89B1     		cbz	r1, .L35
 421 000c 0446     		mov	r4, r0
 964:application-library/usb-cdc-device.c **** 
 422              		.loc 1 964 0
 423 000e C4F8B412 		str	r1, [r4, #692]
 967:application-library/usb-cdc-device.c ****   {
 424              		.loc 1 967 0
 425 0012 CB6A     		ldr	r3, [r1, #44]
 426 0014 23B1     		cbz	r3, .L34
 969:application-library/usb-cdc-device.c ****   }
 427              		.loc 1 969 0
 428 0016 0DF10600 		add	r0, sp, #6
 429              	.LVL36:
 430 001a 9847     		blx	r3
 431              	.LVL37:
 432 001c C4F8CC02 		str	r0, [r4, #716]
 433              	.L34:
 972:application-library/usb-cdc-device.c ****   return USBD_OK;
 434              		.loc 1 972 0
 435 0020 D4F8D032 		ldr	r3, [r4, #720]
 436 0024 0133     		adds	r3, r3, #1
 437 0026 C4F8D032 		str	r3, [r4, #720]
 973:application-library/usb-cdc-device.c **** }
 438              		.loc 1 973 0
 439 002a 0020     		movs	r0, #0
 440              	.LVL38:
 441              	.L33:
 974:application-library/usb-cdc-device.c **** 
 442              		.loc 1 974 0
 443 002c 02B0     		add	sp, sp, #8
 444              	.LCFI4:
 445              		.cfi_remember_state
 446              		.cfi_def_cfa_offset 8
 447              		@ sp needed
 448 002e 10BD     		pop	{r4, pc}
ARM GAS  /tmp/ccf4hwpD.s 			page 62


 449              	.LVL39:
 450              	.L35:
 451              	.LCFI5:
 452              		.cfi_restore_state
 961:application-library/usb-cdc-device.c ****   }
 453              		.loc 1 961 0
 454 0030 0320     		movs	r0, #3
 455              	.LVL40:
 456 0032 FBE7     		b	.L33
 457              		.cfi_endproc
 458              	.LFE155:
 460              		.section	.text.USBD_Start,"ax",%progbits
 461              		.align	1
 462              		.global	USBD_Start
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
 466              		.fpu fpv4-sp-d16
 468              	USBD_Start:
 469              	.LFB156:
 984:application-library/usb-cdc-device.c ****   /* Start the low level driver  */
 470              		.loc 1 984 0
 471              		.cfi_startproc
 472              		@ args = 0, pretend = 0, frame = 0
 473              		@ frame_needed = 0, uses_anonymous_args = 0
 474              	.LVL41:
 475 0000 08B5     		push	{r3, lr}
 476              	.LCFI6:
 477              		.cfi_def_cfa_offset 8
 478              		.cfi_offset 3, -8
 479              		.cfi_offset 14, -4
 480              	.LVL42:
 991:application-library/usb-cdc-device.c **** 
 481              		.loc 1 991 0
 482 0002 D0F8C402 		ldr	r0, [r0, #708]
 483              	.LVL43:
 484 0006 FFF7FEFF 		bl	HAL_PCD_Start
 485              	.LVL44:
 994:application-library/usb-cdc-device.c ****   {
 486              		.loc 1 994 0
 487 000a 18B1     		cbz	r0, .L39
 488 000c 0228     		cmp	r0, #2
 489 000e 03D0     		beq	.L40
1000:application-library/usb-cdc-device.c ****     break;
 490              		.loc 1 1000 0
 491 0010 0320     		movs	r0, #3
 492              	.LVL45:
1014:application-library/usb-cdc-device.c **** 
 493              		.loc 1 1014 0
 494 0012 08BD     		pop	{r3, pc}
 495              	.LVL46:
 496              	.L39:
 997:application-library/usb-cdc-device.c ****     break;
 497              		.loc 1 997 0
 498 0014 0020     		movs	r0, #0
 499              	.LVL47:
 500 0016 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccf4hwpD.s 			page 63


 501              	.LVL48:
 502              	.L40:
1003:application-library/usb-cdc-device.c ****     break;
 503              		.loc 1 1003 0
 504 0018 0120     		movs	r0, #1
 505              	.LVL49:
1004:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
 506              		.loc 1 1004 0
 507 001a 08BD     		pop	{r3, pc}
 508              		.cfi_endproc
 509              	.LFE156:
 511              		.section	.text.USBD_SetClassConfig,"ax",%progbits
 512              		.align	1
 513              		.global	USBD_SetClassConfig
 514              		.syntax unified
 515              		.thumb
 516              		.thumb_func
 517              		.fpu fpv4-sp-d16
 519              	USBD_SetClassConfig:
 520              	.LFB158:
1046:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass != NULL)
 521              		.loc 1 1046 0
 522              		.cfi_startproc
 523              		@ args = 0, pretend = 0, frame = 0
 524              		@ frame_needed = 0, uses_anonymous_args = 0
 525              	.LVL50:
 526 0000 08B5     		push	{r3, lr}
 527              	.LCFI7:
 528              		.cfi_def_cfa_offset 8
 529              		.cfi_offset 3, -8
 530              		.cfi_offset 14, -4
1047:application-library/usb-cdc-device.c ****   {
 531              		.loc 1 1047 0
 532 0002 D0F8B432 		ldr	r3, [r0, #692]
 533 0006 0BB1     		cbz	r3, .L44
1050:application-library/usb-cdc-device.c ****   }
 534              		.loc 1 1050 0
 535 0008 1B68     		ldr	r3, [r3]
 536 000a 9847     		blx	r3
 537              	.LVL51:
 538              	.L44:
 539 000c 08BD     		pop	{r3, pc}
 540              		.cfi_endproc
 541              	.LFE158:
 543              		.section	.text.USBD_ClrClassConfig,"ax",%progbits
 544              		.align	1
 545              		.global	USBD_ClrClassConfig
 546              		.syntax unified
 547              		.thumb
 548              		.thumb_func
 549              		.fpu fpv4-sp-d16
 551              	USBD_ClrClassConfig:
 552              	.LFB159:
1062:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 553              		.loc 1 1062 0
 554              		.cfi_startproc
 555              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccf4hwpD.s 			page 64


 556              		@ frame_needed = 0, uses_anonymous_args = 0
 557              	.LVL52:
 558 0000 08B5     		push	{r3, lr}
 559              	.LCFI8:
 560              		.cfi_def_cfa_offset 8
 561              		.cfi_offset 3, -8
 562              		.cfi_offset 14, -4
 563              	.LVL53:
1066:application-library/usb-cdc-device.c ****   {
 564              		.loc 1 1066 0
 565 0002 D0F8B432 		ldr	r3, [r0, #692]
 566 0006 5B68     		ldr	r3, [r3, #4]
 567 0008 9847     		blx	r3
 568              	.LVL54:
 569 000a 00B1     		cbz	r0, .L48
1068:application-library/usb-cdc-device.c ****   }
 570              		.loc 1 1068 0
 571 000c 0320     		movs	r0, #3
 572              	.L48:
 573              	.LVL55:
1072:application-library/usb-cdc-device.c **** 
 574              		.loc 1 1072 0
 575 000e 08BD     		pop	{r3, pc}
 576              		.cfi_endproc
 577              	.LFE159:
 579              		.section	.text.USBD_LL_SetSpeed,"ax",%progbits
 580              		.align	1
 581              		.global	USBD_LL_SetSpeed
 582              		.syntax unified
 583              		.thumb
 584              		.thumb_func
 585              		.fpu fpv4-sp-d16
 587              	USBD_LL_SetSpeed:
 588              	.LFB164:
1332:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_speed = speed;
 589              		.loc 1 1332 0
 590              		.cfi_startproc
 591              		@ args = 0, pretend = 0, frame = 0
 592              		@ frame_needed = 0, uses_anonymous_args = 0
 593              		@ link register save eliminated.
 594              	.LVL56:
1333:application-library/usb-cdc-device.c **** }
 595              		.loc 1 1333 0
 596 0000 0174     		strb	r1, [r0, #16]
 597 0002 7047     		bx	lr
 598              		.cfi_endproc
 599              	.LFE164:
 601              		.section	.text.USBD_LL_Suspend,"ax",%progbits
 602              		.align	1
 603              		.global	USBD_LL_Suspend
 604              		.syntax unified
 605              		.thumb
 606              		.thumb_func
 607              		.fpu fpv4-sp-d16
 609              	USBD_LL_Suspend:
 610              	.LFB165:
1344:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_old_state = p_usbd_instance->dev_state;
ARM GAS  /tmp/ccf4hwpD.s 			page 65


 611              		.loc 1 1344 0
 612              		.cfi_startproc
 613              		@ args = 0, pretend = 0, frame = 0
 614              		@ frame_needed = 0, uses_anonymous_args = 0
 615              		@ link register save eliminated.
 616              	.LVL57:
1345:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_state = USBD_STATE_SUSPENDED;
 617              		.loc 1 1345 0
 618 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 619 0004 DBB2     		uxtb	r3, r3
 620 0006 80F89D32 		strb	r3, [r0, #669]
1346:application-library/usb-cdc-device.c ****   return USBD_OK;
 621              		.loc 1 1346 0
 622 000a 0423     		movs	r3, #4
 623 000c 80F89C32 		strb	r3, [r0, #668]
1348:application-library/usb-cdc-device.c **** 
 624              		.loc 1 1348 0
 625 0010 0020     		movs	r0, #0
 626              	.LVL58:
 627 0012 7047     		bx	lr
 628              		.cfi_endproc
 629              	.LFE165:
 631              		.section	.text.USBD_LL_Resume,"ax",%progbits
 632              		.align	1
 633              		.global	USBD_LL_Resume
 634              		.syntax unified
 635              		.thumb
 636              		.thumb_func
 637              		.fpu fpv4-sp-d16
 639              	USBD_LL_Resume:
 640              	.LFB166:
1357:application-library/usb-cdc-device.c ****   if (p_usbd_instance->dev_state == USBD_STATE_SUSPENDED)
 641              		.loc 1 1357 0
 642              		.cfi_startproc
 643              		@ args = 0, pretend = 0, frame = 0
 644              		@ frame_needed = 0, uses_anonymous_args = 0
 645              		@ link register save eliminated.
 646              	.LVL59:
1358:application-library/usb-cdc-device.c ****   {
 647              		.loc 1 1358 0
 648 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 649 0004 DBB2     		uxtb	r3, r3
 650 0006 042B     		cmp	r3, #4
 651 0008 01D0     		beq	.L55
 652              	.L54:
1364:application-library/usb-cdc-device.c **** 
 653              		.loc 1 1364 0
 654 000a 0020     		movs	r0, #0
 655              	.LVL60:
 656 000c 7047     		bx	lr
 657              	.LVL61:
 658              	.L55:
1360:application-library/usb-cdc-device.c ****   }
 659              		.loc 1 1360 0
 660 000e 90F89D32 		ldrb	r3, [r0, #669]	@ zero_extendqisi2
 661 0012 DBB2     		uxtb	r3, r3
 662 0014 80F89C32 		strb	r3, [r0, #668]
ARM GAS  /tmp/ccf4hwpD.s 			page 66


 663 0018 F7E7     		b	.L54
 664              		.cfi_endproc
 665              	.LFE166:
 667              		.section	.text.USBD_LL_SOF,"ax",%progbits
 668              		.align	1
 669              		.global	USBD_LL_SOF
 670              		.syntax unified
 671              		.thumb
 672              		.thumb_func
 673              		.fpu fpv4-sp-d16
 675              	USBD_LL_SOF:
 676              	.LFB167:
1374:application-library/usb-cdc-device.c ****   /* The SOF event can be distributed for all classes that support it */
 677              		.loc 1 1374 0
 678              		.cfi_startproc
 679              		@ args = 0, pretend = 0, frame = 0
 680              		@ frame_needed = 0, uses_anonymous_args = 0
 681              	.LVL62:
 682 0000 08B5     		push	{r3, lr}
 683              	.LCFI9:
 684              		.cfi_def_cfa_offset 8
 685              		.cfi_offset 3, -8
 686              		.cfi_offset 14, -4
1376:application-library/usb-cdc-device.c ****   {
 687              		.loc 1 1376 0
 688 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 689 0006 DBB2     		uxtb	r3, r3
 690 0008 032B     		cmp	r3, #3
 691 000a 01D0     		beq	.L59
 692              	.LVL63:
 693              	.L57:
1388:application-library/usb-cdc-device.c **** 
 694              		.loc 1 1388 0
 695 000c 0020     		movs	r0, #0
 696 000e 08BD     		pop	{r3, pc}
 697              	.LVL64:
 698              	.L59:
1378:application-library/usb-cdc-device.c ****     {
 699              		.loc 1 1378 0
 700 0010 D0F8B432 		ldr	r3, [r0, #692]
 701 0014 002B     		cmp	r3, #0
 702 0016 F9D0     		beq	.L57
1380:application-library/usb-cdc-device.c ****       {
 703              		.loc 1 1380 0
 704 0018 DB69     		ldr	r3, [r3, #28]
 705 001a 002B     		cmp	r3, #0
 706 001c F6D0     		beq	.L57
1382:application-library/usb-cdc-device.c ****       }
 707              		.loc 1 1382 0
 708 001e 9847     		blx	r3
 709              	.LVL65:
 710 0020 F4E7     		b	.L57
 711              		.cfi_endproc
 712              	.LFE167:
 714              		.section	.text.USBD_LL_IsoINIncomplete,"ax",%progbits
 715              		.align	1
 716              		.global	USBD_LL_IsoINIncomplete
ARM GAS  /tmp/ccf4hwpD.s 			page 67


 717              		.syntax unified
 718              		.thumb
 719              		.thumb_func
 720              		.fpu fpv4-sp-d16
 722              	USBD_LL_IsoINIncomplete:
 723              	.LFB168:
1398:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass == NULL)
 724              		.loc 1 1398 0
 725              		.cfi_startproc
 726              		@ args = 0, pretend = 0, frame = 0
 727              		@ frame_needed = 0, uses_anonymous_args = 0
 728              	.LVL66:
1399:application-library/usb-cdc-device.c ****   {
 729              		.loc 1 1399 0
 730 0000 D0F8B422 		ldr	r2, [r0, #692]
 731 0004 62B1     		cbz	r2, .L62
1398:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass == NULL)
 732              		.loc 1 1398 0
 733 0006 08B5     		push	{r3, lr}
 734              	.LCFI10:
 735              		.cfi_def_cfa_offset 8
 736              		.cfi_offset 3, -8
 737              		.cfi_offset 14, -4
1404:application-library/usb-cdc-device.c ****   {
 738              		.loc 1 1404 0
 739 0008 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 740 000c DBB2     		uxtb	r3, r3
 741 000e 032B     		cmp	r3, #3
 742 0010 01D0     		beq	.L69
1412:application-library/usb-cdc-device.c **** }
 743              		.loc 1 1412 0
 744 0012 0020     		movs	r0, #0
 745              	.LVL67:
 746 0014 08BD     		pop	{r3, pc}
 747              	.LVL68:
 748              	.L69:
1406:application-library/usb-cdc-device.c ****     {
 749              		.loc 1 1406 0
 750 0016 136A     		ldr	r3, [r2, #32]
 751 0018 23B1     		cbz	r3, .L64
1408:application-library/usb-cdc-device.c ****     }
 752              		.loc 1 1408 0
 753 001a 9847     		blx	r3
 754              	.LVL69:
1412:application-library/usb-cdc-device.c **** }
 755              		.loc 1 1412 0
 756 001c 0020     		movs	r0, #0
 757 001e 08BD     		pop	{r3, pc}
 758              	.LVL70:
 759              	.L62:
 760              	.LCFI11:
 761              		.cfi_def_cfa_offset 0
 762              		.cfi_restore 3
 763              		.cfi_restore 14
1401:application-library/usb-cdc-device.c ****   }
 764              		.loc 1 1401 0
 765 0020 0320     		movs	r0, #3
ARM GAS  /tmp/ccf4hwpD.s 			page 68


 766              	.LVL71:
 767 0022 7047     		bx	lr
 768              	.LVL72:
 769              	.L64:
 770              	.LCFI12:
 771              		.cfi_def_cfa_offset 8
 772              		.cfi_offset 3, -8
 773              		.cfi_offset 14, -4
1412:application-library/usb-cdc-device.c **** }
 774              		.loc 1 1412 0
 775 0024 0020     		movs	r0, #0
 776              	.LVL73:
1413:application-library/usb-cdc-device.c **** 
 777              		.loc 1 1413 0
 778 0026 08BD     		pop	{r3, pc}
 779              		.cfi_endproc
 780              	.LFE168:
 782              		.section	.text.USBD_LL_IsoOUTIncomplete,"ax",%progbits
 783              		.align	1
 784              		.global	USBD_LL_IsoOUTIncomplete
 785              		.syntax unified
 786              		.thumb
 787              		.thumb_func
 788              		.fpu fpv4-sp-d16
 790              	USBD_LL_IsoOUTIncomplete:
 791              	.LFB169:
1422:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass == NULL)
 792              		.loc 1 1422 0
 793              		.cfi_startproc
 794              		@ args = 0, pretend = 0, frame = 0
 795              		@ frame_needed = 0, uses_anonymous_args = 0
 796              	.LVL74:
1423:application-library/usb-cdc-device.c ****   {
 797              		.loc 1 1423 0
 798 0000 D0F8B422 		ldr	r2, [r0, #692]
 799 0004 5AB1     		cbz	r2, .L73
1422:application-library/usb-cdc-device.c ****   if (p_usbd_instance->pClass == NULL)
 800              		.loc 1 1422 0
 801 0006 08B5     		push	{r3, lr}
 802              	.LCFI13:
 803              		.cfi_def_cfa_offset 8
 804              		.cfi_offset 3, -8
 805              		.cfi_offset 14, -4
1428:application-library/usb-cdc-device.c ****   {
 806              		.loc 1 1428 0
 807 0008 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 808 000c DBB2     		uxtb	r3, r3
 809 000e 032B     		cmp	r3, #3
 810 0010 00D0     		beq	.L76
 811              	.LVL75:
 812              	.L70:
 813 0012 08BD     		pop	{r3, pc}
 814              	.LVL76:
 815              	.L76:
1430:application-library/usb-cdc-device.c ****     {
 816              		.loc 1 1430 0
 817 0014 536A     		ldr	r3, [r2, #36]
ARM GAS  /tmp/ccf4hwpD.s 			page 69


 818 0016 002B     		cmp	r3, #0
 819 0018 FBD0     		beq	.L70
1432:application-library/usb-cdc-device.c ****     }
 820              		.loc 1 1432 0
 821 001a 9847     		blx	r3
 822              	.LVL77:
 823 001c F9E7     		b	.L70
 824              	.LVL78:
 825              	.L73:
 826              	.LCFI14:
 827              		.cfi_def_cfa_offset 0
 828              		.cfi_restore 3
 829              		.cfi_restore 14
 830 001e 7047     		bx	lr
 831              		.cfi_endproc
 832              	.LFE169:
 834              		.section	.text.USBD_LL_DevConnected,"ax",%progbits
 835              		.align	1
 836              		.global	USBD_LL_DevConnected
 837              		.syntax unified
 838              		.thumb
 839              		.thumb_func
 840              		.fpu fpv4-sp-d16
 842              	USBD_LL_DevConnected:
 843              	.LFB170:
1444:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
 844              		.loc 1 1444 0
 845              		.cfi_startproc
 846              		@ args = 0, pretend = 0, frame = 0
 847              		@ frame_needed = 0, uses_anonymous_args = 0
 848              		@ link register save eliminated.
 849              	.LVL79:
1448:application-library/usb-cdc-device.c **** 
 850              		.loc 1 1448 0
 851 0000 0020     		movs	r0, #0
 852              	.LVL80:
 853 0002 7047     		bx	lr
 854              		.cfi_endproc
 855              	.LFE170:
 857              		.section	.text.USBD_LL_DevDisconnected,"ax",%progbits
 858              		.align	1
 859              		.global	USBD_LL_DevDisconnected
 860              		.syntax unified
 861              		.thumb
 862              		.thumb_func
 863              		.fpu fpv4-sp-d16
 865              	USBD_LL_DevDisconnected:
 866              	.LFB171:
1457:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef   ret = USBD_OK;
 867              		.loc 1 1457 0
 868              		.cfi_startproc
 869              		@ args = 0, pretend = 0, frame = 0
 870              		@ frame_needed = 0, uses_anonymous_args = 0
 871              	.LVL81:
 872 0000 08B5     		push	{r3, lr}
 873              	.LCFI15:
 874              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccf4hwpD.s 			page 70


 875              		.cfi_offset 3, -8
 876              		.cfi_offset 14, -4
 877              	.LVL82:
1461:application-library/usb-cdc-device.c **** 
 878              		.loc 1 1461 0
 879 0002 0123     		movs	r3, #1
 880 0004 80F89C32 		strb	r3, [r0, #668]
1463:application-library/usb-cdc-device.c ****   {
 881              		.loc 1 1463 0
 882 0008 D0F8B432 		ldr	r3, [r0, #692]
 883 000c 33B1     		cbz	r3, .L80
1465:application-library/usb-cdc-device.c ****     {
 884              		.loc 1 1465 0
 885 000e 5B68     		ldr	r3, [r3, #4]
 886 0010 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 887 0012 9847     		blx	r3
 888              	.LVL83:
 889 0014 08B1     		cbz	r0, .L83
1467:application-library/usb-cdc-device.c ****     }
 890              		.loc 1 1467 0
 891 0016 0320     		movs	r0, #3
 892              	.LVL84:
1472:application-library/usb-cdc-device.c **** 
 893              		.loc 1 1472 0
 894 0018 08BD     		pop	{r3, pc}
 895              	.LVL85:
 896              	.L83:
 897 001a 08BD     		pop	{r3, pc}
 898              	.LVL86:
 899              	.L80:
1458:application-library/usb-cdc-device.c **** 
 900              		.loc 1 1458 0
 901 001c 0020     		movs	r0, #0
 902              	.LVL87:
 903 001e 08BD     		pop	{r3, pc}
 904              		.cfi_endproc
 905              	.LFE171:
 907              		.section	.text.USBD_CoreFindEP,"ax",%progbits
 908              		.align	1
 909              		.global	USBD_CoreFindEP
 910              		.syntax unified
 911              		.thumb
 912              		.thumb_func
 913              		.fpu fpv4-sp-d16
 915              	USBD_CoreFindEP:
 916              	.LFB172:
1481:application-library/usb-cdc-device.c ****   UNUSED(p_usbd_instance);
 917              		.loc 1 1481 0
 918              		.cfi_startproc
 919              		@ args = 0, pretend = 0, frame = 0
 920              		@ frame_needed = 0, uses_anonymous_args = 0
 921              		@ link register save eliminated.
 922              	.LVL88:
1485:application-library/usb-cdc-device.c **** 
 923              		.loc 1 1485 0
 924 0000 0020     		movs	r0, #0
 925              	.LVL89:
ARM GAS  /tmp/ccf4hwpD.s 			page 71


 926 0002 7047     		bx	lr
 927              		.cfi_endproc
 928              	.LFE172:
 930              		.section	.text.USBD_GetNextDesc,"ax",%progbits
 931              		.align	1
 932              		.global	USBD_GetNextDesc
 933              		.syntax unified
 934              		.thumb
 935              		.thumb_func
 936              		.fpu fpv4-sp-d16
 938              	USBD_GetNextDesc:
 939              	.LFB174:
1533:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pnext = (USBD_DescHeaderTypeDef *)(void *)pbuf;
 940              		.loc 1 1533 0
 941              		.cfi_startproc
 942              		@ args = 0, pretend = 0, frame = 0
 943              		@ frame_needed = 0, uses_anonymous_args = 0
 944              		@ link register save eliminated.
 945              	.LVL90:
1536:application-library/usb-cdc-device.c ****   pnext = (USBD_DescHeaderTypeDef *)(void *)(pbuf + pnext->bLength);
 946              		.loc 1 1536 0
 947 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 948 0002 0A88     		ldrh	r2, [r1]
 949 0004 1344     		add	r3, r3, r2
 950 0006 0B80     		strh	r3, [r1]	@ movhi
1537:application-library/usb-cdc-device.c ****   return (pnext);
 951              		.loc 1 1537 0
 952 0008 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 953              	.LVL91:
1539:application-library/usb-cdc-device.c **** 
 954              		.loc 1 1539 0
 955 000a 1844     		add	r0, r0, r3
 956              	.LVL92:
 957 000c 7047     		bx	lr
 958              		.cfi_endproc
 959              	.LFE174:
 961              		.section	.text.USBD_GetEpDesc,"ax",%progbits
 962              		.align	1
 963              		.global	USBD_GetEpDesc
 964              		.syntax unified
 965              		.thumb
 966              		.thumb_func
 967              		.fpu fpv4-sp-d16
 969              	USBD_GetEpDesc:
 970              	.LFB173:
1495:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 971              		.loc 1 1495 0
 972              		.cfi_startproc
 973              		@ args = 0, pretend = 0, frame = 8
 974              		@ frame_needed = 0, uses_anonymous_args = 0
 975              	.LVL93:
1501:application-library/usb-cdc-device.c ****   {
 976              		.loc 1 1501 0
 977 0000 4288     		ldrh	r2, [r0, #2]	@ unaligned
 978 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 979 0004 9A42     		cmp	r2, r3
 980 0006 18D9     		bls	.L90
ARM GAS  /tmp/ccf4hwpD.s 			page 72


1495:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 981              		.loc 1 1495 0
 982 0008 30B5     		push	{r4, r5, lr}
 983              	.LCFI16:
 984              		.cfi_def_cfa_offset 12
 985              		.cfi_offset 4, -12
 986              		.cfi_offset 5, -8
 987              		.cfi_offset 14, -4
 988 000a 83B0     		sub	sp, sp, #12
 989              	.LCFI17:
 990              		.cfi_def_cfa_offset 24
 991 000c 0D46     		mov	r5, r1
 992 000e 0446     		mov	r4, r0
1503:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
 993              		.loc 1 1503 0
 994 0010 ADF80630 		strh	r3, [sp, #6]	@ movhi
 995              	.LVL94:
 996              	.L88:
1504:application-library/usb-cdc-device.c ****     {
 997              		.loc 1 1504 0
 998 0014 6288     		ldrh	r2, [r4, #2]	@ unaligned
 999 0016 BDF80630 		ldrh	r3, [sp, #6]
 1000 001a 9A42     		cmp	r2, r3
 1001 001c 0AD9     		bls	.L96
1506:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
 1002              		.loc 1 1506 0
 1003 001e 0DF10601 		add	r1, sp, #6
 1004 0022 FFF7FEFF 		bl	USBD_GetNextDesc
 1005              	.LVL95:
1507:application-library/usb-cdc-device.c ****       {
 1006              		.loc 1 1507 0
 1007 0026 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 1008 0028 052B     		cmp	r3, #5
 1009 002a F3D1     		bne	.L88
 1010              	.LVL96:
1511:application-library/usb-cdc-device.c ****         {
 1011              		.loc 1 1511 0
 1012 002c 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 1013 002e AB42     		cmp	r3, r5
 1014 0030 F0D1     		bne	.L88
 1015 0032 00E0     		b	.L87
 1016              	.LVL97:
 1017              	.L96:
 1018 0034 0020     		movs	r0, #0
 1019              	.LVL98:
 1020              	.L87:
1524:application-library/usb-cdc-device.c **** 
 1021              		.loc 1 1524 0
 1022 0036 03B0     		add	sp, sp, #12
 1023              	.LCFI18:
 1024              		.cfi_def_cfa_offset 12
 1025              		@ sp needed
 1026 0038 30BD     		pop	{r4, r5, pc}
 1027              	.LVL99:
 1028              	.L90:
 1029              	.LCFI19:
 1030              		.cfi_def_cfa_offset 0
ARM GAS  /tmp/ccf4hwpD.s 			page 73


 1031              		.cfi_restore 4
 1032              		.cfi_restore 5
 1033              		.cfi_restore 14
1498:application-library/usb-cdc-device.c ****   uint16_t ptr;
 1034              		.loc 1 1498 0
 1035 003a 0020     		movs	r0, #0
 1036              	.LVL100:
 1037 003c 7047     		bx	lr
 1038              		.cfi_endproc
 1039              	.LFE173:
 1041              		.section	.text.USBD_CDC_GetFSCfgDesc,"ax",%progbits
 1042              		.align	1
 1043              		.global	USBD_CDC_GetFSCfgDesc
 1044              		.syntax unified
 1045              		.thumb
 1046              		.thumb_func
 1047              		.fpu fpv4-sp-d16
 1049              	USBD_CDC_GetFSCfgDesc:
 1050              	.LFB145:
 688:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 1051              		.loc 1 688 0
 1052              		.cfi_startproc
 1053              		@ args = 0, pretend = 0, frame = 0
 1054              		@ frame_needed = 0, uses_anonymous_args = 0
 1055              	.LVL101:
 1056 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1057              	.LCFI20:
 1058              		.cfi_def_cfa_offset 24
 1059              		.cfi_offset 3, -24
 1060              		.cfi_offset 4, -20
 1061              		.cfi_offset 5, -16
 1062              		.cfi_offset 6, -12
 1063              		.cfi_offset 7, -8
 1064              		.cfi_offset 14, -4
 1065 0002 0746     		mov	r7, r0
 689:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 1066              		.loc 1 689 0
 1067 0004 0F4C     		ldr	r4, .L102
 1068 0006 8221     		movs	r1, #130
 1069 0008 2046     		mov	r0, r4
 1070              	.LVL102:
 1071 000a FFF7FEFF 		bl	USBD_GetEpDesc
 1072              	.LVL103:
 1073 000e 0646     		mov	r6, r0
 1074              	.LVL104:
 690:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 1075              		.loc 1 690 0
 1076 0010 0121     		movs	r1, #1
 1077 0012 2046     		mov	r0, r4
 1078              	.LVL105:
 1079 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 1080              	.LVL106:
 1081 0018 0546     		mov	r5, r0
 1082              	.LVL107:
 691:application-library/usb-cdc-device.c **** 
 1083              		.loc 1 691 0
 1084 001a 8121     		movs	r1, #129
ARM GAS  /tmp/ccf4hwpD.s 			page 74


 1085 001c 2046     		mov	r0, r4
 1086              	.LVL108:
 1087 001e FFF7FEFF 		bl	USBD_GetEpDesc
 1088              	.LVL109:
 693:application-library/usb-cdc-device.c ****   {
 1089              		.loc 1 693 0
 1090 0022 0EB1     		cbz	r6, .L98
 695:application-library/usb-cdc-device.c ****   }
 1091              		.loc 1 695 0
 1092 0024 1023     		movs	r3, #16
 1093 0026 B371     		strb	r3, [r6, #6]
 1094              	.L98:
 698:application-library/usb-cdc-device.c ****   {
 1095              		.loc 1 698 0
 1096 0028 1DB1     		cbz	r5, .L99
 700:application-library/usb-cdc-device.c ****   }
 1097              		.loc 1 700 0
 1098 002a 4023     		movs	r3, #64
 1099 002c 2B71     		strb	r3, [r5, #4]
 1100 002e 0023     		movs	r3, #0
 1101 0030 6B71     		strb	r3, [r5, #5]
 1102              	.L99:
 703:application-library/usb-cdc-device.c ****   {
 1103              		.loc 1 703 0
 1104 0032 18B1     		cbz	r0, .L100
 705:application-library/usb-cdc-device.c ****   }
 1105              		.loc 1 705 0
 1106 0034 4023     		movs	r3, #64
 1107 0036 0371     		strb	r3, [r0, #4]
 1108 0038 0023     		movs	r3, #0
 1109 003a 4371     		strb	r3, [r0, #5]
 1110              	.L100:
 708:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 1111              		.loc 1 708 0
 1112 003c 4323     		movs	r3, #67
 1113 003e 3B80     		strh	r3, [r7]	@ movhi
 710:application-library/usb-cdc-device.c **** 
 1114              		.loc 1 710 0
 1115 0040 0048     		ldr	r0, .L102
 1116              	.LVL110:
 1117 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1118              	.LVL111:
 1119              	.L103:
 1120              		.align	2
 1121              	.L102:
 1122 0044 00000000 		.word	.LANCHOR3
 1123              		.cfi_endproc
 1124              	.LFE145:
 1126              		.section	.text.USBD_CDC_GetHSCfgDesc,"ax",%progbits
 1127              		.align	1
 1128              		.global	USBD_CDC_GetHSCfgDesc
 1129              		.syntax unified
 1130              		.thumb
 1131              		.thumb_func
 1132              		.fpu fpv4-sp-d16
 1134              	USBD_CDC_GetHSCfgDesc:
 1135              	.LFB146:
ARM GAS  /tmp/ccf4hwpD.s 			page 75


 718:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 1136              		.loc 1 718 0
 1137              		.cfi_startproc
 1138              		@ args = 0, pretend = 0, frame = 0
 1139              		@ frame_needed = 0, uses_anonymous_args = 0
 1140              	.LVL112:
 1141 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1142              	.LCFI21:
 1143              		.cfi_def_cfa_offset 24
 1144              		.cfi_offset 3, -24
 1145              		.cfi_offset 4, -20
 1146              		.cfi_offset 5, -16
 1147              		.cfi_offset 6, -12
 1148              		.cfi_offset 7, -8
 1149              		.cfi_offset 14, -4
 1150 0002 0746     		mov	r7, r0
 719:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 1151              		.loc 1 719 0
 1152 0004 0F4C     		ldr	r4, .L109
 1153 0006 8221     		movs	r1, #130
 1154 0008 2046     		mov	r0, r4
 1155              	.LVL113:
 1156 000a FFF7FEFF 		bl	USBD_GetEpDesc
 1157              	.LVL114:
 1158 000e 0646     		mov	r6, r0
 1159              	.LVL115:
 720:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 1160              		.loc 1 720 0
 1161 0010 0121     		movs	r1, #1
 1162 0012 2046     		mov	r0, r4
 1163              	.LVL116:
 1164 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 1165              	.LVL117:
 1166 0018 0546     		mov	r5, r0
 1167              	.LVL118:
 721:application-library/usb-cdc-device.c **** 
 1168              		.loc 1 721 0
 1169 001a 8121     		movs	r1, #129
 1170 001c 2046     		mov	r0, r4
 1171              	.LVL119:
 1172 001e FFF7FEFF 		bl	USBD_GetEpDesc
 1173              	.LVL120:
 723:application-library/usb-cdc-device.c ****   {
 1174              		.loc 1 723 0
 1175 0022 0EB1     		cbz	r6, .L105
 725:application-library/usb-cdc-device.c ****   }
 1176              		.loc 1 725 0
 1177 0024 1023     		movs	r3, #16
 1178 0026 B371     		strb	r3, [r6, #6]
 1179              	.L105:
 728:application-library/usb-cdc-device.c ****   {
 1180              		.loc 1 728 0
 1181 0028 1DB1     		cbz	r5, .L106
 730:application-library/usb-cdc-device.c ****   }
 1182              		.loc 1 730 0
 1183 002a 0023     		movs	r3, #0
 1184 002c 2B71     		strb	r3, [r5, #4]
ARM GAS  /tmp/ccf4hwpD.s 			page 76


 1185 002e 0223     		movs	r3, #2
 1186 0030 6B71     		strb	r3, [r5, #5]
 1187              	.L106:
 733:application-library/usb-cdc-device.c ****   {
 1188              		.loc 1 733 0
 1189 0032 18B1     		cbz	r0, .L107
 735:application-library/usb-cdc-device.c ****   }
 1190              		.loc 1 735 0
 1191 0034 0023     		movs	r3, #0
 1192 0036 0371     		strb	r3, [r0, #4]
 1193 0038 0223     		movs	r3, #2
 1194 003a 4371     		strb	r3, [r0, #5]
 1195              	.L107:
 738:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 1196              		.loc 1 738 0
 1197 003c 4323     		movs	r3, #67
 1198 003e 3B80     		strh	r3, [r7]	@ movhi
 740:application-library/usb-cdc-device.c **** 
 1199              		.loc 1 740 0
 1200 0040 0048     		ldr	r0, .L109
 1201              	.LVL121:
 1202 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1203              	.LVL122:
 1204              	.L110:
 1205              		.align	2
 1206              	.L109:
 1207 0044 00000000 		.word	.LANCHOR3
 1208              		.cfi_endproc
 1209              	.LFE146:
 1211              		.section	.text.USBD_CDC_GetOtherSpeedCfgDesc,"ax",%progbits
 1212              		.align	1
 1213              		.global	USBD_CDC_GetOtherSpeedCfgDesc
 1214              		.syntax unified
 1215              		.thumb
 1216              		.thumb_func
 1217              		.fpu fpv4-sp-d16
 1219              	USBD_CDC_GetOtherSpeedCfgDesc:
 1220              	.LFB147:
 749:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 1221              		.loc 1 749 0
 1222              		.cfi_startproc
 1223              		@ args = 0, pretend = 0, frame = 0
 1224              		@ frame_needed = 0, uses_anonymous_args = 0
 1225              	.LVL123:
 1226 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1227              	.LCFI22:
 1228              		.cfi_def_cfa_offset 24
 1229              		.cfi_offset 3, -24
 1230              		.cfi_offset 4, -20
 1231              		.cfi_offset 5, -16
 1232              		.cfi_offset 6, -12
 1233              		.cfi_offset 7, -8
 1234              		.cfi_offset 14, -4
 1235 0002 0746     		mov	r7, r0
 750:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 1236              		.loc 1 750 0
 1237 0004 0F4C     		ldr	r4, .L116
ARM GAS  /tmp/ccf4hwpD.s 			page 77


 1238 0006 8221     		movs	r1, #130
 1239 0008 2046     		mov	r0, r4
 1240              	.LVL124:
 1241 000a FFF7FEFF 		bl	USBD_GetEpDesc
 1242              	.LVL125:
 1243 000e 0646     		mov	r6, r0
 1244              	.LVL126:
 751:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 1245              		.loc 1 751 0
 1246 0010 0121     		movs	r1, #1
 1247 0012 2046     		mov	r0, r4
 1248              	.LVL127:
 1249 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 1250              	.LVL128:
 1251 0018 0546     		mov	r5, r0
 1252              	.LVL129:
 752:application-library/usb-cdc-device.c **** 
 1253              		.loc 1 752 0
 1254 001a 8121     		movs	r1, #129
 1255 001c 2046     		mov	r0, r4
 1256              	.LVL130:
 1257 001e FFF7FEFF 		bl	USBD_GetEpDesc
 1258              	.LVL131:
 754:application-library/usb-cdc-device.c ****   {
 1259              		.loc 1 754 0
 1260 0022 0EB1     		cbz	r6, .L112
 756:application-library/usb-cdc-device.c ****   }
 1261              		.loc 1 756 0
 1262 0024 1023     		movs	r3, #16
 1263 0026 B371     		strb	r3, [r6, #6]
 1264              	.L112:
 759:application-library/usb-cdc-device.c ****   {
 1265              		.loc 1 759 0
 1266 0028 1DB1     		cbz	r5, .L113
 761:application-library/usb-cdc-device.c ****   }
 1267              		.loc 1 761 0
 1268 002a 4023     		movs	r3, #64
 1269 002c 2B71     		strb	r3, [r5, #4]
 1270 002e 0023     		movs	r3, #0
 1271 0030 6B71     		strb	r3, [r5, #5]
 1272              	.L113:
 764:application-library/usb-cdc-device.c ****   {
 1273              		.loc 1 764 0
 1274 0032 18B1     		cbz	r0, .L114
 766:application-library/usb-cdc-device.c ****   }
 1275              		.loc 1 766 0
 1276 0034 4023     		movs	r3, #64
 1277 0036 0371     		strb	r3, [r0, #4]
 1278 0038 0023     		movs	r3, #0
 1279 003a 4371     		strb	r3, [r0, #5]
 1280              	.L114:
 769:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 1281              		.loc 1 769 0
 1282 003c 4323     		movs	r3, #67
 1283 003e 3B80     		strh	r3, [r7]	@ movhi
 771:application-library/usb-cdc-device.c **** 
 1284              		.loc 1 771 0
ARM GAS  /tmp/ccf4hwpD.s 			page 78


 1285 0040 0048     		ldr	r0, .L116
 1286              	.LVL132:
 1287 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1288              	.LVL133:
 1289              	.L117:
 1290              		.align	2
 1291              	.L116:
 1292 0044 00000000 		.word	.LANCHOR3
 1293              		.cfi_endproc
 1294              	.LFE147:
 1296              		.section	.text.USBD_ParseSetupRequest,"ax",%progbits
 1297              		.align	1
 1298              		.global	USBD_ParseSetupRequest
 1299              		.syntax unified
 1300              		.thumb
 1301              		.thumb_func
 1302              		.fpu fpv4-sp-d16
 1304              	USBD_ParseSetupRequest:
 1305              	.LFB185:
2277:application-library/usb-cdc-device.c ****   uint8_t *pbuff = pdata;
 1306              		.loc 1 2277 0
 1307              		.cfi_startproc
 1308              		@ args = 0, pretend = 0, frame = 0
 1309              		@ frame_needed = 0, uses_anonymous_args = 0
 1310              		@ link register save eliminated.
 1311              	.LVL134:
2280:application-library/usb-cdc-device.c **** 
 1312              		.loc 1 2280 0
 1313 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1314 0002 0370     		strb	r3, [r0]
 1315              	.LVL135:
2283:application-library/usb-cdc-device.c **** 
 1316              		.loc 1 2283 0
 1317 0004 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1318 0006 4370     		strb	r3, [r0, #1]
 1319              	.LVL136:
 1320              	.LBB8:
 1321              	.LBB9:
 1322              		.file 2 "application-library/usb-cdc-device.h"
   1:application-library/usb-cdc-device.h **** 
   2:application-library/usb-cdc-device.h **** #ifndef __USB_CDC_DEVICE_H
   3:application-library/usb-cdc-device.h **** #define __USB_CDC_DEVICE_H
   4:application-library/usb-cdc-device.h **** 
   5:application-library/usb-cdc-device.h **** /* Includes ------------------------------------------------------------------*/
   6:application-library/usb-cdc-device.h **** /* usb_device.h ---- ---- ---- ---- */
   7:application-library/usb-cdc-device.h **** #include "stm32f4xx.h"
   8:application-library/usb-cdc-device.h **** #include "stm32f4xx_hal.h"
   9:application-library/usb-cdc-device.h **** #include <stdio.h>
  10:application-library/usb-cdc-device.h **** #include <stdlib.h>
  11:application-library/usb-cdc-device.h **** #include <string.h>
  12:application-library/usb-cdc-device.h **** 
  13:application-library/usb-cdc-device.h **** 
  14:application-library/usb-cdc-device.h **** #ifndef __USBD_DEF_H
  15:application-library/usb-cdc-device.h **** #define __USBD_DEF_H
  16:application-library/usb-cdc-device.h **** 
  17:application-library/usb-cdc-device.h **** 
  18:application-library/usb-cdc-device.h **** /* usbd_def.h BEGIN ---- ---- ---- ---- */
ARM GAS  /tmp/ccf4hwpD.s 			page 79


  19:application-library/usb-cdc-device.h **** #ifndef NULL
  20:application-library/usb-cdc-device.h **** #define NULL                                            0U
  21:application-library/usb-cdc-device.h **** #endif /* NULL */
  22:application-library/usb-cdc-device.h **** 
  23:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_NUM_INTERFACES
  24:application-library/usb-cdc-device.h **** #define USBD_MAX_NUM_INTERFACES                         1U
  25:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  26:application-library/usb-cdc-device.h **** 
  27:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_NUM_CONFIGURATION
  28:application-library/usb-cdc-device.h **** #define USBD_MAX_NUM_CONFIGURATION                      1U
  29:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  30:application-library/usb-cdc-device.h **** 
  31:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_CLASS_ENDPOINTS
  32:application-library/usb-cdc-device.h **** #define USBD_MAX_CLASS_ENDPOINTS                       5U
  33:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_CLASS_ENDPOINTS */
  34:application-library/usb-cdc-device.h **** 
  35:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_CLASS_INTERFACES
  36:application-library/usb-cdc-device.h **** #define USBD_MAX_CLASS_INTERFACES                      5U
  37:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_CLASS_INTERFACES */
  38:application-library/usb-cdc-device.h **** 
  39:application-library/usb-cdc-device.h **** #ifndef USBD_LPM_ENABLED
  40:application-library/usb-cdc-device.h **** #define USBD_LPM_ENABLED                                0U
  41:application-library/usb-cdc-device.h **** #endif /* USBD_LPM_ENABLED */
  42:application-library/usb-cdc-device.h **** 
  43:application-library/usb-cdc-device.h **** #ifndef USBD_SELF_POWERED
  44:application-library/usb-cdc-device.h **** #define USBD_SELF_POWERED                               1U
  45:application-library/usb-cdc-device.h **** #endif /*USBD_SELF_POWERED */
  46:application-library/usb-cdc-device.h **** 
  47:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_POWER
  48:application-library/usb-cdc-device.h **** #define USBD_MAX_POWER                                  0x32U /* 100 mA */
  49:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_POWER */
  50:application-library/usb-cdc-device.h **** 
  51:application-library/usb-cdc-device.h **** #ifndef USBD_SUPPORT_USER_STRING_DESC
  52:application-library/usb-cdc-device.h **** #define USBD_SUPPORT_USER_STRING_DESC                   0U
  53:application-library/usb-cdc-device.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC */
  54:application-library/usb-cdc-device.h **** 
  55:application-library/usb-cdc-device.h **** #ifndef USBD_CLASS_USER_STRING_DESC
  56:application-library/usb-cdc-device.h **** #define USBD_CLASS_USER_STRING_DESC                     0U
  57:application-library/usb-cdc-device.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
  58:application-library/usb-cdc-device.h **** 
  59:application-library/usb-cdc-device.h **** #define  USB_LEN_DEV_QUALIFIER_DESC                     0x0AU
  60:application-library/usb-cdc-device.h **** #define  USB_LEN_DEV_DESC                               0x12U
  61:application-library/usb-cdc-device.h **** #define  USB_LEN_CFG_DESC                               0x09U
  62:application-library/usb-cdc-device.h **** #define  USB_LEN_IF_DESC                                0x09U
  63:application-library/usb-cdc-device.h **** #define  USB_LEN_EP_DESC                                0x07U
  64:application-library/usb-cdc-device.h **** #define  USB_LEN_OTG_DESC                               0x03U
  65:application-library/usb-cdc-device.h **** #define  USB_LEN_LANGID_STR_DESC                        0x04U
  66:application-library/usb-cdc-device.h **** #define  USB_LEN_OTHER_SPEED_DESC_SIZ                   0x09U
  67:application-library/usb-cdc-device.h **** 
  68:application-library/usb-cdc-device.h **** #define  USBD_IDX_LANGID_STR                            0x00U
  69:application-library/usb-cdc-device.h **** #define  USBD_IDX_MFC_STR                               0x01U
  70:application-library/usb-cdc-device.h **** #define  USBD_IDX_PRODUCT_STR                           0x02U
  71:application-library/usb-cdc-device.h **** #define  USBD_IDX_SERIAL_STR                            0x03U
  72:application-library/usb-cdc-device.h **** #define  USBD_IDX_CONFIG_STR                            0x04U
  73:application-library/usb-cdc-device.h **** #define  USBD_IDX_INTERFACE_STR                         0x05U
  74:application-library/usb-cdc-device.h **** 
  75:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_STANDARD                          0x00U
ARM GAS  /tmp/ccf4hwpD.s 			page 80


  76:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_CLASS                             0x20U
  77:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_VENDOR                            0x40U
  78:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_MASK                              0x60U
  79:application-library/usb-cdc-device.h **** 
  80:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_DEVICE                       0x00U
  81:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_INTERFACE                    0x01U
  82:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_ENDPOINT                     0x02U
  83:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_MASK                         0x03U
  84:application-library/usb-cdc-device.h **** 
  85:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_STATUS                             0x00U
  86:application-library/usb-cdc-device.h **** #define  USB_REQ_CLEAR_FEATURE                          0x01U
  87:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_FEATURE                            0x03U
  88:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_ADDRESS                            0x05U
  89:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_DESCRIPTOR                         0x06U
  90:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_DESCRIPTOR                         0x07U
  91:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_CONFIGURATION                      0x08U
  92:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_CONFIGURATION                      0x09U
  93:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_INTERFACE                          0x0AU
  94:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_INTERFACE                          0x0BU
  95:application-library/usb-cdc-device.h **** #define  USB_REQ_SYNCH_FRAME                            0x0CU
  96:application-library/usb-cdc-device.h **** 
  97:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_DEVICE                           0x01U
  98:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_CONFIGURATION                    0x02U
  99:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_STRING                           0x03U
 100:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_INTERFACE                        0x04U
 101:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_ENDPOINT                         0x05U
 102:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_DEVICE_QUALIFIER                 0x06U
 103:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION        0x07U
 104:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_IAD                              0x0BU
 105:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_BOS                              0x0FU
 106:application-library/usb-cdc-device.h **** 
 107:application-library/usb-cdc-device.h **** #define USB_CONFIG_REMOTE_WAKEUP                        0x02U
 108:application-library/usb-cdc-device.h **** #define USB_CONFIG_SELF_POWERED                         0x01U
 109:application-library/usb-cdc-device.h **** 
 110:application-library/usb-cdc-device.h **** #define USB_FEATURE_EP_HALT                             0x00U
 111:application-library/usb-cdc-device.h **** #define USB_FEATURE_REMOTE_WAKEUP                       0x01U
 112:application-library/usb-cdc-device.h **** #define USB_FEATURE_TEST_MODE                           0x02U
 113:application-library/usb-cdc-device.h **** 
 114:application-library/usb-cdc-device.h **** #define USB_DEVICE_CAPABITY_TYPE                        0x10U
 115:application-library/usb-cdc-device.h **** 
 116:application-library/usb-cdc-device.h **** #define USB_CONF_DESC_SIZE                              0x09U
 117:application-library/usb-cdc-device.h **** #define USB_IF_DESC_SIZE                                0x09U
 118:application-library/usb-cdc-device.h **** #define USB_EP_DESC_SIZE                                0x07U
 119:application-library/usb-cdc-device.h **** #define USB_IAD_DESC_SIZE                               0x08U
 120:application-library/usb-cdc-device.h **** 
 121:application-library/usb-cdc-device.h **** #define USB_HS_MAX_PACKET_SIZE                          512U
 122:application-library/usb-cdc-device.h **** #define USB_FS_MAX_PACKET_SIZE                          64U
 123:application-library/usb-cdc-device.h **** #define USB_MAX_EP0_SIZE                                64U
 124:application-library/usb-cdc-device.h **** 
 125:application-library/usb-cdc-device.h **** /*  Device Status */
 126:application-library/usb-cdc-device.h **** #define USBD_STATE_DEFAULT                              0x01U
 127:application-library/usb-cdc-device.h **** #define USBD_STATE_ADDRESSED                            0x02U
 128:application-library/usb-cdc-device.h **** #define USBD_STATE_CONFIGURED                           0x03U
 129:application-library/usb-cdc-device.h **** #define USBD_STATE_SUSPENDED                            0x04U
 130:application-library/usb-cdc-device.h **** 
 131:application-library/usb-cdc-device.h **** 
 132:application-library/usb-cdc-device.h **** /*  EP0 State */
ARM GAS  /tmp/ccf4hwpD.s 			page 81


 133:application-library/usb-cdc-device.h **** #define USBD_EP0_IDLE                                   0x00U
 134:application-library/usb-cdc-device.h **** #define USBD_EP0_SETUP                                  0x01U
 135:application-library/usb-cdc-device.h **** #define USBD_EP0_DATA_IN                                0x02U
 136:application-library/usb-cdc-device.h **** #define USBD_EP0_DATA_OUT                               0x03U
 137:application-library/usb-cdc-device.h **** #define USBD_EP0_STATUS_IN                              0x04U
 138:application-library/usb-cdc-device.h **** #define USBD_EP0_STATUS_OUT                             0x05U
 139:application-library/usb-cdc-device.h **** #define USBD_EP0_STALL                                  0x06U
 140:application-library/usb-cdc-device.h **** 
 141:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_CTRL                               0x00U
 142:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_ISOC                               0x01U
 143:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_BULK                               0x02U
 144:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_INTR                               0x03U
 145:application-library/usb-cdc-device.h **** 
 146:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 147:application-library/usb-cdc-device.h **** #define USBD_EP_IN                                      0x80U
 148:application-library/usb-cdc-device.h **** #define USBD_EP_OUT                                     0x00U
 149:application-library/usb-cdc-device.h **** #define USBD_FUNC_DESCRIPTOR_TYPE                       0x24U
 150:application-library/usb-cdc-device.h **** #define USBD_DESC_SUBTYPE_ACM                           0x0FU
 151:application-library/usb-cdc-device.h **** #define USBD_DESC_ECM_BCD_LOW                           0x00U
 152:application-library/usb-cdc-device.h **** #define USBD_DESC_ECM_BCD_HIGH                          0x10U
 153:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
 154:application-library/usb-cdc-device.h **** 
 155:application-library/usb-cdc-device.h **** typedef  struct  usb_setup_req
 156:application-library/usb-cdc-device.h **** {
 157:application-library/usb-cdc-device.h ****   uint8_t   bmRequest;
 158:application-library/usb-cdc-device.h ****   uint8_t   bRequest;
 159:application-library/usb-cdc-device.h ****   uint16_t  wValue;
 160:application-library/usb-cdc-device.h ****   uint16_t  wIndex;
 161:application-library/usb-cdc-device.h ****   uint16_t  wLength;
 162:application-library/usb-cdc-device.h **** } USBD_SetupReqTypedef;
 163:application-library/usb-cdc-device.h **** 
 164:application-library/usb-cdc-device.h **** typedef struct
 165:application-library/usb-cdc-device.h **** {
 166:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 167:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 168:application-library/usb-cdc-device.h ****   uint16_t  wTotalLength;
 169:application-library/usb-cdc-device.h ****   uint8_t   bNumInterfaces;
 170:application-library/usb-cdc-device.h ****   uint8_t   bConfigurationValue;
 171:application-library/usb-cdc-device.h ****   uint8_t   iConfiguration;
 172:application-library/usb-cdc-device.h ****   uint8_t   bmAttributes;
 173:application-library/usb-cdc-device.h ****   uint8_t   bMaxPower;
 174:application-library/usb-cdc-device.h **** } __PACKED USBD_ConfigDescTypeDef;
 175:application-library/usb-cdc-device.h **** 
 176:application-library/usb-cdc-device.h **** typedef struct
 177:application-library/usb-cdc-device.h **** {
 178:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 179:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 180:application-library/usb-cdc-device.h ****   uint16_t  wTotalLength;
 181:application-library/usb-cdc-device.h ****   uint8_t   bNumDeviceCaps;
 182:application-library/usb-cdc-device.h **** } USBD_BosDescTypeDef;
 183:application-library/usb-cdc-device.h **** 
 184:application-library/usb-cdc-device.h **** typedef struct
 185:application-library/usb-cdc-device.h **** {
 186:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 187:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 188:application-library/usb-cdc-device.h ****   uint8_t   bEndpointAddress;
 189:application-library/usb-cdc-device.h ****   uint8_t   bmAttributes;
ARM GAS  /tmp/ccf4hwpD.s 			page 82


 190:application-library/usb-cdc-device.h ****   uint16_t  wMaxPacketSize;
 191:application-library/usb-cdc-device.h ****   uint8_t   bInterval;
 192:application-library/usb-cdc-device.h **** } __PACKED USBD_EpDescTypeDef;
 193:application-library/usb-cdc-device.h **** 
 194:application-library/usb-cdc-device.h **** typedef  struct
 195:application-library/usb-cdc-device.h **** {
 196:application-library/usb-cdc-device.h ****   uint8_t  bLength;
 197:application-library/usb-cdc-device.h ****   uint8_t  bDescriptorType;
 198:application-library/usb-cdc-device.h ****   uint8_t  bDescriptorSubType;
 199:application-library/usb-cdc-device.h **** } USBD_DescHeaderTypeDef;
 200:application-library/usb-cdc-device.h **** 
 201:application-library/usb-cdc-device.h **** struct _USBD_Handle_t;
 202:application-library/usb-cdc-device.h **** 
 203:application-library/usb-cdc-device.h **** typedef struct _Device_cb
 204:application-library/usb-cdc-device.h **** {
 205:application-library/usb-cdc-device.h ****   uint8_t (*Init)(struct _USBD_Handle_t *pdev, uint8_t cfgidx);
 206:application-library/usb-cdc-device.h ****   uint8_t (*DeInit)(struct _USBD_Handle_t *pdev, uint8_t cfgidx);
 207:application-library/usb-cdc-device.h ****   /* Control Endpoints*/
 208:application-library/usb-cdc-device.h ****   uint8_t (*Setup)(struct _USBD_Handle_t *pdev, USBD_SetupReqTypedef  *req);
 209:application-library/usb-cdc-device.h ****   uint8_t (*EP0_TxSent)(struct _USBD_Handle_t *pdev);
 210:application-library/usb-cdc-device.h ****   uint8_t (*EP0_RxReady)(struct _USBD_Handle_t *pdev);
 211:application-library/usb-cdc-device.h ****   /* Class Specific Endpoints*/
 212:application-library/usb-cdc-device.h ****   uint8_t (*DataIn)(struct _USBD_Handle_t *pdev, uint8_t epnum);
 213:application-library/usb-cdc-device.h ****   uint8_t (*DataOut)(struct _USBD_Handle_t *pdev, uint8_t epnum);
 214:application-library/usb-cdc-device.h ****   uint8_t (*SOF)(struct _USBD_Handle_t *pdev);
 215:application-library/usb-cdc-device.h ****   uint8_t (*IsoINIncomplete)(struct _USBD_Handle_t *pdev, uint8_t epnum);
 216:application-library/usb-cdc-device.h ****   uint8_t (*IsoOUTIncomplete)(struct _USBD_Handle_t *pdev, uint8_t epnum);
 217:application-library/usb-cdc-device.h **** 
 218:application-library/usb-cdc-device.h ****   uint8_t  *(*GetHSConfigDescriptor)(uint16_t *length);
 219:application-library/usb-cdc-device.h ****   uint8_t  *(*GetFSConfigDescriptor)(uint16_t *length);
 220:application-library/usb-cdc-device.h ****   uint8_t  *(*GetOtherSpeedConfigDescriptor)(uint16_t *length);
 221:application-library/usb-cdc-device.h ****   uint8_t  *(*GetDeviceQualifierDescriptor)(uint16_t *length);
 222:application-library/usb-cdc-device.h **** #if (USBD_SUPPORT_USER_STRING_DESC == 1U)
 223:application-library/usb-cdc-device.h ****   uint8_t  *(*GetUsrStrDescriptor)(struct _USBD_Handle_t *pdev, uint8_t index,  uint16_t *length);
 224:application-library/usb-cdc-device.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC  */
 225:application-library/usb-cdc-device.h **** 
 226:application-library/usb-cdc-device.h **** } USBD_ClassTypeDef;
 227:application-library/usb-cdc-device.h **** 
 228:application-library/usb-cdc-device.h **** /* USB Device Speed */
 229:application-library/usb-cdc-device.h **** typedef enum
 230:application-library/usb-cdc-device.h **** {
 231:application-library/usb-cdc-device.h ****   USBD_SPEED_HIGH  = 0U,
 232:application-library/usb-cdc-device.h ****   USBD_SPEED_FULL  = 1U,
 233:application-library/usb-cdc-device.h ****   USBD_SPEED_LOW   = 2U,
 234:application-library/usb-cdc-device.h **** } USBD_SpeedTypeDef;
 235:application-library/usb-cdc-device.h **** 
 236:application-library/usb-cdc-device.h **** /* USB Device status */
 237:application-library/usb-cdc-device.h **** typedef enum
 238:application-library/usb-cdc-device.h **** {
 239:application-library/usb-cdc-device.h ****   USBD_OK = 0U,
 240:application-library/usb-cdc-device.h ****   USBD_BUSY,
 241:application-library/usb-cdc-device.h ****   USBD_EMEM,
 242:application-library/usb-cdc-device.h ****   USBD_FAIL,
 243:application-library/usb-cdc-device.h **** } USBD_StatusTypeDef;
 244:application-library/usb-cdc-device.h **** 
 245:application-library/usb-cdc-device.h **** /* USB Device descriptors structure */
 246:application-library/usb-cdc-device.h **** typedef struct
ARM GAS  /tmp/ccf4hwpD.s 			page 83


 247:application-library/usb-cdc-device.h **** {
 248:application-library/usb-cdc-device.h ****   uint8_t *(*GetDeviceDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 249:application-library/usb-cdc-device.h ****   uint8_t *(*GetLangIDStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 250:application-library/usb-cdc-device.h ****   uint8_t *(*GetManufacturerStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 251:application-library/usb-cdc-device.h ****   uint8_t *(*GetProductStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 252:application-library/usb-cdc-device.h ****   uint8_t *(*GetSerialStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 253:application-library/usb-cdc-device.h ****   uint8_t *(*GetConfigurationStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 254:application-library/usb-cdc-device.h ****   uint8_t *(*GetInterfaceStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 255:application-library/usb-cdc-device.h **** #if (USBD_CLASS_USER_STRING_DESC == 1)
 256:application-library/usb-cdc-device.h ****   uint8_t *(*GetUserStrDescriptor)(USBD_SpeedTypeDef speed, uint8_t idx, uint16_t *length);
 257:application-library/usb-cdc-device.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
 258:application-library/usb-cdc-device.h **** #if ((USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1))
 259:application-library/usb-cdc-device.h ****   uint8_t *(*GetBOSDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 260:application-library/usb-cdc-device.h **** #endif /* (USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1) */
 261:application-library/usb-cdc-device.h **** } USBD_DescriptorsTypeDef;
 262:application-library/usb-cdc-device.h **** 
 263:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 264:application-library/usb-cdc-device.h **** typedef struct
 265:application-library/usb-cdc-device.h **** {
 266:application-library/usb-cdc-device.h ****   uint32_t status;
 267:application-library/usb-cdc-device.h ****   uint32_t total_length;
 268:application-library/usb-cdc-device.h ****   uint32_t rem_length;
 269:application-library/usb-cdc-device.h ****   uint32_t maxpacket;
 270:application-library/usb-cdc-device.h ****   uint16_t is_used;
 271:application-library/usb-cdc-device.h ****   uint16_t bInterval;
 272:application-library/usb-cdc-device.h **** } USBD_EndpointTypeDef;
 273:application-library/usb-cdc-device.h **** 
 274:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 275:application-library/usb-cdc-device.h **** typedef enum
 276:application-library/usb-cdc-device.h **** {
 277:application-library/usb-cdc-device.h ****   CLASS_TYPE_NONE    = 0,
 278:application-library/usb-cdc-device.h ****   CLASS_TYPE_HID     = 1,
 279:application-library/usb-cdc-device.h ****   CLASS_TYPE_CDC     = 2,
 280:application-library/usb-cdc-device.h ****   CLASS_TYPE_MSC     = 3,
 281:application-library/usb-cdc-device.h ****   CLASS_TYPE_DFU     = 4,
 282:application-library/usb-cdc-device.h ****   CLASS_TYPE_CHID    = 5,
 283:application-library/usb-cdc-device.h ****   CLASS_TYPE_AUDIO   = 6,
 284:application-library/usb-cdc-device.h ****   CLASS_TYPE_ECM     = 7,
 285:application-library/usb-cdc-device.h ****   CLASS_TYPE_RNDIS   = 8,
 286:application-library/usb-cdc-device.h ****   CLASS_TYPE_MTP     = 9,
 287:application-library/usb-cdc-device.h ****   CLASS_TYPE_VIDEO   = 10,
 288:application-library/usb-cdc-device.h ****   CLASS_TYPE_PRINTER = 11,
 289:application-library/usb-cdc-device.h ****   CLASS_TYPE_CCID    = 12,
 290:application-library/usb-cdc-device.h **** } USBD_CompositeClassTypeDef;
 291:application-library/usb-cdc-device.h **** 
 292:application-library/usb-cdc-device.h **** 
 293:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 294:application-library/usb-cdc-device.h **** typedef struct
 295:application-library/usb-cdc-device.h **** {
 296:application-library/usb-cdc-device.h ****   uint8_t                     add;
 297:application-library/usb-cdc-device.h ****   uint8_t                     type;
 298:application-library/usb-cdc-device.h ****   uint8_t                     size;
 299:application-library/usb-cdc-device.h ****   uint8_t                     is_used;
 300:application-library/usb-cdc-device.h **** } USBD_EPTypeDef;
 301:application-library/usb-cdc-device.h **** 
 302:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 303:application-library/usb-cdc-device.h **** typedef struct
ARM GAS  /tmp/ccf4hwpD.s 			page 84


 304:application-library/usb-cdc-device.h **** {
 305:application-library/usb-cdc-device.h ****   USBD_CompositeClassTypeDef   ClassType;
 306:application-library/usb-cdc-device.h ****   uint32_t                     ClassId;
 307:application-library/usb-cdc-device.h ****   uint32_t                     Active;
 308:application-library/usb-cdc-device.h ****   uint32_t                     NumEps;
 309:application-library/usb-cdc-device.h ****   USBD_EPTypeDef               Eps[USBD_MAX_CLASS_ENDPOINTS];
 310:application-library/usb-cdc-device.h ****   uint8_t                      *EpAdd;
 311:application-library/usb-cdc-device.h ****   uint32_t                     NumIf;
 312:application-library/usb-cdc-device.h ****   uint8_t                      Ifs[USBD_MAX_CLASS_INTERFACES];
 313:application-library/usb-cdc-device.h ****   uint32_t                     CurrPcktSze;
 314:application-library/usb-cdc-device.h **** } USBD_CompositeElementTypeDef;
 315:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
 316:application-library/usb-cdc-device.h **** 
 317:application-library/usb-cdc-device.h **** 
 318:application-library/usb-cdc-device.h **** 
 319:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 320:application-library/usb-cdc-device.h **** typedef struct _USBD_Handle_t
 321:application-library/usb-cdc-device.h **** {
 322:application-library/usb-cdc-device.h ****   uint8_t                 id;                   /* DEVICE_FS or DEVICE_HS */
 323:application-library/usb-cdc-device.h ****   uint32_t                dev_config;
 324:application-library/usb-cdc-device.h ****   uint32_t                dev_default_config;
 325:application-library/usb-cdc-device.h ****   uint32_t                dev_config_status;
 326:application-library/usb-cdc-device.h ****   USBD_SpeedTypeDef       dev_speed;
 327:application-library/usb-cdc-device.h ****   USBD_EndpointTypeDef    ep_in[16];
 328:application-library/usb-cdc-device.h ****   USBD_EndpointTypeDef    ep_out[16];
 329:application-library/usb-cdc-device.h ****   __IO uint32_t           ep0_state;
 330:application-library/usb-cdc-device.h ****   uint32_t                ep0_data_len;
 331:application-library/usb-cdc-device.h ****   __IO uint8_t            dev_state;
 332:application-library/usb-cdc-device.h ****   __IO uint8_t            dev_old_state;
 333:application-library/usb-cdc-device.h ****   uint8_t                 dev_address;
 334:application-library/usb-cdc-device.h ****   uint8_t                 dev_connection_status;
 335:application-library/usb-cdc-device.h ****   uint32_t                dev_remote_wakeup;
 336:application-library/usb-cdc-device.h ****   uint8_t                 ConfIdx;
 337:application-library/usb-cdc-device.h **** 
 338:application-library/usb-cdc-device.h ****   USBD_SetupReqTypedef    request;
 339:application-library/usb-cdc-device.h ****   USBD_DescriptorsTypeDef *pDesc;
 340:application-library/usb-cdc-device.h ****   USBD_ClassTypeDef       *pClass;          /* &USBD_CDC */
 341:application-library/usb-cdc-device.h ****   void                    *pClassData;
 342:application-library/usb-cdc-device.h ****   void                    *pClassDataCmsit;
 343:application-library/usb-cdc-device.h ****   void                    *pUserData;
 344:application-library/usb-cdc-device.h ****   void                    *pData;
 345:application-library/usb-cdc-device.h ****   void                    *pBosDesc;
 346:application-library/usb-cdc-device.h ****   void                    *pConfDesc;
 347:application-library/usb-cdc-device.h ****   uint32_t                NumClasses;
 348:application-library/usb-cdc-device.h **** } USBD_Handle_t;
 349:application-library/usb-cdc-device.h **** 
 350:application-library/usb-cdc-device.h **** /* USB Device endpoint direction */
 351:application-library/usb-cdc-device.h **** typedef enum
 352:application-library/usb-cdc-device.h **** {
 353:application-library/usb-cdc-device.h ****   OUT   = 0x00,
 354:application-library/usb-cdc-device.h ****   IN    = 0x80,
 355:application-library/usb-cdc-device.h **** } USBD_EPDirectionTypeDef;
 356:application-library/usb-cdc-device.h **** 
 357:application-library/usb-cdc-device.h **** typedef enum
 358:application-library/usb-cdc-device.h **** {
 359:application-library/usb-cdc-device.h ****   NETWORK_CONNECTION = 0x00,
 360:application-library/usb-cdc-device.h ****   RESPONSE_AVAILABLE = 0x01,
ARM GAS  /tmp/ccf4hwpD.s 			page 85


 361:application-library/usb-cdc-device.h ****   CONNECTION_SPEED_CHANGE = 0x2A
 362:application-library/usb-cdc-device.h **** } USBD_CDC_NotifCodeTypeDef;
 363:application-library/usb-cdc-device.h **** 
 364:application-library/usb-cdc-device.h **** 
 365:application-library/usb-cdc-device.h **** __STATIC_INLINE uint16_t SWAPBYTE(uint8_t *addr)
 366:application-library/usb-cdc-device.h **** {
 367:application-library/usb-cdc-device.h ****   uint16_t _SwapVal, _Byte1, _Byte2;
 368:application-library/usb-cdc-device.h ****   uint8_t *_pbuff = addr;
 369:application-library/usb-cdc-device.h **** 
 370:application-library/usb-cdc-device.h ****   _Byte1 = *(uint8_t *)_pbuff;
 1323              		.loc 2 370 0
 1324 0008 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1325              	.LVL137:
 371:application-library/usb-cdc-device.h ****   _pbuff++;
 372:application-library/usb-cdc-device.h ****   _Byte2 = *(uint8_t *)_pbuff;
 1326              		.loc 2 372 0
 1327 000a CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 1328              	.LVL138:
 373:application-library/usb-cdc-device.h **** 
 374:application-library/usb-cdc-device.h ****   _SwapVal = (_Byte2 << 8) | _Byte1;
 1329              		.loc 2 374 0
 1330 000c 43EA0223 		orr	r3, r3, r2, lsl #8
 1331              	.LVL139:
 1332              	.LBE9:
 1333              	.LBE8:
2286:application-library/usb-cdc-device.c **** 
 1334              		.loc 1 2286 0
 1335 0010 4380     		strh	r3, [r0, #2]	@ movhi
 1336              	.LVL140:
 1337              	.LBB10:
 1338              	.LBB11:
 370:application-library/usb-cdc-device.h ****   _pbuff++;
 1339              		.loc 2 370 0
 1340 0012 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 1341              	.LVL141:
 372:application-library/usb-cdc-device.h **** 
 1342              		.loc 2 372 0
 1343 0014 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 1344              	.LVL142:
 1345              		.loc 2 374 0
 1346 0016 43EA0223 		orr	r3, r3, r2, lsl #8
 1347              	.LVL143:
 1348              	.LBE11:
 1349              	.LBE10:
2290:application-library/usb-cdc-device.c **** 
 1350              		.loc 1 2290 0
 1351 001a 8380     		strh	r3, [r0, #4]	@ movhi
 1352              	.LVL144:
 1353              	.LBB12:
 1354              	.LBB13:
 370:application-library/usb-cdc-device.h ****   _pbuff++;
 1355              		.loc 2 370 0
 1356 001c 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 1357              	.LVL145:
 372:application-library/usb-cdc-device.h **** 
 1358              		.loc 2 372 0
 1359 001e CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
ARM GAS  /tmp/ccf4hwpD.s 			page 86


 1360              	.LVL146:
 1361              		.loc 2 374 0
 1362 0020 43EA0223 		orr	r3, r3, r2, lsl #8
 1363              	.LVL147:
 1364              	.LBE13:
 1365              	.LBE12:
2294:application-library/usb-cdc-device.c **** }
 1366              		.loc 1 2294 0
 1367 0024 C380     		strh	r3, [r0, #6]	@ movhi
 1368              	.LVL148:
 1369 0026 7047     		bx	lr
 1370              		.cfi_endproc
 1371              	.LFE185:
 1373              		.section	.text.USBD_GetLen,"ax",%progbits
 1374              		.align	1
 1375              		.global	USBD_GetLen
 1376              		.syntax unified
 1377              		.thumb
 1378              		.thumb_func
 1379              		.fpu fpv4-sp-d16
 1381              	USBD_GetLen:
 1382              	.LFB188:
2357:application-library/usb-cdc-device.c ****   uint8_t  len = 0U;
 1383              		.loc 1 2357 0
 1384              		.cfi_startproc
 1385              		@ args = 0, pretend = 0, frame = 0
 1386              		@ frame_needed = 0, uses_anonymous_args = 0
 1387              		@ link register save eliminated.
 1388              	.LVL149:
2358:application-library/usb-cdc-device.c ****   uint8_t *pbuff = buf;
 1389              		.loc 1 2358 0
 1390 0000 0023     		movs	r3, #0
2361:application-library/usb-cdc-device.c ****   {
 1391              		.loc 1 2361 0
 1392 0002 02E0     		b	.L120
 1393              	.LVL150:
 1394              	.L121:
2363:application-library/usb-cdc-device.c ****     pbuff++;
 1395              		.loc 1 2363 0
 1396 0004 0133     		adds	r3, r3, #1
 1397              	.LVL151:
 1398 0006 DBB2     		uxtb	r3, r3
 1399              	.LVL152:
2364:application-library/usb-cdc-device.c ****   }
 1400              		.loc 1 2364 0
 1401 0008 0130     		adds	r0, r0, #1
 1402              	.LVL153:
 1403              	.L120:
2361:application-library/usb-cdc-device.c ****   {
 1404              		.loc 1 2361 0
 1405 000a 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 1406 000c 002A     		cmp	r2, #0
 1407 000e F9D1     		bne	.L121
2368:application-library/usb-cdc-device.c **** 
 1408              		.loc 1 2368 0
 1409 0010 1846     		mov	r0, r3
 1410              	.LVL154:
ARM GAS  /tmp/ccf4hwpD.s 			page 87


 1411 0012 7047     		bx	lr
 1412              		.cfi_endproc
 1413              	.LFE188:
 1415              		.section	.text.USBD_GetString,"ax",%progbits
 1416              		.align	1
 1417              		.global	USBD_GetString
 1418              		.syntax unified
 1419              		.thumb
 1420              		.thumb_func
 1421              		.fpu fpv4-sp-d16
 1423              	USBD_GetString:
 1424              	.LFB187:
2322:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 1425              		.loc 1 2322 0
 1426              		.cfi_startproc
 1427              		@ args = 0, pretend = 0, frame = 0
 1428              		@ frame_needed = 0, uses_anonymous_args = 0
 1429              	.LVL155:
2326:application-library/usb-cdc-device.c ****   {
 1430              		.loc 1 2326 0
 1431 0000 C8B1     		cbz	r0, .L127
2322:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 1432              		.loc 1 2322 0
 1433 0002 70B5     		push	{r4, r5, r6, lr}
 1434              	.LCFI23:
 1435              		.cfi_def_cfa_offset 16
 1436              		.cfi_offset 4, -16
 1437              		.cfi_offset 5, -12
 1438              		.cfi_offset 6, -8
 1439              		.cfi_offset 14, -4
 1440 0004 0D46     		mov	r5, r1
 1441 0006 1646     		mov	r6, r2
 1442 0008 0446     		mov	r4, r0
 1443              	.LVL156:
2332:application-library/usb-cdc-device.c **** 
 1444              		.loc 1 2332 0
 1445 000a FFF7FEFF 		bl	USBD_GetLen
 1446              	.LVL157:
 1447 000e 0130     		adds	r0, r0, #1
 1448 0010 4000     		lsls	r0, r0, #1
 1449 0012 3080     		strh	r0, [r6]	@ movhi
2334:application-library/usb-cdc-device.c ****   idx++;
 1450              		.loc 1 2334 0
 1451 0014 2870     		strb	r0, [r5]
 1452              	.LVL158:
2336:application-library/usb-cdc-device.c ****   idx++;
 1453              		.loc 1 2336 0
 1454 0016 0323     		movs	r3, #3
 1455 0018 6B70     		strb	r3, [r5, #1]
 1456              	.LVL159:
2337:application-library/usb-cdc-device.c **** 
 1457              		.loc 1 2337 0
 1458 001a 0223     		movs	r3, #2
2339:application-library/usb-cdc-device.c ****   {
 1459              		.loc 1 2339 0
 1460 001c 07E0     		b	.L124
 1461              	.LVL160:
ARM GAS  /tmp/ccf4hwpD.s 			page 88


 1462              	.L125:
2341:application-library/usb-cdc-device.c ****     pdesc++;
 1463              		.loc 1 2341 0
 1464 001e EA54     		strb	r2, [r5, r3]
2342:application-library/usb-cdc-device.c ****     idx++;
 1465              		.loc 1 2342 0
 1466 0020 0134     		adds	r4, r4, #1
 1467              	.LVL161:
2343:application-library/usb-cdc-device.c **** 
 1468              		.loc 1 2343 0
 1469 0022 5A1C     		adds	r2, r3, #1
 1470 0024 D2B2     		uxtb	r2, r2
 1471              	.LVL162:
2345:application-library/usb-cdc-device.c ****     idx++;
 1472              		.loc 1 2345 0
 1473 0026 0021     		movs	r1, #0
 1474 0028 A954     		strb	r1, [r5, r2]
2346:application-library/usb-cdc-device.c ****   }
 1475              		.loc 1 2346 0
 1476 002a 0233     		adds	r3, r3, #2
 1477 002c DBB2     		uxtb	r3, r3
 1478              	.LVL163:
 1479              	.L124:
2339:application-library/usb-cdc-device.c ****   {
 1480              		.loc 1 2339 0
 1481 002e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1482 0030 002A     		cmp	r2, #0
 1483 0032 F4D1     		bne	.L125
 1484 0034 70BD     		pop	{r4, r5, r6, pc}
 1485              	.LVL164:
 1486              	.L127:
 1487              	.LCFI24:
 1488              		.cfi_def_cfa_offset 0
 1489              		.cfi_restore 4
 1490              		.cfi_restore 5
 1491              		.cfi_restore 6
 1492              		.cfi_restore 14
 1493 0036 7047     		bx	lr
 1494              		.cfi_endproc
 1495              	.LFE187:
 1497              		.section	.text.USBD_FS_ProductStrDescriptor,"ax",%progbits
 1498              		.align	1
 1499              		.global	USBD_FS_ProductStrDescriptor
 1500              		.syntax unified
 1501              		.thumb
 1502              		.thumb_func
 1503              		.fpu fpv4-sp-d16
 1505              	USBD_FS_ProductStrDescriptor:
 1506              	.LFB226:
3018:application-library/usb-cdc-device.c **** 
3019:application-library/usb-cdc-device.c **** /**
3020:application-library/usb-cdc-device.c ****   * @brief  Return the product string descriptor
3021:application-library/usb-cdc-device.c ****   * @param  speed : Current device speed
3022:application-library/usb-cdc-device.c ****   * @param  length : Pointer to data length variable
3023:application-library/usb-cdc-device.c ****   * @retval Pointer to descriptor buffer
3024:application-library/usb-cdc-device.c ****   */
3025:application-library/usb-cdc-device.c **** uint8_t * USBD_FS_ProductStrDescriptor(USBD_SpeedTypeDef speed, uint16_t *length)
ARM GAS  /tmp/ccf4hwpD.s 			page 89


3026:application-library/usb-cdc-device.c **** {
 1507              		.loc 1 3026 0
 1508              		.cfi_startproc
 1509              		@ args = 0, pretend = 0, frame = 0
 1510              		@ frame_needed = 0, uses_anonymous_args = 0
 1511              	.LVL165:
 1512 0000 08B5     		push	{r3, lr}
 1513              	.LCFI25:
 1514              		.cfi_def_cfa_offset 8
 1515              		.cfi_offset 3, -8
 1516              		.cfi_offset 14, -4
 1517 0002 0A46     		mov	r2, r1
3027:application-library/usb-cdc-device.c ****   if(speed == 0)
 1518              		.loc 1 3027 0
 1519 0004 28B1     		cbz	r0, .L134
3028:application-library/usb-cdc-device.c ****   {
3029:application-library/usb-cdc-device.c ****     USBD_GetString((uint8_t *)USBD_PRODUCT_STRING_FS, USBD_StrDesc, length);
3030:application-library/usb-cdc-device.c ****   }
3031:application-library/usb-cdc-device.c ****   else
3032:application-library/usb-cdc-device.c ****   {
3033:application-library/usb-cdc-device.c ****     USBD_GetString((uint8_t *)USBD_PRODUCT_STRING_FS, USBD_StrDesc, length);
 1520              		.loc 1 3033 0
 1521 0006 0549     		ldr	r1, .L135
 1522              	.LVL166:
 1523 0008 0548     		ldr	r0, .L135+4
 1524              	.LVL167:
 1525 000a FFF7FEFF 		bl	USBD_GetString
 1526              	.LVL168:
 1527              	.L132:
3034:application-library/usb-cdc-device.c ****   }
3035:application-library/usb-cdc-device.c ****   return USBD_StrDesc;
3036:application-library/usb-cdc-device.c **** }
 1528              		.loc 1 3036 0
 1529 000e 0348     		ldr	r0, .L135
 1530 0010 08BD     		pop	{r3, pc}
 1531              	.LVL169:
 1532              	.L134:
3029:application-library/usb-cdc-device.c ****   }
 1533              		.loc 1 3029 0
 1534 0012 0249     		ldr	r1, .L135
 1535              	.LVL170:
 1536 0014 0248     		ldr	r0, .L135+4
 1537              	.LVL171:
 1538 0016 FFF7FEFF 		bl	USBD_GetString
 1539              	.LVL172:
 1540 001a F8E7     		b	.L132
 1541              	.L136:
 1542              		.align	2
 1543              	.L135:
 1544 001c 00000000 		.word	USBD_StrDesc
 1545 0020 00000000 		.word	.LC0
 1546              		.cfi_endproc
 1547              	.LFE226:
 1549              		.section	.text.USBD_FS_ManufacturerStrDescriptor,"ax",%progbits
 1550              		.align	1
 1551              		.global	USBD_FS_ManufacturerStrDescriptor
 1552              		.syntax unified
ARM GAS  /tmp/ccf4hwpD.s 			page 90


 1553              		.thumb
 1554              		.thumb_func
 1555              		.fpu fpv4-sp-d16
 1557              	USBD_FS_ManufacturerStrDescriptor:
 1558              	.LFB227:
3037:application-library/usb-cdc-device.c **** 
3038:application-library/usb-cdc-device.c **** /**
3039:application-library/usb-cdc-device.c ****   * @brief  Return the manufacturer string descriptor
3040:application-library/usb-cdc-device.c ****   * @param  speed : Current device speed
3041:application-library/usb-cdc-device.c ****   * @param  length : Pointer to data length variable
3042:application-library/usb-cdc-device.c ****   * @retval Pointer to descriptor buffer
3043:application-library/usb-cdc-device.c ****   */
3044:application-library/usb-cdc-device.c **** uint8_t * USBD_FS_ManufacturerStrDescriptor(USBD_SpeedTypeDef speed, uint16_t *length)
3045:application-library/usb-cdc-device.c **** {
 1559              		.loc 1 3045 0
 1560              		.cfi_startproc
 1561              		@ args = 0, pretend = 0, frame = 0
 1562              		@ frame_needed = 0, uses_anonymous_args = 0
 1563              	.LVL173:
 1564 0000 10B5     		push	{r4, lr}
 1565              	.LCFI26:
 1566              		.cfi_def_cfa_offset 8
 1567              		.cfi_offset 4, -8
 1568              		.cfi_offset 14, -4
3046:application-library/usb-cdc-device.c ****   UNUSED(speed);
3047:application-library/usb-cdc-device.c ****   USBD_GetString((uint8_t *)USBD_MANUFACTURER_STRING, USBD_StrDesc, length);
 1569              		.loc 1 3047 0
 1570 0002 044C     		ldr	r4, .L139
 1571 0004 0A46     		mov	r2, r1
 1572 0006 2146     		mov	r1, r4
 1573              	.LVL174:
 1574 0008 0348     		ldr	r0, .L139+4
 1575              	.LVL175:
 1576 000a FFF7FEFF 		bl	USBD_GetString
 1577              	.LVL176:
3048:application-library/usb-cdc-device.c ****   return USBD_StrDesc;
3049:application-library/usb-cdc-device.c **** }
 1578              		.loc 1 3049 0
 1579 000e 2046     		mov	r0, r4
 1580 0010 10BD     		pop	{r4, pc}
 1581              	.L140:
 1582 0012 00BF     		.align	2
 1583              	.L139:
 1584 0014 00000000 		.word	USBD_StrDesc
 1585 0018 00000000 		.word	.LC1
 1586              		.cfi_endproc
 1587              	.LFE227:
 1589              		.section	.text.USBD_FS_ConfigStrDescriptor,"ax",%progbits
 1590              		.align	1
 1591              		.global	USBD_FS_ConfigStrDescriptor
 1592              		.syntax unified
 1593              		.thumb
 1594              		.thumb_func
 1595              		.fpu fpv4-sp-d16
 1597              	USBD_FS_ConfigStrDescriptor:
 1598              	.LFB229:
3050:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 91


3051:application-library/usb-cdc-device.c **** /**
3052:application-library/usb-cdc-device.c ****   * @brief  Return the serial number string descriptor
3053:application-library/usb-cdc-device.c ****   * @param  speed : Current device speed
3054:application-library/usb-cdc-device.c ****   * @param  length : Pointer to data length variable
3055:application-library/usb-cdc-device.c ****   * @retval Pointer to descriptor buffer
3056:application-library/usb-cdc-device.c ****   */
3057:application-library/usb-cdc-device.c **** uint8_t * USBD_FS_SerialStrDescriptor(USBD_SpeedTypeDef speed, uint16_t *length)
3058:application-library/usb-cdc-device.c **** {
3059:application-library/usb-cdc-device.c ****   UNUSED(speed);
3060:application-library/usb-cdc-device.c ****   *length = USB_SIZ_STRING_SERIAL;
3061:application-library/usb-cdc-device.c **** 
3062:application-library/usb-cdc-device.c ****   /* Update the serial number string descriptor with the data from the unique
3063:application-library/usb-cdc-device.c ****    * ID */
3064:application-library/usb-cdc-device.c ****   Get_SerialNum();
3065:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USBD_FS_SerialStrDescriptor */
3066:application-library/usb-cdc-device.c **** 
3067:application-library/usb-cdc-device.c ****   /* USER CODE END USBD_FS_SerialStrDescriptor */
3068:application-library/usb-cdc-device.c ****   return (uint8_t *) USBD_StringSerial;
3069:application-library/usb-cdc-device.c **** }
3070:application-library/usb-cdc-device.c **** 
3071:application-library/usb-cdc-device.c **** /**
3072:application-library/usb-cdc-device.c ****   * @brief  Return the configuration string descriptor
3073:application-library/usb-cdc-device.c ****   * @param  speed : Current device speed
3074:application-library/usb-cdc-device.c ****   * @param  length : Pointer to data length variable
3075:application-library/usb-cdc-device.c ****   * @retval Pointer to descriptor buffer
3076:application-library/usb-cdc-device.c ****   */
3077:application-library/usb-cdc-device.c **** uint8_t * USBD_FS_ConfigStrDescriptor(USBD_SpeedTypeDef speed, uint16_t *length)
3078:application-library/usb-cdc-device.c **** {
 1599              		.loc 1 3078 0
 1600              		.cfi_startproc
 1601              		@ args = 0, pretend = 0, frame = 0
 1602              		@ frame_needed = 0, uses_anonymous_args = 0
 1603              	.LVL177:
 1604 0000 08B5     		push	{r3, lr}
 1605              	.LCFI27:
 1606              		.cfi_def_cfa_offset 8
 1607              		.cfi_offset 3, -8
 1608              		.cfi_offset 14, -4
 1609 0002 0A46     		mov	r2, r1
3079:application-library/usb-cdc-device.c ****   if(speed == USBD_SPEED_HIGH)
 1610              		.loc 1 3079 0
 1611 0004 28B1     		cbz	r0, .L145
3080:application-library/usb-cdc-device.c ****   {
3081:application-library/usb-cdc-device.c ****     USBD_GetString((uint8_t *)USBD_CONFIGURATION_STRING_FS, USBD_StrDesc, length);
3082:application-library/usb-cdc-device.c ****   }
3083:application-library/usb-cdc-device.c ****   else
3084:application-library/usb-cdc-device.c ****   {
3085:application-library/usb-cdc-device.c ****     USBD_GetString((uint8_t *)USBD_CONFIGURATION_STRING_FS, USBD_StrDesc, length);
 1612              		.loc 1 3085 0
 1613 0006 0549     		ldr	r1, .L146
 1614              	.LVL178:
 1615 0008 0548     		ldr	r0, .L146+4
 1616              	.LVL179:
 1617 000a FFF7FEFF 		bl	USBD_GetString
 1618              	.LVL180:
 1619              	.L143:
3086:application-library/usb-cdc-device.c ****   }
ARM GAS  /tmp/ccf4hwpD.s 			page 92


3087:application-library/usb-cdc-device.c ****   return USBD_StrDesc;
3088:application-library/usb-cdc-device.c **** }
 1620              		.loc 1 3088 0
 1621 000e 0348     		ldr	r0, .L146
 1622 0010 08BD     		pop	{r3, pc}
 1623              	.LVL181:
 1624              	.L145:
3081:application-library/usb-cdc-device.c ****   }
 1625              		.loc 1 3081 0
 1626 0012 0249     		ldr	r1, .L146
 1627              	.LVL182:
 1628 0014 0248     		ldr	r0, .L146+4
 1629              	.LVL183:
 1630 0016 FFF7FEFF 		bl	USBD_GetString
 1631              	.LVL184:
 1632 001a F8E7     		b	.L143
 1633              	.L147:
 1634              		.align	2
 1635              	.L146:
 1636 001c 00000000 		.word	USBD_StrDesc
 1637 0020 00000000 		.word	.LC2
 1638              		.cfi_endproc
 1639              	.LFE229:
 1641              		.section	.text.USBD_FS_InterfaceStrDescriptor,"ax",%progbits
 1642              		.align	1
 1643              		.global	USBD_FS_InterfaceStrDescriptor
 1644              		.syntax unified
 1645              		.thumb
 1646              		.thumb_func
 1647              		.fpu fpv4-sp-d16
 1649              	USBD_FS_InterfaceStrDescriptor:
 1650              	.LFB230:
3089:application-library/usb-cdc-device.c **** 
3090:application-library/usb-cdc-device.c **** /**
3091:application-library/usb-cdc-device.c ****   * @brief  Return the interface string descriptor
3092:application-library/usb-cdc-device.c ****   * @param  speed : Current device speed
3093:application-library/usb-cdc-device.c ****   * @param  length : Pointer to data length variable
3094:application-library/usb-cdc-device.c ****   * @retval Pointer to descriptor buffer
3095:application-library/usb-cdc-device.c ****   */
3096:application-library/usb-cdc-device.c **** uint8_t * USBD_FS_InterfaceStrDescriptor(USBD_SpeedTypeDef speed, uint16_t *length)
3097:application-library/usb-cdc-device.c **** {
 1651              		.loc 1 3097 0
 1652              		.cfi_startproc
 1653              		@ args = 0, pretend = 0, frame = 0
 1654              		@ frame_needed = 0, uses_anonymous_args = 0
 1655              	.LVL185:
 1656 0000 08B5     		push	{r3, lr}
 1657              	.LCFI28:
 1658              		.cfi_def_cfa_offset 8
 1659              		.cfi_offset 3, -8
 1660              		.cfi_offset 14, -4
 1661 0002 0A46     		mov	r2, r1
3098:application-library/usb-cdc-device.c ****   if(speed == 0)
 1662              		.loc 1 3098 0
 1663 0004 28B1     		cbz	r0, .L152
3099:application-library/usb-cdc-device.c ****   {
3100:application-library/usb-cdc-device.c ****     USBD_GetString((uint8_t *)USBD_INTERFACE_STRING_FS, USBD_StrDesc, length);
ARM GAS  /tmp/ccf4hwpD.s 			page 93


3101:application-library/usb-cdc-device.c ****   }
3102:application-library/usb-cdc-device.c ****   else
3103:application-library/usb-cdc-device.c ****   {
3104:application-library/usb-cdc-device.c ****     USBD_GetString((uint8_t *)USBD_INTERFACE_STRING_FS, USBD_StrDesc, length);
 1664              		.loc 1 3104 0
 1665 0006 0549     		ldr	r1, .L153
 1666              	.LVL186:
 1667 0008 0548     		ldr	r0, .L153+4
 1668              	.LVL187:
 1669 000a FFF7FEFF 		bl	USBD_GetString
 1670              	.LVL188:
 1671              	.L150:
3105:application-library/usb-cdc-device.c ****   }
3106:application-library/usb-cdc-device.c ****   return USBD_StrDesc;
3107:application-library/usb-cdc-device.c **** }
 1672              		.loc 1 3107 0
 1673 000e 0348     		ldr	r0, .L153
 1674 0010 08BD     		pop	{r3, pc}
 1675              	.LVL189:
 1676              	.L152:
3100:application-library/usb-cdc-device.c ****   }
 1677              		.loc 1 3100 0
 1678 0012 0249     		ldr	r1, .L153
 1679              	.LVL190:
 1680 0014 0248     		ldr	r0, .L153+4
 1681              	.LVL191:
 1682 0016 FFF7FEFF 		bl	USBD_GetString
 1683              	.LVL192:
 1684 001a F8E7     		b	.L150
 1685              	.L154:
 1686              		.align	2
 1687              	.L153:
 1688 001c 00000000 		.word	USBD_StrDesc
 1689 0020 00000000 		.word	.LC3
 1690              		.cfi_endproc
 1691              	.LFE230:
 1693              		.section	.text.HAL_PCD_MspInit,"ax",%progbits
 1694              		.align	1
 1695              		.global	HAL_PCD_MspInit
 1696              		.syntax unified
 1697              		.thumb
 1698              		.thumb_func
 1699              		.fpu fpv4-sp-d16
 1701              	HAL_PCD_MspInit:
 1702              	.LFB196:
2500:application-library/usb-cdc-device.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 1703              		.loc 1 2500 0
 1704              		.cfi_startproc
 1705              		@ args = 0, pretend = 0, frame = 32
 1706              		@ frame_needed = 0, uses_anonymous_args = 0
 1707              	.LVL193:
 1708 0000 30B5     		push	{r4, r5, lr}
 1709              	.LCFI29:
 1710              		.cfi_def_cfa_offset 12
 1711              		.cfi_offset 4, -12
 1712              		.cfi_offset 5, -8
 1713              		.cfi_offset 14, -4
ARM GAS  /tmp/ccf4hwpD.s 			page 94


 1714 0002 89B0     		sub	sp, sp, #36
 1715              	.LCFI30:
 1716              		.cfi_def_cfa_offset 48
2501:application-library/usb-cdc-device.c ****   if(pcdHandle->Instance==USB_OTG_FS)
 1717              		.loc 1 2501 0
 1718 0004 0023     		movs	r3, #0
 1719 0006 0393     		str	r3, [sp, #12]
 1720 0008 0493     		str	r3, [sp, #16]
 1721 000a 0593     		str	r3, [sp, #20]
 1722 000c 0693     		str	r3, [sp, #24]
 1723 000e 0793     		str	r3, [sp, #28]
2502:application-library/usb-cdc-device.c ****   {
 1724              		.loc 1 2502 0
 1725 0010 0368     		ldr	r3, [r0]
 1726 0012 B3F1A04F 		cmp	r3, #1342177280
 1727 0016 01D0     		beq	.L158
 1728              	.LVL194:
 1729              	.L155:
2530:application-library/usb-cdc-device.c **** 
 1730              		.loc 1 2530 0
 1731 0018 09B0     		add	sp, sp, #36
 1732              	.LCFI31:
 1733              		.cfi_remember_state
 1734              		.cfi_def_cfa_offset 12
 1735              		@ sp needed
 1736 001a 30BD     		pop	{r4, r5, pc}
 1737              	.LVL195:
 1738              	.L158:
 1739              	.LCFI32:
 1740              		.cfi_restore_state
 1741              	.LBB14:
2508:application-library/usb-cdc-device.c ****     /**USB_OTG_FS GPIO Configuration
 1742              		.loc 1 2508 0
 1743 001c 0025     		movs	r5, #0
 1744 001e 0195     		str	r5, [sp, #4]
 1745 0020 164C     		ldr	r4, .L159
 1746 0022 236B     		ldr	r3, [r4, #48]
 1747 0024 43F00103 		orr	r3, r3, #1
 1748 0028 2363     		str	r3, [r4, #48]
 1749 002a 236B     		ldr	r3, [r4, #48]
 1750 002c 03F00103 		and	r3, r3, #1
 1751 0030 0193     		str	r3, [sp, #4]
 1752 0032 019B     		ldr	r3, [sp, #4]
 1753              	.LBE14:
2513:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 1754              		.loc 1 2513 0
 1755 0034 4FF4C053 		mov	r3, #6144
 1756 0038 0393     		str	r3, [sp, #12]
2514:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 1757              		.loc 1 2514 0
 1758 003a 0223     		movs	r3, #2
 1759 003c 0493     		str	r3, [sp, #16]
2516:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Alternate = GPIO_AF10_OTG_FS;
 1760              		.loc 1 2516 0
 1761 003e 0323     		movs	r3, #3
 1762 0040 0693     		str	r3, [sp, #24]
2517:application-library/usb-cdc-device.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
ARM GAS  /tmp/ccf4hwpD.s 			page 95


 1763              		.loc 1 2517 0
 1764 0042 0A23     		movs	r3, #10
 1765 0044 0793     		str	r3, [sp, #28]
2518:application-library/usb-cdc-device.c **** 
 1766              		.loc 1 2518 0
 1767 0046 03A9     		add	r1, sp, #12
 1768 0048 0D48     		ldr	r0, .L159+4
 1769              	.LVL196:
 1770 004a FFF7FEFF 		bl	HAL_GPIO_Init
 1771              	.LVL197:
2521:application-library/usb-cdc-device.c **** 
 1772              		.loc 1 2521 0
 1773 004e 636B     		ldr	r3, [r4, #52]
 1774 0050 43F08003 		orr	r3, r3, #128
 1775 0054 6363     		str	r3, [r4, #52]
 1776              	.LBB15:
 1777 0056 0295     		str	r5, [sp, #8]
 1778 0058 636C     		ldr	r3, [r4, #68]
 1779 005a 43F48043 		orr	r3, r3, #16384
 1780 005e 6364     		str	r3, [r4, #68]
 1781 0060 636C     		ldr	r3, [r4, #68]
 1782 0062 03F48043 		and	r3, r3, #16384
 1783 0066 0293     		str	r3, [sp, #8]
 1784 0068 029B     		ldr	r3, [sp, #8]
 1785              	.LBE15:
2524:application-library/usb-cdc-device.c ****     HAL_NVIC_EnableIRQ(OTG_FS_IRQn);
 1786              		.loc 1 2524 0
 1787 006a 2A46     		mov	r2, r5
 1788 006c 2946     		mov	r1, r5
 1789 006e 4320     		movs	r0, #67
 1790 0070 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1791              	.LVL198:
2525:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspInit 1 */
 1792              		.loc 1 2525 0
 1793 0074 4320     		movs	r0, #67
 1794 0076 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1795              	.LVL199:
2530:application-library/usb-cdc-device.c **** 
 1796              		.loc 1 2530 0
 1797 007a CDE7     		b	.L155
 1798              	.L160:
 1799              		.align	2
 1800              	.L159:
 1801 007c 00380240 		.word	1073887232
 1802 0080 00000240 		.word	1073872896
 1803              		.cfi_endproc
 1804              	.LFE196:
 1806              		.section	.text.HAL_PCD_MspDeInit,"ax",%progbits
 1807              		.align	1
 1808              		.global	HAL_PCD_MspDeInit
 1809              		.syntax unified
 1810              		.thumb
 1811              		.thumb_func
 1812              		.fpu fpv4-sp-d16
 1814              	HAL_PCD_MspDeInit:
 1815              	.LFB197:
2533:application-library/usb-cdc-device.c ****   if(pcdHandle->Instance==USB_OTG_FS)
ARM GAS  /tmp/ccf4hwpD.s 			page 96


 1816              		.loc 1 2533 0
 1817              		.cfi_startproc
 1818              		@ args = 0, pretend = 0, frame = 0
 1819              		@ frame_needed = 0, uses_anonymous_args = 0
 1820              	.LVL200:
 1821 0000 08B5     		push	{r3, lr}
 1822              	.LCFI33:
 1823              		.cfi_def_cfa_offset 8
 1824              		.cfi_offset 3, -8
 1825              		.cfi_offset 14, -4
2534:application-library/usb-cdc-device.c ****   {
 1826              		.loc 1 2534 0
 1827 0002 0368     		ldr	r3, [r0]
 1828 0004 B3F1A04F 		cmp	r3, #1342177280
 1829 0008 00D0     		beq	.L164
 1830              	.LVL201:
 1831              	.L161:
 1832 000a 08BD     		pop	{r3, pc}
 1833              	.LVL202:
 1834              	.L164:
2540:application-library/usb-cdc-device.c **** 
 1835              		.loc 1 2540 0
 1836 000c 064A     		ldr	r2, .L165
 1837 000e 536B     		ldr	r3, [r2, #52]
 1838 0010 23F08003 		bic	r3, r3, #128
 1839 0014 5363     		str	r3, [r2, #52]
2546:application-library/usb-cdc-device.c **** 
 1840              		.loc 1 2546 0
 1841 0016 4FF4C051 		mov	r1, #6144
 1842 001a 0448     		ldr	r0, .L165+4
 1843              	.LVL203:
 1844 001c FFF7FEFF 		bl	HAL_GPIO_DeInit
 1845              	.LVL204:
2549:application-library/usb-cdc-device.c ****   }
 1846              		.loc 1 2549 0
 1847 0020 4320     		movs	r0, #67
 1848 0022 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 1849              	.LVL205:
2551:application-library/usb-cdc-device.c **** 
 1850              		.loc 1 2551 0
 1851 0026 F0E7     		b	.L161
 1852              	.L166:
 1853              		.align	2
 1854              	.L165:
 1855 0028 00380240 		.word	1073887232
 1856 002c 00000240 		.word	1073872896
 1857              		.cfi_endproc
 1858              	.LFE197:
 1860              		.section	.text.HAL_PCD_SOFCallback,"ax",%progbits
 1861              		.align	1
 1862              		.global	HAL_PCD_SOFCallback
 1863              		.syntax unified
 1864              		.thumb
 1865              		.thumb_func
 1866              		.fpu fpv4-sp-d16
 1868              	HAL_PCD_SOFCallback:
 1869              	.LFB201:
ARM GAS  /tmp/ccf4hwpD.s 			page 97


2591:application-library/usb-cdc-device.c ****   USBD_LL_SOF((USBD_Handle_t*)hpcd->pData);
 1870              		.loc 1 2591 0
 1871              		.cfi_startproc
 1872              		@ args = 0, pretend = 0, frame = 0
 1873              		@ frame_needed = 0, uses_anonymous_args = 0
 1874              	.LVL206:
 1875 0000 08B5     		push	{r3, lr}
 1876              	.LCFI34:
 1877              		.cfi_def_cfa_offset 8
 1878              		.cfi_offset 3, -8
 1879              		.cfi_offset 14, -4
2592:application-library/usb-cdc-device.c **** }
 1880              		.loc 1 2592 0
 1881 0002 D0F80805 		ldr	r0, [r0, #1288]
 1882              	.LVL207:
 1883 0006 FFF7FEFF 		bl	USBD_LL_SOF
 1884              	.LVL208:
 1885 000a 08BD     		pop	{r3, pc}
 1886              		.cfi_endproc
 1887              	.LFE201:
 1889              		.section	.text.HAL_PCD_SuspendCallback,"ax",%progbits
 1890              		.align	1
 1891              		.global	HAL_PCD_SuspendCallback
 1892              		.syntax unified
 1893              		.thumb
 1894              		.thumb_func
 1895              		.fpu fpv4-sp-d16
 1897              	HAL_PCD_SuspendCallback:
 1898              	.LFB203:
2630:application-library/usb-cdc-device.c ****   /* Inform USB library that core enters in suspend Mode. */
 1899              		.loc 1 2630 0
 1900              		.cfi_startproc
 1901              		@ args = 0, pretend = 0, frame = 0
 1902              		@ frame_needed = 0, uses_anonymous_args = 0
 1903              	.LVL209:
 1904 0000 10B5     		push	{r4, lr}
 1905              	.LCFI35:
 1906              		.cfi_def_cfa_offset 8
 1907              		.cfi_offset 4, -8
 1908              		.cfi_offset 14, -4
 1909 0002 0446     		mov	r4, r0
2632:application-library/usb-cdc-device.c ****   __HAL_PCD_GATE_PHYCLOCK(hpcd);
 1910              		.loc 1 2632 0
 1911 0004 D0F80805 		ldr	r0, [r0, #1288]
 1912              	.LVL210:
 1913 0008 FFF7FEFF 		bl	USBD_LL_Suspend
 1914              	.LVL211:
2633:application-library/usb-cdc-device.c ****   /* Enter in STOP mode. */
 1915              		.loc 1 2633 0
 1916 000c 2268     		ldr	r2, [r4]
 1917 000e D2F8003E 		ldr	r3, [r2, #3584]
 1918 0012 43F00103 		orr	r3, r3, #1
 1919 0016 C2F8003E 		str	r3, [r2, #3584]
2636:application-library/usb-cdc-device.c ****   {
 1920              		.loc 1 2636 0
 1921 001a 236A     		ldr	r3, [r4, #32]
 1922 001c 23B1     		cbz	r3, .L169
ARM GAS  /tmp/ccf4hwpD.s 			page 98


2639:application-library/usb-cdc-device.c ****   }
 1923              		.loc 1 2639 0
 1924 001e 034A     		ldr	r2, .L172
 1925 0020 1369     		ldr	r3, [r2, #16]
 1926 0022 43F00603 		orr	r3, r3, #6
 1927 0026 1361     		str	r3, [r2, #16]
 1928              	.L169:
 1929 0028 10BD     		pop	{r4, pc}
 1930              	.LVL212:
 1931              	.L173:
 1932 002a 00BF     		.align	2
 1933              	.L172:
 1934 002c 00ED00E0 		.word	-536810240
 1935              		.cfi_endproc
 1936              	.LFE203:
 1938              		.section	.text.HAL_PCD_ConnectCallback,"ax",%progbits
 1939              		.align	1
 1940              		.global	HAL_PCD_ConnectCallback
 1941              		.syntax unified
 1942              		.thumb
 1943              		.thumb_func
 1944              		.fpu fpv4-sp-d16
 1946              	HAL_PCD_ConnectCallback:
 1947              	.LFB204:
2650:application-library/usb-cdc-device.c ****   USBD_LL_DevConnected((USBD_Handle_t*)hpcd->pData);
 1948              		.loc 1 2650 0
 1949              		.cfi_startproc
 1950              		@ args = 0, pretend = 0, frame = 0
 1951              		@ frame_needed = 0, uses_anonymous_args = 0
 1952              		@ link register save eliminated.
 1953              	.LVL213:
 1954 0000 7047     		bx	lr
 1955              		.cfi_endproc
 1956              	.LFE204:
 1958              		.section	.text.HAL_PCD_DisconnectCallback,"ax",%progbits
 1959              		.align	1
 1960              		.global	HAL_PCD_DisconnectCallback
 1961              		.syntax unified
 1962              		.thumb
 1963              		.thumb_func
 1964              		.fpu fpv4-sp-d16
 1966              	HAL_PCD_DisconnectCallback:
 1967              	.LFB205:
2660:application-library/usb-cdc-device.c ****   USBD_LL_DevDisconnected((USBD_Handle_t*)hpcd->pData);
 1968              		.loc 1 2660 0
 1969              		.cfi_startproc
 1970              		@ args = 0, pretend = 0, frame = 0
 1971              		@ frame_needed = 0, uses_anonymous_args = 0
 1972              	.LVL214:
2660:application-library/usb-cdc-device.c ****   USBD_LL_DevDisconnected((USBD_Handle_t*)hpcd->pData);
 1973              		.loc 1 2660 0
 1974 0000 08B5     		push	{r3, lr}
 1975              	.LCFI36:
 1976              		.cfi_def_cfa_offset 8
 1977              		.cfi_offset 3, -8
 1978              		.cfi_offset 14, -4
2661:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccf4hwpD.s 			page 99


 1979              		.loc 1 2661 0
 1980 0002 D0F80805 		ldr	r0, [r0, #1288]
 1981              	.LVL215:
 1982 0006 FFF7FEFF 		bl	USBD_LL_DevDisconnected
 1983              	.LVL216:
 1984 000a 08BD     		pop	{r3, pc}
 1985              		.cfi_endproc
 1986              	.LFE205:
 1988              		.section	.text.USBD_LL_Init,"ax",%progbits
 1989              		.align	1
 1990              		.global	USBD_LL_Init
 1991              		.syntax unified
 1992              		.thumb
 1993              		.thumb_func
 1994              		.fpu fpv4-sp-d16
 1996              	USBD_LL_Init:
 1997              	.LFB206:
2674:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
 1998              		.loc 1 2674 0
 1999              		.cfi_startproc
 2000              		@ args = 0, pretend = 0, frame = 0
 2001              		@ frame_needed = 0, uses_anonymous_args = 0
 2002              	.LVL217:
2676:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
 2003              		.loc 1 2676 0
 2004 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2005 0002 0BB1     		cbz	r3, .L184
2704:application-library/usb-cdc-device.c **** 
 2006              		.loc 1 2704 0
 2007 0004 0020     		movs	r0, #0
 2008              	.LVL218:
 2009 0006 7047     		bx	lr
 2010              	.LVL219:
 2011              	.L184:
2674:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
 2012              		.loc 1 2674 0
 2013 0008 10B5     		push	{r4, lr}
 2014              	.LCFI37:
 2015              		.cfi_def_cfa_offset 8
 2016              		.cfi_offset 4, -8
 2017              		.cfi_offset 14, -4
 2018 000a 0346     		mov	r3, r0
2678:application-library/usb-cdc-device.c ****   p_usbd_instance->pData = &hpcd_USB_OTG_FS;
 2019              		.loc 1 2678 0
 2020 000c 1548     		ldr	r0, .L186
 2021              	.LVL220:
 2022 000e C0F80835 		str	r3, [r0, #1288]
2679:application-library/usb-cdc-device.c **** 
 2023              		.loc 1 2679 0
 2024 0012 C3F8C402 		str	r0, [r3, #708]
2681:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 2025              		.loc 1 2681 0
 2026 0016 4FF0A043 		mov	r3, #1342177280
 2027              	.LVL221:
 2028 001a 0360     		str	r3, [r0]
2682:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 2029              		.loc 1 2682 0
ARM GAS  /tmp/ccf4hwpD.s 			page 100


 2030 001c 0423     		movs	r3, #4
 2031 001e 4360     		str	r3, [r0, #4]
2683:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
 2032              		.loc 1 2683 0
 2033 0020 0222     		movs	r2, #2
 2034 0022 C260     		str	r2, [r0, #12]
2684:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
 2035              		.loc 1 2684 0
 2036 0024 0023     		movs	r3, #0
 2037 0026 0361     		str	r3, [r0, #16]
2685:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
 2038              		.loc 1 2685 0
 2039 0028 8261     		str	r2, [r0, #24]
2686:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 2040              		.loc 1 2686 0
 2041 002a C361     		str	r3, [r0, #28]
2687:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 2042              		.loc 1 2687 0
 2043 002c 0362     		str	r3, [r0, #32]
2688:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 2044              		.loc 1 2688 0
 2045 002e 4362     		str	r3, [r0, #36]
2689:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
 2046              		.loc 1 2689 0
 2047 0030 C362     		str	r3, [r0, #44]
2690:application-library/usb-cdc-device.c **** 
 2048              		.loc 1 2690 0
 2049 0032 0363     		str	r3, [r0, #48]
2693:application-library/usb-cdc-device.c ****   {
 2050              		.loc 1 2693 0
 2051 0034 FFF7FEFF 		bl	HAL_PCD_Init
 2052              	.LVL222:
 2053 0038 80B9     		cbnz	r0, .L185
 2054              	.L179:
2699:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 2055              		.loc 1 2699 0
 2056 003a 0A4C     		ldr	r4, .L186
 2057 003c 8021     		movs	r1, #128
 2058 003e 2046     		mov	r0, r4
 2059 0040 FFF7FEFF 		bl	HAL_PCDEx_SetRxFiFo
 2060              	.LVL223:
2700:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 2061              		.loc 1 2700 0
 2062 0044 4022     		movs	r2, #64
 2063 0046 0021     		movs	r1, #0
 2064 0048 2046     		mov	r0, r4
 2065 004a FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 2066              	.LVL224:
2701:application-library/usb-cdc-device.c ****   }
 2067              		.loc 1 2701 0
 2068 004e 8022     		movs	r2, #128
 2069 0050 0121     		movs	r1, #1
 2070 0052 2046     		mov	r0, r4
 2071 0054 FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 2072              	.LVL225:
2704:application-library/usb-cdc-device.c **** 
 2073              		.loc 1 2704 0
ARM GAS  /tmp/ccf4hwpD.s 			page 101


 2074 0058 0020     		movs	r0, #0
 2075 005a 10BD     		pop	{r4, pc}
 2076              	.L185:
2695:application-library/usb-cdc-device.c ****   }
 2077              		.loc 1 2695 0
 2078 005c FFF7FEFF 		bl	Error_Handler
 2079              	.LVL226:
 2080 0060 EBE7     		b	.L179
 2081              	.L187:
 2082 0062 00BF     		.align	2
 2083              	.L186:
 2084 0064 00000000 		.word	hpcd_USB_OTG_FS
 2085              		.cfi_endproc
 2086              	.LFE206:
 2088              		.section	.text.USBD_Init,"ax",%progbits
 2089              		.align	1
 2090              		.global	USBD_Init
 2091              		.syntax unified
 2092              		.thumb
 2093              		.thumb_func
 2094              		.fpu fpv4-sp-d16
 2096              	USBD_Init:
 2097              	.LFB153:
 888:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 2098              		.loc 1 888 0
 2099              		.cfi_startproc
 2100              		@ args = 0, pretend = 0, frame = 0
 2101              		@ frame_needed = 0, uses_anonymous_args = 0
 2102              	.LVL227:
 891:application-library/usb-cdc-device.c ****   {
 2103              		.loc 1 891 0
 2104 0000 98B1     		cbz	r0, .L191
 888:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 2105              		.loc 1 888 0
 2106 0002 08B5     		push	{r3, lr}
 2107              	.LCFI38:
 2108              		.cfi_def_cfa_offset 8
 2109              		.cfi_offset 3, -8
 2110              		.cfi_offset 14, -4
 2111 0004 0346     		mov	r3, r0
 896:application-library/usb-cdc-device.c ****   p_usbd_instance->pUserData = NULL;
 2112              		.loc 1 896 0
 2113 0006 0020     		movs	r0, #0
 2114              	.LVL228:
 2115 0008 C3F8B402 		str	r0, [r3, #692]
 897:application-library/usb-cdc-device.c ****   p_usbd_instance->pConfDesc = NULL;
 2116              		.loc 1 897 0
 2117 000c C3F8C002 		str	r0, [r3, #704]
 898:application-library/usb-cdc-device.c **** 
 2118              		.loc 1 898 0
 2119 0010 C3F8CC02 		str	r0, [r3, #716]
 901:application-library/usb-cdc-device.c ****   {
 2120              		.loc 1 901 0
 2121 0014 09B1     		cbz	r1, .L190
 903:application-library/usb-cdc-device.c ****   }
 2122              		.loc 1 903 0
 2123 0016 C3F8B012 		str	r1, [r3, #688]
ARM GAS  /tmp/ccf4hwpD.s 			page 102


 2124              	.L190:
 2125 001a 1846     		mov	r0, r3
 906:application-library/usb-cdc-device.c ****   p_usbd_instance->id = id; // DEVICE_FS (0)
 2126              		.loc 1 906 0
 2127 001c 0123     		movs	r3, #1
 2128              	.LVL229:
 2129 001e 80F89C32 		strb	r3, [r0, #668]
 907:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
 2130              		.loc 1 907 0
 2131 0022 0270     		strb	r2, [r0]
 909:application-library/usb-cdc-device.c **** 
 2132              		.loc 1 909 0
 2133 0024 FFF7FEFF 		bl	USBD_LL_Init
 2134              	.LVL230:
 911:application-library/usb-cdc-device.c **** }
 2135              		.loc 1 911 0
 2136 0028 08BD     		pop	{r3, pc}
 2137              	.LVL231:
 2138              	.L191:
 2139              	.LCFI39:
 2140              		.cfi_def_cfa_offset 0
 2141              		.cfi_restore 3
 2142              		.cfi_restore 14
 893:application-library/usb-cdc-device.c ****   }
 2143              		.loc 1 893 0
 2144 002a 0320     		movs	r0, #3
 2145              	.LVL232:
 2146 002c 7047     		bx	lr
 2147              		.cfi_endproc
 2148              	.LFE153:
 2150              		.section	.text.usb_device_init,"ax",%progbits
 2151              		.align	1
 2152              		.global	usb_device_init
 2153              		.syntax unified
 2154              		.thumb
 2155              		.thumb_func
 2156              		.fpu fpv4-sp-d16
 2158              	usb_device_init:
 2159              	.LFB138:
 344:application-library/usb-cdc-device.c ****   USBD_Init(&hUsbDeviceFS, &FS_Desc, DEVICE_FS);
 2160              		.loc 1 344 0
 2161              		.cfi_startproc
 2162              		@ args = 0, pretend = 0, frame = 0
 2163              		@ frame_needed = 0, uses_anonymous_args = 0
 2164 0000 10B5     		push	{r4, lr}
 2165              	.LCFI40:
 2166              		.cfi_def_cfa_offset 8
 2167              		.cfi_offset 4, -8
 2168              		.cfi_offset 14, -4
 345:application-library/usb-cdc-device.c ****   USBD_RegisterClass(&hUsbDeviceFS, &USBD_CDC); // usbd_core.c
 2169              		.loc 1 345 0
 2170 0002 094C     		ldr	r4, .L198
 2171 0004 0022     		movs	r2, #0
 2172 0006 0949     		ldr	r1, .L198+4
 2173 0008 2046     		mov	r0, r4
 2174 000a FFF7FEFF 		bl	USBD_Init
 2175              	.LVL233:
ARM GAS  /tmp/ccf4hwpD.s 			page 103


 346:application-library/usb-cdc-device.c ****   USBD_CDC_RegisterInterface(&hUsbDeviceFS, &USBD_Interface_fops_FS);
 2176              		.loc 1 346 0
 2177 000e 0849     		ldr	r1, .L198+8
 2178 0010 2046     		mov	r0, r4
 2179 0012 FFF7FEFF 		bl	USBD_RegisterClass
 2180              	.LVL234:
 347:application-library/usb-cdc-device.c ****   USBD_Start(&hUsbDeviceFS);  /* p_usbd_handle->pData has type void */
 2181              		.loc 1 347 0
 2182 0016 0749     		ldr	r1, .L198+12
 2183 0018 2046     		mov	r0, r4
 2184 001a FFF7FEFF 		bl	USBD_CDC_RegisterInterface
 2185              	.LVL235:
 348:application-library/usb-cdc-device.c **** }
 2186              		.loc 1 348 0
 2187 001e 2046     		mov	r0, r4
 2188 0020 FFF7FEFF 		bl	USBD_Start
 2189              	.LVL236:
 2190 0024 10BD     		pop	{r4, pc}
 2191              	.L199:
 2192 0026 00BF     		.align	2
 2193              	.L198:
 2194 0028 00000000 		.word	hUsbDeviceFS
 2195 002c 00000000 		.word	.LANCHOR4
 2196 0030 00000000 		.word	.LANCHOR5
 2197 0034 00000000 		.word	.LANCHOR6
 2198              		.cfi_endproc
 2199              	.LFE138:
 2201              		.section	.text.USBD_LL_Stop,"ax",%progbits
 2202              		.align	1
 2203              		.global	USBD_LL_Stop
 2204              		.syntax unified
 2205              		.thumb
 2206              		.thumb_func
 2207              		.fpu fpv4-sp-d16
 2209              	USBD_LL_Stop:
 2210              	.LFB209:
2746:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2211              		.loc 1 2746 0
 2212              		.cfi_startproc
 2213              		@ args = 0, pretend = 0, frame = 0
 2214              		@ frame_needed = 0, uses_anonymous_args = 0
 2215              	.LVL237:
 2216 0000 08B5     		push	{r3, lr}
 2217              	.LCFI41:
 2218              		.cfi_def_cfa_offset 8
 2219              		.cfi_offset 3, -8
 2220              		.cfi_offset 14, -4
 2221              	.LVL238:
2748:application-library/usb-cdc-device.c ****   USBD_Get_USB_Status(hal_status);
 2222              		.loc 1 2748 0
 2223 0002 D0F8C402 		ldr	r0, [r0, #708]
 2224              	.LVL239:
 2225 0006 FFF7FEFF 		bl	HAL_PCD_Stop
 2226              	.LVL240:
 2227 000a 08BD     		pop	{r3, pc}
 2228              		.cfi_endproc
 2229              	.LFE209:
ARM GAS  /tmp/ccf4hwpD.s 			page 104


 2231              		.section	.text.USBD_Stop,"ax",%progbits
 2232              		.align	1
 2233              		.global	USBD_Stop
 2234              		.syntax unified
 2235              		.thumb
 2236              		.thumb_func
 2237              		.fpu fpv4-sp-d16
 2239              	USBD_Stop:
 2240              	.LFB157:
1024:application-library/usb-cdc-device.c ****   /* Disconnect USB Device */
 2241              		.loc 1 1024 0
 2242              		.cfi_startproc
 2243              		@ args = 0, pretend = 0, frame = 0
 2244              		@ frame_needed = 0, uses_anonymous_args = 0
 2245              	.LVL241:
 2246 0000 10B5     		push	{r4, lr}
 2247              	.LCFI42:
 2248              		.cfi_def_cfa_offset 8
 2249              		.cfi_offset 4, -8
 2250              		.cfi_offset 14, -4
 2251 0002 0446     		mov	r4, r0
1026:application-library/usb-cdc-device.c **** 
 2252              		.loc 1 1026 0
 2253 0004 FFF7FEFF 		bl	USBD_LL_Stop
 2254              	.LVL242:
1029:application-library/usb-cdc-device.c ****   {
 2255              		.loc 1 1029 0
 2256 0008 D4F8B432 		ldr	r3, [r4, #692]
 2257 000c 1BB1     		cbz	r3, .L203
1031:application-library/usb-cdc-device.c ****   }
 2258              		.loc 1 1031 0
 2259 000e 5B68     		ldr	r3, [r3, #4]
 2260 0010 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 2261 0012 2046     		mov	r0, r4
 2262 0014 9847     		blx	r3
 2263              	.LVL243:
 2264              	.L203:
1035:application-library/usb-cdc-device.c **** 
 2265              		.loc 1 1035 0
 2266 0016 0020     		movs	r0, #0
 2267 0018 10BD     		pop	{r4, pc}
 2268              		.cfi_endproc
 2269              	.LFE157:
 2271              		.section	.text.USBD_LL_OpenEP,"ax",%progbits
 2272              		.align	1
 2273              		.global	USBD_LL_OpenEP
 2274              		.syntax unified
 2275              		.thumb
 2276              		.thumb_func
 2277              		.fpu fpv4-sp-d16
 2279              	USBD_LL_OpenEP:
 2280              	.LFB210:
2761:application-library/usb-cdc-device.c ****   HAL_PCD_EP_Open(p_usbd_instance->pData, ep_addr, ep_mps, ep_type);
 2281              		.loc 1 2761 0
 2282              		.cfi_startproc
 2283              		@ args = 0, pretend = 0, frame = 0
 2284              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccf4hwpD.s 			page 105


 2285              	.LVL244:
 2286 0000 10B5     		push	{r4, lr}
 2287              	.LCFI43:
 2288              		.cfi_def_cfa_offset 8
 2289              		.cfi_offset 4, -8
 2290              		.cfi_offset 14, -4
 2291 0002 1C46     		mov	r4, r3
2762:application-library/usb-cdc-device.c **** }
 2292              		.loc 1 2762 0
 2293 0004 1346     		mov	r3, r2
 2294              	.LVL245:
 2295 0006 2246     		mov	r2, r4
 2296              	.LVL246:
 2297 0008 D0F8C402 		ldr	r0, [r0, #708]
 2298              	.LVL247:
 2299 000c FFF7FEFF 		bl	HAL_PCD_EP_Open
 2300              	.LVL248:
 2301 0010 10BD     		pop	{r4, pc}
 2302              		.cfi_endproc
 2303              	.LFE210:
 2305              		.section	.text.USBD_LL_Reset,"ax",%progbits
 2306              		.align	1
 2307              		.global	USBD_LL_Reset
 2308              		.syntax unified
 2309              		.thumb
 2310              		.thumb_func
 2311              		.fpu fpv4-sp-d16
 2313              	USBD_LL_Reset:
 2314              	.LFB163:
1289:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 2315              		.loc 1 1289 0
 2316              		.cfi_startproc
 2317              		@ args = 0, pretend = 0, frame = 0
 2318              		@ frame_needed = 0, uses_anonymous_args = 0
 2319              	.LVL249:
 2320 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2321              	.LCFI44:
 2322              		.cfi_def_cfa_offset 24
 2323              		.cfi_offset 3, -24
 2324              		.cfi_offset 4, -20
 2325              		.cfi_offset 5, -16
 2326              		.cfi_offset 6, -12
 2327              		.cfi_offset 7, -8
 2328              		.cfi_offset 14, -4
 2329 0002 0446     		mov	r4, r0
 2330              	.LVL250:
1293:application-library/usb-cdc-device.c ****   p_usbd_instance->ep0_state = USBD_EP0_IDLE;
 2331              		.loc 1 1293 0
 2332 0004 0123     		movs	r3, #1
 2333 0006 80F89C32 		strb	r3, [r0, #668]
1294:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_config = 0U;
 2334              		.loc 1 1294 0
 2335 000a 0023     		movs	r3, #0
 2336 000c C0F89432 		str	r3, [r0, #660]
1295:application-library/usb-cdc-device.c ****   p_usbd_instance->dev_remote_wakeup = 0U;
 2337              		.loc 1 1295 0
 2338 0010 4360     		str	r3, [r0, #4]
ARM GAS  /tmp/ccf4hwpD.s 			page 106


1296:application-library/usb-cdc-device.c **** 
 2339              		.loc 1 1296 0
 2340 0012 C0F8A032 		str	r3, [r0, #672]
1298:application-library/usb-cdc-device.c ****   {
 2341              		.loc 1 1298 0
 2342 0016 D0F8B432 		ldr	r3, [r0, #692]
 2343 001a EBB1     		cbz	r3, .L209
1300:application-library/usb-cdc-device.c ****     {
 2344              		.loc 1 1300 0
 2345 001c 5B68     		ldr	r3, [r3, #4]
 2346 001e EBB1     		cbz	r3, .L210
1302:application-library/usb-cdc-device.c ****       {
 2347              		.loc 1 1302 0
 2348 0020 0021     		movs	r1, #0
 2349 0022 9847     		blx	r3
 2350              	.LVL251:
 2351 0024 B0B1     		cbz	r0, .L213
1304:application-library/usb-cdc-device.c ****       }
 2352              		.loc 1 1304 0
 2353 0026 0327     		movs	r7, #3
 2354              	.L208:
 2355              	.LVL252:
1310:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[0x00U & 0xFU].is_used = 1U;
 2356              		.loc 1 1310 0
 2357 0028 4023     		movs	r3, #64
 2358 002a 0022     		movs	r2, #0
 2359 002c 1146     		mov	r1, r2
 2360 002e 2046     		mov	r0, r4
 2361 0030 FFF7FEFF 		bl	USBD_LL_OpenEP
 2362              	.LVL253:
1311:application-library/usb-cdc-device.c **** 
 2363              		.loc 1 1311 0
 2364 0034 0126     		movs	r6, #1
 2365 0036 A4F86461 		strh	r6, [r4, #356]	@ movhi
1313:application-library/usb-cdc-device.c **** 
 2366              		.loc 1 1313 0
 2367 003a 4025     		movs	r5, #64
 2368 003c C4F86051 		str	r5, [r4, #352]
1316:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[0x80U & 0xFU].is_used = 1U;
 2369              		.loc 1 1316 0
 2370 0040 2B46     		mov	r3, r5
 2371 0042 0022     		movs	r2, #0
 2372 0044 8021     		movs	r1, #128
 2373 0046 2046     		mov	r0, r4
 2374 0048 FFF7FEFF 		bl	USBD_LL_OpenEP
 2375              	.LVL254:
1317:application-library/usb-cdc-device.c **** 
 2376              		.loc 1 1317 0
 2377 004c A684     		strh	r6, [r4, #36]	@ movhi
1319:application-library/usb-cdc-device.c **** 
 2378              		.loc 1 1319 0
 2379 004e 2562     		str	r5, [r4, #32]
1322:application-library/usb-cdc-device.c **** 
 2380              		.loc 1 1322 0
 2381 0050 3846     		mov	r0, r7
 2382 0052 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2383              	.LVL255:
ARM GAS  /tmp/ccf4hwpD.s 			page 107


 2384              	.L213:
1290:application-library/usb-cdc-device.c **** 
 2385              		.loc 1 1290 0
 2386 0054 0027     		movs	r7, #0
 2387 0056 E7E7     		b	.L208
 2388              	.LVL256:
 2389              	.L209:
 2390 0058 0027     		movs	r7, #0
 2391 005a E5E7     		b	.L208
 2392              	.L210:
 2393 005c 0027     		movs	r7, #0
 2394 005e E3E7     		b	.L208
 2395              		.cfi_endproc
 2396              	.LFE163:
 2398              		.section	.text.HAL_PCD_ResetCallback,"ax",%progbits
 2399              		.align	1
 2400              		.global	HAL_PCD_ResetCallback
 2401              		.syntax unified
 2402              		.thumb
 2403              		.thumb_func
 2404              		.fpu fpv4-sp-d16
 2406              	HAL_PCD_ResetCallback:
 2407              	.LFB202:
2601:application-library/usb-cdc-device.c ****   USBD_SpeedTypeDef speed = USBD_SPEED_FULL;
 2408              		.loc 1 2601 0
 2409              		.cfi_startproc
 2410              		@ args = 0, pretend = 0, frame = 0
 2411              		@ frame_needed = 0, uses_anonymous_args = 0
 2412              	.LVL257:
 2413 0000 10B5     		push	{r4, lr}
 2414              	.LCFI45:
 2415              		.cfi_def_cfa_offset 8
 2416              		.cfi_offset 4, -8
 2417              		.cfi_offset 14, -4
 2418 0002 0446     		mov	r4, r0
 2419              	.LVL258:
2604:application-library/usb-cdc-device.c ****   {
 2420              		.loc 1 2604 0
 2421 0004 C368     		ldr	r3, [r0, #12]
 2422 0006 2BB1     		cbz	r3, .L216
2608:application-library/usb-cdc-device.c ****   {
 2423              		.loc 1 2608 0
 2424 0008 022B     		cmp	r3, #2
 2425 000a 0DD0     		beq	.L217
2614:application-library/usb-cdc-device.c ****   }
 2426              		.loc 1 2614 0
 2427 000c FFF7FEFF 		bl	Error_Handler
 2428              	.LVL259:
2602:application-library/usb-cdc-device.c **** 
 2429              		.loc 1 2602 0
 2430 0010 0121     		movs	r1, #1
 2431 0012 00E0     		b	.L215
 2432              	.LVL260:
 2433              	.L216:
2606:application-library/usb-cdc-device.c ****   }
 2434              		.loc 1 2606 0
 2435 0014 0021     		movs	r1, #0
ARM GAS  /tmp/ccf4hwpD.s 			page 108


 2436              	.LVL261:
 2437              	.L215:
2617:application-library/usb-cdc-device.c **** 
 2438              		.loc 1 2617 0
 2439 0016 D4F80805 		ldr	r0, [r4, #1288]
 2440 001a FFF7FEFF 		bl	USBD_LL_SetSpeed
 2441              	.LVL262:
2620:application-library/usb-cdc-device.c **** }
 2442              		.loc 1 2620 0
 2443 001e D4F80805 		ldr	r0, [r4, #1288]
 2444 0022 FFF7FEFF 		bl	USBD_LL_Reset
 2445              	.LVL263:
 2446 0026 10BD     		pop	{r4, pc}
 2447              	.LVL264:
 2448              	.L217:
2610:application-library/usb-cdc-device.c ****   }
 2449              		.loc 1 2610 0
 2450 0028 0121     		movs	r1, #1
 2451 002a F4E7     		b	.L215
 2452              		.cfi_endproc
 2453              	.LFE202:
 2455              		.section	.text.USBD_LL_CloseEP,"ax",%progbits
 2456              		.align	1
 2457              		.global	USBD_LL_CloseEP
 2458              		.syntax unified
 2459              		.thumb
 2460              		.thumb_func
 2461              		.fpu fpv4-sp-d16
 2463              	USBD_LL_CloseEP:
 2464              	.LFB211:
2772:application-library/usb-cdc-device.c ****   HAL_PCD_EP_Close(p_usbd_instance->pData, ep_addr);
 2465              		.loc 1 2772 0
 2466              		.cfi_startproc
 2467              		@ args = 0, pretend = 0, frame = 0
 2468              		@ frame_needed = 0, uses_anonymous_args = 0
 2469              	.LVL265:
 2470 0000 08B5     		push	{r3, lr}
 2471              	.LCFI46:
 2472              		.cfi_def_cfa_offset 8
 2473              		.cfi_offset 3, -8
 2474              		.cfi_offset 14, -4
2773:application-library/usb-cdc-device.c **** }
 2475              		.loc 1 2773 0
 2476 0002 D0F8C402 		ldr	r0, [r0, #708]
 2477              	.LVL266:
 2478 0006 FFF7FEFF 		bl	HAL_PCD_EP_Close
 2479              	.LVL267:
 2480 000a 08BD     		pop	{r3, pc}
 2481              		.cfi_endproc
 2482              	.LFE211:
 2484              		.section	.text.USBD_CDC_DeInit,"ax",%progbits
 2485              		.align	1
 2486              		.global	USBD_CDC_DeInit
 2487              		.syntax unified
 2488              		.thumb
 2489              		.thumb_func
 2490              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccf4hwpD.s 			page 109


 2492              	USBD_CDC_DeInit:
 2493              	.LFB140:
 454:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 2494              		.loc 1 454 0
 2495              		.cfi_startproc
 2496              		@ args = 0, pretend = 0, frame = 0
 2497              		@ frame_needed = 0, uses_anonymous_args = 0
 2498              	.LVL268:
 2499 0000 38B5     		push	{r3, r4, r5, lr}
 2500              	.LCFI47:
 2501              		.cfi_def_cfa_offset 16
 2502              		.cfi_offset 3, -16
 2503              		.cfi_offset 4, -12
 2504              		.cfi_offset 5, -8
 2505              		.cfi_offset 14, -4
 2506 0002 0446     		mov	r4, r0
 458:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 2507              		.loc 1 458 0
 2508 0004 8121     		movs	r1, #129
 2509              	.LVL269:
 2510 0006 FFF7FEFF 		bl	USBD_LL_CloseEP
 2511              	.LVL270:
 459:application-library/usb-cdc-device.c **** 
 2512              		.loc 1 459 0
 2513 000a 0025     		movs	r5, #0
 2514 000c 2587     		strh	r5, [r4, #56]	@ movhi
 462:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 2515              		.loc 1 462 0
 2516 000e 0121     		movs	r1, #1
 2517 0010 2046     		mov	r0, r4
 2518 0012 FFF7FEFF 		bl	USBD_LL_CloseEP
 2519              	.LVL271:
 463:application-library/usb-cdc-device.c **** 
 2520              		.loc 1 463 0
 2521 0016 A4F87851 		strh	r5, [r4, #376]	@ movhi
 466:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 2522              		.loc 1 466 0
 2523 001a 8221     		movs	r1, #130
 2524 001c 2046     		mov	r0, r4
 2525 001e FFF7FEFF 		bl	USBD_LL_CloseEP
 2526              	.LVL272:
 467:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 2527              		.loc 1 467 0
 2528 0022 A4F84C50 		strh	r5, [r4, #76]	@ movhi
 468:application-library/usb-cdc-device.c **** 
 2529              		.loc 1 468 0
 2530 0026 A4F84E50 		strh	r5, [r4, #78]	@ movhi
 471:application-library/usb-cdc-device.c ****   {
 2531              		.loc 1 471 0
 2532 002a D4F8BC32 		ldr	r3, [r4, #700]
 2533 002e 3BB1     		cbz	r3, .L222
 473:application-library/usb-cdc-device.c ****     USBD_static_free(p_usbd_instance->pClassDataCmsit);
 2534              		.loc 1 473 0
 2535 0030 D4F8C032 		ldr	r3, [r4, #704]
 2536 0034 5B68     		ldr	r3, [r3, #4]
 2537 0036 9847     		blx	r3
 2538              	.LVL273:
ARM GAS  /tmp/ccf4hwpD.s 			page 110


 475:application-library/usb-cdc-device.c ****     p_usbd_instance->pClassData = NULL;
 2539              		.loc 1 475 0
 2540 0038 C4F8BC52 		str	r5, [r4, #700]
 476:application-library/usb-cdc-device.c ****   }
 2541              		.loc 1 476 0
 2542 003c C4F8B852 		str	r5, [r4, #696]
 2543              	.L222:
 480:application-library/usb-cdc-device.c **** 
 2544              		.loc 1 480 0
 2545 0040 0020     		movs	r0, #0
 2546 0042 38BD     		pop	{r3, r4, r5, pc}
 2547              		.cfi_endproc
 2548              	.LFE140:
 2550              		.section	.text.USBD_LL_FlushEP,"ax",%progbits
 2551              		.align	1
 2552              		.global	USBD_LL_FlushEP
 2553              		.syntax unified
 2554              		.thumb
 2555              		.thumb_func
 2556              		.fpu fpv4-sp-d16
 2558              	USBD_LL_FlushEP:
 2559              	.LFB212:
2783:application-library/usb-cdc-device.c ****   HAL_PCD_EP_Flush(p_usbd_instance->pData, ep_addr);
 2560              		.loc 1 2783 0
 2561              		.cfi_startproc
 2562              		@ args = 0, pretend = 0, frame = 0
 2563              		@ frame_needed = 0, uses_anonymous_args = 0
 2564              	.LVL274:
 2565 0000 08B5     		push	{r3, lr}
 2566              	.LCFI48:
 2567              		.cfi_def_cfa_offset 8
 2568              		.cfi_offset 3, -8
 2569              		.cfi_offset 14, -4
2784:application-library/usb-cdc-device.c **** }
 2570              		.loc 1 2784 0
 2571 0002 D0F8C402 		ldr	r0, [r0, #708]
 2572              	.LVL275:
 2573 0006 FFF7FEFF 		bl	HAL_PCD_EP_Flush
 2574              	.LVL276:
 2575 000a 08BD     		pop	{r3, pc}
 2576              		.cfi_endproc
 2577              	.LFE212:
 2579              		.section	.text.USBD_LL_StallEP,"ax",%progbits
 2580              		.align	1
 2581              		.global	USBD_LL_StallEP
 2582              		.syntax unified
 2583              		.thumb
 2584              		.thumb_func
 2585              		.fpu fpv4-sp-d16
 2587              	USBD_LL_StallEP:
 2588              	.LFB213:
2794:application-library/usb-cdc-device.c ****   HAL_PCD_EP_SetStall(p_usbd_instance->pData, ep_addr);
 2589              		.loc 1 2794 0
 2590              		.cfi_startproc
 2591              		@ args = 0, pretend = 0, frame = 0
 2592              		@ frame_needed = 0, uses_anonymous_args = 0
 2593              	.LVL277:
ARM GAS  /tmp/ccf4hwpD.s 			page 111


 2594 0000 08B5     		push	{r3, lr}
 2595              	.LCFI49:
 2596              		.cfi_def_cfa_offset 8
 2597              		.cfi_offset 3, -8
 2598              		.cfi_offset 14, -4
2795:application-library/usb-cdc-device.c **** }
 2599              		.loc 1 2795 0
 2600 0002 D0F8C402 		ldr	r0, [r0, #708]
 2601              	.LVL278:
 2602 0006 FFF7FEFF 		bl	HAL_PCD_EP_SetStall
 2603              	.LVL279:
 2604 000a 08BD     		pop	{r3, pc}
 2605              		.cfi_endproc
 2606              	.LFE213:
 2608              		.section	.text.USBD_CtlError,"ax",%progbits
 2609              		.align	1
 2610              		.global	USBD_CtlError
 2611              		.syntax unified
 2612              		.thumb
 2613              		.thumb_func
 2614              		.fpu fpv4-sp-d16
 2616              	USBD_CtlError:
 2617              	.LFB186:
2305:application-library/usb-cdc-device.c ****   UNUSED(req);
 2618              		.loc 1 2305 0
 2619              		.cfi_startproc
 2620              		@ args = 0, pretend = 0, frame = 0
 2621              		@ frame_needed = 0, uses_anonymous_args = 0
 2622              	.LVL280:
 2623 0000 10B5     		push	{r4, lr}
 2624              	.LCFI50:
 2625              		.cfi_def_cfa_offset 8
 2626              		.cfi_offset 4, -8
 2627              		.cfi_offset 14, -4
 2628 0002 0446     		mov	r4, r0
2308:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(p_usbd_instance, 0U);
 2629              		.loc 1 2308 0
 2630 0004 8021     		movs	r1, #128
 2631              	.LVL281:
 2632 0006 FFF7FEFF 		bl	USBD_LL_StallEP
 2633              	.LVL282:
2309:application-library/usb-cdc-device.c **** }
 2634              		.loc 1 2309 0
 2635 000a 0021     		movs	r1, #0
 2636 000c 2046     		mov	r0, r4
 2637 000e FFF7FEFF 		bl	USBD_LL_StallEP
 2638              	.LVL283:
 2639 0012 10BD     		pop	{r4, pc}
 2640              		.cfi_endproc
 2641              	.LFE186:
 2643              		.section	.text.USBD_LL_ClearStallEP,"ax",%progbits
 2644              		.align	1
 2645              		.global	USBD_LL_ClearStallEP
 2646              		.syntax unified
 2647              		.thumb
 2648              		.thumb_func
 2649              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccf4hwpD.s 			page 112


 2651              	USBD_LL_ClearStallEP:
 2652              	.LFB214:
2805:application-library/usb-cdc-device.c ****   HAL_PCD_EP_ClrStall(p_usbd_instance->pData, ep_addr);
 2653              		.loc 1 2805 0
 2654              		.cfi_startproc
 2655              		@ args = 0, pretend = 0, frame = 0
 2656              		@ frame_needed = 0, uses_anonymous_args = 0
 2657              	.LVL284:
 2658 0000 08B5     		push	{r3, lr}
 2659              	.LCFI51:
 2660              		.cfi_def_cfa_offset 8
 2661              		.cfi_offset 3, -8
 2662              		.cfi_offset 14, -4
2806:application-library/usb-cdc-device.c **** }
 2663              		.loc 1 2806 0
 2664 0002 D0F8C402 		ldr	r0, [r0, #708]
 2665              	.LVL285:
 2666 0006 FFF7FEFF 		bl	HAL_PCD_EP_ClrStall
 2667              	.LVL286:
 2668 000a 08BD     		pop	{r3, pc}
 2669              		.cfi_endproc
 2670              	.LFE214:
 2672              		.section	.text.USBD_LL_IsStallEP,"ax",%progbits
 2673              		.align	1
 2674              		.global	USBD_LL_IsStallEP
 2675              		.syntax unified
 2676              		.thumb
 2677              		.thumb_func
 2678              		.fpu fpv4-sp-d16
 2680              	USBD_LL_IsStallEP:
 2681              	.LFB215:
2816:application-library/usb-cdc-device.c ****   PCD_HandleTypeDef *hpcd = (PCD_HandleTypeDef*) p_usbd_instance->pData;
 2682              		.loc 1 2816 0
 2683              		.cfi_startproc
 2684              		@ args = 0, pretend = 0, frame = 0
 2685              		@ frame_needed = 0, uses_anonymous_args = 0
 2686              		@ link register save eliminated.
 2687              	.LVL287:
2817:application-library/usb-cdc-device.c **** 
 2688              		.loc 1 2817 0
 2689 0000 D0F8C432 		ldr	r3, [r0, #708]
 2690              	.LVL288:
2819:application-library/usb-cdc-device.c ****   {
 2691              		.loc 1 2819 0
 2692 0004 11F0800F 		tst	r1, #128
 2693 0008 08D1     		bne	.L235
2825:application-library/usb-cdc-device.c ****   }
 2694              		.loc 1 2825 0
 2695 000a 01F07F01 		and	r1, r1, #127
 2696              	.LVL289:
 2697 000e 01EBC101 		add	r1, r1, r1, lsl #3
 2698 0012 8A00     		lsls	r2, r1, #2
 2699 0014 1344     		add	r3, r3, r2
 2700              	.LVL290:
 2701 0016 93F87E02 		ldrb	r0, [r3, #638]	@ zero_extendqisi2
 2702              	.LVL291:
2827:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 113


 2703              		.loc 1 2827 0
 2704 001a 7047     		bx	lr
 2705              	.LVL292:
 2706              	.L235:
2821:application-library/usb-cdc-device.c ****   }
 2707              		.loc 1 2821 0
 2708 001c 01F07F01 		and	r1, r1, #127
 2709              	.LVL293:
 2710 0020 01EBC101 		add	r1, r1, r1, lsl #3
 2711 0024 8A00     		lsls	r2, r1, #2
 2712 0026 1344     		add	r3, r3, r2
 2713              	.LVL294:
 2714 0028 93F83E00 		ldrb	r0, [r3, #62]	@ zero_extendqisi2
 2715              	.LVL295:
 2716 002c 7047     		bx	lr
 2717              		.cfi_endproc
 2718              	.LFE215:
 2720              		.section	.text.USBD_LL_SetUSBAddress,"ax",%progbits
 2721              		.align	1
 2722              		.global	USBD_LL_SetUSBAddress
 2723              		.syntax unified
 2724              		.thumb
 2725              		.thumb_func
 2726              		.fpu fpv4-sp-d16
 2728              	USBD_LL_SetUSBAddress:
 2729              	.LFB216:
2836:application-library/usb-cdc-device.c ****   HAL_PCD_SetAddress(p_usbd_instance->pData, dev_addr);
 2730              		.loc 1 2836 0
 2731              		.cfi_startproc
 2732              		@ args = 0, pretend = 0, frame = 0
 2733              		@ frame_needed = 0, uses_anonymous_args = 0
 2734              	.LVL296:
 2735 0000 08B5     		push	{r3, lr}
 2736              	.LCFI52:
 2737              		.cfi_def_cfa_offset 8
 2738              		.cfi_offset 3, -8
 2739              		.cfi_offset 14, -4
2837:application-library/usb-cdc-device.c **** }
 2740              		.loc 1 2837 0
 2741 0002 D0F8C402 		ldr	r0, [r0, #708]
 2742              	.LVL297:
 2743 0006 FFF7FEFF 		bl	HAL_PCD_SetAddress
 2744              	.LVL298:
 2745 000a 08BD     		pop	{r3, pc}
 2746              		.cfi_endproc
 2747              	.LFE216:
 2749              		.section	.text.USBD_LL_Transmit,"ax",%progbits
 2750              		.align	1
 2751              		.global	USBD_LL_Transmit
 2752              		.syntax unified
 2753              		.thumb
 2754              		.thumb_func
 2755              		.fpu fpv4-sp-d16
 2757              	USBD_LL_Transmit:
 2758              	.LFB217:
2849:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2759              		.loc 1 2849 0
ARM GAS  /tmp/ccf4hwpD.s 			page 114


 2760              		.cfi_startproc
 2761              		@ args = 0, pretend = 0, frame = 0
 2762              		@ frame_needed = 0, uses_anonymous_args = 0
 2763              	.LVL299:
 2764 0000 08B5     		push	{r3, lr}
 2765              	.LCFI53:
 2766              		.cfi_def_cfa_offset 8
 2767              		.cfi_offset 3, -8
 2768              		.cfi_offset 14, -4
 2769              	.LVL300:
2851:application-library/usb-cdc-device.c ****   USBD_Get_USB_Status(hal_status);
 2770              		.loc 1 2851 0
 2771 0002 D0F8C402 		ldr	r0, [r0, #708]
 2772              	.LVL301:
 2773 0006 FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 2774              	.LVL302:
 2775 000a 08BD     		pop	{r3, pc}
 2776              		.cfi_endproc
 2777              	.LFE217:
 2779              		.section	.text.usbd_transmit,"ax",%progbits
 2780              		.align	1
 2781              		.global	usbd_transmit
 2782              		.syntax unified
 2783              		.thumb
 2784              		.thumb_func
 2785              		.fpu fpv4-sp-d16
 2787              	usbd_transmit:
 2788              	.LFB136:
 302:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, Buf, Len);
 2789              		.loc 1 302 0
 2790              		.cfi_startproc
 2791              		@ args = 0, pretend = 0, frame = 0
 2792              		@ frame_needed = 0, uses_anonymous_args = 0
 2793              	.LVL303:
 2794 0000 10B5     		push	{r4, lr}
 2795              	.LCFI54:
 2796              		.cfi_def_cfa_offset 8
 2797              		.cfi_offset 4, -8
 2798              		.cfi_offset 14, -4
 303:application-library/usb-cdc-device.c **** 
 2799              		.loc 1 303 0
 2800 0002 0C4C     		ldr	r4, .L244
 2801 0004 0A46     		mov	r2, r1
 2802 0006 0146     		mov	r1, r0
 2803              	.LVL304:
 2804 0008 2046     		mov	r0, r4
 2805              	.LVL305:
 2806 000a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 2807              	.LVL306:
 308:application-library/usb-cdc-device.c ****   if (hcdc->TxState == 0U)
 2808              		.loc 1 308 0
 2809 000e D4F8BC22 		ldr	r2, [r4, #700]
 2810              	.LVL307:
 309:application-library/usb-cdc-device.c ****   {
 2811              		.loc 1 309 0
 2812 0012 D2F81432 		ldr	r3, [r2, #532]
 2813 0016 03B1     		cbz	r3, .L243
ARM GAS  /tmp/ccf4hwpD.s 			page 115


 2814              	.LVL308:
 2815              	.L240:
 2816 0018 10BD     		pop	{r4, pc}
 2817              	.LVL309:
 2818              	.L243:
 312:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 2819              		.loc 1 312 0
 2820 001a 0123     		movs	r3, #1
 2821 001c C2F81432 		str	r3, [r2, #532]
 314:application-library/usb-cdc-device.c ****     /* Transmit next packet */
 2822              		.loc 1 314 0
 2823 0020 D2F81032 		ldr	r3, [r2, #528]
 2824 0024 2046     		mov	r0, r4
 2825 0026 E362     		str	r3, [r4, #44]
 316:application-library/usb-cdc-device.c ****   }
 2826              		.loc 1 316 0
 2827 0028 D2F80822 		ldr	r2, [r2, #520]
 2828              	.LVL310:
 2829 002c 8121     		movs	r1, #129
 2830 002e FFF7FEFF 		bl	USBD_LL_Transmit
 2831              	.LVL311:
 318:application-library/usb-cdc-device.c **** 
 2832              		.loc 1 318 0
 2833 0032 F1E7     		b	.L240
 2834              	.L245:
 2835              		.align	2
 2836              	.L244:
 2837 0034 00000000 		.word	hUsbDeviceFS
 2838              		.cfi_endproc
 2839              	.LFE136:
 2841              		.section	.text.USBD_CDC_DataIn,"ax",%progbits
 2842              		.align	1
 2843              		.global	USBD_CDC_DataIn
 2844              		.syntax unified
 2845              		.thumb
 2846              		.thumb_func
 2847              		.fpu fpv4-sp-d16
 2849              	USBD_CDC_DataIn:
 2850              	.LFB142:
 595:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc;
 2851              		.loc 1 595 0
 2852              		.cfi_startproc
 2853              		@ args = 0, pretend = 0, frame = 0
 2854              		@ frame_needed = 0, uses_anonymous_args = 0
 2855              	.LVL312:
 2856 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2857              	.LCFI55:
 2858              		.cfi_def_cfa_offset 24
 2859              		.cfi_offset 3, -24
 2860              		.cfi_offset 4, -20
 2861              		.cfi_offset 5, -16
 2862              		.cfi_offset 6, -12
 2863              		.cfi_offset 7, -8
 2864              		.cfi_offset 14, -4
 597:application-library/usb-cdc-device.c **** 
 2865              		.loc 1 597 0
 2866 0002 D0F8C462 		ldr	r6, [r0, #708]
ARM GAS  /tmp/ccf4hwpD.s 			page 116


 2867              	.LVL313:
 599:application-library/usb-cdc-device.c ****   {
 2868              		.loc 1 599 0
 2869 0006 D0F8BC32 		ldr	r3, [r0, #700]
 2870 000a 63B3     		cbz	r3, .L249
 2871              	.LVL314:
 606:application-library/usb-cdc-device.c ****       ((p_usbd_instance->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) ==
 2872              		.loc 1 606 0
 2873 000c 01F00F04 		and	r4, r1, #15
 2874 0010 04EB8405 		add	r5, r4, r4, lsl #2
 2875 0014 AA00     		lsls	r2, r5, #2
 2876 0016 0244     		add	r2, r2, r0
 2877 0018 9269     		ldr	r2, [r2, #24]
 2878 001a 4AB1     		cbz	r2, .L248
 607:application-library/usb-cdc-device.c ****   {
 2879              		.loc 1 607 0 discriminator 1
 2880 001c 04EBC407 		add	r7, r4, r4, lsl #3
 2881 0020 BD00     		lsls	r5, r7, #2
 2882 0022 2E44     		add	r6, r6, r5
 2883              	.LVL315:
 2884 0024 B66C     		ldr	r6, [r6, #72]
 2885 0026 B2FBF6F5 		udiv	r5, r2, r6
 2886 002a 06FB1522 		mls	r2, r6, r5, r2
 606:application-library/usb-cdc-device.c ****       ((p_usbd_instance->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) ==
 2887              		.loc 1 606 0 discriminator 1
 2888 002e 72B1     		cbz	r2, .L252
 2889              	.L248:
 617:application-library/usb-cdc-device.c **** 
 2890              		.loc 1 617 0
 2891 0030 0022     		movs	r2, #0
 2892 0032 C3F81422 		str	r2, [r3, #532]
 2893              	.LVL316:
 619:application-library/usb-cdc-device.c ****     {
 2894              		.loc 1 619 0
 2895 0036 D0F8C022 		ldr	r2, [r0, #704]
 2896 003a 1469     		ldr	r4, [r2, #16]
 2897 003c ACB1     		cbz	r4, .L250
 621:application-library/usb-cdc-device.c ****     }
 2898              		.loc 1 621 0
 2899 003e 0A46     		mov	r2, r1
 2900 0040 03F50471 		add	r1, r3, #528
 2901              	.LVL317:
 2902 0044 D3F80802 		ldr	r0, [r3, #520]
 2903              	.LVL318:
 2904 0048 A047     		blx	r4
 2905              	.LVL319:
 625:application-library/usb-cdc-device.c **** }
 2906              		.loc 1 625 0
 2907 004a 0020     		movs	r0, #0
 2908 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2909              	.LVL320:
 2910              	.L252:
 610:application-library/usb-cdc-device.c **** 
 2911              		.loc 1 610 0
 2912 004e 04EB8404 		add	r4, r4, r4, lsl #2
 2913 0052 A300     		lsls	r3, r4, #2
 2914              	.LVL321:
ARM GAS  /tmp/ccf4hwpD.s 			page 117


 2915 0054 0344     		add	r3, r3, r0
 2916 0056 0024     		movs	r4, #0
 2917 0058 9C61     		str	r4, [r3, #24]
 2918              	.LVL322:
 613:application-library/usb-cdc-device.c ****   }
 2919              		.loc 1 613 0
 2920 005a 2346     		mov	r3, r4
 2921 005c 2246     		mov	r2, r4
 2922 005e FFF7FEFF 		bl	USBD_LL_Transmit
 2923              	.LVL323:
 625:application-library/usb-cdc-device.c **** }
 2924              		.loc 1 625 0
 2925 0062 2046     		mov	r0, r4
 613:application-library/usb-cdc-device.c ****   }
 2926              		.loc 1 613 0
 2927 0064 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2928              	.LVL324:
 2929              	.L249:
 601:application-library/usb-cdc-device.c ****   }
 2930              		.loc 1 601 0
 2931 0066 0320     		movs	r0, #3
 2932              	.LVL325:
 2933 0068 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2934              	.LVL326:
 2935              	.L250:
 625:application-library/usb-cdc-device.c **** }
 2936              		.loc 1 625 0
 2937 006a 0020     		movs	r0, #0
 2938              	.LVL327:
 626:application-library/usb-cdc-device.c **** 
 2939              		.loc 1 626 0
 2940 006c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2941              		.cfi_endproc
 2942              	.LFE142:
 2944              		.section	.text.USBD_CtlSendData,"ax",%progbits
 2945              		.align	1
 2946              		.global	USBD_CtlSendData
 2947              		.syntax unified
 2948              		.thumb
 2949              		.thumb_func
 2950              		.fpu fpv4-sp-d16
 2952              	USBD_CtlSendData:
 2953              	.LFB189:
2380:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 2954              		.loc 1 2380 0
 2955              		.cfi_startproc
 2956              		@ args = 0, pretend = 0, frame = 0
 2957              		@ frame_needed = 0, uses_anonymous_args = 0
 2958              	.LVL328:
 2959 0000 10B5     		push	{r4, lr}
 2960              	.LCFI56:
 2961              		.cfi_def_cfa_offset 8
 2962              		.cfi_offset 4, -8
 2963              		.cfi_offset 14, -4
 2964 0002 1346     		mov	r3, r2
2382:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[0].total_length = len;
 2965              		.loc 1 2382 0
ARM GAS  /tmp/ccf4hwpD.s 			page 118


 2966 0004 0222     		movs	r2, #2
 2967              	.LVL329:
 2968 0006 C0F89422 		str	r2, [r0, #660]
2383:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[0].rem_length = len;
 2969              		.loc 1 2383 0
 2970 000a 8361     		str	r3, [r0, #24]
2384:application-library/usb-cdc-device.c ****   /* Start the transfer */
 2971              		.loc 1 2384 0
 2972 000c C361     		str	r3, [r0, #28]
2386:application-library/usb-cdc-device.c **** }
 2973              		.loc 1 2386 0
 2974 000e 0A46     		mov	r2, r1
 2975 0010 0021     		movs	r1, #0
 2976              	.LVL330:
 2977 0012 FFF7FEFF 		bl	USBD_LL_Transmit
 2978              	.LVL331:
 2979 0016 10BD     		pop	{r4, pc}
 2980              		.cfi_endproc
 2981              	.LFE189:
 2983              		.section	.text.USBD_GetConfig,"ax",%progbits
 2984              		.align	1
 2985              		.global	USBD_GetConfig
 2986              		.syntax unified
 2987              		.thumb
 2988              		.thumb_func
 2989              		.fpu fpv4-sp-d16
 2991              	USBD_GetConfig:
 2992              	.LFB181:
2153:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
 2993              		.loc 1 2153 0
 2994              		.cfi_startproc
 2995              		@ args = 0, pretend = 0, frame = 0
 2996              		@ frame_needed = 0, uses_anonymous_args = 0
 2997              	.LVL332:
 2998 0000 08B5     		push	{r3, lr}
 2999              	.LCFI57:
 3000              		.cfi_def_cfa_offset 8
 3001              		.cfi_offset 3, -8
 3002              		.cfi_offset 14, -4
2154:application-library/usb-cdc-device.c ****   {
 3003              		.loc 1 2154 0
 3004 0002 CB88     		ldrh	r3, [r1, #6]
 3005 0004 012B     		cmp	r3, #1
 3006 0006 0DD1     		bne	.L262
2160:application-library/usb-cdc-device.c ****     {
 3007              		.loc 1 2160 0
 3008 0008 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3009 000c 03F0FF02 		and	r2, r3, #255
 3010 0010 9BB1     		cbz	r3, .L258
 3011 0012 022A     		cmp	r2, #2
 3012 0014 09D9     		bls	.L259
 3013 0016 032A     		cmp	r2, #3
 3014 0018 0FD1     		bne	.L258
2169:application-library/usb-cdc-device.c ****         break;
 3015              		.loc 1 2169 0
 3016 001a 0122     		movs	r2, #1
 3017 001c 011D     		adds	r1, r0, #4
ARM GAS  /tmp/ccf4hwpD.s 			page 119


 3018              	.LVL333:
 3019 001e FFF7FEFF 		bl	USBD_CtlSendData
 3020              	.LVL334:
2170:application-library/usb-cdc-device.c **** 
 3021              		.loc 1 2170 0
 3022 0022 08BD     		pop	{r3, pc}
 3023              	.LVL335:
 3024              	.L262:
2156:application-library/usb-cdc-device.c ****   }
 3025              		.loc 1 2156 0
 3026 0024 FFF7FEFF 		bl	USBD_CtlError
 3027              	.LVL336:
 3028 0028 08BD     		pop	{r3, pc}
 3029              	.LVL337:
 3030              	.L259:
2164:application-library/usb-cdc-device.c ****         USBD_CtlSendData(p_usbd_instance, (uint8_t *)&p_usbd_instance->dev_default_config, 1U);
 3031              		.loc 1 2164 0
 3032 002a 0146     		mov	r1, r0
 3033              	.LVL338:
 3034 002c 0023     		movs	r3, #0
 3035 002e 41F8083F 		str	r3, [r1, #8]!
2165:application-library/usb-cdc-device.c ****         break;
 3036              		.loc 1 2165 0
 3037 0032 0122     		movs	r2, #1
 3038 0034 FFF7FEFF 		bl	USBD_CtlSendData
 3039              	.LVL339:
2166:application-library/usb-cdc-device.c **** 
 3040              		.loc 1 2166 0
 3041 0038 08BD     		pop	{r3, pc}
 3042              	.LVL340:
 3043              	.L258:
2173:application-library/usb-cdc-device.c ****         break;
 3044              		.loc 1 2173 0
 3045 003a FFF7FEFF 		bl	USBD_CtlError
 3046              	.LVL341:
 3047 003e 08BD     		pop	{r3, pc}
 3048              		.cfi_endproc
 3049              	.LFE181:
 3051              		.section	.text.USBD_GetStatus,"ax",%progbits
 3052              		.align	1
 3053              		.global	USBD_GetStatus
 3054              		.syntax unified
 3055              		.thumb
 3056              		.thumb_func
 3057              		.fpu fpv4-sp-d16
 3059              	USBD_GetStatus:
 3060              	.LFB182:
2187:application-library/usb-cdc-device.c ****   switch (p_usbd_instance->dev_state)
 3061              		.loc 1 2187 0
 3062              		.cfi_startproc
 3063              		@ args = 0, pretend = 0, frame = 0
 3064              		@ frame_needed = 0, uses_anonymous_args = 0
 3065              	.LVL342:
 3066 0000 08B5     		push	{r3, lr}
 3067              	.LCFI58:
 3068              		.cfi_def_cfa_offset 8
 3069              		.cfi_offset 3, -8
ARM GAS  /tmp/ccf4hwpD.s 			page 120


 3070              		.cfi_offset 14, -4
2188:application-library/usb-cdc-device.c ****   {
 3071              		.loc 1 2188 0
 3072 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3073 0006 013B     		subs	r3, r3, #1
 3074 0008 022B     		cmp	r3, #2
 3075 000a 12D8     		bhi	.L264
2193:application-library/usb-cdc-device.c ****       {
 3076              		.loc 1 2193 0
 3077 000c CB88     		ldrh	r3, [r1, #6]
 3078 000e 022B     		cmp	r3, #2
 3079 0010 0CD1     		bne	.L270
2200:application-library/usb-cdc-device.c **** #else
 3080              		.loc 1 2200 0
 3081 0012 0123     		movs	r3, #1
 3082 0014 C360     		str	r3, [r0, #12]
2205:application-library/usb-cdc-device.c ****       {
 3083              		.loc 1 2205 0
 3084 0016 D0F8A032 		ldr	r3, [r0, #672]
 3085 001a 0BB1     		cbz	r3, .L268
2207:application-library/usb-cdc-device.c ****       }
 3086              		.loc 1 2207 0
 3087 001c 0323     		movs	r3, #3
 3088 001e C360     		str	r3, [r0, #12]
 3089              	.L268:
2210:application-library/usb-cdc-device.c ****       break;
 3090              		.loc 1 2210 0
 3091 0020 0222     		movs	r2, #2
 3092 0022 00F10C01 		add	r1, r0, #12
 3093              	.LVL343:
 3094 0026 FFF7FEFF 		bl	USBD_CtlSendData
 3095              	.LVL344:
2211:application-library/usb-cdc-device.c **** 
 3096              		.loc 1 2211 0
 3097 002a 08BD     		pop	{r3, pc}
 3098              	.LVL345:
 3099              	.L270:
2195:application-library/usb-cdc-device.c ****         break;
 3100              		.loc 1 2195 0
 3101 002c FFF7FEFF 		bl	USBD_CtlError
 3102              	.LVL346:
2196:application-library/usb-cdc-device.c ****       }
 3103              		.loc 1 2196 0
 3104 0030 08BD     		pop	{r3, pc}
 3105              	.LVL347:
 3106              	.L264:
2214:application-library/usb-cdc-device.c ****       break;
 3107              		.loc 1 2214 0
 3108 0032 FFF7FEFF 		bl	USBD_CtlError
 3109              	.LVL348:
 3110 0036 08BD     		pop	{r3, pc}
 3111              		.cfi_endproc
 3112              	.LFE182:
 3114              		.section	.text.USBD_CtlContinueSendData,"ax",%progbits
 3115              		.align	1
 3116              		.global	USBD_CtlContinueSendData
 3117              		.syntax unified
ARM GAS  /tmp/ccf4hwpD.s 			page 121


 3118              		.thumb
 3119              		.thumb_func
 3120              		.fpu fpv4-sp-d16
 3122              	USBD_CtlContinueSendData:
 3123              	.LFB190:
2399:application-library/usb-cdc-device.c ****   /* Start the next transfer */
 3124              		.loc 1 2399 0
 3125              		.cfi_startproc
 3126              		@ args = 0, pretend = 0, frame = 0
 3127              		@ frame_needed = 0, uses_anonymous_args = 0
 3128              	.LVL349:
 3129 0000 08B5     		push	{r3, lr}
 3130              	.LCFI59:
 3131              		.cfi_def_cfa_offset 8
 3132              		.cfi_offset 3, -8
 3133              		.cfi_offset 14, -4
2401:application-library/usb-cdc-device.c **** }
 3134              		.loc 1 2401 0
 3135 0002 1346     		mov	r3, r2
 3136 0004 0A46     		mov	r2, r1
 3137              	.LVL350:
 3138 0006 0021     		movs	r1, #0
 3139              	.LVL351:
 3140 0008 FFF7FEFF 		bl	USBD_LL_Transmit
 3141              	.LVL352:
 3142 000c 08BD     		pop	{r3, pc}
 3143              		.cfi_endproc
 3144              	.LFE190:
 3146              		.section	.text.USBD_CtlSendStatus,"ax",%progbits
 3147              		.align	1
 3148              		.global	USBD_CtlSendStatus
 3149              		.syntax unified
 3150              		.thumb
 3151              		.thumb_func
 3152              		.fpu fpv4-sp-d16
 3154              	USBD_CtlSendStatus:
 3155              	.LFB193:
2447:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 3156              		.loc 1 2447 0
 3157              		.cfi_startproc
 3158              		@ args = 0, pretend = 0, frame = 0
 3159              		@ frame_needed = 0, uses_anonymous_args = 0
 3160              	.LVL353:
 3161 0000 08B5     		push	{r3, lr}
 3162              	.LCFI60:
 3163              		.cfi_def_cfa_offset 8
 3164              		.cfi_offset 3, -8
 3165              		.cfi_offset 14, -4
2449:application-library/usb-cdc-device.c **** 
 3166              		.loc 1 2449 0
 3167 0002 0422     		movs	r2, #4
 3168 0004 C0F89422 		str	r2, [r0, #660]
2452:application-library/usb-cdc-device.c **** }
 3169              		.loc 1 2452 0
 3170 0008 0023     		movs	r3, #0
 3171 000a 1A46     		mov	r2, r3
 3172 000c 1946     		mov	r1, r3
ARM GAS  /tmp/ccf4hwpD.s 			page 122


 3173 000e FFF7FEFF 		bl	USBD_LL_Transmit
 3174              	.LVL354:
 3175 0012 08BD     		pop	{r3, pc}
 3176              		.cfi_endproc
 3177              	.LFE193:
 3179              		.section	.text.USBD_StdItfReq,"ax",%progbits
 3180              		.align	1
 3181              		.global	USBD_StdItfReq
 3182              		.syntax unified
 3183              		.thumb
 3184              		.thumb_func
 3185              		.fpu fpv4-sp-d16
 3187              	USBD_StdItfReq:
 3188              	.LFB176:
1612:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 3189              		.loc 1 1612 0
 3190              		.cfi_startproc
 3191              		@ args = 0, pretend = 0, frame = 0
 3192              		@ frame_needed = 0, uses_anonymous_args = 0
 3193              	.LVL355:
 3194 0000 70B5     		push	{r4, r5, r6, lr}
 3195              	.LCFI61:
 3196              		.cfi_def_cfa_offset 16
 3197              		.cfi_offset 4, -16
 3198              		.cfi_offset 5, -12
 3199              		.cfi_offset 6, -8
 3200              		.cfi_offset 14, -4
 3201 0002 0546     		mov	r5, r0
 3202 0004 0C46     		mov	r4, r1
 3203              	.LVL356:
1616:application-library/usb-cdc-device.c ****   {
 3204              		.loc 1 1616 0
 3205 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 3206 0008 03F06003 		and	r3, r3, #96
 3207 000c 202B     		cmp	r3, #32
 3208 000e 07D0     		beq	.L277
 3209 0010 402B     		cmp	r3, #64
 3210 0012 05D0     		beq	.L277
 3211 0014 23B1     		cbz	r3, .L277
1669:application-library/usb-cdc-device.c ****       break;
 3212              		.loc 1 1669 0
 3213 0016 FFF7FEFF 		bl	USBD_CtlError
 3214              	.LVL357:
1613:application-library/usb-cdc-device.c ****   uint8_t idx;
 3215              		.loc 1 1613 0
 3216 001a 0026     		movs	r6, #0
 3217              	.LVL358:
 3218              	.L282:
1674:application-library/usb-cdc-device.c **** 
 3219              		.loc 1 1674 0
 3220 001c 3046     		mov	r0, r6
 3221 001e 70BD     		pop	{r4, r5, r6, pc}
 3222              	.LVL359:
 3223              	.L277:
1621:application-library/usb-cdc-device.c ****       {
 3224              		.loc 1 1621 0
 3225 0020 95F89C32 		ldrb	r3, [r5, #668]	@ zero_extendqisi2
ARM GAS  /tmp/ccf4hwpD.s 			page 123


 3226 0024 013B     		subs	r3, r3, #1
 3227 0026 022B     		cmp	r3, #2
 3228 0028 1BD8     		bhi	.L278
1627:application-library/usb-cdc-device.c ****           {
 3229              		.loc 1 1627 0
 3230 002a 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 3231 002c 012B     		cmp	r3, #1
 3232 002e 12D8     		bhi	.L280
 3233              	.LVL360:
1634:application-library/usb-cdc-device.c ****               {
 3234              		.loc 1 1634 0
 3235 0030 D5F8B432 		ldr	r3, [r5, #692]
 3236 0034 9B68     		ldr	r3, [r3, #8]
 3237 0036 63B1     		cbz	r3, .L283
1637:application-library/usb-cdc-device.c ****               }
 3238              		.loc 1 1637 0
 3239 0038 2146     		mov	r1, r4
 3240              	.LVL361:
 3241 003a 2846     		mov	r0, r5
 3242              	.LVL362:
 3243 003c 9847     		blx	r3
 3244              	.LVL363:
 3245 003e 0646     		mov	r6, r0
 3246              	.LVL364:
 3247              	.L281:
1651:application-library/usb-cdc-device.c ****             {
 3248              		.loc 1 1651 0
 3249 0040 E388     		ldrh	r3, [r4, #6]
 3250 0042 002B     		cmp	r3, #0
 3251 0044 EAD1     		bne	.L282
1651:application-library/usb-cdc-device.c ****             {
 3252              		.loc 1 1651 0 is_stmt 0 discriminator 1
 3253 0046 002E     		cmp	r6, #0
 3254 0048 E8D1     		bne	.L282
1653:application-library/usb-cdc-device.c ****             }
 3255              		.loc 1 1653 0 is_stmt 1
 3256 004a 2846     		mov	r0, r5
 3257 004c FFF7FEFF 		bl	USBD_CtlSendStatus
 3258              	.LVL365:
 3259 0050 E4E7     		b	.L282
 3260              	.LVL366:
 3261              	.L283:
1642:application-library/usb-cdc-device.c ****               }
 3262              		.loc 1 1642 0
 3263 0052 0326     		movs	r6, #3
 3264 0054 F4E7     		b	.L281
 3265              	.LVL367:
 3266              	.L280:
1658:application-library/usb-cdc-device.c ****           }
 3267              		.loc 1 1658 0
 3268 0056 2146     		mov	r1, r4
 3269              	.LVL368:
 3270 0058 2846     		mov	r0, r5
 3271              	.LVL369:
 3272 005a FFF7FEFF 		bl	USBD_CtlError
 3273              	.LVL370:
1613:application-library/usb-cdc-device.c ****   uint8_t idx;
ARM GAS  /tmp/ccf4hwpD.s 			page 124


 3274              		.loc 1 1613 0
 3275 005e 0026     		movs	r6, #0
 3276 0060 DCE7     		b	.L282
 3277              	.LVL371:
 3278              	.L278:
1663:application-library/usb-cdc-device.c ****           break;
 3279              		.loc 1 1663 0
 3280 0062 2146     		mov	r1, r4
 3281              	.LVL372:
 3282 0064 2846     		mov	r0, r5
 3283              	.LVL373:
 3284 0066 FFF7FEFF 		bl	USBD_CtlError
 3285              	.LVL374:
1613:application-library/usb-cdc-device.c ****   uint8_t idx;
 3286              		.loc 1 1613 0
 3287 006a 0026     		movs	r6, #0
1664:application-library/usb-cdc-device.c ****       }
 3288              		.loc 1 1664 0
 3289 006c D6E7     		b	.L282
 3290              		.cfi_endproc
 3291              	.LFE176:
 3293              		.section	.text.USBD_StdEPReq,"ax",%progbits
 3294              		.align	1
 3295              		.global	USBD_StdEPReq
 3296              		.syntax unified
 3297              		.thumb
 3298              		.thumb_func
 3299              		.fpu fpv4-sp-d16
 3301              	USBD_StdEPReq:
 3302              	.LFB177:
1683:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 3303              		.loc 1 1683 0
 3304              		.cfi_startproc
 3305              		@ args = 0, pretend = 0, frame = 0
 3306              		@ frame_needed = 0, uses_anonymous_args = 0
 3307              	.LVL375:
 3308 0000 70B5     		push	{r4, r5, r6, lr}
 3309              	.LCFI62:
 3310              		.cfi_def_cfa_offset 16
 3311              		.cfi_offset 4, -16
 3312              		.cfi_offset 5, -12
 3313              		.cfi_offset 6, -8
 3314              		.cfi_offset 14, -4
 3315 0002 0546     		mov	r5, r0
 3316 0004 0C46     		mov	r4, r1
 3317              	.LVL376:
1689:application-library/usb-cdc-device.c **** 
 3318              		.loc 1 1689 0
 3319 0006 8A88     		ldrh	r2, [r1, #4]
 3320 0008 D6B2     		uxtb	r6, r2
 3321              	.LVL377:
1691:application-library/usb-cdc-device.c ****   {
 3322              		.loc 1 1691 0
 3323 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 3324 000c 03F06003 		and	r3, r3, #96
 3325 0010 202B     		cmp	r3, #32
 3326 0012 06D0     		beq	.L288
ARM GAS  /tmp/ccf4hwpD.s 			page 125


 3327 0014 402B     		cmp	r3, #64
 3328 0016 04D0     		beq	.L288
 3329 0018 A3B1     		cbz	r3, .L330
1856:application-library/usb-cdc-device.c ****       break;
 3330              		.loc 1 1856 0
 3331 001a FFF7FEFF 		bl	USBD_CtlError
 3332              	.LVL378:
1687:application-library/usb-cdc-device.c **** 
 3333              		.loc 1 1687 0
 3334 001e 0020     		movs	r0, #0
1857:application-library/usb-cdc-device.c ****   }
 3335              		.loc 1 1857 0
 3336 0020 70BD     		pop	{r4, r5, r6, pc}
 3337              	.LVL379:
 3338              	.L288:
1696:application-library/usb-cdc-device.c ****       if ((uint8_t)idx != 0xFFU)
 3339              		.loc 1 1696 0
 3340 0022 3146     		mov	r1, r6
 3341              	.LVL380:
 3342 0024 2846     		mov	r0, r5
 3343              	.LVL381:
 3344 0026 FFF7FEFF 		bl	USBD_CoreFindEP
 3345              	.LVL382:
1697:application-library/usb-cdc-device.c ****       {
 3346              		.loc 1 1697 0
 3347 002a FF28     		cmp	r0, #255
 3348 002c 00F0FA80 		beq	.L319
1701:application-library/usb-cdc-device.c ****         {
 3349              		.loc 1 1701 0
 3350 0030 D5F8B432 		ldr	r3, [r5, #692]
 3351 0034 9B68     		ldr	r3, [r3, #8]
 3352 0036 002B     		cmp	r3, #0
 3353 0038 00F0F680 		beq	.L320
1703:application-library/usb-cdc-device.c ****         }
 3354              		.loc 1 1703 0
 3355 003c 2146     		mov	r1, r4
 3356 003e 2846     		mov	r0, r5
 3357              	.LVL383:
 3358 0040 9847     		blx	r3
 3359              	.LVL384:
 3360 0042 70BD     		pop	{r4, r5, r6, pc}
 3361              	.LVL385:
 3362              	.L330:
1709:application-library/usb-cdc-device.c ****       {
 3363              		.loc 1 1709 0
 3364 0044 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 3365 0046 012B     		cmp	r3, #1
 3366 0048 31D0     		beq	.L292
 3367 004a 002B     		cmp	r3, #0
 3368 004c 6BD0     		beq	.L293
 3369 004e 032B     		cmp	r3, #3
 3370 0050 40F0E480 		bne	.L325
1712:application-library/usb-cdc-device.c ****           {
 3371              		.loc 1 1712 0
 3372 0054 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3373 0058 DBB2     		uxtb	r3, r3
 3374 005a 022B     		cmp	r3, #2
ARM GAS  /tmp/ccf4hwpD.s 			page 126


 3375 005c 05D0     		beq	.L296
 3376 005e 032B     		cmp	r3, #3
 3377 0060 15D0     		beq	.L297
1739:application-library/usb-cdc-device.c ****               break;
 3378              		.loc 1 1739 0
 3379 0062 FFF7FEFF 		bl	USBD_CtlError
 3380              	.LVL386:
1687:application-library/usb-cdc-device.c **** 
 3381              		.loc 1 1687 0
 3382 0066 0020     		movs	r0, #0
1740:application-library/usb-cdc-device.c ****           }
 3383              		.loc 1 1740 0
 3384 0068 70BD     		pop	{r4, r5, r6, pc}
 3385              	.LVL387:
 3386              	.L296:
1715:application-library/usb-cdc-device.c ****               {
 3387              		.loc 1 1715 0
 3388 006a 56B1     		cbz	r6, .L298
1715:application-library/usb-cdc-device.c ****               {
 3389              		.loc 1 1715 0 is_stmt 0 discriminator 1
 3390 006c 802E     		cmp	r6, #128
 3391 006e 08D0     		beq	.L298
1717:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(p_usbd_instance, 0x80U);
 3392              		.loc 1 1717 0 is_stmt 1
 3393 0070 3146     		mov	r1, r6
 3394              	.LVL388:
 3395 0072 FFF7FEFF 		bl	USBD_LL_StallEP
 3396              	.LVL389:
1718:application-library/usb-cdc-device.c ****               }
 3397              		.loc 1 1718 0
 3398 0076 8021     		movs	r1, #128
 3399 0078 2846     		mov	r0, r5
 3400 007a FFF7FEFF 		bl	USBD_LL_StallEP
 3401              	.LVL390:
1687:application-library/usb-cdc-device.c **** 
 3402              		.loc 1 1687 0
 3403 007e 0020     		movs	r0, #0
1718:application-library/usb-cdc-device.c ****               }
 3404              		.loc 1 1718 0
 3405 0080 70BD     		pop	{r4, r5, r6, pc}
 3406              	.LVL391:
 3407              	.L298:
1722:application-library/usb-cdc-device.c ****               }
 3408              		.loc 1 1722 0
 3409 0082 2146     		mov	r1, r4
 3410              	.LVL392:
 3411 0084 2846     		mov	r0, r5
 3412              	.LVL393:
 3413 0086 FFF7FEFF 		bl	USBD_CtlError
 3414              	.LVL394:
1687:application-library/usb-cdc-device.c **** 
 3415              		.loc 1 1687 0
 3416 008a 0020     		movs	r0, #0
 3417 008c 70BD     		pop	{r4, r5, r6, pc}
 3418              	.LVL395:
 3419              	.L297:
1727:application-library/usb-cdc-device.c ****               {
ARM GAS  /tmp/ccf4hwpD.s 			page 127


 3420              		.loc 1 1727 0
 3421 008e 4B88     		ldrh	r3, [r1, #2]
 3422 0090 23B9     		cbnz	r3, .L299
1729:application-library/usb-cdc-device.c ****                 {
 3423              		.loc 1 1729 0
 3424 0092 1EB1     		cbz	r6, .L299
1729:application-library/usb-cdc-device.c ****                 {
 3425              		.loc 1 1729 0 is_stmt 0 discriminator 1
 3426 0094 802E     		cmp	r6, #128
 3427 0096 01D0     		beq	.L299
1729:application-library/usb-cdc-device.c ****                 {
 3428              		.loc 1 1729 0 discriminator 2
 3429 0098 CB88     		ldrh	r3, [r1, #6]
 3430 009a 23B1     		cbz	r3, .L331
 3431              	.LVL396:
 3432              	.L299:
1734:application-library/usb-cdc-device.c **** 
 3433              		.loc 1 1734 0 is_stmt 1
 3434 009c 2846     		mov	r0, r5
 3435 009e FFF7FEFF 		bl	USBD_CtlSendStatus
 3436              	.LVL397:
1687:application-library/usb-cdc-device.c **** 
 3437              		.loc 1 1687 0
 3438 00a2 0020     		movs	r0, #0
1736:application-library/usb-cdc-device.c **** 
 3439              		.loc 1 1736 0
 3440 00a4 70BD     		pop	{r4, r5, r6, pc}
 3441              	.LVL398:
 3442              	.L331:
1731:application-library/usb-cdc-device.c ****                 }
 3443              		.loc 1 1731 0
 3444 00a6 3146     		mov	r1, r6
 3445              	.LVL399:
 3446 00a8 FFF7FEFF 		bl	USBD_LL_StallEP
 3447              	.LVL400:
 3448 00ac F6E7     		b	.L299
 3449              	.LVL401:
 3450              	.L292:
1746:application-library/usb-cdc-device.c ****           {
 3451              		.loc 1 1746 0
 3452 00ae 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3453 00b2 DBB2     		uxtb	r3, r3
 3454 00b4 022B     		cmp	r3, #2
 3455 00b6 05D0     		beq	.L301
 3456 00b8 032B     		cmp	r3, #3
 3457 00ba 15D0     		beq	.L302
1784:application-library/usb-cdc-device.c ****               break;
 3458              		.loc 1 1784 0
 3459 00bc FFF7FEFF 		bl	USBD_CtlError
 3460              	.LVL402:
1687:application-library/usb-cdc-device.c **** 
 3461              		.loc 1 1687 0
 3462 00c0 0020     		movs	r0, #0
1785:application-library/usb-cdc-device.c ****           }
 3463              		.loc 1 1785 0
 3464 00c2 70BD     		pop	{r4, r5, r6, pc}
 3465              	.LVL403:
ARM GAS  /tmp/ccf4hwpD.s 			page 128


 3466              	.L301:
1749:application-library/usb-cdc-device.c ****               {
 3467              		.loc 1 1749 0
 3468 00c4 56B1     		cbz	r6, .L303
1749:application-library/usb-cdc-device.c ****               {
 3469              		.loc 1 1749 0 is_stmt 0 discriminator 1
 3470 00c6 802E     		cmp	r6, #128
 3471 00c8 08D0     		beq	.L303
1751:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(p_usbd_instance, 0x80U);
 3472              		.loc 1 1751 0 is_stmt 1
 3473 00ca 3146     		mov	r1, r6
 3474              	.LVL404:
 3475 00cc FFF7FEFF 		bl	USBD_LL_StallEP
 3476              	.LVL405:
1752:application-library/usb-cdc-device.c ****               }
 3477              		.loc 1 1752 0
 3478 00d0 8021     		movs	r1, #128
 3479 00d2 2846     		mov	r0, r5
 3480 00d4 FFF7FEFF 		bl	USBD_LL_StallEP
 3481              	.LVL406:
1687:application-library/usb-cdc-device.c **** 
 3482              		.loc 1 1687 0
 3483 00d8 0020     		movs	r0, #0
1752:application-library/usb-cdc-device.c ****               }
 3484              		.loc 1 1752 0
 3485 00da 70BD     		pop	{r4, r5, r6, pc}
 3486              	.LVL407:
 3487              	.L303:
1756:application-library/usb-cdc-device.c ****               }
 3488              		.loc 1 1756 0
 3489 00dc 2146     		mov	r1, r4
 3490              	.LVL408:
 3491 00de 2846     		mov	r0, r5
 3492              	.LVL409:
 3493 00e0 FFF7FEFF 		bl	USBD_CtlError
 3494              	.LVL410:
1687:application-library/usb-cdc-device.c **** 
 3495              		.loc 1 1687 0
 3496 00e4 0020     		movs	r0, #0
 3497 00e6 70BD     		pop	{r4, r5, r6, pc}
 3498              	.LVL411:
 3499              	.L302:
1761:application-library/usb-cdc-device.c ****               {
 3500              		.loc 1 1761 0
 3501 00e8 4B88     		ldrh	r3, [r1, #2]
 3502 00ea 002B     		cmp	r3, #0
 3503 00ec 40F09E80 		bne	.L321
1763:application-library/usb-cdc-device.c ****                 {
 3504              		.loc 1 1763 0
 3505 00f0 16F07F0F 		tst	r6, #127
 3506 00f4 13D1     		bne	.L332
 3507              	.LVL412:
 3508              	.L304:
1767:application-library/usb-cdc-device.c **** 
 3509              		.loc 1 1767 0
 3510 00f6 2846     		mov	r0, r5
 3511 00f8 FFF7FEFF 		bl	USBD_CtlSendStatus
ARM GAS  /tmp/ccf4hwpD.s 			page 129


 3512              	.LVL413:
1770:application-library/usb-cdc-device.c ****                 if ((uint8_t)idx != 0xFFU)
 3513              		.loc 1 1770 0
 3514 00fc 3146     		mov	r1, r6
 3515 00fe 2846     		mov	r0, r5
 3516 0100 FFF7FEFF 		bl	USBD_CoreFindEP
 3517              	.LVL414:
1771:application-library/usb-cdc-device.c ****                 {
 3518              		.loc 1 1771 0
 3519 0104 FF28     		cmp	r0, #255
 3520 0106 00F09380 		beq	.L322
1775:application-library/usb-cdc-device.c ****                   {
 3521              		.loc 1 1775 0
 3522 010a D5F8B432 		ldr	r3, [r5, #692]
 3523 010e 9B68     		ldr	r3, [r3, #8]
 3524 0110 002B     		cmp	r3, #0
 3525 0112 00F08F80 		beq	.L323
1777:application-library/usb-cdc-device.c ****                   }
 3526              		.loc 1 1777 0
 3527 0116 2146     		mov	r1, r4
 3528 0118 2846     		mov	r0, r5
 3529              	.LVL415:
 3530 011a 9847     		blx	r3
 3531              	.LVL416:
 3532 011c 70BD     		pop	{r4, r5, r6, pc}
 3533              	.LVL417:
 3534              	.L332:
1765:application-library/usb-cdc-device.c ****                 }
 3535              		.loc 1 1765 0
 3536 011e 3146     		mov	r1, r6
 3537              	.LVL418:
 3538 0120 FFF7FEFF 		bl	USBD_LL_ClearStallEP
 3539              	.LVL419:
 3540 0124 E7E7     		b	.L304
 3541              	.LVL420:
 3542              	.L293:
1790:application-library/usb-cdc-device.c ****           {
 3543              		.loc 1 1790 0
 3544 0126 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3545 012a DBB2     		uxtb	r3, r3
 3546 012c 022B     		cmp	r3, #2
 3547 012e 05D0     		beq	.L306
 3548 0130 032B     		cmp	r3, #3
 3549 0132 28D0     		beq	.L307
1844:application-library/usb-cdc-device.c ****               break;
 3550              		.loc 1 1844 0
 3551 0134 FFF7FEFF 		bl	USBD_CtlError
 3552              	.LVL421:
1687:application-library/usb-cdc-device.c **** 
 3553              		.loc 1 1687 0
 3554 0138 0020     		movs	r0, #0
1845:application-library/usb-cdc-device.c ****           }
 3555              		.loc 1 1845 0
 3556 013a 70BD     		pop	{r4, r5, r6, pc}
 3557              	.LVL422:
 3558              	.L306:
1793:application-library/usb-cdc-device.c ****               {
ARM GAS  /tmp/ccf4hwpD.s 			page 130


 3559              		.loc 1 1793 0
 3560 013c 0EB1     		cbz	r6, .L308
1793:application-library/usb-cdc-device.c ****               {
 3561              		.loc 1 1793 0 is_stmt 0 discriminator 1
 3562 013e 802E     		cmp	r6, #128
 3563 0140 13D1     		bne	.L333
 3564              	.L308:
1798:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
 3565              		.loc 1 1798 0 is_stmt 1
 3566 0142 12F0800F 		tst	r2, #128
 3567 0146 14D1     		bne	.L334
1799:application-library/usb-cdc-device.c **** 
 3568              		.loc 1 1799 0 discriminator 2
 3569 0148 06F07F06 		and	r6, r6, #127
 3570              	.LVL423:
1798:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
 3571              		.loc 1 1798 0 discriminator 2
 3572 014c 06EB8606 		add	r6, r6, r6, lsl #2
 3573 0150 B300     		lsls	r3, r6, #2
 3574 0152 03F5A871 		add	r1, r3, #336
 3575              	.LVL424:
 3576 0156 2944     		add	r1, r1, r5
 3577 0158 0431     		adds	r1, r1, #4
 3578              	.L310:
 3579              	.LVL425:
1801:application-library/usb-cdc-device.c **** 
 3580              		.loc 1 1801 0 discriminator 4
 3581 015a 0024     		movs	r4, #0
 3582              	.LVL426:
 3583 015c 0C60     		str	r4, [r1]
1803:application-library/usb-cdc-device.c ****               break;
 3584              		.loc 1 1803 0 discriminator 4
 3585 015e 0222     		movs	r2, #2
 3586              	.LVL427:
 3587 0160 2846     		mov	r0, r5
 3588              	.LVL428:
 3589 0162 FFF7FEFF 		bl	USBD_CtlSendData
 3590              	.LVL429:
1687:application-library/usb-cdc-device.c **** 
 3591              		.loc 1 1687 0 discriminator 4
 3592 0166 2046     		mov	r0, r4
1804:application-library/usb-cdc-device.c **** 
 3593              		.loc 1 1804 0 discriminator 4
 3594 0168 70BD     		pop	{r4, r5, r6, pc}
 3595              	.LVL430:
 3596              	.L333:
1795:application-library/usb-cdc-device.c ****                 break;
 3597              		.loc 1 1795 0
 3598 016a FFF7FEFF 		bl	USBD_CtlError
 3599              	.LVL431:
1687:application-library/usb-cdc-device.c **** 
 3600              		.loc 1 1687 0
 3601 016e 0020     		movs	r0, #0
1796:application-library/usb-cdc-device.c ****               }
 3602              		.loc 1 1796 0
 3603 0170 70BD     		pop	{r4, r5, r6, pc}
 3604              	.LVL432:
ARM GAS  /tmp/ccf4hwpD.s 			page 131


 3605              	.L334:
1798:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
 3606              		.loc 1 1798 0 discriminator 1
 3607 0172 06F07F06 		and	r6, r6, #127
 3608              	.LVL433:
 3609 0176 06EB8606 		add	r6, r6, r6, lsl #2
 3610 017a B300     		lsls	r3, r6, #2
 3611 017c 03F11001 		add	r1, r3, #16
 3612              	.LVL434:
 3613 0180 2944     		add	r1, r1, r5
 3614 0182 0431     		adds	r1, r1, #4
 3615 0184 E9E7     		b	.L310
 3616              	.LVL435:
 3617              	.L307:
1807:application-library/usb-cdc-device.c ****               {
 3618              		.loc 1 1807 0
 3619 0186 52B2     		sxtb	r2, r2
 3620 0188 002A     		cmp	r2, #0
 3621 018a 1EDB     		blt	.L335
1817:application-library/usb-cdc-device.c ****                 {
 3622              		.loc 1 1817 0
 3623 018c 06F00F03 		and	r3, r6, #15
 3624 0190 03EB8303 		add	r3, r3, r3, lsl #2
 3625 0194 9900     		lsls	r1, r3, #2
 3626              	.LVL436:
 3627 0196 0144     		add	r1, r1, r0
 3628 0198 B1F86431 		ldrh	r3, [r1, #356]
 3629 019c 1BB3     		cbz	r3, .L336
 3630              	.L312:
1824:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
 3631              		.loc 1 1824 0
 3632 019e 002A     		cmp	r2, #0
 3633 01a0 26DB     		blt	.L337
1825:application-library/usb-cdc-device.c **** 
 3634              		.loc 1 1825 0 discriminator 2
 3635 01a2 06F07F02 		and	r2, r6, #127
1824:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
 3636              		.loc 1 1824 0 discriminator 2
 3637 01a6 02EB8202 		add	r2, r2, r2, lsl #2
 3638 01aa 9300     		lsls	r3, r2, #2
 3639 01ac 03F5A874 		add	r4, r3, #336
 3640              	.LVL437:
 3641 01b0 2C44     		add	r4, r4, r5
 3642 01b2 0434     		adds	r4, r4, #4
 3643              	.L314:
 3644              	.LVL438:
1827:application-library/usb-cdc-device.c ****               {
 3645              		.loc 1 1827 0 discriminator 4
 3646 01b4 36B3     		cbz	r6, .L315
1827:application-library/usb-cdc-device.c ****               {
 3647              		.loc 1 1827 0 is_stmt 0 discriminator 1
 3648 01b6 802E     		cmp	r6, #128
 3649 01b8 24D0     		beq	.L315
1831:application-library/usb-cdc-device.c ****               {
 3650              		.loc 1 1831 0 is_stmt 1
 3651 01ba 3146     		mov	r1, r6
 3652 01bc 2846     		mov	r0, r5
ARM GAS  /tmp/ccf4hwpD.s 			page 132


 3653              	.LVL439:
 3654 01be FFF7FEFF 		bl	USBD_LL_IsStallEP
 3655              	.LVL440:
 3656 01c2 40B3     		cbz	r0, .L318
1833:application-library/usb-cdc-device.c ****               }
 3657              		.loc 1 1833 0
 3658 01c4 0123     		movs	r3, #1
 3659 01c6 2360     		str	r3, [r4]
 3660 01c8 1EE0     		b	.L317
 3661              	.LVL441:
 3662              	.L335:
1809:application-library/usb-cdc-device.c ****                 {
 3663              		.loc 1 1809 0
 3664 01ca 06F00F03 		and	r3, r6, #15
 3665 01ce 03EB8303 		add	r3, r3, r3, lsl #2
 3666 01d2 9900     		lsls	r1, r3, #2
 3667              	.LVL442:
 3668 01d4 0144     		add	r1, r1, r0
 3669 01d6 8B8C     		ldrh	r3, [r1, #36]
 3670 01d8 002B     		cmp	r3, #0
 3671 01da E0D1     		bne	.L312
1811:application-library/usb-cdc-device.c ****                   break;
 3672              		.loc 1 1811 0
 3673 01dc 2146     		mov	r1, r4
 3674 01de FFF7FEFF 		bl	USBD_CtlError
 3675              	.LVL443:
1687:application-library/usb-cdc-device.c **** 
 3676              		.loc 1 1687 0
 3677 01e2 0020     		movs	r0, #0
1812:application-library/usb-cdc-device.c ****                 }
 3678              		.loc 1 1812 0
 3679 01e4 70BD     		pop	{r4, r5, r6, pc}
 3680              	.LVL444:
 3681              	.L336:
1819:application-library/usb-cdc-device.c ****                   break;
 3682              		.loc 1 1819 0
 3683 01e6 2146     		mov	r1, r4
 3684 01e8 FFF7FEFF 		bl	USBD_CtlError
 3685              	.LVL445:
1687:application-library/usb-cdc-device.c **** 
 3686              		.loc 1 1687 0
 3687 01ec 0020     		movs	r0, #0
1820:application-library/usb-cdc-device.c ****                 }
 3688              		.loc 1 1820 0
 3689 01ee 70BD     		pop	{r4, r5, r6, pc}
 3690              	.LVL446:
 3691              	.L337:
1824:application-library/usb-cdc-device.c ****                     &p_usbd_instance->ep_out[ep_addr & 0x7FU];
 3692              		.loc 1 1824 0 discriminator 1
 3693 01f0 06F07F02 		and	r2, r6, #127
 3694 01f4 02EB8202 		add	r2, r2, r2, lsl #2
 3695 01f8 9300     		lsls	r3, r2, #2
 3696 01fa 03F11004 		add	r4, r3, #16
 3697              	.LVL447:
 3698 01fe 2C44     		add	r4, r4, r5
 3699 0200 0434     		adds	r4, r4, #4
 3700 0202 D7E7     		b	.L314
ARM GAS  /tmp/ccf4hwpD.s 			page 133


 3701              	.LVL448:
 3702              	.L315:
1829:application-library/usb-cdc-device.c ****               }
 3703              		.loc 1 1829 0
 3704 0204 0023     		movs	r3, #0
 3705 0206 2360     		str	r3, [r4]
 3706              	.LVL449:
 3707              	.L317:
1840:application-library/usb-cdc-device.c ****               break;
 3708              		.loc 1 1840 0
 3709 0208 0222     		movs	r2, #2
 3710 020a 2146     		mov	r1, r4
 3711 020c 2846     		mov	r0, r5
 3712 020e FFF7FEFF 		bl	USBD_CtlSendData
 3713              	.LVL450:
1687:application-library/usb-cdc-device.c **** 
 3714              		.loc 1 1687 0
 3715 0212 0020     		movs	r0, #0
1841:application-library/usb-cdc-device.c **** 
 3716              		.loc 1 1841 0
 3717 0214 70BD     		pop	{r4, r5, r6, pc}
 3718              	.LVL451:
 3719              	.L318:
1837:application-library/usb-cdc-device.c ****               }
 3720              		.loc 1 1837 0
 3721 0216 0023     		movs	r3, #0
 3722 0218 2360     		str	r3, [r4]
 3723 021a F5E7     		b	.L317
 3724              	.LVL452:
 3725              	.L325:
1850:application-library/usb-cdc-device.c ****           break;
 3726              		.loc 1 1850 0
 3727 021c FFF7FEFF 		bl	USBD_CtlError
 3728              	.LVL453:
1687:application-library/usb-cdc-device.c **** 
 3729              		.loc 1 1687 0
 3730 0220 0020     		movs	r0, #0
1851:application-library/usb-cdc-device.c ****       }
 3731              		.loc 1 1851 0
 3732 0222 70BD     		pop	{r4, r5, r6, pc}
 3733              	.LVL454:
 3734              	.L319:
1687:application-library/usb-cdc-device.c **** 
 3735              		.loc 1 1687 0
 3736 0224 0020     		movs	r0, #0
 3737              	.LVL455:
 3738 0226 70BD     		pop	{r4, r5, r6, pc}
 3739              	.LVL456:
 3740              	.L320:
 3741 0228 0020     		movs	r0, #0
 3742              	.LVL457:
 3743 022a 70BD     		pop	{r4, r5, r6, pc}
 3744              	.LVL458:
 3745              	.L321:
 3746 022c 0020     		movs	r0, #0
 3747              	.LVL459:
 3748 022e 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccf4hwpD.s 			page 134


 3749              	.LVL460:
 3750              	.L322:
 3751 0230 0020     		movs	r0, #0
 3752              	.LVL461:
 3753 0232 70BD     		pop	{r4, r5, r6, pc}
 3754              	.LVL462:
 3755              	.L323:
 3756 0234 0020     		movs	r0, #0
 3757              	.LVL463:
1861:application-library/usb-cdc-device.c **** 
 3758              		.loc 1 1861 0
 3759 0236 70BD     		pop	{r4, r5, r6, pc}
 3760              		.cfi_endproc
 3761              	.LFE177:
 3763              		.section	.text.USBD_GetDescriptor,"ax",%progbits
 3764              		.align	1
 3765              		.global	USBD_GetDescriptor
 3766              		.syntax unified
 3767              		.thumb
 3768              		.thumb_func
 3769              		.fpu fpv4-sp-d16
 3771              	USBD_GetDescriptor:
 3772              	.LFB178:
1871:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 3773              		.loc 1 1871 0
 3774              		.cfi_startproc
 3775              		@ args = 0, pretend = 0, frame = 8
 3776              		@ frame_needed = 0, uses_anonymous_args = 0
 3777              	.LVL464:
 3778 0000 30B5     		push	{r4, r5, lr}
 3779              	.LCFI63:
 3780              		.cfi_def_cfa_offset 12
 3781              		.cfi_offset 4, -12
 3782              		.cfi_offset 5, -8
 3783              		.cfi_offset 14, -4
 3784 0002 83B0     		sub	sp, sp, #12
 3785              	.LCFI64:
 3786              		.cfi_def_cfa_offset 24
 3787 0004 0446     		mov	r4, r0
 3788 0006 0D46     		mov	r5, r1
1872:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
 3789              		.loc 1 1872 0
 3790 0008 0023     		movs	r3, #0
 3791 000a ADF80630 		strh	r3, [sp, #6]	@ movhi
 3792              	.LVL465:
1876:application-library/usb-cdc-device.c ****   {
 3793              		.loc 1 1876 0
 3794 000e 4A88     		ldrh	r2, [r1, #2]
 3795 0010 130A     		lsrs	r3, r2, #8
 3796 0012 013B     		subs	r3, r3, #1
 3797 0014 062B     		cmp	r3, #6
 3798 0016 00F2C980 		bhi	.L339
 3799 001a DFE803F0 		tbb	[pc, r3]
 3800              	.LVL466:
 3801              	.L341:
 3802 001e 04       		.byte	(.L340-.L341)/2
 3803 001f 21       		.byte	(.L342-.L341)/2
ARM GAS  /tmp/ccf4hwpD.s 			page 135


 3804 0020 37       		.byte	(.L343-.L341)/2
 3805 0021 C7       		.byte	(.L339-.L341)/2
 3806 0022 C7       		.byte	(.L339-.L341)/2
 3807 0023 A5       		.byte	(.L344-.L341)/2
 3808 0024 B5       		.byte	(.L345-.L341)/2
 3809 0025 00       		.p2align 1
 3810              	.L340:
1879:application-library/usb-cdc-device.c ****       break;
 3811              		.loc 1 1879 0
 3812 0026 D0F8B032 		ldr	r3, [r0, #688]
 3813 002a 1B68     		ldr	r3, [r3]
 3814 002c 0DF10601 		add	r1, sp, #6
 3815 0030 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3816              	.LVL467:
 3817 0032 9847     		blx	r3
 3818              	.LVL468:
1874:application-library/usb-cdc-device.c **** 
 3819              		.loc 1 1874 0
 3820 0034 0023     		movs	r3, #0
 3821              	.LVL469:
 3822              	.L346:
2011:application-library/usb-cdc-device.c ****   {
 3823              		.loc 1 2011 0
 3824 0036 8BB9     		cbnz	r3, .L338
2016:application-library/usb-cdc-device.c ****   {
 3825              		.loc 1 2016 0
 3826 0038 EA88     		ldrh	r2, [r5, #6]
 3827 003a 002A     		cmp	r2, #0
 3828 003c 00F0C180 		beq	.L365
2018:application-library/usb-cdc-device.c ****     {
 3829              		.loc 1 2018 0
 3830 0040 BDF80630 		ldrh	r3, [sp, #6]
 3831              	.LVL470:
 3832 0044 002B     		cmp	r3, #0
 3833 0046 00F0B780 		beq	.L366
2020:application-library/usb-cdc-device.c ****       USBD_CtlSendData(p_usbd_instance, pbuf, len);
 3834              		.loc 1 2020 0
 3835 004a 9A42     		cmp	r2, r3
 3836 004c 28BF     		it	cs
 3837 004e 1A46     		movcs	r2, r3
 3838 0050 ADF80620 		strh	r2, [sp, #6]	@ movhi
2021:application-library/usb-cdc-device.c ****     }
 3839              		.loc 1 2021 0
 3840 0054 0146     		mov	r1, r0
 3841 0056 2046     		mov	r0, r4
 3842              	.LVL471:
 3843 0058 FFF7FEFF 		bl	USBD_CtlSendData
 3844              	.LVL472:
 3845              	.L338:
2032:application-library/usb-cdc-device.c **** 
 3846              		.loc 1 2032 0
 3847 005c 03B0     		add	sp, sp, #12
 3848              	.LCFI65:
 3849              		.cfi_remember_state
 3850              		.cfi_def_cfa_offset 12
 3851              		@ sp needed
 3852 005e 30BD     		pop	{r4, r5, pc}
ARM GAS  /tmp/ccf4hwpD.s 			page 136


 3853              	.LVL473:
 3854              	.L342:
 3855              	.LCFI66:
 3856              		.cfi_restore_state
1883:application-library/usb-cdc-device.c ****       {
 3857              		.loc 1 1883 0
 3858 0060 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 3859 0062 4BB9     		cbnz	r3, .L347
1885:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 3860              		.loc 1 1885 0
 3861 0064 D0F8B432 		ldr	r3, [r0, #692]
 3862 0068 9B6A     		ldr	r3, [r3, #40]
 3863 006a 0DF10600 		add	r0, sp, #6
 3864              	.LVL474:
 3865 006e 9847     		blx	r3
 3866              	.LVL475:
1886:application-library/usb-cdc-device.c ****       }
 3867              		.loc 1 1886 0
 3868 0070 0223     		movs	r3, #2
 3869 0072 4370     		strb	r3, [r0, #1]
1874:application-library/usb-cdc-device.c **** 
 3870              		.loc 1 1874 0
 3871 0074 0023     		movs	r3, #0
 3872 0076 DEE7     		b	.L346
 3873              	.LVL476:
 3874              	.L347:
1890:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 3875              		.loc 1 1890 0
 3876 0078 D0F8B432 		ldr	r3, [r0, #692]
 3877 007c DB6A     		ldr	r3, [r3, #44]
 3878 007e 0DF10600 		add	r0, sp, #6
 3879              	.LVL477:
 3880 0082 9847     		blx	r3
 3881              	.LVL478:
1891:application-library/usb-cdc-device.c ****       }
 3882              		.loc 1 1891 0
 3883 0084 0223     		movs	r3, #2
 3884 0086 4370     		strb	r3, [r0, #1]
1874:application-library/usb-cdc-device.c **** 
 3885              		.loc 1 1874 0
 3886 0088 0023     		movs	r3, #0
 3887 008a D4E7     		b	.L346
 3888              	.LVL479:
 3889              	.L343:
1896:application-library/usb-cdc-device.c ****       {
 3890              		.loc 1 1896 0
 3891 008c D2B2     		uxtb	r2, r2
 3892 008e 052A     		cmp	r2, #5
 3893 0090 64D8     		bhi	.L348
 3894 0092 DFE802F0 		tbb	[pc, r2]
 3895              	.L350:
 3896 0096 03       		.byte	(.L349-.L350)/2
 3897 0097 13       		.byte	(.L351-.L350)/2
 3898 0098 23       		.byte	(.L352-.L350)/2
 3899 0099 33       		.byte	(.L353-.L350)/2
 3900 009a 43       		.byte	(.L354-.L350)/2
 3901 009b 53       		.byte	(.L355-.L350)/2
ARM GAS  /tmp/ccf4hwpD.s 			page 137


 3902              		.p2align 1
 3903              	.L349:
1899:application-library/usb-cdc-device.c ****           {
 3904              		.loc 1 1899 0
 3905 009c D0F8B032 		ldr	r3, [r0, #688]
 3906 00a0 5B68     		ldr	r3, [r3, #4]
 3907 00a2 2BB1     		cbz	r3, .L356
1901:application-library/usb-cdc-device.c ****           }
 3908              		.loc 1 1901 0
 3909 00a4 0DF10601 		add	r1, sp, #6
 3910 00a8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3911              	.LVL480:
 3912 00aa 9847     		blx	r3
 3913              	.LVL481:
1874:application-library/usb-cdc-device.c **** 
 3914              		.loc 1 1874 0
 3915 00ac 0023     		movs	r3, #0
 3916 00ae C2E7     		b	.L346
 3917              	.LVL482:
 3918              	.L356:
1905:application-library/usb-cdc-device.c ****             err++;
 3919              		.loc 1 1905 0
 3920 00b0 2946     		mov	r1, r5
 3921 00b2 FFF7FEFF 		bl	USBD_CtlError
 3922              	.LVL483:
1906:application-library/usb-cdc-device.c ****           }
 3923              		.loc 1 1906 0
 3924 00b6 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3925              		.loc 1 1873 0
 3926 00b8 0020     		movs	r0, #0
 3927 00ba BCE7     		b	.L346
 3928              	.LVL484:
 3929              	.L351:
1911:application-library/usb-cdc-device.c ****           {
 3930              		.loc 1 1911 0
 3931 00bc D0F8B032 		ldr	r3, [r0, #688]
 3932 00c0 9B68     		ldr	r3, [r3, #8]
 3933 00c2 2BB1     		cbz	r3, .L357
1913:application-library/usb-cdc-device.c ****           }
 3934              		.loc 1 1913 0
 3935 00c4 0DF10601 		add	r1, sp, #6
 3936 00c8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3937              	.LVL485:
 3938 00ca 9847     		blx	r3
 3939              	.LVL486:
1874:application-library/usb-cdc-device.c **** 
 3940              		.loc 1 1874 0
 3941 00cc 0023     		movs	r3, #0
 3942 00ce B2E7     		b	.L346
 3943              	.LVL487:
 3944              	.L357:
1917:application-library/usb-cdc-device.c ****             err++;
 3945              		.loc 1 1917 0
 3946 00d0 2946     		mov	r1, r5
 3947 00d2 FFF7FEFF 		bl	USBD_CtlError
 3948              	.LVL488:
ARM GAS  /tmp/ccf4hwpD.s 			page 138


1918:application-library/usb-cdc-device.c ****           }
 3949              		.loc 1 1918 0
 3950 00d6 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3951              		.loc 1 1873 0
 3952 00d8 0020     		movs	r0, #0
 3953 00da ACE7     		b	.L346
 3954              	.LVL489:
 3955              	.L352:
1923:application-library/usb-cdc-device.c ****           {
 3956              		.loc 1 1923 0
 3957 00dc D0F8B032 		ldr	r3, [r0, #688]
 3958 00e0 DB68     		ldr	r3, [r3, #12]
 3959 00e2 2BB1     		cbz	r3, .L358
1925:application-library/usb-cdc-device.c ****           }
 3960              		.loc 1 1925 0
 3961 00e4 0DF10601 		add	r1, sp, #6
 3962 00e8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3963              	.LVL490:
 3964 00ea 9847     		blx	r3
 3965              	.LVL491:
1874:application-library/usb-cdc-device.c **** 
 3966              		.loc 1 1874 0
 3967 00ec 0023     		movs	r3, #0
 3968 00ee A2E7     		b	.L346
 3969              	.LVL492:
 3970              	.L358:
1929:application-library/usb-cdc-device.c ****             err++;
 3971              		.loc 1 1929 0
 3972 00f0 2946     		mov	r1, r5
 3973 00f2 FFF7FEFF 		bl	USBD_CtlError
 3974              	.LVL493:
1930:application-library/usb-cdc-device.c ****           }
 3975              		.loc 1 1930 0
 3976 00f6 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3977              		.loc 1 1873 0
 3978 00f8 0020     		movs	r0, #0
 3979 00fa 9CE7     		b	.L346
 3980              	.LVL494:
 3981              	.L353:
1935:application-library/usb-cdc-device.c ****           {
 3982              		.loc 1 1935 0
 3983 00fc D0F8B032 		ldr	r3, [r0, #688]
 3984 0100 1B69     		ldr	r3, [r3, #16]
 3985 0102 2BB1     		cbz	r3, .L359
1937:application-library/usb-cdc-device.c ****           }
 3986              		.loc 1 1937 0
 3987 0104 0DF10601 		add	r1, sp, #6
 3988 0108 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3989              	.LVL495:
 3990 010a 9847     		blx	r3
 3991              	.LVL496:
1874:application-library/usb-cdc-device.c **** 
 3992              		.loc 1 1874 0
 3993 010c 0023     		movs	r3, #0
 3994 010e 92E7     		b	.L346
ARM GAS  /tmp/ccf4hwpD.s 			page 139


 3995              	.LVL497:
 3996              	.L359:
1941:application-library/usb-cdc-device.c ****             err++;
 3997              		.loc 1 1941 0
 3998 0110 2946     		mov	r1, r5
 3999 0112 FFF7FEFF 		bl	USBD_CtlError
 4000              	.LVL498:
1942:application-library/usb-cdc-device.c ****           }
 4001              		.loc 1 1942 0
 4002 0116 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4003              		.loc 1 1873 0
 4004 0118 0020     		movs	r0, #0
 4005 011a 8CE7     		b	.L346
 4006              	.LVL499:
 4007              	.L354:
1947:application-library/usb-cdc-device.c ****           {
 4008              		.loc 1 1947 0
 4009 011c D0F8B032 		ldr	r3, [r0, #688]
 4010 0120 5B69     		ldr	r3, [r3, #20]
 4011 0122 2BB1     		cbz	r3, .L360
1949:application-library/usb-cdc-device.c ****           }
 4012              		.loc 1 1949 0
 4013 0124 0DF10601 		add	r1, sp, #6
 4014 0128 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4015              	.LVL500:
 4016 012a 9847     		blx	r3
 4017              	.LVL501:
1874:application-library/usb-cdc-device.c **** 
 4018              		.loc 1 1874 0
 4019 012c 0023     		movs	r3, #0
 4020 012e 82E7     		b	.L346
 4021              	.LVL502:
 4022              	.L360:
1953:application-library/usb-cdc-device.c ****             err++;
 4023              		.loc 1 1953 0
 4024 0130 2946     		mov	r1, r5
 4025 0132 FFF7FEFF 		bl	USBD_CtlError
 4026              	.LVL503:
1954:application-library/usb-cdc-device.c ****           }
 4027              		.loc 1 1954 0
 4028 0136 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4029              		.loc 1 1873 0
 4030 0138 0020     		movs	r0, #0
 4031 013a 7CE7     		b	.L346
 4032              	.LVL504:
 4033              	.L355:
1959:application-library/usb-cdc-device.c ****           {
 4034              		.loc 1 1959 0
 4035 013c D0F8B032 		ldr	r3, [r0, #688]
 4036 0140 9B69     		ldr	r3, [r3, #24]
 4037 0142 2BB1     		cbz	r3, .L361
1961:application-library/usb-cdc-device.c ****           }
 4038              		.loc 1 1961 0
 4039 0144 0DF10601 		add	r1, sp, #6
 4040 0148 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
ARM GAS  /tmp/ccf4hwpD.s 			page 140


 4041              	.LVL505:
 4042 014a 9847     		blx	r3
 4043              	.LVL506:
1874:application-library/usb-cdc-device.c **** 
 4044              		.loc 1 1874 0
 4045 014c 0023     		movs	r3, #0
 4046 014e 72E7     		b	.L346
 4047              	.LVL507:
 4048              	.L361:
1965:application-library/usb-cdc-device.c ****             err++;
 4049              		.loc 1 1965 0
 4050 0150 2946     		mov	r1, r5
 4051 0152 FFF7FEFF 		bl	USBD_CtlError
 4052              	.LVL508:
1966:application-library/usb-cdc-device.c ****           }
 4053              		.loc 1 1966 0
 4054 0156 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4055              		.loc 1 1873 0
 4056 0158 0020     		movs	r0, #0
 4057 015a 6CE7     		b	.L346
 4058              	.LVL509:
 4059              	.L348:
1973:application-library/usb-cdc-device.c ****           err++;
 4060              		.loc 1 1973 0
 4061 015c 2946     		mov	r1, r5
 4062 015e FFF7FEFF 		bl	USBD_CtlError
 4063              	.LVL510:
1974:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
 4064              		.loc 1 1974 0
 4065 0162 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4066              		.loc 1 1873 0
 4067 0164 0020     		movs	r0, #0
1976:application-library/usb-cdc-device.c ****       }
 4068              		.loc 1 1976 0
 4069 0166 66E7     		b	.L346
 4070              	.LVL511:
 4071              	.L344:
1981:application-library/usb-cdc-device.c ****       {
 4072              		.loc 1 1981 0
 4073 0168 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4074 016a 3BB9     		cbnz	r3, .L362
1983:application-library/usb-cdc-device.c ****       }
 4075              		.loc 1 1983 0
 4076 016c D0F8B432 		ldr	r3, [r0, #692]
 4077 0170 5B6B     		ldr	r3, [r3, #52]
 4078 0172 0DF10600 		add	r0, sp, #6
 4079              	.LVL512:
 4080 0176 9847     		blx	r3
 4081              	.LVL513:
1874:application-library/usb-cdc-device.c **** 
 4082              		.loc 1 1874 0
 4083 0178 0023     		movs	r3, #0
 4084 017a 5CE7     		b	.L346
 4085              	.LVL514:
 4086              	.L362:
ARM GAS  /tmp/ccf4hwpD.s 			page 141


1987:application-library/usb-cdc-device.c ****         err++;
 4087              		.loc 1 1987 0
 4088 017c 2946     		mov	r1, r5
 4089 017e FFF7FEFF 		bl	USBD_CtlError
 4090              	.LVL515:
1988:application-library/usb-cdc-device.c ****       }
 4091              		.loc 1 1988 0
 4092 0182 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4093              		.loc 1 1873 0
 4094 0184 0020     		movs	r0, #0
 4095 0186 56E7     		b	.L346
 4096              	.LVL516:
 4097              	.L345:
1993:application-library/usb-cdc-device.c ****       {
 4098              		.loc 1 1993 0
 4099 0188 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4100 018a 4BB9     		cbnz	r3, .L363
1995:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
 4101              		.loc 1 1995 0
 4102 018c D0F8B432 		ldr	r3, [r0, #692]
 4103 0190 1B6B     		ldr	r3, [r3, #48]
 4104 0192 0DF10600 		add	r0, sp, #6
 4105              	.LVL517:
 4106 0196 9847     		blx	r3
 4107              	.LVL518:
1996:application-library/usb-cdc-device.c ****       }
 4108              		.loc 1 1996 0
 4109 0198 0723     		movs	r3, #7
 4110 019a 4370     		strb	r3, [r0, #1]
1874:application-library/usb-cdc-device.c **** 
 4111              		.loc 1 1874 0
 4112 019c 0023     		movs	r3, #0
 4113 019e 4AE7     		b	.L346
 4114              	.LVL519:
 4115              	.L363:
2000:application-library/usb-cdc-device.c ****         err++;
 4116              		.loc 1 2000 0
 4117 01a0 2946     		mov	r1, r5
 4118 01a2 FFF7FEFF 		bl	USBD_CtlError
 4119              	.LVL520:
2001:application-library/usb-cdc-device.c ****       }
 4120              		.loc 1 2001 0
 4121 01a6 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4122              		.loc 1 1873 0
 4123 01a8 0020     		movs	r0, #0
 4124 01aa 44E7     		b	.L346
 4125              	.LVL521:
 4126              	.L339:
2006:application-library/usb-cdc-device.c ****       err++;
 4127              		.loc 1 2006 0
 4128 01ac 2946     		mov	r1, r5
 4129 01ae FFF7FEFF 		bl	USBD_CtlError
 4130              	.LVL522:
2007:application-library/usb-cdc-device.c ****       break;
 4131              		.loc 1 2007 0
ARM GAS  /tmp/ccf4hwpD.s 			page 142


 4132 01b2 0123     		movs	r3, #1
1873:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4133              		.loc 1 1873 0
 4134 01b4 0020     		movs	r0, #0
2008:application-library/usb-cdc-device.c ****   }
 4135              		.loc 1 2008 0
 4136 01b6 3EE7     		b	.L346
 4137              	.LVL523:
 4138              	.L366:
2025:application-library/usb-cdc-device.c ****     }
 4139              		.loc 1 2025 0
 4140 01b8 2946     		mov	r1, r5
 4141 01ba 2046     		mov	r0, r4
 4142              	.LVL524:
 4143 01bc FFF7FEFF 		bl	USBD_CtlError
 4144              	.LVL525:
 4145 01c0 4CE7     		b	.L338
 4146              	.LVL526:
 4147              	.L365:
2030:application-library/usb-cdc-device.c ****   }
 4148              		.loc 1 2030 0
 4149 01c2 2046     		mov	r0, r4
 4150              	.LVL527:
 4151 01c4 FFF7FEFF 		bl	USBD_CtlSendStatus
 4152              	.LVL528:
 4153 01c8 48E7     		b	.L338
 4154              		.cfi_endproc
 4155              	.LFE178:
 4157              		.section	.text.USBD_SetAddress,"ax",%progbits
 4158              		.align	1
 4159              		.global	USBD_SetAddress
 4160              		.syntax unified
 4161              		.thumb
 4162              		.thumb_func
 4163              		.fpu fpv4-sp-d16
 4165              	USBD_SetAddress:
 4166              	.LFB179:
2042:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
 4167              		.loc 1 2042 0
 4168              		.cfi_startproc
 4169              		@ args = 0, pretend = 0, frame = 0
 4170              		@ frame_needed = 0, uses_anonymous_args = 0
 4171              	.LVL529:
 4172 0000 38B5     		push	{r3, r4, r5, lr}
 4173              	.LCFI67:
 4174              		.cfi_def_cfa_offset 16
 4175              		.cfi_offset 3, -16
 4176              		.cfi_offset 4, -12
 4177              		.cfi_offset 5, -8
 4178              		.cfi_offset 14, -4
 4179 0002 0446     		mov	r4, r0
2045:application-library/usb-cdc-device.c ****   {
 4180              		.loc 1 2045 0
 4181 0004 8B88     		ldrh	r3, [r1, #4]
 4182 0006 FBB9     		cbnz	r3, .L371
2045:application-library/usb-cdc-device.c ****   {
 4183              		.loc 1 2045 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccf4hwpD.s 			page 143


 4184 0008 CB88     		ldrh	r3, [r1, #6]
 4185 000a EBB9     		cbnz	r3, .L371
2045:application-library/usb-cdc-device.c ****   {
 4186              		.loc 1 2045 0 discriminator 2
 4187 000c 4B88     		ldrh	r3, [r1, #2]
 4188 000e 7F2B     		cmp	r3, #127
 4189 0010 1AD8     		bhi	.L371
2047:application-library/usb-cdc-device.c **** 
 4190              		.loc 1 2047 0 is_stmt 1
 4191 0012 03F07F05 		and	r5, r3, #127
 4192              	.LVL530:
2049:application-library/usb-cdc-device.c ****     {
 4193              		.loc 1 2049 0
 4194 0016 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4195 001a DBB2     		uxtb	r3, r3
 4196 001c 032B     		cmp	r3, #3
 4197 001e 0CD0     		beq	.L376
2055:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(p_usbd_instance, dev_addr);
 4198              		.loc 1 2055 0
 4199 0020 80F89E52 		strb	r5, [r0, #670]
2056:application-library/usb-cdc-device.c ****       USBD_CtlSendStatus(p_usbd_instance);
 4200              		.loc 1 2056 0
 4201 0024 2946     		mov	r1, r5
 4202              	.LVL531:
 4203 0026 FFF7FEFF 		bl	USBD_LL_SetUSBAddress
 4204              	.LVL532:
2057:application-library/usb-cdc-device.c **** 
 4205              		.loc 1 2057 0
 4206 002a 2046     		mov	r0, r4
 4207 002c FFF7FEFF 		bl	USBD_CtlSendStatus
 4208              	.LVL533:
2059:application-library/usb-cdc-device.c ****       {
 4209              		.loc 1 2059 0
 4210 0030 35B1     		cbz	r5, .L374
2061:application-library/usb-cdc-device.c ****       }
 4211              		.loc 1 2061 0
 4212 0032 0223     		movs	r3, #2
 4213 0034 84F89C32 		strb	r3, [r4, #668]
 4214 0038 38BD     		pop	{r3, r4, r5, pc}
 4215              	.LVL534:
 4216              	.L376:
2051:application-library/usb-cdc-device.c ****     }
 4217              		.loc 1 2051 0
 4218 003a FFF7FEFF 		bl	USBD_CtlError
 4219              	.LVL535:
 4220 003e 38BD     		pop	{r3, r4, r5, pc}
 4221              	.LVL536:
 4222              	.L374:
2065:application-library/usb-cdc-device.c ****       }
 4223              		.loc 1 2065 0
 4224 0040 0123     		movs	r3, #1
 4225 0042 84F89C32 		strb	r3, [r4, #668]
 4226 0046 38BD     		pop	{r3, r4, r5, pc}
 4227              	.LVL537:
 4228              	.L371:
2071:application-library/usb-cdc-device.c ****   }
 4229              		.loc 1 2071 0
ARM GAS  /tmp/ccf4hwpD.s 			page 144


 4230 0048 2046     		mov	r0, r4
 4231              	.LVL538:
 4232 004a FFF7FEFF 		bl	USBD_CtlError
 4233              	.LVL539:
 4234 004e 38BD     		pop	{r3, r4, r5, pc}
 4235              		.cfi_endproc
 4236              	.LFE179:
 4238              		.section	.text.USBD_SetConfig,"ax",%progbits
 4239              		.align	1
 4240              		.global	USBD_SetConfig
 4241              		.syntax unified
 4242              		.thumb
 4243              		.thumb_func
 4244              		.fpu fpv4-sp-d16
 4246              	USBD_SetConfig:
 4247              	.LFB180:
2082:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4248              		.loc 1 2082 0
 4249              		.cfi_startproc
 4250              		@ args = 0, pretend = 0, frame = 0
 4251              		@ frame_needed = 0, uses_anonymous_args = 0
 4252              	.LVL540:
 4253 0000 38B5     		push	{r3, r4, r5, lr}
 4254              	.LCFI68:
 4255              		.cfi_def_cfa_offset 16
 4256              		.cfi_offset 3, -16
 4257              		.cfi_offset 4, -12
 4258              		.cfi_offset 5, -8
 4259              		.cfi_offset 14, -4
 4260 0002 0446     		mov	r4, r0
 4261              	.LVL541:
2086:application-library/usb-cdc-device.c **** 
 4262              		.loc 1 2086 0
 4263 0004 8D78     		ldrb	r5, [r1, #2]	@ zero_extendqisi2
 4264              	.LVL542:
2088:application-library/usb-cdc-device.c ****   {
 4265              		.loc 1 2088 0
 4266 0006 012D     		cmp	r5, #1
 4267 0008 03D9     		bls	.L378
2090:application-library/usb-cdc-device.c ****     return USBD_FAIL;
 4268              		.loc 1 2090 0
 4269 000a FFF7FEFF 		bl	USBD_CtlError
 4270              	.LVL543:
2091:application-library/usb-cdc-device.c ****   }
 4271              		.loc 1 2091 0
 4272 000e 0320     		movs	r0, #3
 4273 0010 38BD     		pop	{r3, r4, r5, pc}
 4274              	.LVL544:
 4275              	.L378:
2094:application-library/usb-cdc-device.c ****   {
 4276              		.loc 1 2094 0
 4277 0012 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4278 0016 DBB2     		uxtb	r3, r3
 4279 0018 022B     		cmp	r3, #2
 4280 001a 09D0     		beq	.L381
 4281 001c 032B     		cmp	r3, #3
 4282 001e 18D0     		beq	.L382
ARM GAS  /tmp/ccf4hwpD.s 			page 145


2137:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(p_usbd_instance, cfgidx);
 4283              		.loc 1 2137 0
 4284 0020 FFF7FEFF 		bl	USBD_CtlError
 4285              	.LVL545:
2138:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 4286              		.loc 1 2138 0
 4287 0024 2946     		mov	r1, r5
 4288 0026 2046     		mov	r0, r4
 4289 0028 FFF7FEFF 		bl	USBD_ClrClassConfig
 4290              	.LVL546:
2139:application-library/usb-cdc-device.c ****       break;
 4291              		.loc 1 2139 0
 4292 002c 0320     		movs	r0, #3
2144:application-library/usb-cdc-device.c **** 
 4293              		.loc 1 2144 0
 4294 002e 38BD     		pop	{r3, r4, r5, pc}
 4295              	.LVL547:
 4296              	.L381:
2097:application-library/usb-cdc-device.c ****       {
 4297              		.loc 1 2097 0
 4298 0030 5DB1     		cbz	r5, .L383
2099:application-library/usb-cdc-device.c **** 
 4299              		.loc 1 2099 0
 4300 0032 4560     		str	r5, [r0, #4]
2101:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
 4301              		.loc 1 2101 0
 4302 0034 2946     		mov	r1, r5
 4303              	.LVL548:
 4304 0036 FFF7FEFF 		bl	USBD_SetClassConfig
 4305              	.LVL549:
2102:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_state = USBD_STATE_CONFIGURED;
 4306              		.loc 1 2102 0
 4307 003a 2046     		mov	r0, r4
 4308 003c FFF7FEFF 		bl	USBD_CtlSendStatus
 4309              	.LVL550:
2103:application-library/usb-cdc-device.c ****       }
 4310              		.loc 1 2103 0
 4311 0040 0323     		movs	r3, #3
 4312 0042 84F89C32 		strb	r3, [r4, #668]
2083:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4313              		.loc 1 2083 0
 4314 0046 0020     		movs	r0, #0
 4315 0048 38BD     		pop	{r3, r4, r5, pc}
 4316              	.LVL551:
 4317              	.L383:
2107:application-library/usb-cdc-device.c ****       }
 4318              		.loc 1 2107 0
 4319 004a FFF7FEFF 		bl	USBD_CtlSendStatus
 4320              	.LVL552:
2083:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4321              		.loc 1 2083 0
 4322 004e 0020     		movs	r0, #0
 4323 0050 38BD     		pop	{r3, r4, r5, pc}
 4324              	.LVL553:
 4325              	.L382:
2112:application-library/usb-cdc-device.c ****       {
 4326              		.loc 1 2112 0
ARM GAS  /tmp/ccf4hwpD.s 			page 146


 4327 0052 7DB1     		cbz	r5, .L388
2119:application-library/usb-cdc-device.c ****       {
 4328              		.loc 1 2119 0
 4329 0054 4168     		ldr	r1, [r0, #4]
 4330              	.LVL554:
 4331 0056 8D42     		cmp	r5, r1
 4332 0058 18D0     		beq	.L385
2122:application-library/usb-cdc-device.c **** 
 4333              		.loc 1 2122 0
 4334 005a C9B2     		uxtb	r1, r1
 4335 005c FFF7FEFF 		bl	USBD_ClrClassConfig
 4336              	.LVL555:
2125:application-library/usb-cdc-device.c **** 
 4337              		.loc 1 2125 0
 4338 0060 6560     		str	r5, [r4, #4]
2127:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
 4339              		.loc 1 2127 0
 4340 0062 2946     		mov	r1, r5
 4341 0064 2046     		mov	r0, r4
 4342 0066 FFF7FEFF 		bl	USBD_SetClassConfig
 4343              	.LVL556:
2128:application-library/usb-cdc-device.c ****       }
 4344              		.loc 1 2128 0
 4345 006a 2046     		mov	r0, r4
 4346 006c FFF7FEFF 		bl	USBD_CtlSendStatus
 4347              	.LVL557:
2083:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4348              		.loc 1 2083 0
 4349 0070 0020     		movs	r0, #0
 4350 0072 38BD     		pop	{r3, r4, r5, pc}
 4351              	.LVL558:
 4352              	.L388:
2114:application-library/usb-cdc-device.c ****         p_usbd_instance->dev_config = cfgidx;
 4353              		.loc 1 2114 0
 4354 0074 0223     		movs	r3, #2
 4355 0076 80F89C32 		strb	r3, [r0, #668]
2115:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(p_usbd_instance, cfgidx);
 4356              		.loc 1 2115 0
 4357 007a 4560     		str	r5, [r0, #4]
2116:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
 4358              		.loc 1 2116 0
 4359 007c 2946     		mov	r1, r5
 4360              	.LVL559:
 4361 007e FFF7FEFF 		bl	USBD_ClrClassConfig
 4362              	.LVL560:
2117:application-library/usb-cdc-device.c ****       }
 4363              		.loc 1 2117 0
 4364 0082 2046     		mov	r0, r4
 4365 0084 FFF7FEFF 		bl	USBD_CtlSendStatus
 4366              	.LVL561:
2083:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4367              		.loc 1 2083 0
 4368 0088 0020     		movs	r0, #0
 4369 008a 38BD     		pop	{r3, r4, r5, pc}
 4370              	.LVL562:
 4371              	.L385:
2132:application-library/usb-cdc-device.c ****       }
ARM GAS  /tmp/ccf4hwpD.s 			page 147


 4372              		.loc 1 2132 0
 4373 008c FFF7FEFF 		bl	USBD_CtlSendStatus
 4374              	.LVL563:
2083:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4375              		.loc 1 2083 0
 4376 0090 0020     		movs	r0, #0
 4377 0092 38BD     		pop	{r3, r4, r5, pc}
 4378              		.cfi_endproc
 4379              	.LFE180:
 4381              		.section	.text.USBD_SetFeature,"ax",%progbits
 4382              		.align	1
 4383              		.global	USBD_SetFeature
 4384              		.syntax unified
 4385              		.thumb
 4386              		.thumb_func
 4387              		.fpu fpv4-sp-d16
 4389              	USBD_SetFeature:
 4390              	.LFB183:
2228:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
 4391              		.loc 1 2228 0
 4392              		.cfi_startproc
 4393              		@ args = 0, pretend = 0, frame = 0
 4394              		@ frame_needed = 0, uses_anonymous_args = 0
 4395              	.LVL564:
 4396 0000 08B5     		push	{r3, lr}
 4397              	.LCFI69:
 4398              		.cfi_def_cfa_offset 8
 4399              		.cfi_offset 3, -8
 4400              		.cfi_offset 14, -4
2229:application-library/usb-cdc-device.c ****   {
 4401              		.loc 1 2229 0
 4402 0002 4B88     		ldrh	r3, [r1, #2]
 4403 0004 012B     		cmp	r3, #1
 4404 0006 02D0     		beq	.L393
2236:application-library/usb-cdc-device.c ****   }
 4405              		.loc 1 2236 0
 4406 0008 FFF7FEFF 		bl	USBD_CtlError
 4407              	.LVL565:
 4408 000c 08BD     		pop	{r3, pc}
 4409              	.LVL566:
 4410              	.L393:
2231:application-library/usb-cdc-device.c ****     USBD_CtlSendStatus(p_usbd_instance);
 4411              		.loc 1 2231 0
 4412 000e C0F8A032 		str	r3, [r0, #672]
2232:application-library/usb-cdc-device.c ****   }
 4413              		.loc 1 2232 0
 4414 0012 FFF7FEFF 		bl	USBD_CtlSendStatus
 4415              	.LVL567:
 4416 0016 08BD     		pop	{r3, pc}
 4417              		.cfi_endproc
 4418              	.LFE183:
 4420              		.section	.text.USBD_ClrFeature,"ax",%progbits
 4421              		.align	1
 4422              		.global	USBD_ClrFeature
 4423              		.syntax unified
 4424              		.thumb
 4425              		.thumb_func
ARM GAS  /tmp/ccf4hwpD.s 			page 148


 4426              		.fpu fpv4-sp-d16
 4428              	USBD_ClrFeature:
 4429              	.LFB184:
2249:application-library/usb-cdc-device.c ****   switch (p_usbd_instance->dev_state)
 4430              		.loc 1 2249 0
 4431              		.cfi_startproc
 4432              		@ args = 0, pretend = 0, frame = 0
 4433              		@ frame_needed = 0, uses_anonymous_args = 0
 4434              	.LVL568:
 4435 0000 08B5     		push	{r3, lr}
 4436              	.LCFI70:
 4437              		.cfi_def_cfa_offset 8
 4438              		.cfi_offset 3, -8
 4439              		.cfi_offset 14, -4
2250:application-library/usb-cdc-device.c ****   {
 4440              		.loc 1 2250 0
 4441 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4442 0006 013B     		subs	r3, r3, #1
 4443 0008 022B     		cmp	r3, #2
 4444 000a 09D8     		bhi	.L395
2255:application-library/usb-cdc-device.c ****       {
 4445              		.loc 1 2255 0
 4446 000c 4B88     		ldrh	r3, [r1, #2]
 4447 000e 012B     		cmp	r3, #1
 4448 0010 00D0     		beq	.L399
 4449              	.LVL569:
 4450              	.L394:
 4451 0012 08BD     		pop	{r3, pc}
 4452              	.LVL570:
 4453              	.L399:
2257:application-library/usb-cdc-device.c ****         USBD_CtlSendStatus(p_usbd_instance);
 4454              		.loc 1 2257 0
 4455 0014 0023     		movs	r3, #0
 4456 0016 C0F8A032 		str	r3, [r0, #672]
2258:application-library/usb-cdc-device.c ****       }
 4457              		.loc 1 2258 0
 4458 001a FFF7FEFF 		bl	USBD_CtlSendStatus
 4459              	.LVL571:
 4460 001e 08BD     		pop	{r3, pc}
 4461              	.LVL572:
 4462              	.L395:
2263:application-library/usb-cdc-device.c ****       break;
 4463              		.loc 1 2263 0
 4464 0020 FFF7FEFF 		bl	USBD_CtlError
 4465              	.LVL573:
2266:application-library/usb-cdc-device.c **** 
 4466              		.loc 1 2266 0
 4467 0024 F5E7     		b	.L394
 4468              		.cfi_endproc
 4469              	.LFE184:
 4471              		.section	.text.USBD_StdDevReq,"ax",%progbits
 4472              		.align	1
 4473              		.global	USBD_StdDevReq
 4474              		.syntax unified
 4475              		.thumb
 4476              		.thumb_func
 4477              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccf4hwpD.s 			page 149


 4479              	USBD_StdDevReq:
 4480              	.LFB175:
1549:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4481              		.loc 1 1549 0
 4482              		.cfi_startproc
 4483              		@ args = 0, pretend = 0, frame = 0
 4484              		@ frame_needed = 0, uses_anonymous_args = 0
 4485              	.LVL574:
 4486 0000 08B5     		push	{r3, lr}
 4487              	.LCFI71:
 4488              		.cfi_def_cfa_offset 8
 4489              		.cfi_offset 3, -8
 4490              		.cfi_offset 14, -4
 4491              	.LVL575:
1552:application-library/usb-cdc-device.c ****   {
 4492              		.loc 1 1552 0
 4493 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 4494 0004 03F06003 		and	r3, r3, #96
 4495 0008 202B     		cmp	r3, #32
 4496 000a 06D0     		beq	.L402
 4497 000c 402B     		cmp	r3, #64
 4498 000e 04D0     		beq	.L402
 4499 0010 43B1     		cbz	r3, .L416
1597:application-library/usb-cdc-device.c ****       break;
 4500              		.loc 1 1597 0
 4501 0012 FFF7FEFF 		bl	USBD_CtlError
 4502              	.LVL576:
1550:application-library/usb-cdc-device.c **** 
 4503              		.loc 1 1550 0
 4504 0016 0020     		movs	r0, #0
 4505              	.LVL577:
1602:application-library/usb-cdc-device.c **** 
 4506              		.loc 1 1602 0
 4507 0018 08BD     		pop	{r3, pc}
 4508              	.LVL578:
 4509              	.L402:
1556:application-library/usb-cdc-device.c ****       break;
 4510              		.loc 1 1556 0
 4511 001a D0F8B432 		ldr	r3, [r0, #692]
 4512 001e 9B68     		ldr	r3, [r3, #8]
 4513 0020 9847     		blx	r3
 4514              	.LVL579:
1557:application-library/usb-cdc-device.c **** 
 4515              		.loc 1 1557 0
 4516 0022 08BD     		pop	{r3, pc}
 4517              	.LVL580:
 4518              	.L416:
1560:application-library/usb-cdc-device.c ****       {
 4519              		.loc 1 1560 0
 4520 0024 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4521 0026 092B     		cmp	r3, #9
 4522 0028 21D8     		bhi	.L405
 4523 002a DFE803F0 		tbb	[pc, r3]
 4524              	.L407:
 4525 002e 14       		.byte	(.L406-.L407)/2
 4526 002f 1C       		.byte	(.L408-.L407)/2
 4527 0030 20       		.byte	(.L405-.L407)/2
ARM GAS  /tmp/ccf4hwpD.s 			page 150


 4528 0031 18       		.byte	(.L409-.L407)/2
 4529 0032 20       		.byte	(.L405-.L407)/2
 4530 0033 09       		.byte	(.L410-.L407)/2
 4531 0034 05       		.byte	(.L411-.L407)/2
 4532 0035 20       		.byte	(.L405-.L407)/2
 4533 0036 10       		.byte	(.L412-.L407)/2
 4534 0037 0D       		.byte	(.L413-.L407)/2
 4535              		.p2align 1
 4536              	.L411:
1563:application-library/usb-cdc-device.c ****           break;
 4537              		.loc 1 1563 0
 4538 0038 FFF7FEFF 		bl	USBD_GetDescriptor
 4539              	.LVL581:
1550:application-library/usb-cdc-device.c **** 
 4540              		.loc 1 1550 0
 4541 003c 0020     		movs	r0, #0
1564:application-library/usb-cdc-device.c **** 
 4542              		.loc 1 1564 0
 4543 003e 08BD     		pop	{r3, pc}
 4544              	.LVL582:
 4545              	.L410:
1567:application-library/usb-cdc-device.c ****           break;
 4546              		.loc 1 1567 0
 4547 0040 FFF7FEFF 		bl	USBD_SetAddress
 4548              	.LVL583:
1550:application-library/usb-cdc-device.c **** 
 4549              		.loc 1 1550 0
 4550 0044 0020     		movs	r0, #0
1568:application-library/usb-cdc-device.c **** 
 4551              		.loc 1 1568 0
 4552 0046 08BD     		pop	{r3, pc}
 4553              	.LVL584:
 4554              	.L413:
1571:application-library/usb-cdc-device.c ****           break;
 4555              		.loc 1 1571 0
 4556 0048 FFF7FEFF 		bl	USBD_SetConfig
 4557              	.LVL585:
1572:application-library/usb-cdc-device.c **** 
 4558              		.loc 1 1572 0
 4559 004c 08BD     		pop	{r3, pc}
 4560              	.LVL586:
 4561              	.L412:
1575:application-library/usb-cdc-device.c ****           break;
 4562              		.loc 1 1575 0
 4563 004e FFF7FEFF 		bl	USBD_GetConfig
 4564              	.LVL587:
1550:application-library/usb-cdc-device.c **** 
 4565              		.loc 1 1550 0
 4566 0052 0020     		movs	r0, #0
1576:application-library/usb-cdc-device.c **** 
 4567              		.loc 1 1576 0
 4568 0054 08BD     		pop	{r3, pc}
 4569              	.LVL588:
 4570              	.L406:
1579:application-library/usb-cdc-device.c ****           break;
 4571              		.loc 1 1579 0
 4572 0056 FFF7FEFF 		bl	USBD_GetStatus
ARM GAS  /tmp/ccf4hwpD.s 			page 151


 4573              	.LVL589:
1550:application-library/usb-cdc-device.c **** 
 4574              		.loc 1 1550 0
 4575 005a 0020     		movs	r0, #0
1580:application-library/usb-cdc-device.c **** 
 4576              		.loc 1 1580 0
 4577 005c 08BD     		pop	{r3, pc}
 4578              	.LVL590:
 4579              	.L409:
1583:application-library/usb-cdc-device.c ****           break;
 4580              		.loc 1 1583 0
 4581 005e FFF7FEFF 		bl	USBD_SetFeature
 4582              	.LVL591:
1550:application-library/usb-cdc-device.c **** 
 4583              		.loc 1 1550 0
 4584 0062 0020     		movs	r0, #0
1584:application-library/usb-cdc-device.c **** 
 4585              		.loc 1 1584 0
 4586 0064 08BD     		pop	{r3, pc}
 4587              	.LVL592:
 4588              	.L408:
1587:application-library/usb-cdc-device.c ****           break;
 4589              		.loc 1 1587 0
 4590 0066 FFF7FEFF 		bl	USBD_ClrFeature
 4591              	.LVL593:
1550:application-library/usb-cdc-device.c **** 
 4592              		.loc 1 1550 0
 4593 006a 0020     		movs	r0, #0
1588:application-library/usb-cdc-device.c **** 
 4594              		.loc 1 1588 0
 4595 006c 08BD     		pop	{r3, pc}
 4596              	.LVL594:
 4597              	.L405:
1591:application-library/usb-cdc-device.c ****           break;
 4598              		.loc 1 1591 0
 4599 006e FFF7FEFF 		bl	USBD_CtlError
 4600              	.LVL595:
1550:application-library/usb-cdc-device.c **** 
 4601              		.loc 1 1550 0
 4602 0072 0020     		movs	r0, #0
1592:application-library/usb-cdc-device.c ****       }
 4603              		.loc 1 1592 0
 4604 0074 08BD     		pop	{r3, pc}
 4605              		.cfi_endproc
 4606              	.LFE175:
 4608              		.section	.text.USBD_LL_SetupStage,"ax",%progbits
 4609              		.align	1
 4610              		.global	USBD_LL_SetupStage
 4611              		.syntax unified
 4612              		.thumb
 4613              		.thumb_func
 4614              		.fpu fpv4-sp-d16
 4616              	USBD_LL_SetupStage:
 4617              	.LFB160:
1081:application-library/usb-cdc-device.c **** 
 4618              		.loc 1 1081 0
 4619              		.cfi_startproc
ARM GAS  /tmp/ccf4hwpD.s 			page 152


 4620              		@ args = 0, pretend = 0, frame = 0
 4621              		@ frame_needed = 0, uses_anonymous_args = 0
 4622              	.LVL596:
 4623 0000 38B5     		push	{r3, r4, r5, lr}
 4624              	.LCFI72:
 4625              		.cfi_def_cfa_offset 16
 4626              		.cfi_offset 3, -16
 4627              		.cfi_offset 4, -12
 4628              		.cfi_offset 5, -8
 4629              		.cfi_offset 14, -4
 4630 0002 0446     		mov	r4, r0
1083:application-library/usb-cdc-device.c **** 
 4631              		.loc 1 1083 0
 4632 0004 00F2A625 		addw	r5, r0, #678
 4633 0008 2846     		mov	r0, r5
 4634              	.LVL597:
 4635 000a FFF7FEFF 		bl	USBD_ParseSetupRequest
 4636              	.LVL598:
1085:application-library/usb-cdc-device.c **** 
 4637              		.loc 1 1085 0
 4638 000e 0123     		movs	r3, #1
 4639 0010 C4F89432 		str	r3, [r4, #660]
1087:application-library/usb-cdc-device.c **** 
 4640              		.loc 1 1087 0
 4641 0014 B4F8AC32 		ldrh	r3, [r4, #684]
 4642 0018 C4F89832 		str	r3, [r4, #664]
1089:application-library/usb-cdc-device.c ****   {
 4643              		.loc 1 1089 0
 4644 001c 94F8A612 		ldrb	r1, [r4, #678]	@ zero_extendqisi2
 4645 0020 01F01F03 		and	r3, r1, #31
 4646 0024 012B     		cmp	r3, #1
 4647 0026 0DD0     		beq	.L419
 4648 0028 3BB1     		cbz	r3, .L420
 4649 002a 022B     		cmp	r3, #2
 4650 002c 0FD0     		beq	.L421
1104:application-library/usb-cdc-device.c ****       break;
 4651              		.loc 1 1104 0
 4652 002e 01F08001 		and	r1, r1, #128
 4653 0032 2046     		mov	r0, r4
 4654 0034 FFF7FEFF 		bl	USBD_LL_StallEP
 4655              	.LVL599:
 4656 0038 38BD     		pop	{r3, r4, r5, pc}
 4657              	.LVL600:
 4658              	.L420:
1092:application-library/usb-cdc-device.c ****       break;
 4659              		.loc 1 1092 0
 4660 003a 2946     		mov	r1, r5
 4661 003c 2046     		mov	r0, r4
 4662 003e FFF7FEFF 		bl	USBD_StdDevReq
 4663              	.LVL601:
1093:application-library/usb-cdc-device.c **** 
 4664              		.loc 1 1093 0
 4665 0042 38BD     		pop	{r3, r4, r5, pc}
 4666              	.LVL602:
 4667              	.L419:
1096:application-library/usb-cdc-device.c ****       break;
 4668              		.loc 1 1096 0
ARM GAS  /tmp/ccf4hwpD.s 			page 153


 4669 0044 2946     		mov	r1, r5
 4670 0046 2046     		mov	r0, r4
 4671 0048 FFF7FEFF 		bl	USBD_StdItfReq
 4672              	.LVL603:
1097:application-library/usb-cdc-device.c **** 
 4673              		.loc 1 1097 0
 4674 004c 38BD     		pop	{r3, r4, r5, pc}
 4675              	.LVL604:
 4676              	.L421:
1100:application-library/usb-cdc-device.c ****       break;
 4677              		.loc 1 1100 0
 4678 004e 2946     		mov	r1, r5
 4679 0050 2046     		mov	r0, r4
 4680 0052 FFF7FEFF 		bl	USBD_StdEPReq
 4681              	.LVL605:
1101:application-library/usb-cdc-device.c **** 
 4682              		.loc 1 1101 0
 4683 0056 38BD     		pop	{r3, r4, r5, pc}
 4684              		.cfi_endproc
 4685              	.LFE160:
 4687              		.section	.text.HAL_PCD_SetupStageCallback,"ax",%progbits
 4688              		.align	1
 4689              		.global	HAL_PCD_SetupStageCallback
 4690              		.syntax unified
 4691              		.thumb
 4692              		.thumb_func
 4693              		.fpu fpv4-sp-d16
 4695              	HAL_PCD_SetupStageCallback:
 4696              	.LFB198:
2559:application-library/usb-cdc-device.c ****   USBD_LL_SetupStage((USBD_Handle_t*)hpcd->pData, (uint8_t *)hpcd->Setup);
 4697              		.loc 1 2559 0
 4698              		.cfi_startproc
 4699              		@ args = 0, pretend = 0, frame = 0
 4700              		@ frame_needed = 0, uses_anonymous_args = 0
 4701              	.LVL606:
 4702 0000 08B5     		push	{r3, lr}
 4703              	.LCFI73:
 4704              		.cfi_def_cfa_offset 8
 4705              		.cfi_offset 3, -8
 4706              		.cfi_offset 14, -4
2560:application-library/usb-cdc-device.c **** }
 4707              		.loc 1 2560 0
 4708 0002 00F2C441 		addw	r1, r0, #1220
 4709 0006 D0F80805 		ldr	r0, [r0, #1288]
 4710              	.LVL607:
 4711 000a FFF7FEFF 		bl	USBD_LL_SetupStage
 4712              	.LVL608:
 4713 000e 08BD     		pop	{r3, pc}
 4714              		.cfi_endproc
 4715              	.LFE198:
 4717              		.section	.text.USBD_LL_PrepareReceive,"ax",%progbits
 4718              		.align	1
 4719              		.global	USBD_LL_PrepareReceive
 4720              		.syntax unified
 4721              		.thumb
 4722              		.thumb_func
 4723              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccf4hwpD.s 			page 154


 4725              	USBD_LL_PrepareReceive:
 4726              	.LFB218:
2864:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 4727              		.loc 1 2864 0
 4728              		.cfi_startproc
 4729              		@ args = 0, pretend = 0, frame = 0
 4730              		@ frame_needed = 0, uses_anonymous_args = 0
 4731              	.LVL609:
 4732 0000 08B5     		push	{r3, lr}
 4733              	.LCFI74:
 4734              		.cfi_def_cfa_offset 8
 4735              		.cfi_offset 3, -8
 4736              		.cfi_offset 14, -4
 4737              	.LVL610:
2866:application-library/usb-cdc-device.c ****   USBD_Get_USB_Status(hal_status);
 4738              		.loc 1 2866 0
 4739 0002 D0F8C402 		ldr	r0, [r0, #708]
 4740              	.LVL611:
 4741 0006 FFF7FEFF 		bl	HAL_PCD_EP_Receive
 4742              	.LVL612:
 4743 000a 08BD     		pop	{r3, pc}
 4744              		.cfi_endproc
 4745              	.LFE218:
 4747              		.section	.text.USBD_CDC_ReceivePacket,"ax",%progbits
 4748              		.align	1
 4749              		.global	USBD_CDC_ReceivePacket
 4750              		.syntax unified
 4751              		.thumb
 4752              		.thumb_func
 4753              		.fpu fpv4-sp-d16
 4755              	USBD_CDC_ReceivePacket:
 4756              	.LFB152:
 855:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 4757              		.loc 1 855 0
 4758              		.cfi_startproc
 4759              		@ args = 0, pretend = 0, frame = 0
 4760              		@ frame_needed = 0, uses_anonymous_args = 0
 4761              	.LVL613:
 856:application-library/usb-cdc-device.c **** 
 4762              		.loc 1 856 0
 4763 0000 D0F8BC22 		ldr	r2, [r0, #700]
 4764              	.LVL614:
 858:application-library/usb-cdc-device.c ****   {
 4765              		.loc 1 858 0
 4766 0004 9AB1     		cbz	r2, .L432
 855:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 4767              		.loc 1 855 0
 4768 0006 08B5     		push	{r3, lr}
 4769              	.LCFI75:
 4770              		.cfi_def_cfa_offset 8
 4771              		.cfi_offset 3, -8
 4772              		.cfi_offset 14, -4
 863:application-library/usb-cdc-device.c ****   {
 4773              		.loc 1 863 0
 4774 0008 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4775 000a 3BB1     		cbz	r3, .L437
 872:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
ARM GAS  /tmp/ccf4hwpD.s 			page 155


 4776              		.loc 1 872 0
 4777 000c 4023     		movs	r3, #64
 4778 000e D2F80422 		ldr	r2, [r2, #516]
 4779              	.LVL615:
 4780 0012 0121     		movs	r1, #1
 4781 0014 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 4782              	.LVL616:
 876:application-library/usb-cdc-device.c **** }
 4783              		.loc 1 876 0
 4784 0018 0020     		movs	r0, #0
 4785 001a 08BD     		pop	{r3, pc}
 4786              	.LVL617:
 4787              	.L437:
 866:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 4788              		.loc 1 866 0
 4789 001c 4FF40073 		mov	r3, #512
 4790 0020 D2F80422 		ldr	r2, [r2, #516]
 4791              	.LVL618:
 4792 0024 0121     		movs	r1, #1
 4793 0026 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 4794              	.LVL619:
 876:application-library/usb-cdc-device.c **** }
 4795              		.loc 1 876 0
 4796 002a 0020     		movs	r0, #0
 4797 002c 08BD     		pop	{r3, pc}
 4798              	.LVL620:
 4799              	.L432:
 4800              	.LCFI76:
 4801              		.cfi_def_cfa_offset 0
 4802              		.cfi_restore 3
 4803              		.cfi_restore 14
 860:application-library/usb-cdc-device.c ****   }
 4804              		.loc 1 860 0
 4805 002e 0320     		movs	r0, #3
 4806              	.LVL621:
 4807 0030 7047     		bx	lr
 4808              		.cfi_endproc
 4809              	.LFE152:
 4811              		.section	.text.CDC_Receive_FS,"ax",%progbits
 4812              		.align	1
 4813              		.global	CDC_Receive_FS
 4814              		.syntax unified
 4815              		.thumb
 4816              		.thumb_func
 4817              		.fpu fpv4-sp-d16
 4819              	CDC_Receive_FS:
 4820              	.LFB135:
 278:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 4821              		.loc 1 278 0
 4822              		.cfi_startproc
 4823              		@ args = 0, pretend = 0, frame = 64
 4824              		@ frame_needed = 0, uses_anonymous_args = 0
 4825              	.LVL622:
 4826 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 4827              	.LCFI77:
 4828              		.cfi_def_cfa_offset 20
 4829              		.cfi_offset 4, -20
ARM GAS  /tmp/ccf4hwpD.s 			page 156


 4830              		.cfi_offset 5, -16
 4831              		.cfi_offset 6, -12
 4832              		.cfi_offset 7, -8
 4833              		.cfi_offset 14, -4
 4834 0002 91B0     		sub	sp, sp, #68
 4835              	.LCFI78:
 4836              		.cfi_def_cfa_offset 88
 4837 0004 0446     		mov	r4, r0
 4838 0006 0E46     		mov	r6, r1
 281:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
 4839              		.loc 1 281 0
 4840 0008 164D     		ldr	r5, .L440
 4841 000a 0146     		mov	r1, r0
 4842              	.LVL623:
 4843 000c 2846     		mov	r0, r5
 4844              	.LVL624:
 4845 000e FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 4846              	.LVL625:
 282:application-library/usb-cdc-device.c **** 
 4847              		.loc 1 282 0
 4848 0012 2846     		mov	r0, r5
 4849 0014 FFF7FEFF 		bl	USBD_CDC_ReceivePacket
 4850              	.LVL626:
 284:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 4851              		.loc 1 284 0
 4852 0018 4025     		movs	r5, #64
 4853 001a 2A46     		mov	r2, r5
 4854 001c 0021     		movs	r1, #0
 4855 001e 6846     		mov	r0, sp
 4856 0020 FFF7FEFF 		bl	memset
 4857              	.LVL627:
 4858 0024 3678     		ldrb	r6, [r6]	@ zero_extendqisi2
 4859              	.LVL628:
 286:application-library/usb-cdc-device.c **** 
 4860              		.loc 1 286 0
 4861 0026 3246     		mov	r2, r6
 4862 0028 2146     		mov	r1, r4
 4863 002a 6846     		mov	r0, sp
 4864 002c FFF7FEFF 		bl	memcpy
 4865              	.LVL629:
 288:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 4866              		.loc 1 288 0
 4867 0030 6846     		mov	r0, sp
 4868 0032 FFF7FEFF 		bl	strlen
 4869              	.LVL630:
 4870 0036 0746     		mov	r7, r0
 4871 0038 0DEB0002 		add	r2, sp, r0
 4872 003c 0A4B     		ldr	r3, .L440+4
 4873 003e 03CB     		ldmia	r3!, {r0, r1}
 4874 0040 4DF80700 		str	r0, [sp, r7]	@ unaligned
 4875 0044 5160     		str	r1, [r2, #4]	@ unaligned
 4876 0046 1B88     		ldrh	r3, [r3]	@ unaligned
 4877 0048 1381     		strh	r3, [r2, #8]	@ unaligned
 289:application-library/usb-cdc-device.c ****   usbd_transmit(received_msg, sizeof(received_msg));
 4878              		.loc 1 289 0
 4879 004a 3246     		mov	r2, r6
 4880 004c 0021     		movs	r1, #0
ARM GAS  /tmp/ccf4hwpD.s 			page 157


 4881 004e 2046     		mov	r0, r4
 4882 0050 FFF7FEFF 		bl	memset
 4883              	.LVL631:
 290:application-library/usb-cdc-device.c ****   return (USBD_OK);
 4884              		.loc 1 290 0
 4885 0054 2946     		mov	r1, r5
 4886 0056 6846     		mov	r0, sp
 4887 0058 FFF7FEFF 		bl	usbd_transmit
 4888              	.LVL632:
 293:application-library/usb-cdc-device.c **** 
 4889              		.loc 1 293 0
 4890 005c 0020     		movs	r0, #0
 4891 005e 11B0     		add	sp, sp, #68
 4892              	.LCFI79:
 4893              		.cfi_def_cfa_offset 20
 4894              		@ sp needed
 4895 0060 F0BD     		pop	{r4, r5, r6, r7, pc}
 4896              	.LVL633:
 4897              	.L441:
 4898 0062 00BF     		.align	2
 4899              	.L440:
 4900 0064 00000000 		.word	hUsbDeviceFS
 4901 0068 00000000 		.word	.LC4
 4902              		.cfi_endproc
 4903              	.LFE135:
 4905              		.section	.text.USBD_CtlPrepareRx,"ax",%progbits
 4906              		.align	1
 4907              		.global	USBD_CtlPrepareRx
 4908              		.syntax unified
 4909              		.thumb
 4910              		.thumb_func
 4911              		.fpu fpv4-sp-d16
 4913              	USBD_CtlPrepareRx:
 4914              	.LFB191:
2414:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 4915              		.loc 1 2414 0
 4916              		.cfi_startproc
 4917              		@ args = 0, pretend = 0, frame = 0
 4918              		@ frame_needed = 0, uses_anonymous_args = 0
 4919              	.LVL634:
 4920 0000 10B5     		push	{r4, lr}
 4921              	.LCFI80:
 4922              		.cfi_def_cfa_offset 8
 4923              		.cfi_offset 4, -8
 4924              		.cfi_offset 14, -4
 4925 0002 1346     		mov	r3, r2
2416:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[0].total_length = len;
 4926              		.loc 1 2416 0
 4927 0004 0322     		movs	r2, #3
 4928              	.LVL635:
 4929 0006 C0F89422 		str	r2, [r0, #660]
2417:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_out[0].rem_length = len;
 4930              		.loc 1 2417 0
 4931 000a C0F85831 		str	r3, [r0, #344]
2418:application-library/usb-cdc-device.c **** 
 4932              		.loc 1 2418 0
 4933 000e C0F85C31 		str	r3, [r0, #348]
ARM GAS  /tmp/ccf4hwpD.s 			page 158


2421:application-library/usb-cdc-device.c **** }
 4934              		.loc 1 2421 0
 4935 0012 0A46     		mov	r2, r1
 4936 0014 0021     		movs	r1, #0
 4937              	.LVL636:
 4938 0016 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 4939              	.LVL637:
 4940 001a 10BD     		pop	{r4, pc}
 4941              		.cfi_endproc
 4942              	.LFE191:
 4944              		.section	.text.USBD_CDC_Setup,"ax",%progbits
 4945              		.align	1
 4946              		.global	USBD_CDC_Setup
 4947              		.syntax unified
 4948              		.thumb
 4949              		.thumb_func
 4950              		.fpu fpv4-sp-d16
 4952              	USBD_CDC_Setup:
 4953              	.LFB141:
 491:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 4954              		.loc 1 491 0
 4955              		.cfi_startproc
 4956              		@ args = 0, pretend = 0, frame = 8
 4957              		@ frame_needed = 0, uses_anonymous_args = 0
 4958              	.LVL638:
 4959 0000 70B5     		push	{r4, r5, r6, lr}
 4960              	.LCFI81:
 4961              		.cfi_def_cfa_offset 16
 4962              		.cfi_offset 4, -16
 4963              		.cfi_offset 5, -12
 4964              		.cfi_offset 6, -8
 4965              		.cfi_offset 14, -4
 4966 0002 82B0     		sub	sp, sp, #8
 4967              	.LCFI82:
 4968              		.cfi_def_cfa_offset 24
 492:application-library/usb-cdc-device.c ****   uint16_t len;
 4969              		.loc 1 492 0
 4970 0004 D0F8BC62 		ldr	r6, [r0, #700]
 4971              	.LVL639:
 494:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 4972              		.loc 1 494 0
 4973 0008 0023     		movs	r3, #0
 4974 000a 8DF80730 		strb	r3, [sp, #7]
 495:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4975              		.loc 1 495 0
 4976 000e ADF80430 		strh	r3, [sp, #4]	@ movhi
 4977              	.LVL640:
 498:application-library/usb-cdc-device.c ****   {
 4978              		.loc 1 498 0
 4979 0012 002E     		cmp	r6, #0
 4980 0014 70D0     		beq	.L459
 4981 0016 0C46     		mov	r4, r1
 4982 0018 0546     		mov	r5, r0
 503:application-library/usb-cdc-device.c ****   {
 4983              		.loc 1 503 0
 4984 001a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 4985 001c 13F06002 		ands	r2, r3, #96
ARM GAS  /tmp/ccf4hwpD.s 			page 159


 4986 0020 2FD0     		beq	.L447
 4987 0022 202A     		cmp	r2, #32
 4988 0024 64D1     		bne	.L463
 506:application-library/usb-cdc-device.c ****       {
 4989              		.loc 1 506 0
 4990 0026 CA88     		ldrh	r2, [r1, #6]
 4991 0028 1AB3     		cbz	r2, .L449
 508:application-library/usb-cdc-device.c ****         {
 4992              		.loc 1 508 0
 4993 002a 13F0800F 		tst	r3, #128
 4994 002e 0ED1     		bne	.L465
 519:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 4995              		.loc 1 519 0
 4996 0030 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4997 0032 86F80032 		strb	r3, [r6, #512]
 520:application-library/usb-cdc-device.c **** 
 4998              		.loc 1 520 0
 4999 0036 CA88     		ldrh	r2, [r1, #6]
 5000 0038 3F2A     		cmp	r2, #63
 5001 003a 18D8     		bhi	.L460
 520:application-library/usb-cdc-device.c **** 
 5002              		.loc 1 520 0 is_stmt 0 discriminator 1
 5003 003c D2B2     		uxtb	r2, r2
 5004              	.L451:
 520:application-library/usb-cdc-device.c **** 
 5005              		.loc 1 520 0 discriminator 4
 5006 003e 86F80122 		strb	r2, [r6, #513]
 522:application-library/usb-cdc-device.c ****         }
 5007              		.loc 1 522 0 is_stmt 1 discriminator 4
 5008 0042 3146     		mov	r1, r6
 5009              	.LVL641:
 5010 0044 2846     		mov	r0, r5
 5011              	.LVL642:
 5012 0046 FFF7FEFF 		bl	USBD_CtlPrepareRx
 5013              	.LVL643:
 496:application-library/usb-cdc-device.c **** 
 5014              		.loc 1 496 0 discriminator 4
 5015 004a 0020     		movs	r0, #0
 5016 004c 55E0     		b	.L445
 5017              	.LVL644:
 5018              	.L465:
 510:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 5019              		.loc 1 510 0
 5020 004e D0F8C032 		ldr	r3, [r0, #704]
 5021 0052 9B68     		ldr	r3, [r3, #8]
 5022 0054 3146     		mov	r1, r6
 5023              	.LVL645:
 5024 0056 6078     		ldrb	r0, [r4, #1]	@ zero_extendqisi2
 5025              	.LVL646:
 5026 0058 9847     		blx	r3
 5027              	.LVL647:
 514:application-library/usb-cdc-device.c ****           USBD_CtlSendData(p_usbd_instance, (uint8_t *)hcdc->data, len);
 5028              		.loc 1 514 0
 5029 005a E288     		ldrh	r2, [r4, #6]
 5030              	.LVL648:
 515:application-library/usb-cdc-device.c ****         }
 5031              		.loc 1 515 0
ARM GAS  /tmp/ccf4hwpD.s 			page 160


 5032 005c 072A     		cmp	r2, #7
 5033 005e 28BF     		it	cs
 5034 0060 0722     		movcs	r2, #7
 5035              	.LVL649:
 5036 0062 3146     		mov	r1, r6
 5037 0064 2846     		mov	r0, r5
 5038 0066 FFF7FEFF 		bl	USBD_CtlSendData
 5039              	.LVL650:
 496:application-library/usb-cdc-device.c **** 
 5040              		.loc 1 496 0
 5041 006a 0020     		movs	r0, #0
 5042 006c 45E0     		b	.L445
 5043              	.LVL651:
 5044              	.L460:
 520:application-library/usb-cdc-device.c **** 
 5045              		.loc 1 520 0
 5046 006e 4022     		movs	r2, #64
 5047 0070 E5E7     		b	.L451
 5048              	.L449:
 527:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
 5049              		.loc 1 527 0
 5050 0072 D0F8C032 		ldr	r3, [r0, #704]
 5051 0076 9B68     		ldr	r3, [r3, #8]
 5052 0078 0022     		movs	r2, #0
 5053 007a 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 5054              	.LVL652:
 5055 007c 9847     		blx	r3
 5056              	.LVL653:
 496:application-library/usb-cdc-device.c **** 
 5057              		.loc 1 496 0
 5058 007e 0020     		movs	r0, #0
 5059 0080 3BE0     		b	.L445
 5060              	.LVL654:
 5061              	.L447:
 533:application-library/usb-cdc-device.c ****       {
 5062              		.loc 1 533 0
 5063 0082 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 5064 0084 0B2B     		cmp	r3, #11
 5065 0086 2FD8     		bhi	.L452
 5066 0088 DFE803F0 		tbb	[pc, r3]
 5067              	.L454:
 5068 008c 06       		.byte	(.L453-.L454)/2
 5069 008d 39       		.byte	(.L461-.L454)/2
 5070 008e 2E       		.byte	(.L452-.L454)/2
 5071 008f 2E       		.byte	(.L452-.L454)/2
 5072 0090 2E       		.byte	(.L452-.L454)/2
 5073 0091 2E       		.byte	(.L452-.L454)/2
 5074 0092 2E       		.byte	(.L452-.L454)/2
 5075 0093 2E       		.byte	(.L452-.L454)/2
 5076 0094 2E       		.byte	(.L452-.L454)/2
 5077 0095 2E       		.byte	(.L452-.L454)/2
 5078 0096 15       		.byte	(.L455-.L454)/2
 5079 0097 25       		.byte	(.L456-.L454)/2
 5080              		.p2align 1
 5081              	.L453:
 536:application-library/usb-cdc-device.c ****           {
 5082              		.loc 1 536 0
ARM GAS  /tmp/ccf4hwpD.s 			page 161


 5083 0098 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 5084 009c DBB2     		uxtb	r3, r3
 5085 009e 032B     		cmp	r3, #3
 5086 00a0 03D0     		beq	.L466
 542:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 5087              		.loc 1 542 0
 5088 00a2 FFF7FEFF 		bl	USBD_CtlError
 5089              	.LVL655:
 543:application-library/usb-cdc-device.c ****           }
 5090              		.loc 1 543 0
 5091 00a6 0320     		movs	r0, #3
 5092 00a8 27E0     		b	.L445
 5093              	.LVL656:
 5094              	.L466:
 538:application-library/usb-cdc-device.c ****           }
 5095              		.loc 1 538 0
 5096 00aa 0222     		movs	r2, #2
 5097 00ac 01A9     		add	r1, sp, #4
 5098              	.LVL657:
 5099 00ae FFF7FEFF 		bl	USBD_CtlSendData
 5100              	.LVL658:
 496:application-library/usb-cdc-device.c **** 
 5101              		.loc 1 496 0
 5102 00b2 0020     		movs	r0, #0
 5103 00b4 21E0     		b	.L445
 5104              	.LVL659:
 5105              	.L455:
 548:application-library/usb-cdc-device.c ****           {
 5106              		.loc 1 548 0
 5107 00b6 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 5108 00ba DBB2     		uxtb	r3, r3
 5109 00bc 032B     		cmp	r3, #3
 5110 00be 03D0     		beq	.L467
 554:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 5111              		.loc 1 554 0
 5112 00c0 FFF7FEFF 		bl	USBD_CtlError
 5113              	.LVL660:
 555:application-library/usb-cdc-device.c ****           }
 5114              		.loc 1 555 0
 5115 00c4 0320     		movs	r0, #3
 5116 00c6 18E0     		b	.L445
 5117              	.LVL661:
 5118              	.L467:
 550:application-library/usb-cdc-device.c ****           }
 5119              		.loc 1 550 0
 5120 00c8 0122     		movs	r2, #1
 5121 00ca 0DF10701 		add	r1, sp, #7
 5122              	.LVL662:
 5123 00ce FFF7FEFF 		bl	USBD_CtlSendData
 5124              	.LVL663:
 496:application-library/usb-cdc-device.c **** 
 5125              		.loc 1 496 0
 5126 00d2 0020     		movs	r0, #0
 5127 00d4 11E0     		b	.L445
 5128              	.LVL664:
 5129              	.L456:
 560:application-library/usb-cdc-device.c ****           {
ARM GAS  /tmp/ccf4hwpD.s 			page 162


 5130              		.loc 1 560 0
 5131 00d6 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 5132 00da DBB2     		uxtb	r3, r3
 5133 00dc 032B     		cmp	r3, #3
 5134 00de 10D0     		beq	.L462
 562:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 5135              		.loc 1 562 0
 5136 00e0 FFF7FEFF 		bl	USBD_CtlError
 5137              	.LVL665:
 563:application-library/usb-cdc-device.c ****           }
 5138              		.loc 1 563 0
 5139 00e4 0320     		movs	r0, #3
 5140 00e6 08E0     		b	.L445
 5141              	.LVL666:
 5142              	.L452:
 571:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 5143              		.loc 1 571 0
 5144 00e8 FFF7FEFF 		bl	USBD_CtlError
 5145              	.LVL667:
 572:application-library/usb-cdc-device.c ****           break;
 5146              		.loc 1 572 0
 5147 00ec 0320     		movs	r0, #3
 573:application-library/usb-cdc-device.c ****       }
 5148              		.loc 1 573 0
 5149 00ee 04E0     		b	.L445
 5150              	.LVL668:
 5151              	.L463:
 578:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 5152              		.loc 1 578 0
 5153 00f0 FFF7FEFF 		bl	USBD_CtlError
 5154              	.LVL669:
 579:application-library/usb-cdc-device.c ****       break;
 5155              		.loc 1 579 0
 5156 00f4 0320     		movs	r0, #3
 580:application-library/usb-cdc-device.c ****   }
 5157              		.loc 1 580 0
 5158 00f6 00E0     		b	.L445
 5159              	.LVL670:
 5160              	.L459:
 500:application-library/usb-cdc-device.c ****   }
 5161              		.loc 1 500 0
 5162 00f8 0320     		movs	r0, #3
 5163              	.LVL671:
 5164              	.L445:
 584:application-library/usb-cdc-device.c **** 
 5165              		.loc 1 584 0
 5166 00fa 02B0     		add	sp, sp, #8
 5167              	.LCFI83:
 5168              		.cfi_remember_state
 5169              		.cfi_def_cfa_offset 16
 5170              		@ sp needed
 5171 00fc 70BD     		pop	{r4, r5, r6, pc}
 5172              	.LVL672:
 5173              	.L461:
 5174              	.LCFI84:
 5175              		.cfi_restore_state
 496:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 163


 5176              		.loc 1 496 0
 5177 00fe 0020     		movs	r0, #0
 5178              	.LVL673:
 5179 0100 FBE7     		b	.L445
 5180              	.LVL674:
 5181              	.L462:
 5182 0102 0020     		movs	r0, #0
 5183              	.LVL675:
 5184 0104 F9E7     		b	.L445
 5185              		.cfi_endproc
 5186              	.LFE141:
 5188              		.section	.text.USBD_CtlContinueRx,"ax",%progbits
 5189              		.align	1
 5190              		.global	USBD_CtlContinueRx
 5191              		.syntax unified
 5192              		.thumb
 5193              		.thumb_func
 5194              		.fpu fpv4-sp-d16
 5196              	USBD_CtlContinueRx:
 5197              	.LFB192:
2434:application-library/usb-cdc-device.c ****   USBD_LL_PrepareReceive(p_usbd_instance, 0U, pbuf, len);
 5198              		.loc 1 2434 0
 5199              		.cfi_startproc
 5200              		@ args = 0, pretend = 0, frame = 0
 5201              		@ frame_needed = 0, uses_anonymous_args = 0
 5202              	.LVL676:
 5203 0000 08B5     		push	{r3, lr}
 5204              	.LCFI85:
 5205              		.cfi_def_cfa_offset 8
 5206              		.cfi_offset 3, -8
 5207              		.cfi_offset 14, -4
2435:application-library/usb-cdc-device.c **** 
 5208              		.loc 1 2435 0
 5209 0002 1346     		mov	r3, r2
 5210 0004 0A46     		mov	r2, r1
 5211              	.LVL677:
 5212 0006 0021     		movs	r1, #0
 5213              	.LVL678:
 5214 0008 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5215              	.LVL679:
2438:application-library/usb-cdc-device.c **** 
 5216              		.loc 1 2438 0
 5217 000c 0020     		movs	r0, #0
 5218 000e 08BD     		pop	{r3, pc}
 5219              		.cfi_endproc
 5220              	.LFE192:
 5222              		.section	.text.USBD_LL_DataOutStage,"ax",%progbits
 5223              		.align	1
 5224              		.global	USBD_LL_DataOutStage
 5225              		.syntax unified
 5226              		.thumb
 5227              		.thumb_func
 5228              		.fpu fpv4-sp-d16
 5230              	USBD_LL_DataOutStage:
 5231              	.LFB161:
1119:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 5232              		.loc 1 1119 0
ARM GAS  /tmp/ccf4hwpD.s 			page 164


 5233              		.cfi_startproc
 5234              		@ args = 0, pretend = 0, frame = 0
 5235              		@ frame_needed = 0, uses_anonymous_args = 0
 5236              	.LVL680:
 5237 0000 38B5     		push	{r3, r4, r5, lr}
 5238              	.LCFI86:
 5239              		.cfi_def_cfa_offset 16
 5240              		.cfi_offset 3, -16
 5241              		.cfi_offset 4, -12
 5242              		.cfi_offset 5, -8
 5243              		.cfi_offset 14, -4
 5244 0002 0446     		mov	r4, r0
 5245              	.LVL681:
1124:application-library/usb-cdc-device.c ****   {
 5246              		.loc 1 1124 0
 5247 0004 41BB     		cbnz	r1, .L471
 5248 0006 1346     		mov	r3, r2
 5249              	.LVL682:
1128:application-library/usb-cdc-device.c ****     {
 5250              		.loc 1 1128 0
 5251 0008 D0F89422 		ldr	r2, [r0, #660]
 5252              	.LVL683:
 5253 000c 032A     		cmp	r2, #3
 5254 000e 01D0     		beq	.L481
1201:application-library/usb-cdc-device.c **** }
 5255              		.loc 1 1201 0
 5256 0010 0020     		movs	r0, #0
 5257              	.LVL684:
 5258 0012 38BD     		pop	{r3, r4, r5, pc}
 5259              	.LVL685:
 5260              	.L481:
1130:application-library/usb-cdc-device.c ****       {
 5261              		.loc 1 1130 0
 5262 0014 D0F85C11 		ldr	r1, [r0, #348]
 5263              	.LVL686:
 5264 0018 D0F86021 		ldr	r2, [r0, #352]
 5265 001c 9142     		cmp	r1, r2
 5266 001e 09D8     		bhi	.L482
1162:application-library/usb-cdc-device.c ****         {
 5267              		.loc 1 1162 0
 5268 0020 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 5269              	.LVL687:
 5270 0024 DBB2     		uxtb	r3, r3
 5271 0026 032B     		cmp	r3, #3
 5272 0028 0FD0     		beq	.L483
 5273              	.LVL688:
 5274              	.L474:
1171:application-library/usb-cdc-device.c ****       }
 5275              		.loc 1 1171 0
 5276 002a 2046     		mov	r0, r4
 5277 002c FFF7FEFF 		bl	USBD_CtlSendStatus
 5278              	.LVL689:
1201:application-library/usb-cdc-device.c **** }
 5279              		.loc 1 1201 0
 5280 0030 0020     		movs	r0, #0
 5281 0032 38BD     		pop	{r3, r4, r5, pc}
 5282              	.LVL690:
ARM GAS  /tmp/ccf4hwpD.s 			page 165


 5283              	.L482:
1132:application-library/usb-cdc-device.c **** 
 5284              		.loc 1 1132 0
 5285 0034 891A     		subs	r1, r1, r2
 5286 0036 C0F85C11 		str	r1, [r0, #348]
1134:application-library/usb-cdc-device.c ****       }
 5287              		.loc 1 1134 0
 5288 003a 8A42     		cmp	r2, r1
 5289 003c 28BF     		it	cs
 5290 003e 0A46     		movcs	r2, r1
 5291 0040 1946     		mov	r1, r3
 5292 0042 FFF7FEFF 		bl	USBD_CtlContinueRx
 5293              	.LVL691:
1201:application-library/usb-cdc-device.c **** }
 5294              		.loc 1 1201 0
 5295 0046 0020     		movs	r0, #0
 5296 0048 38BD     		pop	{r3, r4, r5, pc}
 5297              	.LVL692:
 5298              	.L483:
1164:application-library/usb-cdc-device.c ****           {
 5299              		.loc 1 1164 0
 5300 004a D0F8B432 		ldr	r3, [r0, #692]
 5301 004e 1B69     		ldr	r3, [r3, #16]
 5302 0050 002B     		cmp	r3, #0
 5303 0052 EAD0     		beq	.L474
1167:application-library/usb-cdc-device.c ****           }
 5304              		.loc 1 1167 0
 5305 0054 9847     		blx	r3
 5306              	.LVL693:
 5307 0056 E8E7     		b	.L474
 5308              	.LVL694:
 5309              	.L471:
 5310 0058 0D46     		mov	r5, r1
1181:application-library/usb-cdc-device.c **** 
 5311              		.loc 1 1181 0
 5312 005a 01F07F01 		and	r1, r1, #127
 5313              	.LVL695:
 5314 005e FFF7FEFF 		bl	USBD_CoreFindEP
 5315              	.LVL696:
1183:application-library/usb-cdc-device.c ****     {
 5316              		.loc 1 1183 0
 5317 0062 FF28     		cmp	r0, #255
 5318 0064 10D0     		beq	.L477
1186:application-library/usb-cdc-device.c ****       {
 5319              		.loc 1 1186 0
 5320 0066 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 5321 006a DBB2     		uxtb	r3, r3
 5322 006c 032B     		cmp	r3, #3
 5323 006e 01D0     		beq	.L484
1121:application-library/usb-cdc-device.c ****   uint8_t idx;
 5324              		.loc 1 1121 0
 5325 0070 0020     		movs	r0, #0
 5326              	.LVL697:
 5327 0072 38BD     		pop	{r3, r4, r5, pc}
 5328              	.LVL698:
 5329              	.L484:
1188:application-library/usb-cdc-device.c ****         {
ARM GAS  /tmp/ccf4hwpD.s 			page 166


 5330              		.loc 1 1188 0
 5331 0074 D4F8B432 		ldr	r3, [r4, #692]
 5332 0078 9B69     		ldr	r3, [r3, #24]
 5333 007a 1BB1     		cbz	r3, .L479
1191:application-library/usb-cdc-device.c ****         }
 5334              		.loc 1 1191 0
 5335 007c 2946     		mov	r1, r5
 5336 007e 2046     		mov	r0, r4
 5337              	.LVL699:
 5338 0080 9847     		blx	r3
 5339              	.LVL700:
 5340 0082 38BD     		pop	{r3, r4, r5, pc}
 5341              	.LVL701:
 5342              	.L479:
1121:application-library/usb-cdc-device.c ****   uint8_t idx;
 5343              		.loc 1 1121 0
 5344 0084 0020     		movs	r0, #0
 5345              	.LVL702:
 5346 0086 38BD     		pop	{r3, r4, r5, pc}
 5347              	.LVL703:
 5348              	.L477:
1201:application-library/usb-cdc-device.c **** }
 5349              		.loc 1 1201 0
 5350 0088 0020     		movs	r0, #0
 5351              	.LVL704:
1202:application-library/usb-cdc-device.c **** 
 5352              		.loc 1 1202 0
 5353 008a 38BD     		pop	{r3, r4, r5, pc}
 5354              		.cfi_endproc
 5355              	.LFE161:
 5357              		.section	.text.HAL_PCD_DataOutStageCallback,"ax",%progbits
 5358              		.align	1
 5359              		.global	HAL_PCD_DataOutStageCallback
 5360              		.syntax unified
 5361              		.thumb
 5362              		.thumb_func
 5363              		.fpu fpv4-sp-d16
 5365              	HAL_PCD_DataOutStageCallback:
 5366              	.LFB199:
2570:application-library/usb-cdc-device.c ****   USBD_LL_DataOutStage((USBD_Handle_t*)hpcd->pData, epnum, hpcd->OUT_ep[epnum].xfer_buff);
 5367              		.loc 1 2570 0
 5368              		.cfi_startproc
 5369              		@ args = 0, pretend = 0, frame = 0
 5370              		@ frame_needed = 0, uses_anonymous_args = 0
 5371              	.LVL705:
 5372 0000 08B5     		push	{r3, lr}
 5373              	.LCFI87:
 5374              		.cfi_def_cfa_offset 8
 5375              		.cfi_offset 3, -8
 5376              		.cfi_offset 14, -4
2571:application-library/usb-cdc-device.c **** }
 5377              		.loc 1 2571 0
 5378 0002 01EBC102 		add	r2, r1, r1, lsl #3
 5379 0006 9300     		lsls	r3, r2, #2
 5380 0008 0344     		add	r3, r3, r0
 5381 000a D3F88C22 		ldr	r2, [r3, #652]
 5382 000e D0F80805 		ldr	r0, [r0, #1288]
ARM GAS  /tmp/ccf4hwpD.s 			page 167


 5383              	.LVL706:
 5384 0012 FFF7FEFF 		bl	USBD_LL_DataOutStage
 5385              	.LVL707:
 5386 0016 08BD     		pop	{r3, pc}
 5387              		.cfi_endproc
 5388              	.LFE199:
 5390              		.section	.text.USBD_CtlReceiveStatus,"ax",%progbits
 5391              		.align	1
 5392              		.global	USBD_CtlReceiveStatus
 5393              		.syntax unified
 5394              		.thumb
 5395              		.thumb_func
 5396              		.fpu fpv4-sp-d16
 5398              	USBD_CtlReceiveStatus:
 5399              	.LFB194:
2462:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 5400              		.loc 1 2462 0
 5401              		.cfi_startproc
 5402              		@ args = 0, pretend = 0, frame = 0
 5403              		@ frame_needed = 0, uses_anonymous_args = 0
 5404              	.LVL708:
 5405 0000 08B5     		push	{r3, lr}
 5406              	.LCFI88:
 5407              		.cfi_def_cfa_offset 8
 5408              		.cfi_offset 3, -8
 5409              		.cfi_offset 14, -4
2464:application-library/usb-cdc-device.c **** 
 5410              		.loc 1 2464 0
 5411 0002 0522     		movs	r2, #5
 5412 0004 C0F89422 		str	r2, [r0, #660]
2467:application-library/usb-cdc-device.c **** 
 5413              		.loc 1 2467 0
 5414 0008 0023     		movs	r3, #0
 5415 000a 1A46     		mov	r2, r3
 5416 000c 1946     		mov	r1, r3
 5417 000e FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5418              	.LVL709:
2470:application-library/usb-cdc-device.c **** 
 5419              		.loc 1 2470 0
 5420 0012 0020     		movs	r0, #0
 5421 0014 08BD     		pop	{r3, pc}
 5422              		.cfi_endproc
 5423              	.LFE194:
 5425              		.section	.text.USBD_LL_DataInStage,"ax",%progbits
 5426              		.align	1
 5427              		.global	USBD_LL_DataInStage
 5428              		.syntax unified
 5429              		.thumb
 5430              		.thumb_func
 5431              		.fpu fpv4-sp-d16
 5433              	USBD_LL_DataInStage:
 5434              	.LFB162:
1213:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 5435              		.loc 1 1213 0
 5436              		.cfi_startproc
 5437              		@ args = 0, pretend = 0, frame = 0
 5438              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccf4hwpD.s 			page 168


 5439              	.LVL710:
 5440 0000 38B5     		push	{r3, r4, r5, lr}
 5441              	.LCFI89:
 5442              		.cfi_def_cfa_offset 16
 5443              		.cfi_offset 3, -16
 5444              		.cfi_offset 4, -12
 5445              		.cfi_offset 5, -8
 5446              		.cfi_offset 14, -4
 5447 0002 0446     		mov	r4, r0
1217:application-library/usb-cdc-device.c ****   {
 5448              		.loc 1 1217 0
 5449 0004 0029     		cmp	r1, #0
 5450 0006 40D1     		bne	.L490
 5451 0008 1346     		mov	r3, r2
 5452              	.LVL711:
1221:application-library/usb-cdc-device.c ****     {
 5453              		.loc 1 1221 0
 5454 000a D0F89422 		ldr	r2, [r0, #660]
 5455              	.LVL712:
 5456 000e 022A     		cmp	r2, #2
 5457 0010 00D0     		beq	.L496
 5458              	.LVL713:
 5459              	.L489:
 5460 0012 38BD     		pop	{r3, r4, r5, pc}
 5461              	.LVL714:
 5462              	.L496:
1223:application-library/usb-cdc-device.c ****       {
 5463              		.loc 1 1223 0
 5464 0014 C269     		ldr	r2, [r0, #28]
 5465 0016 016A     		ldr	r1, [r0, #32]
 5466              	.LVL715:
 5467 0018 8A42     		cmp	r2, r1
 5468 001a 0ED8     		bhi	.L497
1235:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 5469              		.loc 1 1235 0
 5470 001c 8A42     		cmp	r2, r1
 5471 001e 18D0     		beq	.L498
 5472              	.LVL716:
 5473              	.L493:
1247:application-library/usb-cdc-device.c ****           {
 5474              		.loc 1 1247 0
 5475 0020 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 5476 0024 DBB2     		uxtb	r3, r3
 5477 0026 032B     		cmp	r3, #3
 5478 0028 27D0     		beq	.L499
 5479              	.LVL717:
 5480              	.L494:
1255:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(p_usbd_instance);
 5481              		.loc 1 1255 0
 5482 002a 8021     		movs	r1, #128
 5483 002c 2046     		mov	r0, r4
 5484 002e FFF7FEFF 		bl	USBD_LL_StallEP
 5485              	.LVL718:
1256:application-library/usb-cdc-device.c ****         }
 5486              		.loc 1 1256 0
 5487 0032 2046     		mov	r0, r4
 5488 0034 FFF7FEFF 		bl	USBD_CtlReceiveStatus
ARM GAS  /tmp/ccf4hwpD.s 			page 169


 5489              	.LVL719:
 5490 0038 38BD     		pop	{r3, r4, r5, pc}
 5491              	.LVL720:
 5492              	.L497:
1225:application-library/usb-cdc-device.c **** 
 5493              		.loc 1 1225 0
 5494 003a 521A     		subs	r2, r2, r1
 5495 003c C261     		str	r2, [r0, #28]
1227:application-library/usb-cdc-device.c **** 
 5496              		.loc 1 1227 0
 5497 003e 1946     		mov	r1, r3
 5498 0040 FFF7FEFF 		bl	USBD_CtlContinueSendData
 5499              	.LVL721:
1230:application-library/usb-cdc-device.c ****       }
 5500              		.loc 1 1230 0
 5501 0044 0023     		movs	r3, #0
 5502 0046 1A46     		mov	r2, r3
 5503 0048 1946     		mov	r1, r3
 5504 004a 2046     		mov	r0, r4
 5505 004c FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5506              	.LVL722:
 5507 0050 38BD     		pop	{r3, r4, r5, pc}
 5508              	.LVL723:
 5509              	.L498:
1236:application-library/usb-cdc-device.c ****             (pep->total_length < p_usbd_instance->ep0_data_len))
 5510              		.loc 1 1236 0 discriminator 1
 5511 0052 8369     		ldr	r3, [r0, #24]
 5512              	.LVL724:
1235:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 5513              		.loc 1 1235 0 discriminator 1
 5514 0054 9942     		cmp	r1, r3
 5515 0056 E3D8     		bhi	.L493
1237:application-library/usb-cdc-device.c ****         {
 5516              		.loc 1 1237 0
 5517 0058 D0F89822 		ldr	r2, [r0, #664]
1236:application-library/usb-cdc-device.c ****             (pep->total_length < p_usbd_instance->ep0_data_len))
 5518              		.loc 1 1236 0
 5519 005c 9342     		cmp	r3, r2
 5520 005e DFD2     		bcs	.L493
1239:application-library/usb-cdc-device.c ****           p_usbd_instance->ep0_data_len = 0U;
 5521              		.loc 1 1239 0
 5522 0060 0022     		movs	r2, #0
 5523 0062 1146     		mov	r1, r2
 5524 0064 FFF7FEFF 		bl	USBD_CtlContinueSendData
 5525              	.LVL725:
1240:application-library/usb-cdc-device.c **** 
 5526              		.loc 1 1240 0
 5527 0068 0021     		movs	r1, #0
 5528 006a C4F89812 		str	r1, [r4, #664]
1243:application-library/usb-cdc-device.c ****         }
 5529              		.loc 1 1243 0
 5530 006e 0B46     		mov	r3, r1
 5531 0070 0A46     		mov	r2, r1
 5532 0072 2046     		mov	r0, r4
 5533 0074 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5534              	.LVL726:
 5535 0078 38BD     		pop	{r3, r4, r5, pc}
ARM GAS  /tmp/ccf4hwpD.s 			page 170


 5536              	.LVL727:
 5537              	.L499:
1249:application-library/usb-cdc-device.c ****             {
 5538              		.loc 1 1249 0
 5539 007a D4F8B432 		ldr	r3, [r4, #692]
 5540 007e DB68     		ldr	r3, [r3, #12]
 5541 0080 002B     		cmp	r3, #0
 5542 0082 D2D0     		beq	.L494
1252:application-library/usb-cdc-device.c ****             }
 5543              		.loc 1 1252 0
 5544 0084 2046     		mov	r0, r4
 5545              	.LVL728:
 5546 0086 9847     		blx	r3
 5547              	.LVL729:
 5548 0088 CFE7     		b	.L494
 5549              	.LVL730:
 5550              	.L490:
 5551 008a 0D46     		mov	r5, r1
1264:application-library/usb-cdc-device.c **** 
 5552              		.loc 1 1264 0
 5553 008c 41F08001 		orr	r1, r1, #128
 5554              	.LVL731:
 5555 0090 FFF7FEFF 		bl	USBD_CoreFindEP
 5556              	.LVL732:
1266:application-library/usb-cdc-device.c ****     {
 5557              		.loc 1 1266 0
 5558 0094 FF28     		cmp	r0, #255
 5559 0096 BCD0     		beq	.L489
1269:application-library/usb-cdc-device.c ****       {
 5560              		.loc 1 1269 0
 5561 0098 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 5562 009c DBB2     		uxtb	r3, r3
 5563 009e 032B     		cmp	r3, #3
 5564 00a0 B7D1     		bne	.L489
1271:application-library/usb-cdc-device.c ****         {
 5565              		.loc 1 1271 0
 5566 00a2 D4F8B432 		ldr	r3, [r4, #692]
 5567 00a6 5B69     		ldr	r3, [r3, #20]
 5568 00a8 002B     		cmp	r3, #0
 5569 00aa B2D0     		beq	.L489
1274:application-library/usb-cdc-device.c ****         }
 5570              		.loc 1 1274 0
 5571 00ac 2946     		mov	r1, r5
 5572 00ae 2046     		mov	r0, r4
 5573              	.LVL733:
 5574 00b0 9847     		blx	r3
 5575              	.LVL734:
1279:application-library/usb-cdc-device.c **** 
 5576              		.loc 1 1279 0
 5577 00b2 AEE7     		b	.L489
 5578              		.cfi_endproc
 5579              	.LFE162:
 5581              		.section	.text.HAL_PCD_DataInStageCallback,"ax",%progbits
 5582              		.align	1
 5583              		.global	HAL_PCD_DataInStageCallback
 5584              		.syntax unified
 5585              		.thumb
ARM GAS  /tmp/ccf4hwpD.s 			page 171


 5586              		.thumb_func
 5587              		.fpu fpv4-sp-d16
 5589              	HAL_PCD_DataInStageCallback:
 5590              	.LFB200:
2581:application-library/usb-cdc-device.c ****   USBD_LL_DataInStage((USBD_Handle_t*)hpcd->pData, epnum, hpcd->IN_ep[epnum].xfer_buff);
 5591              		.loc 1 2581 0
 5592              		.cfi_startproc
 5593              		@ args = 0, pretend = 0, frame = 0
 5594              		@ frame_needed = 0, uses_anonymous_args = 0
 5595              	.LVL735:
 5596 0000 08B5     		push	{r3, lr}
 5597              	.LCFI90:
 5598              		.cfi_def_cfa_offset 8
 5599              		.cfi_offset 3, -8
 5600              		.cfi_offset 14, -4
2582:application-library/usb-cdc-device.c **** }
 5601              		.loc 1 2582 0
 5602 0002 01EBC102 		add	r2, r1, r1, lsl #3
 5603 0006 9300     		lsls	r3, r2, #2
 5604 0008 0344     		add	r3, r3, r0
 5605 000a DA6C     		ldr	r2, [r3, #76]
 5606 000c D0F80805 		ldr	r0, [r0, #1288]
 5607              	.LVL736:
 5608 0010 FFF7FEFF 		bl	USBD_LL_DataInStage
 5609              	.LVL737:
 5610 0014 08BD     		pop	{r3, pc}
 5611              		.cfi_endproc
 5612              	.LFE200:
 5614              		.section	.text.USBD_LL_GetRxDataSize,"ax",%progbits
 5615              		.align	1
 5616              		.global	USBD_LL_GetRxDataSize
 5617              		.syntax unified
 5618              		.thumb
 5619              		.thumb_func
 5620              		.fpu fpv4-sp-d16
 5622              	USBD_LL_GetRxDataSize:
 5623              	.LFB219:
2877:application-library/usb-cdc-device.c ****   return HAL_PCD_EP_GetRxCount((PCD_HandleTypeDef*) p_usbd_instance->pData, ep_addr);
 5624              		.loc 1 2877 0
 5625              		.cfi_startproc
 5626              		@ args = 0, pretend = 0, frame = 0
 5627              		@ frame_needed = 0, uses_anonymous_args = 0
 5628              	.LVL738:
 5629 0000 08B5     		push	{r3, lr}
 5630              	.LCFI91:
 5631              		.cfi_def_cfa_offset 8
 5632              		.cfi_offset 3, -8
 5633              		.cfi_offset 14, -4
2878:application-library/usb-cdc-device.c **** }
 5634              		.loc 1 2878 0
 5635 0002 D0F8C402 		ldr	r0, [r0, #708]
 5636              	.LVL739:
 5637 0006 FFF7FEFF 		bl	HAL_PCD_EP_GetRxCount
 5638              	.LVL740:
2879:application-library/usb-cdc-device.c **** 
 5639              		.loc 1 2879 0
 5640 000a 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccf4hwpD.s 			page 172


 5641              		.cfi_endproc
 5642              	.LFE219:
 5644              		.section	.text.USBD_CDC_DataOut,"ax",%progbits
 5645              		.align	1
 5646              		.global	USBD_CDC_DataOut
 5647              		.syntax unified
 5648              		.thumb
 5649              		.thumb_func
 5650              		.fpu fpv4-sp-d16
 5652              	USBD_CDC_DataOut:
 5653              	.LFB143:
 638:application-library/usb-cdc-device.c ****   USBD_CDC_Buffer_t *hcdc = (USBD_CDC_Buffer_t *)p_usbd_instance->pClassDataCmsit;
 5654              		.loc 1 638 0
 5655              		.cfi_startproc
 5656              		@ args = 0, pretend = 0, frame = 0
 5657              		@ frame_needed = 0, uses_anonymous_args = 0
 5658              	.LVL741:
 5659 0000 38B5     		push	{r3, r4, r5, lr}
 5660              	.LCFI92:
 5661              		.cfi_def_cfa_offset 16
 5662              		.cfi_offset 3, -16
 5663              		.cfi_offset 4, -12
 5664              		.cfi_offset 5, -8
 5665              		.cfi_offset 14, -4
 639:application-library/usb-cdc-device.c **** 
 5666              		.loc 1 639 0
 5667 0002 D0F8BC52 		ldr	r5, [r0, #700]
 5668              	.LVL742:
 641:application-library/usb-cdc-device.c ****   {
 5669              		.loc 1 641 0
 5670 0006 75B1     		cbz	r5, .L506
 5671 0008 0446     		mov	r4, r0
 647:application-library/usb-cdc-device.c **** 
 5672              		.loc 1 647 0
 5673 000a FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 5674              	.LVL743:
 5675 000e C5F80C02 		str	r0, [r5, #524]
 652:application-library/usb-cdc-device.c **** 
 5676              		.loc 1 652 0
 5677 0012 D4F8C032 		ldr	r3, [r4, #704]
 5678 0016 DB68     		ldr	r3, [r3, #12]
 5679 0018 05F50371 		add	r1, r5, #524
 5680 001c D5F80402 		ldr	r0, [r5, #516]
 5681 0020 9847     		blx	r3
 5682              	.LVL744:
 654:application-library/usb-cdc-device.c **** }
 5683              		.loc 1 654 0
 5684 0022 0020     		movs	r0, #0
 5685 0024 38BD     		pop	{r3, r4, r5, pc}
 5686              	.LVL745:
 5687              	.L506:
 643:application-library/usb-cdc-device.c ****   }
 5688              		.loc 1 643 0
 5689 0026 0320     		movs	r0, #3
 5690              	.LVL746:
 655:application-library/usb-cdc-device.c **** 
 5691              		.loc 1 655 0
ARM GAS  /tmp/ccf4hwpD.s 			page 173


 5692 0028 38BD     		pop	{r3, r4, r5, pc}
 5693              		.cfi_endproc
 5694              	.LFE143:
 5696              		.section	.text.USBD_GetRxCount,"ax",%progbits
 5697              		.align	1
 5698              		.global	USBD_GetRxCount
 5699              		.syntax unified
 5700              		.thumb
 5701              		.thumb_func
 5702              		.fpu fpv4-sp-d16
 5704              	USBD_GetRxCount:
 5705              	.LFB195:
2480:application-library/usb-cdc-device.c ****   return USBD_LL_GetRxDataSize(p_usbd_instance, ep_addr);
 5706              		.loc 1 2480 0
 5707              		.cfi_startproc
 5708              		@ args = 0, pretend = 0, frame = 0
 5709              		@ frame_needed = 0, uses_anonymous_args = 0
 5710              	.LVL747:
 5711 0000 08B5     		push	{r3, lr}
 5712              	.LCFI93:
 5713              		.cfi_def_cfa_offset 8
 5714              		.cfi_offset 3, -8
 5715              		.cfi_offset 14, -4
2481:application-library/usb-cdc-device.c **** }
 5716              		.loc 1 2481 0
 5717 0002 FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 5718              	.LVL748:
2482:application-library/usb-cdc-device.c **** 
 5719              		.loc 1 2482 0
 5720 0006 08BD     		pop	{r3, pc}
 5721              		.cfi_endproc
 5722              	.LFE195:
 5724              		.section	.text.USBD_static_malloc,"ax",%progbits
 5725              		.align	1
 5726              		.global	USBD_static_malloc
 5727              		.syntax unified
 5728              		.thumb
 5729              		.thumb_func
 5730              		.fpu fpv4-sp-d16
 5732              	USBD_static_malloc:
 5733              	.LFB220:
2887:application-library/usb-cdc-device.c ****   static uint32_t mem[(sizeof(USBD_CDC_Buffer_t)/4)+1];/* On 32-bit boundary */
 5734              		.loc 1 2887 0
 5735              		.cfi_startproc
 5736              		@ args = 0, pretend = 0, frame = 0
 5737              		@ frame_needed = 0, uses_anonymous_args = 0
 5738              		@ link register save eliminated.
 5739              	.LVL749:
2890:application-library/usb-cdc-device.c **** 
 5740              		.loc 1 2890 0
 5741 0000 0048     		ldr	r0, .L511
 5742              	.LVL750:
 5743 0002 7047     		bx	lr
 5744              	.L512:
 5745              		.align	2
 5746              	.L511:
 5747 0004 00000000 		.word	.LANCHOR7
ARM GAS  /tmp/ccf4hwpD.s 			page 174


 5748              		.cfi_endproc
 5749              	.LFE220:
 5751              		.section	.text.USBD_CDC_Init,"ax",%progbits
 5752              		.align	1
 5753              		.global	USBD_CDC_Init
 5754              		.syntax unified
 5755              		.thumb
 5756              		.thumb_func
 5757              		.fpu fpv4-sp-d16
 5759              	USBD_CDC_Init:
 5760              	.LFB139:
 358:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 5761              		.loc 1 358 0
 5762              		.cfi_startproc
 5763              		@ args = 0, pretend = 0, frame = 0
 5764              		@ frame_needed = 0, uses_anonymous_args = 0
 5765              	.LVL751:
 5766 0000 70B5     		push	{r4, r5, r6, lr}
 5767              	.LCFI94:
 5768              		.cfi_def_cfa_offset 16
 5769              		.cfi_offset 4, -16
 5770              		.cfi_offset 5, -12
 5771              		.cfi_offset 6, -8
 5772              		.cfi_offset 14, -4
 5773 0002 0446     		mov	r4, r0
 362:application-library/usb-cdc-device.c **** 
 5774              		.loc 1 362 0
 5775 0004 4FF40770 		mov	r0, #540
 5776              	.LVL752:
 5777 0008 FFF7FEFF 		bl	USBD_static_malloc
 5778              	.LVL753:
 364:application-library/usb-cdc-device.c ****   {
 5779              		.loc 1 364 0
 5780 000c 0028     		cmp	r0, #0
 5781 000e 40D0     		beq	.L521
 5782 0010 0546     		mov	r5, r0
 370:application-library/usb-cdc-device.c **** 
 5783              		.loc 1 370 0
 5784 0012 4FF40772 		mov	r2, #540
 5785 0016 0021     		movs	r1, #0
 5786 0018 FFF7FEFF 		bl	memset
 5787              	.LVL754:
 372:application-library/usb-cdc-device.c ****   p_usbd_instance->pClassData = p_usbd_instance->pClassDataCmsit;
 5788              		.loc 1 372 0
 5789 001c C4F8BC52 		str	r5, [r4, #700]
 373:application-library/usb-cdc-device.c **** 
 5790              		.loc 1 373 0
 5791 0020 C4F8B852 		str	r5, [r4, #696]
 376:application-library/usb-cdc-device.c ****   {
 5792              		.loc 1 376 0
 5793 0024 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 5794 0026 CBBB     		cbnz	r3, .L516
 379:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 5795              		.loc 1 379 0
 5796 0028 4FF40073 		mov	r3, #512
 5797 002c 0222     		movs	r2, #2
 5798 002e 8121     		movs	r1, #129
ARM GAS  /tmp/ccf4hwpD.s 			page 175


 5799 0030 2046     		mov	r0, r4
 5800 0032 FFF7FEFF 		bl	USBD_LL_OpenEP
 5801              	.LVL755:
 382:application-library/usb-cdc-device.c **** 
 5802              		.loc 1 382 0
 5803 0036 0126     		movs	r6, #1
 5804 0038 2687     		strh	r6, [r4, #56]	@ movhi
 385:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 5805              		.loc 1 385 0
 5806 003a 4FF40073 		mov	r3, #512
 5807 003e 0222     		movs	r2, #2
 5808 0040 3146     		mov	r1, r6
 5809 0042 2046     		mov	r0, r4
 5810 0044 FFF7FEFF 		bl	USBD_LL_OpenEP
 5811              	.LVL756:
 388:application-library/usb-cdc-device.c **** 
 5812              		.loc 1 388 0
 5813 0048 A4F87861 		strh	r6, [r4, #376]	@ movhi
 391:application-library/usb-cdc-device.c ****   }
 5814              		.loc 1 391 0
 5815 004c 1023     		movs	r3, #16
 5816 004e A4F84E30 		strh	r3, [r4, #78]	@ movhi
 5817              	.L517:
 413:application-library/usb-cdc-device.c ****   p_usbd_instance->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
 5818              		.loc 1 413 0
 5819 0052 0823     		movs	r3, #8
 5820 0054 0322     		movs	r2, #3
 5821 0056 8221     		movs	r1, #130
 5822 0058 2046     		mov	r0, r4
 5823 005a FFF7FEFF 		bl	USBD_LL_OpenEP
 5824              	.LVL757:
 414:application-library/usb-cdc-device.c **** 
 5825              		.loc 1 414 0
 5826 005e 0123     		movs	r3, #1
 5827 0060 A4F84C30 		strh	r3, [r4, #76]	@ movhi
 416:application-library/usb-cdc-device.c **** 
 5828              		.loc 1 416 0
 5829 0064 0026     		movs	r6, #0
 5830 0066 C5F80462 		str	r6, [r5, #516]
 419:application-library/usb-cdc-device.c **** 
 5831              		.loc 1 419 0
 5832 006a D4F8C032 		ldr	r3, [r4, #704]
 5833 006e 1B68     		ldr	r3, [r3]
 5834 0070 9847     		blx	r3
 5835              	.LVL758:
 422:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 5836              		.loc 1 422 0
 5837 0072 C5F81462 		str	r6, [r5, #532]
 423:application-library/usb-cdc-device.c **** 
 5838              		.loc 1 423 0
 5839 0076 C5F81862 		str	r6, [r5, #536]
 425:application-library/usb-cdc-device.c ****   {
 5840              		.loc 1 425 0
 5841 007a D5F80422 		ldr	r2, [r5, #516]
 5842 007e 4AB3     		cbz	r2, .L519
 430:application-library/usb-cdc-device.c ****   {
 5843              		.loc 1 430 0
ARM GAS  /tmp/ccf4hwpD.s 			page 176


 5844 0080 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 5845 0082 FBB1     		cbz	r3, .L522
 439:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 5846              		.loc 1 439 0
 5847 0084 4023     		movs	r3, #64
 5848 0086 0121     		movs	r1, #1
 5849 0088 2046     		mov	r0, r4
 5850 008a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5851              	.LVL759:
 443:application-library/usb-cdc-device.c **** }
 5852              		.loc 1 443 0
 5853 008e 0020     		movs	r0, #0
 5854 0090 70BD     		pop	{r4, r5, r6, pc}
 5855              	.LVL760:
 5856              	.L521:
 366:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 5857              		.loc 1 366 0
 5858 0092 0023     		movs	r3, #0
 5859 0094 C4F8BC32 		str	r3, [r4, #700]
 367:application-library/usb-cdc-device.c ****   }
 5860              		.loc 1 367 0
 5861 0098 0220     		movs	r0, #2
 5862              	.LVL761:
 5863 009a 70BD     		pop	{r4, r5, r6, pc}
 5864              	.LVL762:
 5865              	.L516:
 397:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 5866              		.loc 1 397 0
 5867 009c 4023     		movs	r3, #64
 5868 009e 0222     		movs	r2, #2
 5869 00a0 8121     		movs	r1, #129
 5870 00a2 2046     		mov	r0, r4
 5871 00a4 FFF7FEFF 		bl	USBD_LL_OpenEP
 5872              	.LVL763:
 400:application-library/usb-cdc-device.c **** 
 5873              		.loc 1 400 0
 5874 00a8 0126     		movs	r6, #1
 5875 00aa 2687     		strh	r6, [r4, #56]	@ movhi
 403:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 5876              		.loc 1 403 0
 5877 00ac 4023     		movs	r3, #64
 5878 00ae 0222     		movs	r2, #2
 5879 00b0 3146     		mov	r1, r6
 5880 00b2 2046     		mov	r0, r4
 5881 00b4 FFF7FEFF 		bl	USBD_LL_OpenEP
 5882              	.LVL764:
 406:application-library/usb-cdc-device.c **** 
 5883              		.loc 1 406 0
 5884 00b8 A4F87861 		strh	r6, [r4, #376]	@ movhi
 409:application-library/usb-cdc-device.c ****   }
 5885              		.loc 1 409 0
 5886 00bc 1023     		movs	r3, #16
 5887 00be A4F84E30 		strh	r3, [r4, #78]	@ movhi
 5888 00c2 C6E7     		b	.L517
 5889              	.L522:
 433:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 5890              		.loc 1 433 0
ARM GAS  /tmp/ccf4hwpD.s 			page 177


 5891 00c4 4FF40073 		mov	r3, #512
 5892 00c8 0121     		movs	r1, #1
 5893 00ca 2046     		mov	r0, r4
 5894 00cc FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5895              	.LVL765:
 443:application-library/usb-cdc-device.c **** }
 5896              		.loc 1 443 0
 5897 00d0 3046     		mov	r0, r6
 5898 00d2 70BD     		pop	{r4, r5, r6, pc}
 5899              	.LVL766:
 5900              	.L519:
 427:application-library/usb-cdc-device.c ****   }
 5901              		.loc 1 427 0
 5902 00d4 0220     		movs	r0, #2
 444:application-library/usb-cdc-device.c **** 
 5903              		.loc 1 444 0
 5904 00d6 70BD     		pop	{r4, r5, r6, pc}
 5905              		.cfi_endproc
 5906              	.LFE139:
 5908              		.section	.text.USBD_static_free,"ax",%progbits
 5909              		.align	1
 5910              		.global	USBD_static_free
 5911              		.syntax unified
 5912              		.thumb
 5913              		.thumb_func
 5914              		.fpu fpv4-sp-d16
 5916              	USBD_static_free:
 5917              	.LFB221:
2898:application-library/usb-cdc-device.c **** }
 5918              		.loc 1 2898 0
 5919              		.cfi_startproc
 5920              		@ args = 0, pretend = 0, frame = 0
 5921              		@ frame_needed = 0, uses_anonymous_args = 0
 5922              		@ link register save eliminated.
 5923              	.LVL767:
 5924 0000 7047     		bx	lr
 5925              		.cfi_endproc
 5926              	.LFE221:
 5928              		.section	.text.USBD_LL_Delay,"ax",%progbits
 5929              		.align	1
 5930              		.global	USBD_LL_Delay
 5931              		.syntax unified
 5932              		.thumb
 5933              		.thumb_func
 5934              		.fpu fpv4-sp-d16
 5936              	USBD_LL_Delay:
 5937              	.LFB222:
2907:application-library/usb-cdc-device.c ****   HAL_Delay(Delay);
 5938              		.loc 1 2907 0
 5939              		.cfi_startproc
 5940              		@ args = 0, pretend = 0, frame = 0
 5941              		@ frame_needed = 0, uses_anonymous_args = 0
 5942              	.LVL768:
2907:application-library/usb-cdc-device.c ****   HAL_Delay(Delay);
 5943              		.loc 1 2907 0
 5944 0000 08B5     		push	{r3, lr}
 5945              	.LCFI95:
ARM GAS  /tmp/ccf4hwpD.s 			page 178


 5946              		.cfi_def_cfa_offset 8
 5947              		.cfi_offset 3, -8
 5948              		.cfi_offset 14, -4
2908:application-library/usb-cdc-device.c **** }
 5949              		.loc 1 2908 0
 5950 0002 FFF7FEFF 		bl	HAL_Delay
 5951              	.LVL769:
 5952 0006 08BD     		pop	{r3, pc}
 5953              		.cfi_endproc
 5954              	.LFE222:
 5956              		.section	.text.USBD_Get_USB_Status,"ax",%progbits
 5957              		.align	1
 5958              		.global	USBD_Get_USB_Status
 5959              		.syntax unified
 5960              		.thumb
 5961              		.thumb_func
 5962              		.fpu fpv4-sp-d16
 5964              	USBD_Get_USB_Status:
 5965              	.LFB223:
2917:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
 5966              		.loc 1 2917 0
 5967              		.cfi_startproc
 5968              		@ args = 0, pretend = 0, frame = 0
 5969              		@ frame_needed = 0, uses_anonymous_args = 0
 5970              		@ link register save eliminated.
 5971              	.LVL770:
2920:application-library/usb-cdc-device.c ****   {
 5972              		.loc 1 2920 0
 5973 0000 18B1     		cbz	r0, .L528
 5974 0002 0228     		cmp	r0, #2
 5975 0004 03D0     		beq	.L529
2926:application-library/usb-cdc-device.c ****     break;
 5976              		.loc 1 2926 0
 5977 0006 0320     		movs	r0, #3
 5978              	.LVL771:
2939:application-library/usb-cdc-device.c **** 
 5979              		.loc 1 2939 0
 5980 0008 7047     		bx	lr
 5981              	.LVL772:
 5982              	.L528:
2923:application-library/usb-cdc-device.c ****     break;
 5983              		.loc 1 2923 0
 5984 000a 0020     		movs	r0, #0
 5985              	.LVL773:
 5986 000c 7047     		bx	lr
 5987              	.LVL774:
 5988              	.L529:
2929:application-library/usb-cdc-device.c ****     break;
 5989              		.loc 1 2929 0
 5990 000e 0120     		movs	r0, #1
 5991              	.LVL775:
2930:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
 5992              		.loc 1 2930 0
 5993 0010 7047     		bx	lr
 5994              		.cfi_endproc
 5995              	.LFE223:
 5997              		.section	.text.USBD_LL_DeInit,"ax",%progbits
ARM GAS  /tmp/ccf4hwpD.s 			page 179


 5998              		.align	1
 5999              		.global	USBD_LL_DeInit
 6000              		.syntax unified
 6001              		.thumb
 6002              		.thumb_func
 6003              		.fpu fpv4-sp-d16
 6005              	USBD_LL_DeInit:
 6006              	.LFB207:
2712:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 6007              		.loc 1 2712 0
 6008              		.cfi_startproc
 6009              		@ args = 0, pretend = 0, frame = 0
 6010              		@ frame_needed = 0, uses_anonymous_args = 0
 6011              	.LVL776:
 6012 0000 08B5     		push	{r3, lr}
 6013              	.LCFI96:
 6014              		.cfi_def_cfa_offset 8
 6015              		.cfi_offset 3, -8
 6016              		.cfi_offset 14, -4
 6017              	.LVL777:
2716:application-library/usb-cdc-device.c **** 
 6018              		.loc 1 2716 0
 6019 0002 D0F8C402 		ldr	r0, [r0, #708]
 6020              	.LVL778:
 6021 0006 FFF7FEFF 		bl	HAL_PCD_DeInit
 6022              	.LVL779:
2718:application-library/usb-cdc-device.c **** 
 6023              		.loc 1 2718 0
 6024 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 6025              	.LVL780:
2721:application-library/usb-cdc-device.c **** 
 6026              		.loc 1 2721 0
 6027 000e 08BD     		pop	{r3, pc}
 6028              		.cfi_endproc
 6029              	.LFE207:
 6031              		.section	.text.USBD_DeInit,"ax",%progbits
 6032              		.align	1
 6033              		.global	USBD_DeInit
 6034              		.syntax unified
 6035              		.thumb
 6036              		.thumb_func
 6037              		.fpu fpv4-sp-d16
 6039              	USBD_DeInit:
 6040              	.LFB154:
 921:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 6041              		.loc 1 921 0
 6042              		.cfi_startproc
 6043              		@ args = 0, pretend = 0, frame = 0
 6044              		@ frame_needed = 0, uses_anonymous_args = 0
 6045              	.LVL781:
 6046 0000 10B5     		push	{r4, lr}
 6047              	.LCFI97:
 6048              		.cfi_def_cfa_offset 8
 6049              		.cfi_offset 4, -8
 6050              		.cfi_offset 14, -4
 6051 0002 0446     		mov	r4, r0
 925:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccf4hwpD.s 			page 180


 6052              		.loc 1 925 0
 6053 0004 FFF7FEFF 		bl	USBD_LL_Stop
 6054              	.LVL782:
 928:application-library/usb-cdc-device.c **** 
 6055              		.loc 1 928 0
 6056 0008 0123     		movs	r3, #1
 6057 000a 84F89C32 		strb	r3, [r4, #668]
 931:application-library/usb-cdc-device.c ****   {
 6058              		.loc 1 931 0
 6059 000e D4F8B432 		ldr	r3, [r4, #692]
 6060 0012 1BB1     		cbz	r3, .L535
 933:application-library/usb-cdc-device.c ****   }
 6061              		.loc 1 933 0
 6062 0014 5B68     		ldr	r3, [r3, #4]
 6063 0016 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 6064 0018 2046     		mov	r0, r4
 6065 001a 9847     		blx	r3
 6066              	.LVL783:
 6067              	.L535:
 936:application-library/usb-cdc-device.c **** 
 6068              		.loc 1 936 0
 6069 001c 0023     		movs	r3, #0
 6070 001e C4F8C032 		str	r3, [r4, #704]
 939:application-library/usb-cdc-device.c ****   p_usbd_instance->pConfDesc = NULL;
 6071              		.loc 1 939 0
 6072 0022 C4F8B032 		str	r3, [r4, #688]
 940:application-library/usb-cdc-device.c **** 
 6073              		.loc 1 940 0
 6074 0026 C4F8CC32 		str	r3, [r4, #716]
 943:application-library/usb-cdc-device.c **** 
 6075              		.loc 1 943 0
 6076 002a 2046     		mov	r0, r4
 6077 002c FFF7FEFF 		bl	USBD_LL_DeInit
 6078              	.LVL784:
 946:application-library/usb-cdc-device.c **** 
 6079              		.loc 1 946 0
 6080 0030 10BD     		pop	{r4, pc}
 6081              		.cfi_endproc
 6082              	.LFE154:
 6084              		.section	.text.USBD_LL_Start,"ax",%progbits
 6085              		.align	1
 6086              		.global	USBD_LL_Start
 6087              		.syntax unified
 6088              		.thumb
 6089              		.thumb_func
 6090              		.fpu fpv4-sp-d16
 6092              	USBD_LL_Start:
 6093              	.LFB208:
2729:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 6094              		.loc 1 2729 0
 6095              		.cfi_startproc
 6096              		@ args = 0, pretend = 0, frame = 0
 6097              		@ frame_needed = 0, uses_anonymous_args = 0
 6098              	.LVL785:
 6099 0000 08B5     		push	{r3, lr}
 6100              	.LCFI98:
 6101              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccf4hwpD.s 			page 181


 6102              		.cfi_offset 3, -8
 6103              		.cfi_offset 14, -4
 6104              	.LVL786:
2733:application-library/usb-cdc-device.c **** 
 6105              		.loc 1 2733 0
 6106 0002 D0F8C402 		ldr	r0, [r0, #708]
 6107              	.LVL787:
 6108 0006 FFF7FEFF 		bl	HAL_PCD_Start
 6109              	.LVL788:
2735:application-library/usb-cdc-device.c **** 
 6110              		.loc 1 2735 0
 6111 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 6112              	.LVL789:
2738:application-library/usb-cdc-device.c **** 
 6113              		.loc 1 2738 0
 6114 000e 08BD     		pop	{r3, pc}
 6115              		.cfi_endproc
 6116              	.LFE208:
 6118              		.section	.text.IntToUnicode,"ax",%progbits
 6119              		.align	1
 6120              		.global	IntToUnicode
 6121              		.syntax unified
 6122              		.thumb
 6123              		.thumb_func
 6124              		.fpu fpv4-sp-d16
 6126              	IntToUnicode:
 6127              	.LFB232:
3108:application-library/usb-cdc-device.c **** 
3109:application-library/usb-cdc-device.c **** /**
3110:application-library/usb-cdc-device.c ****   * @brief  Create the serial number string descriptor
3111:application-library/usb-cdc-device.c ****   * @param  None
3112:application-library/usb-cdc-device.c ****   * @retval None
3113:application-library/usb-cdc-device.c ****   */
3114:application-library/usb-cdc-device.c **** void Get_SerialNum(void)
3115:application-library/usb-cdc-device.c **** {
3116:application-library/usb-cdc-device.c ****   uint32_t deviceserial0, deviceserial1, deviceserial2;
3117:application-library/usb-cdc-device.c **** 
3118:application-library/usb-cdc-device.c ****   deviceserial0 = *(uint32_t *) DEVICE_ID1;
3119:application-library/usb-cdc-device.c ****   deviceserial1 = *(uint32_t *) DEVICE_ID2;
3120:application-library/usb-cdc-device.c ****   deviceserial2 = *(uint32_t *) DEVICE_ID3;
3121:application-library/usb-cdc-device.c **** 
3122:application-library/usb-cdc-device.c ****   deviceserial0 += deviceserial2;
3123:application-library/usb-cdc-device.c **** 
3124:application-library/usb-cdc-device.c ****   if (deviceserial0 != 0)
3125:application-library/usb-cdc-device.c ****   {
3126:application-library/usb-cdc-device.c ****     IntToUnicode(deviceserial0, &USBD_StringSerial[2], 8);
3127:application-library/usb-cdc-device.c ****     IntToUnicode(deviceserial1, &USBD_StringSerial[18], 4);
3128:application-library/usb-cdc-device.c ****   }
3129:application-library/usb-cdc-device.c **** }
3130:application-library/usb-cdc-device.c **** 
3131:application-library/usb-cdc-device.c **** /**
3132:application-library/usb-cdc-device.c ****   * @brief  Convert Hex 32Bits value into char
3133:application-library/usb-cdc-device.c ****   * @param  value: value to convert
3134:application-library/usb-cdc-device.c ****   * @param  pbuf: pointer to the buffer
3135:application-library/usb-cdc-device.c ****   * @param  len: buffer length
3136:application-library/usb-cdc-device.c ****   * @retval None
3137:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccf4hwpD.s 			page 182


3138:application-library/usb-cdc-device.c **** void IntToUnicode(uint32_t value, uint8_t * pbuf, uint8_t len)
3139:application-library/usb-cdc-device.c **** {
 6128              		.loc 1 3139 0
 6129              		.cfi_startproc
 6130              		@ args = 0, pretend = 0, frame = 0
 6131              		@ frame_needed = 0, uses_anonymous_args = 0
 6132              		@ link register save eliminated.
 6133              	.LVL790:
3140:application-library/usb-cdc-device.c ****   uint8_t idx = 0;
3141:application-library/usb-cdc-device.c **** 
3142:application-library/usb-cdc-device.c ****   for (idx = 0; idx < len; idx++)
 6134              		.loc 1 3142 0
 6135 0000 0023     		movs	r3, #0
 6136              	.LVL791:
 6137 0002 9342     		cmp	r3, r2
 6138 0004 16D2     		bcs	.L547
3139:application-library/usb-cdc-device.c ****   uint8_t idx = 0;
 6139              		.loc 1 3139 0
 6140 0006 30B4     		push	{r4, r5}
 6141              	.LCFI99:
 6142              		.cfi_def_cfa_offset 8
 6143              		.cfi_offset 4, -8
 6144              		.cfi_offset 5, -4
 6145 0008 0BE0     		b	.L543
 6146              	.L541:
3143:application-library/usb-cdc-device.c ****   {
3144:application-library/usb-cdc-device.c ****     if (((value >> 28)) < 0xA)
3145:application-library/usb-cdc-device.c ****     {
3146:application-library/usb-cdc-device.c ****       pbuf[2 * idx] = (value >> 28) + '0';
3147:application-library/usb-cdc-device.c ****     }
3148:application-library/usb-cdc-device.c ****     else
3149:application-library/usb-cdc-device.c ****     {
3150:application-library/usb-cdc-device.c ****       pbuf[2 * idx] = (value >> 28) + 'A' - 10;
 6147              		.loc 1 3150 0
 6148 000a 3734     		adds	r4, r4, #55
 6149 000c 01F81340 		strb	r4, [r1, r3, lsl #1]
 6150              	.L542:
3151:application-library/usb-cdc-device.c ****     }
3152:application-library/usb-cdc-device.c **** 
3153:application-library/usb-cdc-device.c ****     value = value << 4;
 6151              		.loc 1 3153 0 discriminator 2
 6152 0010 0001     		lsls	r0, r0, #4
 6153              	.LVL792:
3154:application-library/usb-cdc-device.c **** 
3155:application-library/usb-cdc-device.c ****     pbuf[2 * idx + 1] = 0;
 6154              		.loc 1 3155 0 discriminator 2
 6155 0012 5C00     		lsls	r4, r3, #1
 6156 0014 0134     		adds	r4, r4, #1
 6157 0016 0025     		movs	r5, #0
 6158 0018 0D55     		strb	r5, [r1, r4]
3142:application-library/usb-cdc-device.c ****   {
 6159              		.loc 1 3142 0 discriminator 2
 6160 001a 0133     		adds	r3, r3, #1
 6161              	.LVL793:
 6162 001c DBB2     		uxtb	r3, r3
 6163              	.LVL794:
 6164 001e 9342     		cmp	r3, r2
ARM GAS  /tmp/ccf4hwpD.s 			page 183


 6165 0020 06D2     		bcs	.L548
 6166              	.L543:
3144:application-library/usb-cdc-device.c ****     {
 6167              		.loc 1 3144 0
 6168 0022 040F     		lsrs	r4, r0, #28
 6169 0024 092C     		cmp	r4, #9
 6170 0026 F0D8     		bhi	.L541
3146:application-library/usb-cdc-device.c ****     }
 6171              		.loc 1 3146 0
 6172 0028 3034     		adds	r4, r4, #48
 6173 002a 01F81340 		strb	r4, [r1, r3, lsl #1]
 6174 002e EFE7     		b	.L542
 6175              	.L548:
3156:application-library/usb-cdc-device.c ****   }
3157:application-library/usb-cdc-device.c **** }...
 6176              		.loc 1 3157 0
 6177 0030 30BC     		pop	{r4, r5}
 6178              	.LCFI100:
 6179              		.cfi_restore 5
 6180              		.cfi_restore 4
 6181              		.cfi_def_cfa_offset 0
 6182 0032 7047     		bx	lr
 6183              	.L547:
 6184 0034 7047     		bx	lr
 6185              		.cfi_endproc
 6186              	.LFE232:
 6188              		.section	.text.Get_SerialNum,"ax",%progbits
 6189              		.align	1
 6190              		.global	Get_SerialNum
 6191              		.syntax unified
 6192              		.thumb
 6193              		.thumb_func
 6194              		.fpu fpv4-sp-d16
 6196              	Get_SerialNum:
 6197              	.LFB231:
3115:application-library/usb-cdc-device.c **** {
 6198              		.loc 1 3115 0
 6199              		.cfi_startproc
 6200              		@ args = 0, pretend = 0, frame = 0
 6201              		@ frame_needed = 0, uses_anonymous_args = 0
 6202 0000 38B5     		push	{r3, r4, r5, lr}
 6203              	.LCFI101:
 6204              		.cfi_def_cfa_offset 16
 6205              		.cfi_offset 3, -16
 6206              		.cfi_offset 4, -12
 6207              		.cfi_offset 5, -8
 6208              		.cfi_offset 14, -4
3118:application-library/usb-cdc-device.c ****   deviceserial0 = *(uint32_t *) DEVICE_ID1;
 6209              		.loc 1 3118 0
 6210 0002 0A4B     		ldr	r3, .L553
 6211 0004 1868     		ldr	r0, [r3]
 6212              	.LVL795:
3119:application-library/usb-cdc-device.c ****   deviceserial1 = *(uint32_t *) DEVICE_ID2;
 6213              		.loc 1 3119 0
 6214 0006 0433     		adds	r3, r3, #4
 6215 0008 1C68     		ldr	r4, [r3]
 6216              	.LVL796:
ARM GAS  /tmp/ccf4hwpD.s 			page 184


3120:application-library/usb-cdc-device.c ****   deviceserial2 = *(uint32_t *) DEVICE_ID3;
 6217              		.loc 1 3120 0
 6218 000a 0433     		adds	r3, r3, #4
 6219 000c 1B68     		ldr	r3, [r3]
 6220              	.LVL797:
3124:application-library/usb-cdc-device.c ****   if (deviceserial0 != 0)
 6221              		.loc 1 3124 0
 6222 000e C018     		adds	r0, r0, r3
 6223              	.LVL798:
 6224 0010 00D1     		bne	.L552
 6225              	.LVL799:
 6226              	.L549:
 6227 0012 38BD     		pop	{r3, r4, r5, pc}
 6228              	.LVL800:
 6229              	.L552:
3126:application-library/usb-cdc-device.c ****     IntToUnicode(deviceserial0, &USBD_StringSerial[2], 8);
 6230              		.loc 1 3126 0
 6231 0014 064D     		ldr	r5, .L553+4
 6232 0016 0822     		movs	r2, #8
 6233 0018 A91C     		adds	r1, r5, #2
 6234 001a FFF7FEFF 		bl	IntToUnicode
 6235              	.LVL801:
3127:application-library/usb-cdc-device.c ****     IntToUnicode(deviceserial1, &USBD_StringSerial[18], 4);
 6236              		.loc 1 3127 0
 6237 001e 0422     		movs	r2, #4
 6238 0020 05F11201 		add	r1, r5, #18
 6239 0024 2046     		mov	r0, r4
 6240 0026 FFF7FEFF 		bl	IntToUnicode
 6241              	.LVL802:
3129:application-library/usb-cdc-device.c **** }
 6242              		.loc 1 3129 0
 6243 002a F2E7     		b	.L549
 6244              	.L554:
 6245              		.align	2
 6246              	.L553:
 6247 002c 107AFF1F 		.word	536836624
 6248 0030 00000000 		.word	.LANCHOR8
 6249              		.cfi_endproc
 6250              	.LFE231:
 6252              		.section	.text.USBD_FS_SerialStrDescriptor,"ax",%progbits
 6253              		.align	1
 6254              		.global	USBD_FS_SerialStrDescriptor
 6255              		.syntax unified
 6256              		.thumb
 6257              		.thumb_func
 6258              		.fpu fpv4-sp-d16
 6260              	USBD_FS_SerialStrDescriptor:
 6261              	.LFB228:
3058:application-library/usb-cdc-device.c **** {
 6262              		.loc 1 3058 0
 6263              		.cfi_startproc
 6264              		@ args = 0, pretend = 0, frame = 0
 6265              		@ frame_needed = 0, uses_anonymous_args = 0
 6266              	.LVL803:
 6267 0000 08B5     		push	{r3, lr}
 6268              	.LCFI102:
 6269              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccf4hwpD.s 			page 185


 6270              		.cfi_offset 3, -8
 6271              		.cfi_offset 14, -4
3060:application-library/usb-cdc-device.c ****   *length = USB_SIZ_STRING_SERIAL;
 6272              		.loc 1 3060 0
 6273 0002 1A23     		movs	r3, #26
 6274 0004 0B80     		strh	r3, [r1]	@ movhi
3064:application-library/usb-cdc-device.c ****   Get_SerialNum();
 6275              		.loc 1 3064 0
 6276 0006 FFF7FEFF 		bl	Get_SerialNum
 6277              	.LVL804:
3069:application-library/usb-cdc-device.c **** }
 6278              		.loc 1 3069 0
 6279 000a 0148     		ldr	r0, .L557
 6280 000c 08BD     		pop	{r3, pc}
 6281              	.L558:
 6282 000e 00BF     		.align	2
 6283              	.L557:
 6284 0010 00000000 		.word	.LANCHOR8
 6285              		.cfi_endproc
 6286              	.LFE228:
 6288              		.global	USBD_StringSerial
 6289              		.comm	USBD_StrDesc,512,4
 6290              		.global	USBD_LangIDDesc
 6291              		.global	USBD_FS_DeviceDesc
 6292              		.global	FS_Desc
 6293              		.comm	hpcd_USB_OTG_FS,1292,4
 6294              		.global	USBD_Interface_fops_FS
 6295              		.global	USBD_CDC_CfgDesc
 6296              		.global	USBD_CDC
 6297              		.global	USBD_CDC_DeviceQualifierDesc
 6298              		.comm	hUsbDeviceFS,724,4
 6299              		.comm	UserTxBufferFS,2048,4
 6300              		.comm	UserRxBufferFS,2048,4
 6301              		.section	.bss.mem.10250,"aw",%nobits
 6302              		.align	2
 6303              		.set	.LANCHOR7,. + 0
 6306              	mem.10250:
 6307 0000 00000000 		.space	544
 6307      00000000 
 6307      00000000 
 6307      00000000 
 6307      00000000 
 6308              		.section	.data.FS_Desc,"aw",%progbits
 6309              		.align	2
 6310              		.set	.LANCHOR4,. + 0
 6313              	FS_Desc:
 6314 0000 00000000 		.word	USBD_FS_DeviceDescriptor
 6315 0004 00000000 		.word	USBD_FS_LangIDStrDescriptor
 6316 0008 00000000 		.word	USBD_FS_ManufacturerStrDescriptor
 6317 000c 00000000 		.word	USBD_FS_ProductStrDescriptor
 6318 0010 00000000 		.word	USBD_FS_SerialStrDescriptor
 6319 0014 00000000 		.word	USBD_FS_ConfigStrDescriptor
 6320 0018 00000000 		.word	USBD_FS_InterfaceStrDescriptor
 6321              		.section	.data.USBD_CDC,"aw",%progbits
 6322              		.align	2
 6323              		.set	.LANCHOR5,. + 0
 6326              	USBD_CDC:
ARM GAS  /tmp/ccf4hwpD.s 			page 186


 6327 0000 00000000 		.word	USBD_CDC_Init
 6328 0004 00000000 		.word	USBD_CDC_DeInit
 6329 0008 00000000 		.word	USBD_CDC_Setup
 6330 000c 00000000 		.word	0
 6331 0010 00000000 		.word	USBD_CDC_EP0_RxReady
 6332 0014 00000000 		.word	USBD_CDC_DataIn
 6333 0018 00000000 		.word	USBD_CDC_DataOut
 6334 001c 00000000 		.word	0
 6335 0020 00000000 		.word	0
 6336 0024 00000000 		.word	0
 6337 0028 00000000 		.word	USBD_CDC_GetHSCfgDesc
 6338 002c 00000000 		.word	USBD_CDC_GetFSCfgDesc
 6339 0030 00000000 		.word	USBD_CDC_GetOtherSpeedCfgDesc
 6340 0034 00000000 		.word	USBD_CDC_GetDeviceQualifierDescriptor
 6341              		.section	.data.USBD_CDC_CfgDesc,"aw",%progbits
 6342              		.align	2
 6343              		.set	.LANCHOR3,. + 0
 6346              	USBD_CDC_CfgDesc:
 6347 0000 09       		.byte	9
 6348 0001 02       		.byte	2
 6349 0002 43       		.byte	67
 6350 0003 00       		.byte	0
 6351 0004 02       		.byte	2
 6352 0005 01       		.byte	1
 6353 0006 00       		.byte	0
 6354 0007 C0       		.byte	-64
 6355 0008 32       		.byte	50
 6356 0009 09       		.byte	9
 6357 000a 04       		.byte	4
 6358 000b 00       		.byte	0
 6359 000c 00       		.byte	0
 6360 000d 01       		.byte	1
 6361 000e 02       		.byte	2
 6362 000f 02       		.byte	2
 6363 0010 01       		.byte	1
 6364 0011 00       		.byte	0
 6365 0012 05       		.byte	5
 6366 0013 24       		.byte	36
 6367 0014 00       		.byte	0
 6368 0015 10       		.byte	16
 6369 0016 01       		.byte	1
 6370 0017 05       		.byte	5
 6371 0018 24       		.byte	36
 6372 0019 01       		.byte	1
 6373 001a 00       		.byte	0
 6374 001b 01       		.byte	1
 6375 001c 04       		.byte	4
 6376 001d 24       		.byte	36
 6377 001e 02       		.byte	2
 6378 001f 02       		.byte	2
 6379 0020 05       		.byte	5
 6380 0021 24       		.byte	36
 6381 0022 06       		.byte	6
 6382 0023 00       		.byte	0
 6383 0024 01       		.byte	1
 6384 0025 07       		.byte	7
 6385 0026 05       		.byte	5
ARM GAS  /tmp/ccf4hwpD.s 			page 187


 6386 0027 82       		.byte	-126
 6387 0028 03       		.byte	3
 6388 0029 08       		.byte	8
 6389 002a 00       		.byte	0
 6390 002b 10       		.byte	16
 6391 002c 09       		.byte	9
 6392 002d 04       		.byte	4
 6393 002e 01       		.byte	1
 6394 002f 00       		.byte	0
 6395 0030 02       		.byte	2
 6396 0031 0A       		.byte	10
 6397 0032 00       		.byte	0
 6398 0033 00       		.byte	0
 6399 0034 00       		.byte	0
 6400 0035 07       		.byte	7
 6401 0036 05       		.byte	5
 6402 0037 01       		.byte	1
 6403 0038 02       		.byte	2
 6404 0039 40       		.byte	64
 6405 003a 00       		.byte	0
 6406 003b 00       		.byte	0
 6407 003c 07       		.byte	7
 6408 003d 05       		.byte	5
 6409 003e 81       		.byte	-127
 6410 003f 02       		.byte	2
 6411 0040 40       		.byte	64
 6412 0041 00       		.byte	0
 6413 0042 00       		.byte	0
 6414              		.section	.data.USBD_CDC_DeviceQualifierDesc,"aw",%progbits
 6415              		.align	2
 6416              		.set	.LANCHOR0,. + 0
 6419              	USBD_CDC_DeviceQualifierDesc:
 6420 0000 0A       		.byte	10
 6421 0001 06       		.byte	6
 6422 0002 00       		.byte	0
 6423 0003 02       		.byte	2
 6424 0004 00       		.byte	0
 6425 0005 00       		.byte	0
 6426 0006 00       		.byte	0
 6427 0007 40       		.byte	64
 6428 0008 01       		.byte	1
 6429 0009 00       		.byte	0
 6430              		.section	.data.USBD_FS_DeviceDesc,"aw",%progbits
 6431              		.align	2
 6432              		.set	.LANCHOR1,. + 0
 6435              	USBD_FS_DeviceDesc:
 6436 0000 12       		.byte	18
 6437 0001 01       		.byte	1
 6438 0002 00       		.byte	0
 6439 0003 02       		.byte	2
 6440 0004 02       		.byte	2
 6441 0005 02       		.byte	2
 6442 0006 00       		.byte	0
 6443 0007 40       		.byte	64
 6444 0008 83       		.byte	-125
 6445 0009 04       		.byte	4
 6446 000a 40       		.byte	64
ARM GAS  /tmp/ccf4hwpD.s 			page 188


 6447 000b 57       		.byte	87
 6448 000c 00       		.byte	0
 6449 000d 02       		.byte	2
 6450 000e 01       		.byte	1
 6451 000f 02       		.byte	2
 6452 0010 03       		.byte	3
 6453 0011 01       		.byte	1
 6454              		.section	.data.USBD_Interface_fops_FS,"aw",%progbits
 6455              		.align	2
 6456              		.set	.LANCHOR6,. + 0
 6459              	USBD_Interface_fops_FS:
 6460 0000 00000000 		.word	CDC_Init_FS
 6461 0004 00000000 		.word	CDC_DeInit_FS
 6462 0008 00000000 		.word	CDC_Control_FS
 6463 000c 00000000 		.word	CDC_Receive_FS
 6464 0010 00000000 		.word	CDC_TransmitCplt_FS
 6465              		.section	.data.USBD_LangIDDesc,"aw",%progbits
 6466              		.align	2
 6467              		.set	.LANCHOR2,. + 0
 6470              	USBD_LangIDDesc:
 6471 0000 04       		.byte	4
 6472 0001 03       		.byte	3
 6473 0002 09       		.byte	9
 6474 0003 04       		.byte	4
 6475              		.section	.data.USBD_StringSerial,"aw",%progbits
 6476              		.align	2
 6477              		.set	.LANCHOR8,. + 0
 6480              	USBD_StringSerial:
 6481 0000 1A       		.byte	26
 6482 0001 03       		.byte	3
 6483 0002 00000000 		.space	24
 6483      00000000 
 6483      00000000 
 6483      00000000 
 6483      00000000 
 6484              		.section	.rodata.CDC_Receive_FS.str1.4,"aMS",%progbits,1
 6485              		.align	2
 6486              	.LC4:
 6487 0000 20656368 		.ascii	" echoed.\012\000"
 6487      6F65642E 
 6487      0A00
 6488              		.section	.rodata.USBD_FS_ConfigStrDescriptor.str1.4,"aMS",%progbits,1
 6489              		.align	2
 6490              	.LC2:
 6491 0000 43444320 		.ascii	"CDC Config\000"
 6491      436F6E66 
 6491      696700
 6492              		.section	.rodata.USBD_FS_InterfaceStrDescriptor.str1.4,"aMS",%progbits,1
 6493              		.align	2
 6494              	.LC3:
 6495 0000 43444320 		.ascii	"CDC Interface\000"
 6495      496E7465 
 6495      72666163 
 6495      6500
 6496              		.section	.rodata.USBD_FS_ManufacturerStrDescriptor.str1.4,"aMS",%progbits,1
 6497              		.align	2
 6498              	.LC1:
ARM GAS  /tmp/ccf4hwpD.s 			page 189


 6499 0000 53544D69 		.ascii	"STMicroelectronics\000"
 6499      63726F65 
 6499      6C656374 
 6499      726F6E69 
 6499      637300
 6500              		.section	.rodata.USBD_FS_ProductStrDescriptor.str1.4,"aMS",%progbits,1
 6501              		.align	2
 6502              	.LC0:
 6503 0000 53544D33 		.ascii	"STM32 Virtual ComPort\000"
 6503      32205669 
 6503      72747561 
 6503      6C20436F 
 6503      6D506F72 
 6504              		.text
 6505              	.Letext0:
 6506              		.file 3 "/usr/include/newlib/machine/_default_types.h"
 6507              		.file 4 "/usr/include/newlib/sys/_stdint.h"
 6508              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 6509              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6510              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 6511              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 6512              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6513              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 6514              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 6515              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd.h"
 6516              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 6517              		.file 14 "/usr/include/newlib/sys/lock.h"
 6518              		.file 15 "/usr/include/newlib/sys/_types.h"
 6519              		.file 16 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 6520              		.file 17 "/usr/include/newlib/sys/reent.h"
 6521              		.file 18 "/usr/include/newlib/stdlib.h"
 6522              		.file 19 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd_ex.h"
 6523              		.file 20 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 6524              		.file 21 "<built-in>"
ARM GAS  /tmp/ccf4hwpD.s 			page 190


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb-cdc-device.c
     /tmp/ccf4hwpD.s:18     .text.CDC_DeInit_FS:0000000000000000 $t
     /tmp/ccf4hwpD.s:25     .text.CDC_DeInit_FS:0000000000000000 CDC_DeInit_FS
     /tmp/ccf4hwpD.s:40     .text.CDC_Control_FS:0000000000000000 $t
     /tmp/ccf4hwpD.s:47     .text.CDC_Control_FS:0000000000000000 CDC_Control_FS
     /tmp/ccf4hwpD.s:63     .text.CDC_TransmitCplt_FS:0000000000000000 $t
     /tmp/ccf4hwpD.s:70     .text.CDC_TransmitCplt_FS:0000000000000000 CDC_TransmitCplt_FS
     /tmp/ccf4hwpD.s:86     .text.USBD_CDC_EP0_RxReady:0000000000000000 $t
     /tmp/ccf4hwpD.s:93     .text.USBD_CDC_EP0_RxReady:0000000000000000 USBD_CDC_EP0_RxReady
     /tmp/ccf4hwpD.s:151    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:158    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 USBD_CDC_GetDeviceQualifierDescriptor
     /tmp/ccf4hwpD.s:176    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000008 $d
     /tmp/ccf4hwpD.s:181    .text.USBD_FS_DeviceDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:188    .text.USBD_FS_DeviceDescriptor:0000000000000000 USBD_FS_DeviceDescriptor
     /tmp/ccf4hwpD.s:206    .text.USBD_FS_DeviceDescriptor:0000000000000008 $d
     /tmp/ccf4hwpD.s:211    .text.USBD_FS_LangIDStrDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:218    .text.USBD_FS_LangIDStrDescriptor:0000000000000000 USBD_FS_LangIDStrDescriptor
     /tmp/ccf4hwpD.s:236    .text.USBD_FS_LangIDStrDescriptor:0000000000000008 $d
     /tmp/ccf4hwpD.s:241    .text.USBD_CDC_RegisterInterface:0000000000000000 $t
     /tmp/ccf4hwpD.s:248    .text.USBD_CDC_RegisterInterface:0000000000000000 USBD_CDC_RegisterInterface
     /tmp/ccf4hwpD.s:275    .text.USBD_CDC_SetTxBuffer:0000000000000000 $t
     /tmp/ccf4hwpD.s:282    .text.USBD_CDC_SetTxBuffer:0000000000000000 USBD_CDC_SetTxBuffer
     /tmp/ccf4hwpD.s:314    .text.USBD_CDC_SetRxBuffer:0000000000000000 $t
     /tmp/ccf4hwpD.s:321    .text.USBD_CDC_SetRxBuffer:0000000000000000 USBD_CDC_SetRxBuffer
     /tmp/ccf4hwpD.s:351    .text.CDC_Init_FS:0000000000000000 $t
     /tmp/ccf4hwpD.s:358    .text.CDC_Init_FS:0000000000000000 CDC_Init_FS
     /tmp/ccf4hwpD.s:387    .text.CDC_Init_FS:000000000000001c $d
                            *COM*:00000000000002d4 hUsbDeviceFS
                            *COM*:0000000000000800 UserTxBufferFS
                            *COM*:0000000000000800 UserRxBufferFS
     /tmp/ccf4hwpD.s:394    .text.USBD_RegisterClass:0000000000000000 $t
     /tmp/ccf4hwpD.s:401    .text.USBD_RegisterClass:0000000000000000 USBD_RegisterClass
     /tmp/ccf4hwpD.s:461    .text.USBD_Start:0000000000000000 $t
     /tmp/ccf4hwpD.s:468    .text.USBD_Start:0000000000000000 USBD_Start
     /tmp/ccf4hwpD.s:512    .text.USBD_SetClassConfig:0000000000000000 $t
     /tmp/ccf4hwpD.s:519    .text.USBD_SetClassConfig:0000000000000000 USBD_SetClassConfig
     /tmp/ccf4hwpD.s:544    .text.USBD_ClrClassConfig:0000000000000000 $t
     /tmp/ccf4hwpD.s:551    .text.USBD_ClrClassConfig:0000000000000000 USBD_ClrClassConfig
     /tmp/ccf4hwpD.s:580    .text.USBD_LL_SetSpeed:0000000000000000 $t
     /tmp/ccf4hwpD.s:587    .text.USBD_LL_SetSpeed:0000000000000000 USBD_LL_SetSpeed
     /tmp/ccf4hwpD.s:602    .text.USBD_LL_Suspend:0000000000000000 $t
     /tmp/ccf4hwpD.s:609    .text.USBD_LL_Suspend:0000000000000000 USBD_LL_Suspend
     /tmp/ccf4hwpD.s:632    .text.USBD_LL_Resume:0000000000000000 $t
     /tmp/ccf4hwpD.s:639    .text.USBD_LL_Resume:0000000000000000 USBD_LL_Resume
     /tmp/ccf4hwpD.s:668    .text.USBD_LL_SOF:0000000000000000 $t
     /tmp/ccf4hwpD.s:675    .text.USBD_LL_SOF:0000000000000000 USBD_LL_SOF
     /tmp/ccf4hwpD.s:715    .text.USBD_LL_IsoINIncomplete:0000000000000000 $t
     /tmp/ccf4hwpD.s:722    .text.USBD_LL_IsoINIncomplete:0000000000000000 USBD_LL_IsoINIncomplete
     /tmp/ccf4hwpD.s:783    .text.USBD_LL_IsoOUTIncomplete:0000000000000000 $t
     /tmp/ccf4hwpD.s:790    .text.USBD_LL_IsoOUTIncomplete:0000000000000000 USBD_LL_IsoOUTIncomplete
     /tmp/ccf4hwpD.s:835    .text.USBD_LL_DevConnected:0000000000000000 $t
     /tmp/ccf4hwpD.s:842    .text.USBD_LL_DevConnected:0000000000000000 USBD_LL_DevConnected
     /tmp/ccf4hwpD.s:858    .text.USBD_LL_DevDisconnected:0000000000000000 $t
     /tmp/ccf4hwpD.s:865    .text.USBD_LL_DevDisconnected:0000000000000000 USBD_LL_DevDisconnected
     /tmp/ccf4hwpD.s:908    .text.USBD_CoreFindEP:0000000000000000 $t
     /tmp/ccf4hwpD.s:915    .text.USBD_CoreFindEP:0000000000000000 USBD_CoreFindEP
ARM GAS  /tmp/ccf4hwpD.s 			page 191


     /tmp/ccf4hwpD.s:931    .text.USBD_GetNextDesc:0000000000000000 $t
     /tmp/ccf4hwpD.s:938    .text.USBD_GetNextDesc:0000000000000000 USBD_GetNextDesc
     /tmp/ccf4hwpD.s:962    .text.USBD_GetEpDesc:0000000000000000 $t
     /tmp/ccf4hwpD.s:969    .text.USBD_GetEpDesc:0000000000000000 USBD_GetEpDesc
     /tmp/ccf4hwpD.s:1042   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 $t
     /tmp/ccf4hwpD.s:1049   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 USBD_CDC_GetFSCfgDesc
     /tmp/ccf4hwpD.s:1122   .text.USBD_CDC_GetFSCfgDesc:0000000000000044 $d
     /tmp/ccf4hwpD.s:1127   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 $t
     /tmp/ccf4hwpD.s:1134   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 USBD_CDC_GetHSCfgDesc
     /tmp/ccf4hwpD.s:1207   .text.USBD_CDC_GetHSCfgDesc:0000000000000044 $d
     /tmp/ccf4hwpD.s:1212   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 $t
     /tmp/ccf4hwpD.s:1219   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 USBD_CDC_GetOtherSpeedCfgDesc
     /tmp/ccf4hwpD.s:1292   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000044 $d
     /tmp/ccf4hwpD.s:1297   .text.USBD_ParseSetupRequest:0000000000000000 $t
     /tmp/ccf4hwpD.s:1304   .text.USBD_ParseSetupRequest:0000000000000000 USBD_ParseSetupRequest
     /tmp/ccf4hwpD.s:1374   .text.USBD_GetLen:0000000000000000 $t
     /tmp/ccf4hwpD.s:1381   .text.USBD_GetLen:0000000000000000 USBD_GetLen
     /tmp/ccf4hwpD.s:1416   .text.USBD_GetString:0000000000000000 $t
     /tmp/ccf4hwpD.s:1423   .text.USBD_GetString:0000000000000000 USBD_GetString
     /tmp/ccf4hwpD.s:1498   .text.USBD_FS_ProductStrDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:1505   .text.USBD_FS_ProductStrDescriptor:0000000000000000 USBD_FS_ProductStrDescriptor
     /tmp/ccf4hwpD.s:1544   .text.USBD_FS_ProductStrDescriptor:000000000000001c $d
                            *COM*:0000000000000200 USBD_StrDesc
     /tmp/ccf4hwpD.s:1550   .text.USBD_FS_ManufacturerStrDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:1557   .text.USBD_FS_ManufacturerStrDescriptor:0000000000000000 USBD_FS_ManufacturerStrDescriptor
     /tmp/ccf4hwpD.s:1584   .text.USBD_FS_ManufacturerStrDescriptor:0000000000000014 $d
     /tmp/ccf4hwpD.s:1590   .text.USBD_FS_ConfigStrDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:1597   .text.USBD_FS_ConfigStrDescriptor:0000000000000000 USBD_FS_ConfigStrDescriptor
     /tmp/ccf4hwpD.s:1636   .text.USBD_FS_ConfigStrDescriptor:000000000000001c $d
     /tmp/ccf4hwpD.s:1642   .text.USBD_FS_InterfaceStrDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:1649   .text.USBD_FS_InterfaceStrDescriptor:0000000000000000 USBD_FS_InterfaceStrDescriptor
     /tmp/ccf4hwpD.s:1688   .text.USBD_FS_InterfaceStrDescriptor:000000000000001c $d
     /tmp/ccf4hwpD.s:1694   .text.HAL_PCD_MspInit:0000000000000000 $t
     /tmp/ccf4hwpD.s:1701   .text.HAL_PCD_MspInit:0000000000000000 HAL_PCD_MspInit
     /tmp/ccf4hwpD.s:1801   .text.HAL_PCD_MspInit:000000000000007c $d
     /tmp/ccf4hwpD.s:1807   .text.HAL_PCD_MspDeInit:0000000000000000 $t
     /tmp/ccf4hwpD.s:1814   .text.HAL_PCD_MspDeInit:0000000000000000 HAL_PCD_MspDeInit
     /tmp/ccf4hwpD.s:1855   .text.HAL_PCD_MspDeInit:0000000000000028 $d
     /tmp/ccf4hwpD.s:1861   .text.HAL_PCD_SOFCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:1868   .text.HAL_PCD_SOFCallback:0000000000000000 HAL_PCD_SOFCallback
     /tmp/ccf4hwpD.s:1890   .text.HAL_PCD_SuspendCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:1897   .text.HAL_PCD_SuspendCallback:0000000000000000 HAL_PCD_SuspendCallback
     /tmp/ccf4hwpD.s:1934   .text.HAL_PCD_SuspendCallback:000000000000002c $d
     /tmp/ccf4hwpD.s:1939   .text.HAL_PCD_ConnectCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:1946   .text.HAL_PCD_ConnectCallback:0000000000000000 HAL_PCD_ConnectCallback
     /tmp/ccf4hwpD.s:1959   .text.HAL_PCD_DisconnectCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:1966   .text.HAL_PCD_DisconnectCallback:0000000000000000 HAL_PCD_DisconnectCallback
     /tmp/ccf4hwpD.s:1989   .text.USBD_LL_Init:0000000000000000 $t
     /tmp/ccf4hwpD.s:1996   .text.USBD_LL_Init:0000000000000000 USBD_LL_Init
     /tmp/ccf4hwpD.s:2084   .text.USBD_LL_Init:0000000000000064 $d
                            *COM*:000000000000050c hpcd_USB_OTG_FS
     /tmp/ccf4hwpD.s:2089   .text.USBD_Init:0000000000000000 $t
     /tmp/ccf4hwpD.s:2096   .text.USBD_Init:0000000000000000 USBD_Init
     /tmp/ccf4hwpD.s:2151   .text.usb_device_init:0000000000000000 $t
     /tmp/ccf4hwpD.s:2158   .text.usb_device_init:0000000000000000 usb_device_init
     /tmp/ccf4hwpD.s:2194   .text.usb_device_init:0000000000000028 $d
     /tmp/ccf4hwpD.s:2202   .text.USBD_LL_Stop:0000000000000000 $t
ARM GAS  /tmp/ccf4hwpD.s 			page 192


     /tmp/ccf4hwpD.s:2209   .text.USBD_LL_Stop:0000000000000000 USBD_LL_Stop
     /tmp/ccf4hwpD.s:2232   .text.USBD_Stop:0000000000000000 $t
     /tmp/ccf4hwpD.s:2239   .text.USBD_Stop:0000000000000000 USBD_Stop
     /tmp/ccf4hwpD.s:2272   .text.USBD_LL_OpenEP:0000000000000000 $t
     /tmp/ccf4hwpD.s:2279   .text.USBD_LL_OpenEP:0000000000000000 USBD_LL_OpenEP
     /tmp/ccf4hwpD.s:2306   .text.USBD_LL_Reset:0000000000000000 $t
     /tmp/ccf4hwpD.s:2313   .text.USBD_LL_Reset:0000000000000000 USBD_LL_Reset
     /tmp/ccf4hwpD.s:2399   .text.HAL_PCD_ResetCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:2406   .text.HAL_PCD_ResetCallback:0000000000000000 HAL_PCD_ResetCallback
     /tmp/ccf4hwpD.s:2456   .text.USBD_LL_CloseEP:0000000000000000 $t
     /tmp/ccf4hwpD.s:2463   .text.USBD_LL_CloseEP:0000000000000000 USBD_LL_CloseEP
     /tmp/ccf4hwpD.s:2485   .text.USBD_CDC_DeInit:0000000000000000 $t
     /tmp/ccf4hwpD.s:2492   .text.USBD_CDC_DeInit:0000000000000000 USBD_CDC_DeInit
     /tmp/ccf4hwpD.s:2551   .text.USBD_LL_FlushEP:0000000000000000 $t
     /tmp/ccf4hwpD.s:2558   .text.USBD_LL_FlushEP:0000000000000000 USBD_LL_FlushEP
     /tmp/ccf4hwpD.s:2580   .text.USBD_LL_StallEP:0000000000000000 $t
     /tmp/ccf4hwpD.s:2587   .text.USBD_LL_StallEP:0000000000000000 USBD_LL_StallEP
     /tmp/ccf4hwpD.s:2609   .text.USBD_CtlError:0000000000000000 $t
     /tmp/ccf4hwpD.s:2616   .text.USBD_CtlError:0000000000000000 USBD_CtlError
     /tmp/ccf4hwpD.s:2644   .text.USBD_LL_ClearStallEP:0000000000000000 $t
     /tmp/ccf4hwpD.s:2651   .text.USBD_LL_ClearStallEP:0000000000000000 USBD_LL_ClearStallEP
     /tmp/ccf4hwpD.s:2673   .text.USBD_LL_IsStallEP:0000000000000000 $t
     /tmp/ccf4hwpD.s:2680   .text.USBD_LL_IsStallEP:0000000000000000 USBD_LL_IsStallEP
     /tmp/ccf4hwpD.s:2721   .text.USBD_LL_SetUSBAddress:0000000000000000 $t
     /tmp/ccf4hwpD.s:2728   .text.USBD_LL_SetUSBAddress:0000000000000000 USBD_LL_SetUSBAddress
     /tmp/ccf4hwpD.s:2750   .text.USBD_LL_Transmit:0000000000000000 $t
     /tmp/ccf4hwpD.s:2757   .text.USBD_LL_Transmit:0000000000000000 USBD_LL_Transmit
     /tmp/ccf4hwpD.s:2780   .text.usbd_transmit:0000000000000000 $t
     /tmp/ccf4hwpD.s:2787   .text.usbd_transmit:0000000000000000 usbd_transmit
     /tmp/ccf4hwpD.s:2837   .text.usbd_transmit:0000000000000034 $d
     /tmp/ccf4hwpD.s:2842   .text.USBD_CDC_DataIn:0000000000000000 $t
     /tmp/ccf4hwpD.s:2849   .text.USBD_CDC_DataIn:0000000000000000 USBD_CDC_DataIn
     /tmp/ccf4hwpD.s:2945   .text.USBD_CtlSendData:0000000000000000 $t
     /tmp/ccf4hwpD.s:2952   .text.USBD_CtlSendData:0000000000000000 USBD_CtlSendData
     /tmp/ccf4hwpD.s:2984   .text.USBD_GetConfig:0000000000000000 $t
     /tmp/ccf4hwpD.s:2991   .text.USBD_GetConfig:0000000000000000 USBD_GetConfig
     /tmp/ccf4hwpD.s:3052   .text.USBD_GetStatus:0000000000000000 $t
     /tmp/ccf4hwpD.s:3059   .text.USBD_GetStatus:0000000000000000 USBD_GetStatus
     /tmp/ccf4hwpD.s:3115   .text.USBD_CtlContinueSendData:0000000000000000 $t
     /tmp/ccf4hwpD.s:3122   .text.USBD_CtlContinueSendData:0000000000000000 USBD_CtlContinueSendData
     /tmp/ccf4hwpD.s:3147   .text.USBD_CtlSendStatus:0000000000000000 $t
     /tmp/ccf4hwpD.s:3154   .text.USBD_CtlSendStatus:0000000000000000 USBD_CtlSendStatus
     /tmp/ccf4hwpD.s:3180   .text.USBD_StdItfReq:0000000000000000 $t
     /tmp/ccf4hwpD.s:3187   .text.USBD_StdItfReq:0000000000000000 USBD_StdItfReq
     /tmp/ccf4hwpD.s:3294   .text.USBD_StdEPReq:0000000000000000 $t
     /tmp/ccf4hwpD.s:3301   .text.USBD_StdEPReq:0000000000000000 USBD_StdEPReq
     /tmp/ccf4hwpD.s:3764   .text.USBD_GetDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:3771   .text.USBD_GetDescriptor:0000000000000000 USBD_GetDescriptor
     /tmp/ccf4hwpD.s:3802   .text.USBD_GetDescriptor:000000000000001e $d
     /tmp/ccf4hwpD.s:3896   .text.USBD_GetDescriptor:0000000000000096 $d
     /tmp/ccf4hwpD.s:3902   .text.USBD_GetDescriptor:000000000000009c $t
     /tmp/ccf4hwpD.s:4158   .text.USBD_SetAddress:0000000000000000 $t
     /tmp/ccf4hwpD.s:4165   .text.USBD_SetAddress:0000000000000000 USBD_SetAddress
     /tmp/ccf4hwpD.s:4239   .text.USBD_SetConfig:0000000000000000 $t
     /tmp/ccf4hwpD.s:4246   .text.USBD_SetConfig:0000000000000000 USBD_SetConfig
     /tmp/ccf4hwpD.s:4382   .text.USBD_SetFeature:0000000000000000 $t
     /tmp/ccf4hwpD.s:4389   .text.USBD_SetFeature:0000000000000000 USBD_SetFeature
ARM GAS  /tmp/ccf4hwpD.s 			page 193


     /tmp/ccf4hwpD.s:4421   .text.USBD_ClrFeature:0000000000000000 $t
     /tmp/ccf4hwpD.s:4428   .text.USBD_ClrFeature:0000000000000000 USBD_ClrFeature
     /tmp/ccf4hwpD.s:4472   .text.USBD_StdDevReq:0000000000000000 $t
     /tmp/ccf4hwpD.s:4479   .text.USBD_StdDevReq:0000000000000000 USBD_StdDevReq
     /tmp/ccf4hwpD.s:4525   .text.USBD_StdDevReq:000000000000002e $d
     /tmp/ccf4hwpD.s:4535   .text.USBD_StdDevReq:0000000000000038 $t
     /tmp/ccf4hwpD.s:4609   .text.USBD_LL_SetupStage:0000000000000000 $t
     /tmp/ccf4hwpD.s:4616   .text.USBD_LL_SetupStage:0000000000000000 USBD_LL_SetupStage
     /tmp/ccf4hwpD.s:4688   .text.HAL_PCD_SetupStageCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:4695   .text.HAL_PCD_SetupStageCallback:0000000000000000 HAL_PCD_SetupStageCallback
     /tmp/ccf4hwpD.s:4718   .text.USBD_LL_PrepareReceive:0000000000000000 $t
     /tmp/ccf4hwpD.s:4725   .text.USBD_LL_PrepareReceive:0000000000000000 USBD_LL_PrepareReceive
     /tmp/ccf4hwpD.s:4748   .text.USBD_CDC_ReceivePacket:0000000000000000 $t
     /tmp/ccf4hwpD.s:4755   .text.USBD_CDC_ReceivePacket:0000000000000000 USBD_CDC_ReceivePacket
     /tmp/ccf4hwpD.s:4812   .text.CDC_Receive_FS:0000000000000000 $t
     /tmp/ccf4hwpD.s:4819   .text.CDC_Receive_FS:0000000000000000 CDC_Receive_FS
     /tmp/ccf4hwpD.s:4900   .text.CDC_Receive_FS:0000000000000064 $d
     /tmp/ccf4hwpD.s:4906   .text.USBD_CtlPrepareRx:0000000000000000 $t
     /tmp/ccf4hwpD.s:4913   .text.USBD_CtlPrepareRx:0000000000000000 USBD_CtlPrepareRx
     /tmp/ccf4hwpD.s:4945   .text.USBD_CDC_Setup:0000000000000000 $t
     /tmp/ccf4hwpD.s:4952   .text.USBD_CDC_Setup:0000000000000000 USBD_CDC_Setup
     /tmp/ccf4hwpD.s:5068   .text.USBD_CDC_Setup:000000000000008c $d
     /tmp/ccf4hwpD.s:5080   .text.USBD_CDC_Setup:0000000000000098 $t
     /tmp/ccf4hwpD.s:5189   .text.USBD_CtlContinueRx:0000000000000000 $t
     /tmp/ccf4hwpD.s:5196   .text.USBD_CtlContinueRx:0000000000000000 USBD_CtlContinueRx
     /tmp/ccf4hwpD.s:5223   .text.USBD_LL_DataOutStage:0000000000000000 $t
     /tmp/ccf4hwpD.s:5230   .text.USBD_LL_DataOutStage:0000000000000000 USBD_LL_DataOutStage
     /tmp/ccf4hwpD.s:5358   .text.HAL_PCD_DataOutStageCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:5365   .text.HAL_PCD_DataOutStageCallback:0000000000000000 HAL_PCD_DataOutStageCallback
     /tmp/ccf4hwpD.s:5391   .text.USBD_CtlReceiveStatus:0000000000000000 $t
     /tmp/ccf4hwpD.s:5398   .text.USBD_CtlReceiveStatus:0000000000000000 USBD_CtlReceiveStatus
     /tmp/ccf4hwpD.s:5426   .text.USBD_LL_DataInStage:0000000000000000 $t
     /tmp/ccf4hwpD.s:5433   .text.USBD_LL_DataInStage:0000000000000000 USBD_LL_DataInStage
     /tmp/ccf4hwpD.s:5582   .text.HAL_PCD_DataInStageCallback:0000000000000000 $t
     /tmp/ccf4hwpD.s:5589   .text.HAL_PCD_DataInStageCallback:0000000000000000 HAL_PCD_DataInStageCallback
     /tmp/ccf4hwpD.s:5615   .text.USBD_LL_GetRxDataSize:0000000000000000 $t
     /tmp/ccf4hwpD.s:5622   .text.USBD_LL_GetRxDataSize:0000000000000000 USBD_LL_GetRxDataSize
     /tmp/ccf4hwpD.s:5645   .text.USBD_CDC_DataOut:0000000000000000 $t
     /tmp/ccf4hwpD.s:5652   .text.USBD_CDC_DataOut:0000000000000000 USBD_CDC_DataOut
     /tmp/ccf4hwpD.s:5697   .text.USBD_GetRxCount:0000000000000000 $t
     /tmp/ccf4hwpD.s:5704   .text.USBD_GetRxCount:0000000000000000 USBD_GetRxCount
     /tmp/ccf4hwpD.s:5725   .text.USBD_static_malloc:0000000000000000 $t
     /tmp/ccf4hwpD.s:5732   .text.USBD_static_malloc:0000000000000000 USBD_static_malloc
     /tmp/ccf4hwpD.s:5747   .text.USBD_static_malloc:0000000000000004 $d
     /tmp/ccf4hwpD.s:5752   .text.USBD_CDC_Init:0000000000000000 $t
     /tmp/ccf4hwpD.s:5759   .text.USBD_CDC_Init:0000000000000000 USBD_CDC_Init
     /tmp/ccf4hwpD.s:5909   .text.USBD_static_free:0000000000000000 $t
     /tmp/ccf4hwpD.s:5916   .text.USBD_static_free:0000000000000000 USBD_static_free
     /tmp/ccf4hwpD.s:5929   .text.USBD_LL_Delay:0000000000000000 $t
     /tmp/ccf4hwpD.s:5936   .text.USBD_LL_Delay:0000000000000000 USBD_LL_Delay
     /tmp/ccf4hwpD.s:5957   .text.USBD_Get_USB_Status:0000000000000000 $t
     /tmp/ccf4hwpD.s:5964   .text.USBD_Get_USB_Status:0000000000000000 USBD_Get_USB_Status
     /tmp/ccf4hwpD.s:5998   .text.USBD_LL_DeInit:0000000000000000 $t
     /tmp/ccf4hwpD.s:6005   .text.USBD_LL_DeInit:0000000000000000 USBD_LL_DeInit
     /tmp/ccf4hwpD.s:6032   .text.USBD_DeInit:0000000000000000 $t
     /tmp/ccf4hwpD.s:6039   .text.USBD_DeInit:0000000000000000 USBD_DeInit
     /tmp/ccf4hwpD.s:6085   .text.USBD_LL_Start:0000000000000000 $t
ARM GAS  /tmp/ccf4hwpD.s 			page 194


     /tmp/ccf4hwpD.s:6092   .text.USBD_LL_Start:0000000000000000 USBD_LL_Start
     /tmp/ccf4hwpD.s:6119   .text.IntToUnicode:0000000000000000 $t
     /tmp/ccf4hwpD.s:6126   .text.IntToUnicode:0000000000000000 IntToUnicode
     /tmp/ccf4hwpD.s:6189   .text.Get_SerialNum:0000000000000000 $t
     /tmp/ccf4hwpD.s:6196   .text.Get_SerialNum:0000000000000000 Get_SerialNum
     /tmp/ccf4hwpD.s:6247   .text.Get_SerialNum:000000000000002c $d
     /tmp/ccf4hwpD.s:6253   .text.USBD_FS_SerialStrDescriptor:0000000000000000 $t
     /tmp/ccf4hwpD.s:6260   .text.USBD_FS_SerialStrDescriptor:0000000000000000 USBD_FS_SerialStrDescriptor
     /tmp/ccf4hwpD.s:6284   .text.USBD_FS_SerialStrDescriptor:0000000000000010 $d
     /tmp/ccf4hwpD.s:6480   .data.USBD_StringSerial:0000000000000000 USBD_StringSerial
     /tmp/ccf4hwpD.s:6470   .data.USBD_LangIDDesc:0000000000000000 USBD_LangIDDesc
     /tmp/ccf4hwpD.s:6435   .data.USBD_FS_DeviceDesc:0000000000000000 USBD_FS_DeviceDesc
     /tmp/ccf4hwpD.s:6313   .data.FS_Desc:0000000000000000 FS_Desc
     /tmp/ccf4hwpD.s:6459   .data.USBD_Interface_fops_FS:0000000000000000 USBD_Interface_fops_FS
     /tmp/ccf4hwpD.s:6346   .data.USBD_CDC_CfgDesc:0000000000000000 USBD_CDC_CfgDesc
     /tmp/ccf4hwpD.s:6326   .data.USBD_CDC:0000000000000000 USBD_CDC
     /tmp/ccf4hwpD.s:6419   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 USBD_CDC_DeviceQualifierDesc
     /tmp/ccf4hwpD.s:6302   .bss.mem.10250:0000000000000000 $d
     /tmp/ccf4hwpD.s:6306   .bss.mem.10250:0000000000000000 mem.10250
     /tmp/ccf4hwpD.s:6309   .data.FS_Desc:0000000000000000 $d
     /tmp/ccf4hwpD.s:6322   .data.USBD_CDC:0000000000000000 $d
     /tmp/ccf4hwpD.s:6342   .data.USBD_CDC_CfgDesc:0000000000000000 $d
     /tmp/ccf4hwpD.s:6415   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 $d
     /tmp/ccf4hwpD.s:6431   .data.USBD_FS_DeviceDesc:0000000000000000 $d
     /tmp/ccf4hwpD.s:6455   .data.USBD_Interface_fops_FS:0000000000000000 $d
     /tmp/ccf4hwpD.s:6466   .data.USBD_LangIDDesc:0000000000000000 $d
     /tmp/ccf4hwpD.s:6476   .data.USBD_StringSerial:0000000000000000 $d
     /tmp/ccf4hwpD.s:6485   .rodata.CDC_Receive_FS.str1.4:0000000000000000 $d
     /tmp/ccf4hwpD.s:6489   .rodata.USBD_FS_ConfigStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccf4hwpD.s:6493   .rodata.USBD_FS_InterfaceStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccf4hwpD.s:6497   .rodata.USBD_FS_ManufacturerStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccf4hwpD.s:6501   .rodata.USBD_FS_ProductStrDescriptor.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccf4hwpD.s:3809   .text.USBD_GetDescriptor:0000000000000025 $d
     /tmp/ccf4hwpD.s:3809   .text.USBD_GetDescriptor:0000000000000026 $t

UNDEFINED SYMBOLS
HAL_PCD_Start
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_GPIO_DeInit
HAL_NVIC_DisableIRQ
HAL_PCD_Init
HAL_PCDEx_SetRxFiFo
HAL_PCDEx_SetTxFiFo
Error_Handler
HAL_PCD_Stop
HAL_PCD_EP_Open
HAL_PCD_EP_Close
HAL_PCD_EP_Flush
HAL_PCD_EP_SetStall
HAL_PCD_EP_ClrStall
HAL_PCD_SetAddress
HAL_PCD_EP_Transmit
HAL_PCD_EP_Receive
memset
ARM GAS  /tmp/ccf4hwpD.s 			page 195


memcpy
strlen
HAL_PCD_EP_GetRxCount
HAL_Delay
HAL_PCD_DeInit
