ARM GAS  /tmp/ccgHoJ4C.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usb-cdc-device.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CDC_DeInit_FS,"ax",%progbits
  18              		.align	1
  19              		.global	CDC_DeInit_FS
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	CDC_DeInit_FS:
  26              	.LFB133:
  27              		.file 1 "application-library/usb-cdc-device.c"
   1:application-library/usb-cdc-device.c **** /**
   2:application-library/usb-cdc-device.c ****  * @brief usb-cdc-device.c merged four classes: 
   3:application-library/usb-cdc-device.c ****  *          1. usbd_cdc_if
   4:application-library/usb-cdc-device.c ****  *          2. usb_device
   5:application-library/usb-cdc-device.c ****  *          3. usbd_cdc
   6:application-library/usb-cdc-device.c ****  *          4. usbd_core
   7:application-library/usb-cdc-device.c ****  *          5. usbd_ctlreq
   8:application-library/usb-cdc-device.c ****  *          6. usbd_ioreq
   9:application-library/usb-cdc-device.c ****  *          7. usbd_conf
  10:application-library/usb-cdc-device.c ****  */
  11:application-library/usb-cdc-device.c **** 
  12:application-library/usb-cdc-device.c **** /* Includes ------------------------------------------------------------------*/
  13:application-library/usb-cdc-device.c **** #include "usb-cdc-device.h"
  14:application-library/usb-cdc-device.c **** #include "usbd_desc.h"
  15:application-library/usb-cdc-device.c **** // #include "usbd_def.h"   
  16:application-library/usb-cdc-device.c **** // #include "usbd_ioreq.h"
  17:application-library/usb-cdc-device.c **** #include "stm32f4xx.h"
  18:application-library/usb-cdc-device.c **** #include "stm32f4xx_hal.h"
  19:application-library/usb-cdc-device.c **** 
  20:application-library/usb-cdc-device.c **** /* usbd_cdc_if.c BEGIN---- ---- ---- ---- */
  21:application-library/usb-cdc-device.c **** /** Received data over USB are stored in this buffer      */
  22:application-library/usb-cdc-device.c **** uint8_t UserRxBufferFS[APP_RX_DATA_SIZE];
  23:application-library/usb-cdc-device.c **** /** Data to send over USB CDC are stored in this buffer   */
  24:application-library/usb-cdc-device.c **** uint8_t UserTxBufferFS[APP_TX_DATA_SIZE];
  25:application-library/usb-cdc-device.c **** 
  26:application-library/usb-cdc-device.c **** /* USB Device Core handle declaration. */
  27:application-library/usb-cdc-device.c **** USBD_HandleTypeDef hUsbDeviceFS;
  28:application-library/usb-cdc-device.c **** USBD_HandleTypeDef* p_usbd_handle = &hUsbDeviceFS;
  29:application-library/usb-cdc-device.c **** 
  30:application-library/usb-cdc-device.c **** /**
  31:application-library/usb-cdc-device.c ****   * @brief Device qualifier
ARM GAS  /tmp/ccgHoJ4C.s 			page 2


  32:application-library/usb-cdc-device.c ****   * @note  The device_qualifier descriptor describes information about 
  33:application-library/usb-cdc-device.c ****   *          a high-speed capable device that would change if the device 
  34:application-library/usb-cdc-device.c ****   *          were operating at the other speed. 
  35:application-library/usb-cdc-device.c ****   *         For example, if the device is currently operating at full-speed, 
  36:application-library/usb-cdc-device.c ****   *           the device_qualifier returns information about how it would 
  37:application-library/usb-cdc-device.c ****   *           operate at high-speed and vice-versa. 
  38:application-library/usb-cdc-device.c ****   */
  39:application-library/usb-cdc-device.c **** /* USB Standard Device Descriptor */
  40:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END =
  41:application-library/usb-cdc-device.c **** {
  42:application-library/usb-cdc-device.c ****   0x0A,
  43:application-library/usb-cdc-device.c ****   0x06,
  44:application-library/usb-cdc-device.c ****   0x00,
  45:application-library/usb-cdc-device.c ****   0x02,
  46:application-library/usb-cdc-device.c ****   0x00,
  47:application-library/usb-cdc-device.c ****   0x00,
  48:application-library/usb-cdc-device.c ****   0x00,
  49:application-library/usb-cdc-device.c ****   0x40,
  50:application-library/usb-cdc-device.c ****   0x01,
  51:application-library/usb-cdc-device.c ****   0x00,
  52:application-library/usb-cdc-device.c **** };
  53:application-library/usb-cdc-device.c **** 
  54:application-library/usb-cdc-device.c **** 
  55:application-library/usb-cdc-device.c **** /* CDC interface class callbacks structure */
  56:application-library/usb-cdc-device.c **** USBD_ClassTypeDef USBD_CDC =
  57:application-library/usb-cdc-device.c **** {
  58:application-library/usb-cdc-device.c ****   USBD_CDC_Init,
  59:application-library/usb-cdc-device.c ****   USBD_CDC_DeInit,
  60:application-library/usb-cdc-device.c ****   USBD_CDC_Setup,
  61:application-library/usb-cdc-device.c ****   NULL,                 /* EP0_TxSent */
  62:application-library/usb-cdc-device.c ****   USBD_CDC_EP0_RxReady,
  63:application-library/usb-cdc-device.c ****   USBD_CDC_DataIn,
  64:application-library/usb-cdc-device.c ****   USBD_CDC_DataOut,
  65:application-library/usb-cdc-device.c ****   NULL,
  66:application-library/usb-cdc-device.c ****   NULL,
  67:application-library/usb-cdc-device.c ****   NULL,
  68:application-library/usb-cdc-device.c ****   USBD_CDC_GetHSCfgDesc,
  69:application-library/usb-cdc-device.c ****   USBD_CDC_GetFSCfgDesc,
  70:application-library/usb-cdc-device.c ****   USBD_CDC_GetOtherSpeedCfgDesc,
  71:application-library/usb-cdc-device.c ****   USBD_CDC_GetDeviceQualifierDescriptor,
  72:application-library/usb-cdc-device.c **** };
  73:application-library/usb-cdc-device.c **** 
  74:application-library/usb-cdc-device.c **** /* USB CDC device Configuration Descriptor */
  75:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_CfgDesc[USB_CDC_CONFIG_DESC_SIZ] __ALIGN_END =
  76:application-library/usb-cdc-device.c **** {
  77:application-library/usb-cdc-device.c ****   /* Configuration Descriptor */
  78:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Configuration Descriptor size */
  79:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_CONFIGURATION,                /* bDescriptorType: Configuration */
  80:application-library/usb-cdc-device.c ****   USB_CDC_CONFIG_DESC_SIZ,                    /* wTotalLength */
  81:application-library/usb-cdc-device.c ****   0x00,
  82:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumInterfaces: 2 interfaces */
  83:application-library/usb-cdc-device.c ****   0x01,                                       /* bConfigurationValue: Configuration value */
  84:application-library/usb-cdc-device.c ****   0x00,                                       /* iConfiguration: Index of string descriptor */
  85:application-library/usb-cdc-device.c ****   0xC0,                                       /* bmAttributes: Bus is self-powered. */
  86:application-library/usb-cdc-device.c ****   USBD_MAX_POWER,                             /* MaxPower (mA) */
  87:application-library/usb-cdc-device.c **** 
  88:application-library/usb-cdc-device.c ****   /* Interface Descriptor */
ARM GAS  /tmp/ccgHoJ4C.s 			page 3


  89:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Interface Descriptor size */
  90:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: Interface */
  91:application-library/usb-cdc-device.c ****   /* Interface descriptor type */
  92:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceNumber: Number of Interface */
  93:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
  94:application-library/usb-cdc-device.c ****   0x01,                                       /* bNumEndpoints: One endpoint used */
  95:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceClass: Communication Interface Class */
  96:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceSubClass: Abstract Control Model */
  97:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceProtocol: Common AT commands */
  98:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
  99:application-library/usb-cdc-device.c **** 
 100:application-library/usb-cdc-device.c ****   /* Header Functional Descriptor */
 101:application-library/usb-cdc-device.c ****   0x05,                                       /* bLength: Endpoint Descriptor size */
 102:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 103:application-library/usb-cdc-device.c ****   0x00,                                       /* bDescriptorSubtype: Header Func Desc */
 104:application-library/usb-cdc-device.c ****   0x10,                                       /* bcdCDC: spec release number */
 105:application-library/usb-cdc-device.c ****   0x01,
 106:application-library/usb-cdc-device.c **** 
 107:application-library/usb-cdc-device.c ****   /* Call Management Functional Descriptor */
 108:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 109:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 110:application-library/usb-cdc-device.c ****   0x01,                                       /* bDescriptorSubtype: Call Management Func Desc */
 111:application-library/usb-cdc-device.c ****   0x00,                                       /* bmCapabilities: D0+D1 */
 112:application-library/usb-cdc-device.c ****   0x01,                                       /* bDataInterface */
 113:application-library/usb-cdc-device.c **** 
 114:application-library/usb-cdc-device.c ****   /* ACM Functional Descriptor */
 115:application-library/usb-cdc-device.c ****   0x04,                                       /* bFunctionLength */
 116:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 117:application-library/usb-cdc-device.c ****   0x02,                                       /* bDescriptorSubtype: Abstract Control Management de
 118:application-library/usb-cdc-device.c ****   0x02,                                       /* bmCapabilities */
 119:application-library/usb-cdc-device.c **** 
 120:application-library/usb-cdc-device.c ****   /* Union Functional Descriptor */
 121:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 122:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 123:application-library/usb-cdc-device.c ****   0x06,                                       /* bDescriptorSubtype: Union func desc */
 124:application-library/usb-cdc-device.c ****   0x00,                                       /* bMasterInterface: Communication class interface */
 125:application-library/usb-cdc-device.c ****   0x01,                                       /* bSlaveInterface0: Data Class Interface */
 126:application-library/usb-cdc-device.c **** 
 127:application-library/usb-cdc-device.c ****   /* Endpoint 2 Descriptor */
 128:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 129:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 130:application-library/usb-cdc-device.c ****   CDC_CMD_EP,                                 /* bEndpointAddress */
 131:application-library/usb-cdc-device.c ****   0x03,                                       /* bmAttributes: Interrupt */
 132:application-library/usb-cdc-device.c ****   LOBYTE(CDC_CMD_PACKET_SIZE),                /* wMaxPacketSize */
 133:application-library/usb-cdc-device.c ****   HIBYTE(CDC_CMD_PACKET_SIZE),
 134:application-library/usb-cdc-device.c ****   CDC_FS_BINTERVAL,                           /* bInterval */
 135:application-library/usb-cdc-device.c ****   /*---------------------------------------------------------------------------*/
 136:application-library/usb-cdc-device.c **** 
 137:application-library/usb-cdc-device.c ****   /* Data class interface descriptor */
 138:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Endpoint Descriptor size */
 139:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: */
 140:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceNumber: Number of Interface */
 141:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
 142:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumEndpoints: Two endpoints used */
 143:application-library/usb-cdc-device.c ****   0x0A,                                       /* bInterfaceClass: CDC */
 144:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceSubClass */
 145:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceProtocol */
ARM GAS  /tmp/ccgHoJ4C.s 			page 4


 146:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
 147:application-library/usb-cdc-device.c **** 
 148:application-library/usb-cdc-device.c ****   /* Endpoint OUT Descriptor */
 149:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 150:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 151:application-library/usb-cdc-device.c ****   CDC_OUT_EP,                                 /* bEndpointAddress */
 152:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 153:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 154:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 155:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterval */
 156:application-library/usb-cdc-device.c **** 
 157:application-library/usb-cdc-device.c ****   /* Endpoint IN Descriptor */
 158:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 159:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 160:application-library/usb-cdc-device.c ****   CDC_IN_EP,                                  /* bEndpointAddress */
 161:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 162:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 163:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 164:application-library/usb-cdc-device.c ****   0x00                                        /* bInterval */
 165:application-library/usb-cdc-device.c **** };
 166:application-library/usb-cdc-device.c **** 
 167:application-library/usb-cdc-device.c **** 
 168:application-library/usb-cdc-device.c **** USBD_CDC_ItfTypeDef USBD_Interface_fops_FS =
 169:application-library/usb-cdc-device.c **** {
 170:application-library/usb-cdc-device.c ****   CDC_Init_FS,
 171:application-library/usb-cdc-device.c ****   CDC_DeInit_FS,
 172:application-library/usb-cdc-device.c ****   CDC_Control_FS,
 173:application-library/usb-cdc-device.c ****   CDC_Receive_FS,
 174:application-library/usb-cdc-device.c ****   CDC_TransmitCplt_FS
 175:application-library/usb-cdc-device.c **** };
 176:application-library/usb-cdc-device.c **** 
 177:application-library/usb-cdc-device.c **** /**
 178:application-library/usb-cdc-device.c ****   * @brief  Initializes the CDC media low layer over the FS USB IP
 179:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 180:application-library/usb-cdc-device.c ****   */
 181:application-library/usb-cdc-device.c **** int8_t CDC_Init_FS(void)
 182:application-library/usb-cdc-device.c **** {
 183:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 184:application-library/usb-cdc-device.c ****   /* Set Application Buffers */
 185:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, UserTxBufferFS, 0);
 186:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 187:application-library/usb-cdc-device.c ****   return (USBD_OK);
 188:application-library/usb-cdc-device.c ****   /* USER CODE END 3 */
 189:application-library/usb-cdc-device.c **** }
 190:application-library/usb-cdc-device.c **** 
 191:application-library/usb-cdc-device.c **** /**
 192:application-library/usb-cdc-device.c ****   * @brief  DeInitializes the CDC media low layer
 193:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 194:application-library/usb-cdc-device.c ****   */
 195:application-library/usb-cdc-device.c **** int8_t CDC_DeInit_FS(void)
 196:application-library/usb-cdc-device.c **** {
  28              		.loc 1 196 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 197:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 4 */
ARM GAS  /tmp/ccgHoJ4C.s 			page 5


 198:application-library/usb-cdc-device.c ****   return (USBD_OK);
 199:application-library/usb-cdc-device.c ****   /* USER CODE END 4 */
 200:application-library/usb-cdc-device.c **** }
  33              		.loc 1 200 0
  34 0000 0020     		movs	r0, #0
  35 0002 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE133:
  39              		.section	.text.CDC_Control_FS,"ax",%progbits
  40              		.align	1
  41              		.global	CDC_Control_FS
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	CDC_Control_FS:
  48              	.LFB134:
 201:application-library/usb-cdc-device.c **** 
 202:application-library/usb-cdc-device.c **** /**
 203:application-library/usb-cdc-device.c ****   * @brief  Manage the CDC class requests
 204:application-library/usb-cdc-device.c ****   * @param  cmd: Command code
 205:application-library/usb-cdc-device.c ****   * @param  pbuf: Buffer containing command data (request parameters)
 206:application-library/usb-cdc-device.c ****   * @param  length: Number of data to be sent (in bytes)
 207:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 208:application-library/usb-cdc-device.c ****   */
 209:application-library/usb-cdc-device.c **** int8_t CDC_Control_FS(uint8_t cmd, uint8_t* pbuf, uint16_t length)
 210:application-library/usb-cdc-device.c **** {
  49              		.loc 1 210 0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53              		@ link register save eliminated.
  54              	.LVL0:
 211:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 5 */
 212:application-library/usb-cdc-device.c ****   switch(cmd)
 213:application-library/usb-cdc-device.c ****   {
 214:application-library/usb-cdc-device.c ****     case CDC_SEND_ENCAPSULATED_COMMAND:
 215:application-library/usb-cdc-device.c ****     break;
 216:application-library/usb-cdc-device.c ****     case CDC_GET_ENCAPSULATED_RESPONSE:
 217:application-library/usb-cdc-device.c ****     break;
 218:application-library/usb-cdc-device.c ****     case CDC_SET_COMM_FEATURE:
 219:application-library/usb-cdc-device.c ****     break;
 220:application-library/usb-cdc-device.c ****     case CDC_GET_COMM_FEATURE:
 221:application-library/usb-cdc-device.c ****     break;
 222:application-library/usb-cdc-device.c ****     case CDC_CLEAR_COMM_FEATURE:
 223:application-library/usb-cdc-device.c ****     break;
 224:application-library/usb-cdc-device.c **** 
 225:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 226:application-library/usb-cdc-device.c ****   /* Line Coding Structure                                                       */
 227:application-library/usb-cdc-device.c ****   /*-----------------------------------------------------------------------------*/
 228:application-library/usb-cdc-device.c ****   /* Offset | Field       | Size | Value  | Description                          */
 229:application-library/usb-cdc-device.c ****   /* 0      | dwDTERate   |   4  | Number |Data terminal rate, in bits per second*/
 230:application-library/usb-cdc-device.c ****   /* 4      | bCharFormat |   1  | Number | Stop bits                            */
 231:application-library/usb-cdc-device.c ****   /*                                        0 - 1 Stop bit                       */
 232:application-library/usb-cdc-device.c ****   /*                                        1 - 1.5 Stop bits                    */
 233:application-library/usb-cdc-device.c ****   /*                                        2 - 2 Stop bits                      */
 234:application-library/usb-cdc-device.c ****   /* 5      | bParityType |  1   | Number | Parity                               */
ARM GAS  /tmp/ccgHoJ4C.s 			page 6


 235:application-library/usb-cdc-device.c ****   /*                                        0 - None                             */
 236:application-library/usb-cdc-device.c ****   /*                                        1 - Odd                              */
 237:application-library/usb-cdc-device.c ****   /*                                        2 - Even                             */
 238:application-library/usb-cdc-device.c ****   /*                                        3 - Mark                             */
 239:application-library/usb-cdc-device.c ****   /*                                        4 - Space                            */
 240:application-library/usb-cdc-device.c ****   /* 6      | bDataBits  |   1   | Number Data bits (5, 6, 7, 8 or 16).          */
 241:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 242:application-library/usb-cdc-device.c ****     case CDC_SET_LINE_CODING:
 243:application-library/usb-cdc-device.c ****     break;
 244:application-library/usb-cdc-device.c ****     case CDC_GET_LINE_CODING:
 245:application-library/usb-cdc-device.c ****     break;
 246:application-library/usb-cdc-device.c ****     case CDC_SET_CONTROL_LINE_STATE:
 247:application-library/usb-cdc-device.c ****     break;
 248:application-library/usb-cdc-device.c ****     case CDC_SEND_BREAK:
 249:application-library/usb-cdc-device.c ****     break;
 250:application-library/usb-cdc-device.c ****   default:
 251:application-library/usb-cdc-device.c ****     break;
 252:application-library/usb-cdc-device.c ****   }
 253:application-library/usb-cdc-device.c ****   return (USBD_OK);
 254:application-library/usb-cdc-device.c **** }
  55              		.loc 1 254 0
  56 0000 0020     		movs	r0, #0
  57              	.LVL1:
  58 0002 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE134:
  62              		.section	.text.CDC_TransmitCplt_FS,"ax",%progbits
  63              		.align	1
  64              		.global	CDC_TransmitCplt_FS
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  68              		.fpu fpv4-sp-d16
  70              	CDC_TransmitCplt_FS:
  71              	.LFB137:
 255:application-library/usb-cdc-device.c **** 
 256:application-library/usb-cdc-device.c **** /**
 257:application-library/usb-cdc-device.c ****   * @brief  Data received over USB OUT endpoint are sent over CDC interface
 258:application-library/usb-cdc-device.c ****   *         through this function.
 259:application-library/usb-cdc-device.c ****   *
 260:application-library/usb-cdc-device.c ****   *         @note
 261:application-library/usb-cdc-device.c ****   *         This function will issue a NAK packet on any OUT packet received on
 262:application-library/usb-cdc-device.c ****   *         USB endpoint until exiting this function. If you exit this function
 263:application-library/usb-cdc-device.c ****   *         before transfer is complete on CDC interface (ie. using DMA controller)
 264:application-library/usb-cdc-device.c ****   *         it will result in receiving more data while previous ones are still
 265:application-library/usb-cdc-device.c ****   *         not sent.
 266:application-library/usb-cdc-device.c ****   *
 267:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 268:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 269:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 270:application-library/usb-cdc-device.c ****   */
 271:application-library/usb-cdc-device.c **** int8_t CDC_Receive_FS(uint8_t* Buf, uint32_t *Len)
 272:application-library/usb-cdc-device.c **** {
 273:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 274:application-library/usb-cdc-device.c ****   uint8_t received_msg[64];
 275:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, &Buf[0]);
 276:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
ARM GAS  /tmp/ccgHoJ4C.s 			page 7


 277:application-library/usb-cdc-device.c **** 
 278:application-library/usb-cdc-device.c ****   memset (received_msg, '\0', 64);  // clear the buffer
 279:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 280:application-library/usb-cdc-device.c ****   memcpy(received_msg, Buf, len);  // copy the data to the buffer
 281:application-library/usb-cdc-device.c **** 
 282:application-library/usb-cdc-device.c ****   strcat((char*) received_msg, (char *)" echoed.\n");
 283:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 284:application-library/usb-cdc-device.c ****   CDC_Transmit_FS(received_msg, sizeof(received_msg));
 285:application-library/usb-cdc-device.c ****   return (USBD_OK);
 286:application-library/usb-cdc-device.c ****   /* USER CODE END 6 */
 287:application-library/usb-cdc-device.c **** }
 288:application-library/usb-cdc-device.c **** 
 289:application-library/usb-cdc-device.c **** /**
 290:application-library/usb-cdc-device.c ****   * @brief  Trasmit Data to send over USB IN endpoint are sent over CDC interface
 291:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be sent
 292:application-library/usb-cdc-device.c ****   * @param  Len: Number of data to be sent (in bytes)
 293:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL or USBD_BUSY
 294:application-library/usb-cdc-device.c ****   */
 295:application-library/usb-cdc-device.c **** uint8_t CDC_Transmit_FS(uint8_t* Buf, uint16_t Len)
 296:application-library/usb-cdc-device.c **** {
 297:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 298:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 7 */
 299:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef*)hUsbDeviceFS.pClassData;
 300:application-library/usb-cdc-device.c **** 
 301:application-library/usb-cdc-device.c ****   if (hcdc->TxState != 0){
 302:application-library/usb-cdc-device.c ****     return USBD_BUSY;
 303:application-library/usb-cdc-device.c ****   }
 304:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, Buf, Len);
 305:application-library/usb-cdc-device.c ****   result = USBD_CDC_TransmitPacket(&hUsbDeviceFS);
 306:application-library/usb-cdc-device.c ****   /* USER CODE END 7 */
 307:application-library/usb-cdc-device.c ****   return result;
 308:application-library/usb-cdc-device.c **** }
 309:application-library/usb-cdc-device.c **** 
 310:application-library/usb-cdc-device.c **** /**
 311:application-library/usb-cdc-device.c ****   * @brief  Data transmitted callback
 312:application-library/usb-cdc-device.c ****   *         This function is IN transfer complete callback used to inform user that
 313:application-library/usb-cdc-device.c ****   *         the submitted Data is successfully sent over USB.
 314:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 315:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 316:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 317:application-library/usb-cdc-device.c ****   */
 318:application-library/usb-cdc-device.c **** int8_t CDC_TransmitCplt_FS(uint8_t *Buf, uint32_t *Len, uint8_t epnum)
 319:application-library/usb-cdc-device.c **** {
  72              		.loc 1 319 0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		@ link register save eliminated.
  77              	.LVL2:
 320:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 321:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 13 */
 322:application-library/usb-cdc-device.c ****   UNUSED(Buf);
 323:application-library/usb-cdc-device.c ****   UNUSED(Len);
 324:application-library/usb-cdc-device.c ****   UNUSED(epnum);
 325:application-library/usb-cdc-device.c ****   /* USER CODE END 13 */
 326:application-library/usb-cdc-device.c ****   return result;
 327:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccgHoJ4C.s 			page 8


  78              		.loc 1 327 0
  79 0000 0020     		movs	r0, #0
  80              	.LVL3:
  81 0002 7047     		bx	lr
  82              		.cfi_endproc
  83              	.LFE137:
  85              		.section	.text.USBD_CDC_EP0_RxReady,"ax",%progbits
  86              		.align	1
  87              		.global	USBD_CDC_EP0_RxReady
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	USBD_CDC_EP0_RxReady:
  94              	.LFB144:
 328:application-library/usb-cdc-device.c **** 
 329:application-library/usb-cdc-device.c **** /* usbd_cdc_if.c END ---- ---- ---- ---- */
 330:application-library/usb-cdc-device.c **** 
 331:application-library/usb-cdc-device.c **** 
 332:application-library/usb-cdc-device.c **** 
 333:application-library/usb-cdc-device.c **** /* usb_device.c BEGIN ---- ---- ---- ---- */
 334:application-library/usb-cdc-device.c **** 
 335:application-library/usb-cdc-device.c **** /**
 336:application-library/usb-cdc-device.c ****   * @brief Init USB device Library, add supported class and start the library
 337:application-library/usb-cdc-device.c ****   */
 338:application-library/usb-cdc-device.c **** void usb_device_init(void)
 339:application-library/usb-cdc-device.c **** {
 340:application-library/usb-cdc-device.c ****   /* Init Device Library, add supported class and start the library. */
 341:application-library/usb-cdc-device.c ****   // 1. USBD_Init(&p_usbd_handle, &FS_Desc, DEVICE_FS);
 342:application-library/usb-cdc-device.c ****   /* Unlink previous class*/
 343:application-library/usb-cdc-device.c ****   p_usbd_handle->pClass[0] = NULL;
 344:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[0] = NULL;
 345:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = NULL;
 346:application-library/usb-cdc-device.c **** 
 347:application-library/usb-cdc-device.c ****   /* Assign USBD Descriptors */
 348:application-library/usb-cdc-device.c ****   p_usbd_handle->pDesc = &FS_Desc;
 349:application-library/usb-cdc-device.c **** 
 350:application-library/usb-cdc-device.c ****   /* Set Device initial State */
 351:application-library/usb-cdc-device.c ****   p_usbd_handle->dev_state = USBD_STATE_DEFAULT;  // DEFAULT - ADDRESSED - CONFIGURED - SUSPEND
 352:application-library/usb-cdc-device.c ****   p_usbd_handle->id = DEVICE_FS; // DEVICE_FS (0)
 353:application-library/usb-cdc-device.c **** 
 354:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
 355:application-library/usb-cdc-device.c ****   // USBD_LL_Init(p_usbd_handle); // configure the TX or the RX FIFO of the new defined endport
 356:application-library/usb-cdc-device.c ****                                   // From usbd_conf.c expanded below. 
 357:application-library/usb-cdc-device.c **** 
 358:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
 359:application-library/usb-cdc-device.c ****   extern PCD_HandleTypeDef hpcd_USB_OTG_FS;
 360:application-library/usb-cdc-device.c ****   if (p_usbd_handle->id == DEVICE_FS) {
 361:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
 362:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.pData = p_usbd_handle;
 363:application-library/usb-cdc-device.c ****                                            /* pData is the pointer to upper stack handler. */
 364:application-library/usb-cdc-device.c ****   p_usbd_handle->pData = &hpcd_USB_OTG_FS; /* connect usbd_handle with the lower-level pcd_handle*/
 365:application-library/usb-cdc-device.c **** 
 366:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Instance = USB_OTG_FS;
 367:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 368:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 369:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
ARM GAS  /tmp/ccgHoJ4C.s 			page 9


 370:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
 371:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
 372:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 373:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 374:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 375:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
 376:application-library/usb-cdc-device.c **** 
 377:application-library/usb-cdc-device.c ****   HAL_PCD_Init(&hpcd_USB_OTG_FS);
 378:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
 379:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetRxFiFo(&hpcd_USB_OTG_FS, 0x80);    /* set RX FIFO size 0x80*/
 380:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 381:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 382:application-library/usb-cdc-device.c ****   }
 383:application-library/usb-cdc-device.c ****   /*---------------------------------------------------------------------------*/
 384:application-library/usb-cdc-device.c ****   // 2. USBD_RegisterClass(&p_usbd_handle, &USBD_CDC); // usbd_core.c
 385:application-library/usb-cdc-device.c ****   
 386:application-library/usb-cdc-device.c ****   /* link the class to the USB Device handle */
 387:application-library/usb-cdc-device.c ****   p_usbd_handle->pClass[0] = &USBD_CDC;
 388:application-library/usb-cdc-device.c **** 
 389:application-library/usb-cdc-device.c ****   /* Get Device Configuration Descriptor */
 390:application-library/usb-cdc-device.c ****   /*
 391:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 392:application-library/usb-cdc-device.c ****   if (p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigDescriptor != NULL)
 393:application-library/usb-cdc-device.c ****   {
 394:application-library/usb-cdc-device.c ****     // pClass is of type USBD_ClassTypeDef.
 395:application-library/usb-cdc-device.c ****     // p_usbd_handle is of type USBD_HandleTypeDef
 396:application-library/usb-cdc-device.c ****     // The actual GetFSConfigDescriptor is implemented as  USBD_CDC_GetFSCfgDesc(uint16_t *length) 
 397:application-library/usb-cdc-device.c ****     p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigDe
 398:application-library/usb-cdc-device.c ****   }
 399:application-library/usb-cdc-device.c ****   */
 400:application-library/usb-cdc-device.c ****   // p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigD
 401:application-library/usb-cdc-device.c ****   // p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[0]->GetFSConfigDescriptor(0); 
 402:application-library/usb-cdc-device.c ****   /* p_usbd_handle->pClass[0] = (USBD_CDC)*/
 403:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = (&USBD_CDC)->GetFSConfigDescriptor(0) ;
 404:application-library/usb-cdc-device.c **** 
 405:application-library/usb-cdc-device.c ****   /* Increment the NumClasses */
 406:application-library/usb-cdc-device.c ****   // p_usbd_handle->NumClasses ++;
 407:application-library/usb-cdc-device.c **** 
 408:application-library/usb-cdc-device.c ****   // 3. USBD_CDC_RegisterInterface(&p_usbd_handle, &USBD_Interface_fops_FS);
 409:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[p_usbd_handle->classId] = &USBD_Interface_fops_FS;
 410:application-library/usb-cdc-device.c **** 
 411:application-library/usb-cdc-device.c ****   // 4. USBD_Startp_usbd_handle;
 412:application-library/usb-cdc-device.c ****   // HAL_PCD_Start(p_usbd_handle->pData);  /* p_usbd_handle->pData has type void */
 413:application-library/usb-cdc-device.c ****                                            /* pData = hpcd_USB_OTG_FS was assigned in step 1. USBD_
 414:application-library/usb-cdc-device.c ****   HAL_PCD_Start(&hpcd_USB_OTG_FS);
 415:application-library/usb-cdc-device.c **** }
 416:application-library/usb-cdc-device.c **** /* usb_device.c END ---- ---- ---- ---- */
 417:application-library/usb-cdc-device.c **** 
 418:application-library/usb-cdc-device.c **** 
 419:application-library/usb-cdc-device.c **** 
 420:application-library/usb-cdc-device.c **** /* usbd_cdc.c START ---- ---- ---- ---- */
 421:application-library/usb-cdc-device.c **** /**
 422:application-library/usb-cdc-device.c ****   * @brief  Initialize the CDC interface
 423:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 424:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 425:application-library/usb-cdc-device.c ****   * @retval status
 426:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccgHoJ4C.s 			page 10


 427:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
 428:application-library/usb-cdc-device.c **** {
 429:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 430:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 431:application-library/usb-cdc-device.c **** 
 432:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_HandleTypeDef *)USBD_malloc(sizeof(USBD_CDC_HandleTypeDef));
 433:application-library/usb-cdc-device.c **** 
 434:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 435:application-library/usb-cdc-device.c ****   {
 436:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 437:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 438:application-library/usb-cdc-device.c ****   }
 439:application-library/usb-cdc-device.c **** 
 440:application-library/usb-cdc-device.c ****   (void)USBD_memset(hcdc, 0, sizeof(USBD_CDC_HandleTypeDef));
 441:application-library/usb-cdc-device.c **** 
 442:application-library/usb-cdc-device.c ****   pdev->pClassDataCmsit[pdev->classId] = (void *)hcdc;
 443:application-library/usb-cdc-device.c ****   pdev->pClassData = pdev->pClassDataCmsit[pdev->classId];
 444:application-library/usb-cdc-device.c **** 
 445:application-library/usb-cdc-device.c ****   /* High Speed */
 446:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 447:application-library/usb-cdc-device.c ****   {
 448:application-library/usb-cdc-device.c ****     /* Open EP IN */
 449:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_IN_EP, USBD_EP_TYPE_BULK,
 450:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 451:application-library/usb-cdc-device.c **** 
 452:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 453:application-library/usb-cdc-device.c **** 
 454:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 455:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 456:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 457:application-library/usb-cdc-device.c **** 
 458:application-library/usb-cdc-device.c ****     pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 459:application-library/usb-cdc-device.c **** 
 460:application-library/usb-cdc-device.c ****     /* Set bInterval for CDC CMD Endpoint */
 461:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_HS_BINTERVAL;
 462:application-library/usb-cdc-device.c ****   }
 463:application-library/usb-cdc-device.c ****   /* Low/Full Speed */
 464:application-library/usb-cdc-device.c ****   else
 465:application-library/usb-cdc-device.c ****   {
 466:application-library/usb-cdc-device.c ****     /* Open EP IN */
 467:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_IN_EP, USBD_EP_TYPE_BULK,
 468:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 469:application-library/usb-cdc-device.c **** 
 470:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 471:application-library/usb-cdc-device.c **** 
 472:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 473:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 474:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 475:application-library/usb-cdc-device.c **** 
 476:application-library/usb-cdc-device.c ****     pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 477:application-library/usb-cdc-device.c **** 
 478:application-library/usb-cdc-device.c ****     /* Set bInterval for CMD Endpoint */
 479:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_FS_BINTERVAL;
 480:application-library/usb-cdc-device.c ****   }
 481:application-library/usb-cdc-device.c **** 
 482:application-library/usb-cdc-device.c ****   /* Open Command IN EP */
 483:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, CDC_CMD_EP, USBD_EP_TYPE_INTR, CDC_CMD_PACKET_SIZE);
ARM GAS  /tmp/ccgHoJ4C.s 			page 11


 484:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
 485:application-library/usb-cdc-device.c **** 
 486:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = NULL;
 487:application-library/usb-cdc-device.c **** 
 488:application-library/usb-cdc-device.c ****   /* Init  physical Interface components */
 489:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Init();
 490:application-library/usb-cdc-device.c **** 
 491:application-library/usb-cdc-device.c ****   /* Init Xfer states */
 492:application-library/usb-cdc-device.c ****   hcdc->TxState = 0U;
 493:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 494:application-library/usb-cdc-device.c **** 
 495:application-library/usb-cdc-device.c ****   if (hcdc->RxBuffer == NULL)
 496:application-library/usb-cdc-device.c ****   {
 497:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 498:application-library/usb-cdc-device.c ****   }
 499:application-library/usb-cdc-device.c **** 
 500:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 501:application-library/usb-cdc-device.c ****   {
 502:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 503:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 504:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 505:application-library/usb-cdc-device.c ****   }
 506:application-library/usb-cdc-device.c ****   else
 507:application-library/usb-cdc-device.c ****   {
 508:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 509:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 510:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 511:application-library/usb-cdc-device.c ****   }
 512:application-library/usb-cdc-device.c **** 
 513:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 514:application-library/usb-cdc-device.c **** }
 515:application-library/usb-cdc-device.c **** 
 516:application-library/usb-cdc-device.c **** /**
 517:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Init
 518:application-library/usb-cdc-device.c ****   *         DeInitialize the CDC layer
 519:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 520:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 521:application-library/usb-cdc-device.c ****   * @retval status
 522:application-library/usb-cdc-device.c ****   */
 523:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
 524:application-library/usb-cdc-device.c **** {
 525:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 526:application-library/usb-cdc-device.c **** 
 527:application-library/usb-cdc-device.c ****   /* Close EP IN */
 528:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_IN_EP);
 529:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 530:application-library/usb-cdc-device.c **** 
 531:application-library/usb-cdc-device.c ****   /* Close EP OUT */
 532:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_OUT_EP);
 533:application-library/usb-cdc-device.c ****   pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 534:application-library/usb-cdc-device.c **** 
 535:application-library/usb-cdc-device.c ****   /* Close Command IN EP */
 536:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_CMD_EP);
 537:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 538:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 539:application-library/usb-cdc-device.c **** 
 540:application-library/usb-cdc-device.c ****   /* DeInit  physical Interface components */
ARM GAS  /tmp/ccgHoJ4C.s 			page 12


 541:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] != NULL)
 542:application-library/usb-cdc-device.c ****   {
 543:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->DeInit();
 544:application-library/usb-cdc-device.c ****     (void)USBD_free(pdev->pClassDataCmsit[pdev->classId]);
 545:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 546:application-library/usb-cdc-device.c ****     pdev->pClassData = NULL;
 547:application-library/usb-cdc-device.c ****   }
 548:application-library/usb-cdc-device.c **** 
 549:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 550:application-library/usb-cdc-device.c **** }
 551:application-library/usb-cdc-device.c **** 
 552:application-library/usb-cdc-device.c **** /**
 553:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Setup
 554:application-library/usb-cdc-device.c ****   *         Handle the CDC specific requests
 555:application-library/usb-cdc-device.c ****   * @param  pdev: instance
 556:application-library/usb-cdc-device.c ****   * @param  req: usb requests
 557:application-library/usb-cdc-device.c ****   * @retval status
 558:application-library/usb-cdc-device.c ****   */
 559:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Setup(USBD_HandleTypeDef *pdev,
 560:application-library/usb-cdc-device.c ****                               USBD_SetupReqTypedef *req)
 561:application-library/usb-cdc-device.c **** {
 562:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 563:application-library/usb-cdc-device.c ****   uint16_t len;
 564:application-library/usb-cdc-device.c ****   uint8_t ifalt = 0U;
 565:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 566:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 567:application-library/usb-cdc-device.c **** 
 568:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 569:application-library/usb-cdc-device.c ****   {
 570:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 571:application-library/usb-cdc-device.c ****   }
 572:application-library/usb-cdc-device.c **** 
 573:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
 574:application-library/usb-cdc-device.c ****   {
 575:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
 576:application-library/usb-cdc-device.c ****       if (req->wLength != 0U)
 577:application-library/usb-cdc-device.c ****       {
 578:application-library/usb-cdc-device.c ****         if ((req->bmRequest & 0x80U) != 0U)
 579:application-library/usb-cdc-device.c ****         {
 580:application-library/usb-cdc-device.c ****           ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(req->bRequest,
 581:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 582:application-library/usb-cdc-device.c ****                                                                            req->wLength);
 583:application-library/usb-cdc-device.c **** 
 584:application-library/usb-cdc-device.c ****           len = MIN(CDC_REQ_MAX_DATA_SIZE, req->wLength);
 585:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendData(pdev, (uint8_t *)hcdc->data, len);
 586:application-library/usb-cdc-device.c ****         }
 587:application-library/usb-cdc-device.c ****         else
 588:application-library/usb-cdc-device.c ****         {
 589:application-library/usb-cdc-device.c ****           hcdc->CmdOpCode = req->bRequest;
 590:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 591:application-library/usb-cdc-device.c **** 
 592:application-library/usb-cdc-device.c ****           (void)USBD_CtlPrepareRx(pdev, (uint8_t *)hcdc->data, hcdc->CmdLength);
 593:application-library/usb-cdc-device.c ****         }
 594:application-library/usb-cdc-device.c ****       }
 595:application-library/usb-cdc-device.c ****       else
 596:application-library/usb-cdc-device.c ****       {
 597:application-library/usb-cdc-device.c ****         ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(req->bRequest,
ARM GAS  /tmp/ccgHoJ4C.s 			page 13


 598:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
 599:application-library/usb-cdc-device.c ****       }
 600:application-library/usb-cdc-device.c ****       break;
 601:application-library/usb-cdc-device.c **** 
 602:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
 603:application-library/usb-cdc-device.c ****       switch (req->bRequest)
 604:application-library/usb-cdc-device.c ****       {
 605:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
 606:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
 607:application-library/usb-cdc-device.c ****           {
 608:application-library/usb-cdc-device.c ****             (void)USBD_CtlSendData(pdev, (uint8_t *)&status_info, 2U);
 609:application-library/usb-cdc-device.c ****           }
 610:application-library/usb-cdc-device.c ****           else
 611:application-library/usb-cdc-device.c ****           {
 612:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 613:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 614:application-library/usb-cdc-device.c ****           }
 615:application-library/usb-cdc-device.c ****           break;
 616:application-library/usb-cdc-device.c **** 
 617:application-library/usb-cdc-device.c ****         case USB_REQ_GET_INTERFACE:
 618:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
 619:application-library/usb-cdc-device.c ****           {
 620:application-library/usb-cdc-device.c ****             (void)USBD_CtlSendData(pdev, &ifalt, 1U);
 621:application-library/usb-cdc-device.c ****           }
 622:application-library/usb-cdc-device.c ****           else
 623:application-library/usb-cdc-device.c ****           {
 624:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 625:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 626:application-library/usb-cdc-device.c ****           }
 627:application-library/usb-cdc-device.c ****           break;
 628:application-library/usb-cdc-device.c **** 
 629:application-library/usb-cdc-device.c ****         case USB_REQ_SET_INTERFACE:
 630:application-library/usb-cdc-device.c ****           if (pdev->dev_state != USBD_STATE_CONFIGURED)
 631:application-library/usb-cdc-device.c ****           {
 632:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 633:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 634:application-library/usb-cdc-device.c ****           }
 635:application-library/usb-cdc-device.c ****           break;
 636:application-library/usb-cdc-device.c **** 
 637:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
 638:application-library/usb-cdc-device.c ****           break;
 639:application-library/usb-cdc-device.c **** 
 640:application-library/usb-cdc-device.c ****         default:
 641:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
 642:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 643:application-library/usb-cdc-device.c ****           break;
 644:application-library/usb-cdc-device.c ****       }
 645:application-library/usb-cdc-device.c ****       break;
 646:application-library/usb-cdc-device.c **** 
 647:application-library/usb-cdc-device.c ****     default:
 648:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
 649:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 650:application-library/usb-cdc-device.c ****       break;
 651:application-library/usb-cdc-device.c ****   }
 652:application-library/usb-cdc-device.c **** 
 653:application-library/usb-cdc-device.c ****   return (uint8_t)ret;
 654:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccgHoJ4C.s 			page 14


 655:application-library/usb-cdc-device.c **** 
 656:application-library/usb-cdc-device.c **** 
 657:application-library/usb-cdc-device.c **** /**
 658:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataIn
 659:application-library/usb-cdc-device.c ****   *         Data sent on non-control IN endpoint
 660:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 661:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 662:application-library/usb-cdc-device.c ****   * @retval status
 663:application-library/usb-cdc-device.c ****   */
 664:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum)
 665:application-library/usb-cdc-device.c **** {
 666:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 667:application-library/usb-cdc-device.c ****   PCD_HandleTypeDef *hpcd = (PCD_HandleTypeDef *)pdev->pData;
 668:application-library/usb-cdc-device.c **** 
 669:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 670:application-library/usb-cdc-device.c ****   {
 671:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 672:application-library/usb-cdc-device.c ****   }
 673:application-library/usb-cdc-device.c **** 
 674:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 675:application-library/usb-cdc-device.c **** 
 676:application-library/usb-cdc-device.c ****   if ((pdev->ep_in[epnum & 0xFU].total_length > 0U) &&
 677:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 678:application-library/usb-cdc-device.c ****   {
 679:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 680:application-library/usb-cdc-device.c ****     pdev->ep_in[epnum & 0xFU].total_length = 0U;
 681:application-library/usb-cdc-device.c **** 
 682:application-library/usb-cdc-device.c ****     /* Send ZLP */
 683:application-library/usb-cdc-device.c ****     (void)USBD_LL_Transmit(pdev, epnum, NULL, 0U);
 684:application-library/usb-cdc-device.c ****   }
 685:application-library/usb-cdc-device.c ****   else
 686:application-library/usb-cdc-device.c ****   {
 687:application-library/usb-cdc-device.c ****     hcdc->TxState = 0U;
 688:application-library/usb-cdc-device.c **** 
 689:application-library/usb-cdc-device.c ****     if (((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->TransmitCplt != NULL)
 690:application-library/usb-cdc-device.c ****     {
 691:application-library/usb-cdc-device.c ****       ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->TransmitCplt(hcdc->TxBuffer, &hcdc->
 692:application-library/usb-cdc-device.c ****     }
 693:application-library/usb-cdc-device.c ****   }
 694:application-library/usb-cdc-device.c **** 
 695:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 696:application-library/usb-cdc-device.c **** }
 697:application-library/usb-cdc-device.c **** 
 698:application-library/usb-cdc-device.c **** 
 699:application-library/usb-cdc-device.c **** 
 700:application-library/usb-cdc-device.c **** /**
 701:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataOut
 702:application-library/usb-cdc-device.c ****   *         Data received on non-control Out endpoint
 703:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 704:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 705:application-library/usb-cdc-device.c ****   * @retval status
 706:application-library/usb-cdc-device.c ****   */
 707:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum)
 708:application-library/usb-cdc-device.c **** {
 709:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 710:application-library/usb-cdc-device.c **** 
 711:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
ARM GAS  /tmp/ccgHoJ4C.s 			page 15


 712:application-library/usb-cdc-device.c ****   {
 713:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 714:application-library/usb-cdc-device.c ****   }
 715:application-library/usb-cdc-device.c **** 
 716:application-library/usb-cdc-device.c ****   /* Get the received data length */
 717:application-library/usb-cdc-device.c ****   hcdc->RxLength = USBD_LL_GetRxDataSize(pdev, epnum);
 718:application-library/usb-cdc-device.c **** 
 719:application-library/usb-cdc-device.c ****   /* USB data will be immediately processed, this allow next USB traffic being
 720:application-library/usb-cdc-device.c ****   NAKed till the end of the application Xfer */
 721:application-library/usb-cdc-device.c **** 
 722:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Receive(hcdc->RxBuffer, &hcdc->RxLength)
 723:application-library/usb-cdc-device.c **** 
 724:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 725:application-library/usb-cdc-device.c **** }
 726:application-library/usb-cdc-device.c **** 
 727:application-library/usb-cdc-device.c **** /**
 728:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_EP0_RxReady
 729:application-library/usb-cdc-device.c ****   *         Handle EP0 Rx Ready event
 730:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 731:application-library/usb-cdc-device.c ****   * @retval status
 732:application-library/usb-cdc-device.c ****   */
 733:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_EP0_RxReady(USBD_HandleTypeDef *pdev)
 734:application-library/usb-cdc-device.c **** {
  95              		.loc 1 734 0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99              	.LVL4:
 100 0000 10B5     		push	{r4, lr}
 101              	.LCFI0:
 102              		.cfi_def_cfa_offset 8
 103              		.cfi_offset 4, -8
 104              		.cfi_offset 14, -4
 735:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 105              		.loc 1 735 0
 106 0002 D0F8D432 		ldr	r3, [r0, #724]
 107 0006 03F1B002 		add	r2, r3, #176
 108 000a 50F82240 		ldr	r4, [r0, r2, lsl #2]
 109              	.LVL5:
 736:application-library/usb-cdc-device.c **** 
 737:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 110              		.loc 1 737 0
 111 000e 8CB1     		cbz	r4, .L6
 738:application-library/usb-cdc-device.c ****   {
 739:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 740:application-library/usb-cdc-device.c ****   }
 741:application-library/usb-cdc-device.c **** 
 742:application-library/usb-cdc-device.c ****   if ((pdev->pUserData[pdev->classId] != NULL) && (hcdc->CmdOpCode != 0xFFU))
 112              		.loc 1 742 0
 113 0010 00EB8200 		add	r0, r0, r2, lsl #2
 114              	.LVL6:
 115 0014 4368     		ldr	r3, [r0, #4]
 116 0016 7BB1     		cbz	r3, .L7
 117              		.loc 1 742 0 is_stmt 0 discriminator 1
 118 0018 94F80002 		ldrb	r0, [r4, #512]	@ zero_extendqisi2
 119 001c FF28     		cmp	r0, #255
 120 001e 0DD0     		beq	.L8
ARM GAS  /tmp/ccgHoJ4C.s 			page 16


 743:application-library/usb-cdc-device.c ****   {
 744:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(hcdc->CmdOpCode,
 121              		.loc 1 744 0 is_stmt 1
 122 0020 9B68     		ldr	r3, [r3, #8]
 123 0022 94F80122 		ldrb	r2, [r4, #513]	@ zero_extendqisi2
 124 0026 2146     		mov	r1, r4
 125 0028 9847     		blx	r3
 126              	.LVL7:
 745:application-library/usb-cdc-device.c ****                                                                      (uint8_t *)hcdc->data,
 746:application-library/usb-cdc-device.c ****                                                                      (uint16_t)hcdc->CmdLength);
 747:application-library/usb-cdc-device.c ****     hcdc->CmdOpCode = 0xFFU;
 127              		.loc 1 747 0
 128 002a FF23     		movs	r3, #255
 129 002c 84F80032 		strb	r3, [r4, #512]
 748:application-library/usb-cdc-device.c ****   }
 749:application-library/usb-cdc-device.c **** 
 750:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 130              		.loc 1 750 0
 131 0030 0020     		movs	r0, #0
 132 0032 10BD     		pop	{r4, pc}
 133              	.LVL8:
 134              	.L6:
 739:application-library/usb-cdc-device.c ****   }
 135              		.loc 1 739 0
 136 0034 0320     		movs	r0, #3
 137              	.LVL9:
 138 0036 10BD     		pop	{r4, pc}
 139              	.LVL10:
 140              	.L7:
 141              		.loc 1 750 0
 142 0038 0020     		movs	r0, #0
 143 003a 10BD     		pop	{r4, pc}
 144              	.LVL11:
 145              	.L8:
 146 003c 0020     		movs	r0, #0
 751:application-library/usb-cdc-device.c **** }
 147              		.loc 1 751 0
 148 003e 10BD     		pop	{r4, pc}
 149              		.cfi_endproc
 150              	.LFE144:
 152              		.section	.text.USBD_CDC_GetDeviceQualifierDescriptor,"ax",%progbits
 153              		.align	1
 154              		.global	USBD_CDC_GetDeviceQualifierDescriptor
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	USBD_CDC_GetDeviceQualifierDescriptor:
 161              	.LFB148:
 752:application-library/usb-cdc-device.c **** /**
 753:application-library/usb-cdc-device.c ****   * @brief  Get full speed configuration descriptor.
 754:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 755:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 756:application-library/usb-cdc-device.c ****   */
 757:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetFSCfgDesc(uint16_t *length)
 758:application-library/usb-cdc-device.c **** {
 759:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
ARM GAS  /tmp/ccgHoJ4C.s 			page 17


 760:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 761:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 762:application-library/usb-cdc-device.c **** 
 763:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 764:application-library/usb-cdc-device.c ****   {
 765:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 766:application-library/usb-cdc-device.c ****   }
 767:application-library/usb-cdc-device.c **** 
 768:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 769:application-library/usb-cdc-device.c ****   {
 770:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 771:application-library/usb-cdc-device.c ****   }
 772:application-library/usb-cdc-device.c **** 
 773:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 774:application-library/usb-cdc-device.c ****   {
 775:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 776:application-library/usb-cdc-device.c ****   }
 777:application-library/usb-cdc-device.c **** 
 778:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 779:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 780:application-library/usb-cdc-device.c **** }
 781:application-library/usb-cdc-device.c **** 
 782:application-library/usb-cdc-device.c **** /**
 783:application-library/usb-cdc-device.c ****   * @brief  Return configuration descriptor
 784:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 785:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 786:application-library/usb-cdc-device.c ****   */
 787:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetHSCfgDesc(uint16_t *length)
 788:application-library/usb-cdc-device.c **** {
 789:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 790:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 791:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 792:application-library/usb-cdc-device.c **** 
 793:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 794:application-library/usb-cdc-device.c ****   {
 795:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_HS_BINTERVAL;
 796:application-library/usb-cdc-device.c ****   }
 797:application-library/usb-cdc-device.c **** 
 798:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 799:application-library/usb-cdc-device.c ****   {
 800:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 801:application-library/usb-cdc-device.c ****   }
 802:application-library/usb-cdc-device.c **** 
 803:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 804:application-library/usb-cdc-device.c ****   {
 805:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 806:application-library/usb-cdc-device.c ****   }
 807:application-library/usb-cdc-device.c **** 
 808:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 809:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 810:application-library/usb-cdc-device.c **** }
 811:application-library/usb-cdc-device.c **** 
 812:application-library/usb-cdc-device.c **** /**
 813:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_GetOtherSpeedCfgDesc
 814:application-library/usb-cdc-device.c ****   *         Return configuration descriptor
 815:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 816:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
ARM GAS  /tmp/ccgHoJ4C.s 			page 18


 817:application-library/usb-cdc-device.c ****   */
 818:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetOtherSpeedCfgDesc(uint16_t *length)
 819:application-library/usb-cdc-device.c **** {
 820:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 821:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 822:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 823:application-library/usb-cdc-device.c **** 
 824:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 825:application-library/usb-cdc-device.c ****   {
 826:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 827:application-library/usb-cdc-device.c ****   }
 828:application-library/usb-cdc-device.c **** 
 829:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 830:application-library/usb-cdc-device.c ****   {
 831:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 832:application-library/usb-cdc-device.c ****   }
 833:application-library/usb-cdc-device.c **** 
 834:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 835:application-library/usb-cdc-device.c ****   {
 836:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 837:application-library/usb-cdc-device.c ****   }
 838:application-library/usb-cdc-device.c **** 
 839:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 840:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 841:application-library/usb-cdc-device.c **** }
 842:application-library/usb-cdc-device.c **** 
 843:application-library/usb-cdc-device.c **** /**
 844:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_GetDeviceQualifierDescriptor
 845:application-library/usb-cdc-device.c ****   *         return Device Qualifier descriptor
 846:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 847:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 848:application-library/usb-cdc-device.c ****   */
 849:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetDeviceQualifierDescriptor(uint16_t *length)
 850:application-library/usb-cdc-device.c **** {
 162              		.loc 1 850 0
 163              		.cfi_startproc
 164              		@ args = 0, pretend = 0, frame = 0
 165              		@ frame_needed = 0, uses_anonymous_args = 0
 166              		@ link register save eliminated.
 167              	.LVL12:
 851:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_DeviceQualifierDesc);
 168              		.loc 1 851 0
 169 0000 0A23     		movs	r3, #10
 170 0002 0380     		strh	r3, [r0]	@ movhi
 852:application-library/usb-cdc-device.c **** 
 853:application-library/usb-cdc-device.c ****   return USBD_CDC_DeviceQualifierDesc;
 854:application-library/usb-cdc-device.c **** }
 171              		.loc 1 854 0
 172 0004 0048     		ldr	r0, .L11
 173              	.LVL13:
 174 0006 7047     		bx	lr
 175              	.L12:
 176              		.align	2
 177              	.L11:
 178 0008 00000000 		.word	.LANCHOR0
 179              		.cfi_endproc
 180              	.LFE148:
ARM GAS  /tmp/ccgHoJ4C.s 			page 19


 182              		.section	.text.usb_device_init,"ax",%progbits
 183              		.align	1
 184              		.global	usb_device_init
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 188              		.fpu fpv4-sp-d16
 190              	usb_device_init:
 191              	.LFB138:
 339:application-library/usb-cdc-device.c ****   /* Init Device Library, add supported class and start the library. */
 192              		.loc 1 339 0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 0
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196 0000 38B5     		push	{r3, r4, r5, lr}
 197              	.LCFI1:
 198              		.cfi_def_cfa_offset 16
 199              		.cfi_offset 3, -16
 200              		.cfi_offset 4, -12
 201              		.cfi_offset 5, -8
 202              		.cfi_offset 14, -4
 343:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[0] = NULL;
 203              		.loc 1 343 0
 204 0002 2749     		ldr	r1, .L17
 205 0004 0B68     		ldr	r3, [r1]
 206 0006 0022     		movs	r2, #0
 207 0008 C3F8B822 		str	r2, [r3, #696]
 344:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = NULL;
 208              		.loc 1 344 0
 209 000c C3F8C422 		str	r2, [r3, #708]
 345:application-library/usb-cdc-device.c **** 
 210              		.loc 1 345 0
 211 0010 C3F8D022 		str	r2, [r3, #720]
 348:application-library/usb-cdc-device.c **** 
 212              		.loc 1 348 0
 213 0014 2348     		ldr	r0, .L17+4
 214 0016 C3F8B402 		str	r0, [r3, #692]
 351:application-library/usb-cdc-device.c ****   p_usbd_handle->id = DEVICE_FS; // DEVICE_FS (0)
 215              		.loc 1 351 0
 216 001a 0120     		movs	r0, #1
 217 001c 83F89C02 		strb	r0, [r3, #668]
 352:application-library/usb-cdc-device.c **** 
 218              		.loc 1 352 0
 219 0020 1A70     		strb	r2, [r3]
 360:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
 220              		.loc 1 360 0
 221 0022 0B68     		ldr	r3, [r1]
 222 0024 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 223 0026 AAB1     		cbz	r2, .L16
 224              	.L14:
 387:application-library/usb-cdc-device.c **** 
 225              		.loc 1 387 0
 226 0028 1D4C     		ldr	r4, .L17
 227 002a 2568     		ldr	r5, [r4]
 228 002c 1E4B     		ldr	r3, .L17+8
 229 002e C5F8B832 		str	r3, [r5, #696]
 403:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 20


 230              		.loc 1 403 0
 231 0032 DB6A     		ldr	r3, [r3, #44]
 232 0034 0020     		movs	r0, #0
 233 0036 9847     		blx	r3
 234              	.LVL14:
 235 0038 C5F8D002 		str	r0, [r5, #720]
 409:application-library/usb-cdc-device.c **** 
 236              		.loc 1 409 0
 237 003c 2368     		ldr	r3, [r4]
 238 003e D3F8D422 		ldr	r2, [r3, #724]
 239 0042 B032     		adds	r2, r2, #176
 240 0044 03EB8203 		add	r3, r3, r2, lsl #2
 241 0048 184A     		ldr	r2, .L17+12
 242 004a 5A60     		str	r2, [r3, #4]
 414:application-library/usb-cdc-device.c **** }
 243              		.loc 1 414 0
 244 004c 1848     		ldr	r0, .L17+16
 245 004e FFF7FEFF 		bl	HAL_PCD_Start
 246              	.LVL15:
 247 0052 38BD     		pop	{r3, r4, r5, pc}
 248              	.L16:
 362:application-library/usb-cdc-device.c ****                                            /* pData is the pointer to upper stack handler. */
 249              		.loc 1 362 0
 250 0054 164C     		ldr	r4, .L17+16
 251 0056 C4F80835 		str	r3, [r4, #1288]
 364:application-library/usb-cdc-device.c **** 
 252              		.loc 1 364 0
 253 005a C3F8C842 		str	r4, [r3, #712]
 366:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 254              		.loc 1 366 0
 255 005e 4FF0A043 		mov	r3, #1342177280
 256 0062 2360     		str	r3, [r4]
 367:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 257              		.loc 1 367 0
 258 0064 0423     		movs	r3, #4
 259 0066 6360     		str	r3, [r4, #4]
 368:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
 260              		.loc 1 368 0
 261 0068 0223     		movs	r3, #2
 262 006a E360     		str	r3, [r4, #12]
 369:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
 263              		.loc 1 369 0
 264 006c 0025     		movs	r5, #0
 265 006e 2561     		str	r5, [r4, #16]
 370:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
 266              		.loc 1 370 0
 267 0070 A361     		str	r3, [r4, #24]
 371:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 268              		.loc 1 371 0
 269 0072 E561     		str	r5, [r4, #28]
 372:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 270              		.loc 1 372 0
 271 0074 2562     		str	r5, [r4, #32]
 373:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 272              		.loc 1 373 0
 273 0076 6562     		str	r5, [r4, #36]
 374:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
ARM GAS  /tmp/ccgHoJ4C.s 			page 21


 274              		.loc 1 374 0
 275 0078 E562     		str	r5, [r4, #44]
 375:application-library/usb-cdc-device.c **** 
 276              		.loc 1 375 0
 277 007a 2563     		str	r5, [r4, #48]
 377:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
 278              		.loc 1 377 0
 279 007c 2046     		mov	r0, r4
 280 007e FFF7FEFF 		bl	HAL_PCD_Init
 281              	.LVL16:
 379:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 282              		.loc 1 379 0
 283 0082 8021     		movs	r1, #128
 284 0084 2046     		mov	r0, r4
 285 0086 FFF7FEFF 		bl	HAL_PCDEx_SetRxFiFo
 286              	.LVL17:
 380:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 287              		.loc 1 380 0
 288 008a 4022     		movs	r2, #64
 289 008c 2946     		mov	r1, r5
 290 008e 2046     		mov	r0, r4
 291 0090 FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 292              	.LVL18:
 381:application-library/usb-cdc-device.c ****   }
 293              		.loc 1 381 0
 294 0094 8022     		movs	r2, #128
 295 0096 0121     		movs	r1, #1
 296 0098 2046     		mov	r0, r4
 297 009a FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 298              	.LVL19:
 299 009e C3E7     		b	.L14
 300              	.L18:
 301              		.align	2
 302              	.L17:
 303 00a0 00000000 		.word	.LANCHOR1
 304 00a4 00000000 		.word	FS_Desc
 305 00a8 00000000 		.word	.LANCHOR2
 306 00ac 00000000 		.word	.LANCHOR3
 307 00b0 00000000 		.word	hpcd_USB_OTG_FS
 308              		.cfi_endproc
 309              	.LFE138:
 311              		.section	.text.USBD_CDC_RegisterInterface,"ax",%progbits
 312              		.align	1
 313              		.global	USBD_CDC_RegisterInterface
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 317              		.fpu fpv4-sp-d16
 319              	USBD_CDC_RegisterInterface:
 320              	.LFB149:
 855:application-library/usb-cdc-device.c **** 
 856:application-library/usb-cdc-device.c **** /**
 857:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_RegisterInterface
 858:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 859:application-library/usb-cdc-device.c ****   * @param  fops: CD  Interface callback
 860:application-library/usb-cdc-device.c ****   * @retval status
 861:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccgHoJ4C.s 			page 22


 862:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_RegisterInterface(USBD_HandleTypeDef *pdev,
 863:application-library/usb-cdc-device.c ****                                    USBD_CDC_ItfTypeDef *fops)
 864:application-library/usb-cdc-device.c **** {
 321              		.loc 1 864 0
 322              		.cfi_startproc
 323              		@ args = 0, pretend = 0, frame = 0
 324              		@ frame_needed = 0, uses_anonymous_args = 0
 325              		@ link register save eliminated.
 326              	.LVL20:
 865:application-library/usb-cdc-device.c ****   if (fops == NULL)
 327              		.loc 1 865 0
 328 0000 39B1     		cbz	r1, .L21
 866:application-library/usb-cdc-device.c ****   {
 867:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 868:application-library/usb-cdc-device.c ****   }
 869:application-library/usb-cdc-device.c **** 
 870:application-library/usb-cdc-device.c ****   pdev->pUserData[pdev->classId] = fops;
 329              		.loc 1 870 0
 330 0002 D0F8D432 		ldr	r3, [r0, #724]
 331 0006 B033     		adds	r3, r3, #176
 332 0008 00EB8300 		add	r0, r0, r3, lsl #2
 333              	.LVL21:
 334 000c 4160     		str	r1, [r0, #4]
 871:application-library/usb-cdc-device.c **** 
 872:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 335              		.loc 1 872 0
 336 000e 0020     		movs	r0, #0
 337 0010 7047     		bx	lr
 338              	.LVL22:
 339              	.L21:
 867:application-library/usb-cdc-device.c ****   }
 340              		.loc 1 867 0
 341 0012 0320     		movs	r0, #3
 342              	.LVL23:
 873:application-library/usb-cdc-device.c **** }
 343              		.loc 1 873 0
 344 0014 7047     		bx	lr
 345              		.cfi_endproc
 346              	.LFE149:
 348              		.section	.text.USBD_CDC_SetTxBuffer,"ax",%progbits
 349              		.align	1
 350              		.global	USBD_CDC_SetTxBuffer
 351              		.syntax unified
 352              		.thumb
 353              		.thumb_func
 354              		.fpu fpv4-sp-d16
 356              	USBD_CDC_SetTxBuffer:
 357              	.LFB150:
 874:application-library/usb-cdc-device.c **** 
 875:application-library/usb-cdc-device.c **** /**
 876:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetTxBuffer
 877:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 878:application-library/usb-cdc-device.c ****   * @param  pbuff: Tx Buffer
 879:application-library/usb-cdc-device.c ****   * @param  length: Tx Buffer length
 880:application-library/usb-cdc-device.c ****   * @retval status
 881:application-library/usb-cdc-device.c ****   */
 882:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetTxBuffer(USBD_HandleTypeDef *pdev,
ARM GAS  /tmp/ccgHoJ4C.s 			page 23


 883:application-library/usb-cdc-device.c ****                              uint8_t *pbuff, uint32_t length)
 884:application-library/usb-cdc-device.c **** {
 358              		.loc 1 884 0
 359              		.cfi_startproc
 360              		@ args = 0, pretend = 0, frame = 0
 361              		@ frame_needed = 0, uses_anonymous_args = 0
 362              		@ link register save eliminated.
 363              	.LVL24:
 885:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 364              		.loc 1 885 0
 365 0000 D0F8D432 		ldr	r3, [r0, #724]
 366 0004 B033     		adds	r3, r3, #176
 367 0006 50F82330 		ldr	r3, [r0, r3, lsl #2]
 368              	.LVL25:
 886:application-library/usb-cdc-device.c **** 
 887:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 369              		.loc 1 887 0
 370 000a 2BB1     		cbz	r3, .L24
 888:application-library/usb-cdc-device.c ****   {
 889:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 890:application-library/usb-cdc-device.c ****   }
 891:application-library/usb-cdc-device.c **** 
 892:application-library/usb-cdc-device.c ****   hcdc->TxBuffer = pbuff;
 371              		.loc 1 892 0
 372 000c C3F80812 		str	r1, [r3, #520]
 893:application-library/usb-cdc-device.c ****   hcdc->TxLength = length;
 373              		.loc 1 893 0
 374 0010 C3F81022 		str	r2, [r3, #528]
 894:application-library/usb-cdc-device.c **** 
 895:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 375              		.loc 1 895 0
 376 0014 0020     		movs	r0, #0
 377              	.LVL26:
 378 0016 7047     		bx	lr
 379              	.LVL27:
 380              	.L24:
 889:application-library/usb-cdc-device.c ****   }
 381              		.loc 1 889 0
 382 0018 0320     		movs	r0, #3
 383              	.LVL28:
 896:application-library/usb-cdc-device.c **** }
 384              		.loc 1 896 0
 385 001a 7047     		bx	lr
 386              		.cfi_endproc
 387              	.LFE150:
 389              		.section	.text.USBD_CDC_SetRxBuffer,"ax",%progbits
 390              		.align	1
 391              		.global	USBD_CDC_SetRxBuffer
 392              		.syntax unified
 393              		.thumb
 394              		.thumb_func
 395              		.fpu fpv4-sp-d16
 397              	USBD_CDC_SetRxBuffer:
 398              	.LFB151:
 897:application-library/usb-cdc-device.c **** 
 898:application-library/usb-cdc-device.c **** /**
 899:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetRxBuffer
ARM GAS  /tmp/ccgHoJ4C.s 			page 24


 900:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 901:application-library/usb-cdc-device.c ****   * @param  pbuff: Rx Buffer
 902:application-library/usb-cdc-device.c ****   * @retval status
 903:application-library/usb-cdc-device.c ****   */
 904:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetRxBuffer(USBD_HandleTypeDef *pdev, uint8_t *pbuff)
 905:application-library/usb-cdc-device.c **** {
 399              		.loc 1 905 0
 400              		.cfi_startproc
 401              		@ args = 0, pretend = 0, frame = 0
 402              		@ frame_needed = 0, uses_anonymous_args = 0
 403              		@ link register save eliminated.
 404              	.LVL29:
 906:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 405              		.loc 1 906 0
 406 0000 D0F8D432 		ldr	r3, [r0, #724]
 407 0004 B033     		adds	r3, r3, #176
 408 0006 50F82330 		ldr	r3, [r0, r3, lsl #2]
 409              	.LVL30:
 907:application-library/usb-cdc-device.c **** 
 908:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 410              		.loc 1 908 0
 411 000a 1BB1     		cbz	r3, .L27
 909:application-library/usb-cdc-device.c ****   {
 910:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 911:application-library/usb-cdc-device.c ****   }
 912:application-library/usb-cdc-device.c **** 
 913:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = pbuff;
 412              		.loc 1 913 0
 413 000c C3F80412 		str	r1, [r3, #516]
 914:application-library/usb-cdc-device.c **** 
 915:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 414              		.loc 1 915 0
 415 0010 0020     		movs	r0, #0
 416              	.LVL31:
 417 0012 7047     		bx	lr
 418              	.LVL32:
 419              	.L27:
 910:application-library/usb-cdc-device.c ****   }
 420              		.loc 1 910 0
 421 0014 0320     		movs	r0, #3
 422              	.LVL33:
 916:application-library/usb-cdc-device.c **** }
 423              		.loc 1 916 0
 424 0016 7047     		bx	lr
 425              		.cfi_endproc
 426              	.LFE151:
 428              		.section	.text.CDC_Init_FS,"ax",%progbits
 429              		.align	1
 430              		.global	CDC_Init_FS
 431              		.syntax unified
 432              		.thumb
 433              		.thumb_func
 434              		.fpu fpv4-sp-d16
 436              	CDC_Init_FS:
 437              	.LFB132:
 182:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 438              		.loc 1 182 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 25


 439              		.cfi_startproc
 440              		@ args = 0, pretend = 0, frame = 0
 441              		@ frame_needed = 0, uses_anonymous_args = 0
 442 0000 10B5     		push	{r4, lr}
 443              	.LCFI2:
 444              		.cfi_def_cfa_offset 8
 445              		.cfi_offset 4, -8
 446              		.cfi_offset 14, -4
 185:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 447              		.loc 1 185 0
 448 0002 064C     		ldr	r4, .L30
 449 0004 0022     		movs	r2, #0
 450 0006 0649     		ldr	r1, .L30+4
 451 0008 2046     		mov	r0, r4
 452 000a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 453              	.LVL34:
 186:application-library/usb-cdc-device.c ****   return (USBD_OK);
 454              		.loc 1 186 0
 455 000e 0549     		ldr	r1, .L30+8
 456 0010 2046     		mov	r0, r4
 457 0012 FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 458              	.LVL35:
 189:application-library/usb-cdc-device.c **** 
 459              		.loc 1 189 0
 460 0016 0020     		movs	r0, #0
 461 0018 10BD     		pop	{r4, pc}
 462              	.L31:
 463 001a 00BF     		.align	2
 464              	.L30:
 465 001c 00000000 		.word	hUsbDeviceFS
 466 0020 00000000 		.word	UserTxBufferFS
 467 0024 00000000 		.word	UserRxBufferFS
 468              		.cfi_endproc
 469              	.LFE132:
 471              		.section	.text.USBD_RegisterClass,"ax",%progbits
 472              		.align	1
 473              		.global	USBD_RegisterClass
 474              		.syntax unified
 475              		.thumb
 476              		.thumb_func
 477              		.fpu fpv4-sp-d16
 479              	USBD_RegisterClass:
 480              	.LFB156:
 917:application-library/usb-cdc-device.c **** 
 918:application-library/usb-cdc-device.c **** /**
 919:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_TransmitPacket
 920:application-library/usb-cdc-device.c ****   *         Transmit packet on IN endpoint
 921:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 922:application-library/usb-cdc-device.c ****   * @retval status
 923:application-library/usb-cdc-device.c ****   */
 924:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_TransmitPacket(USBD_HandleTypeDef *pdev)
 925:application-library/usb-cdc-device.c **** {
 926:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 927:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_BUSY;
 928:application-library/usb-cdc-device.c **** 
 929:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 930:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccgHoJ4C.s 			page 26


 931:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 932:application-library/usb-cdc-device.c ****   }
 933:application-library/usb-cdc-device.c **** 
 934:application-library/usb-cdc-device.c ****   if (hcdc->TxState == 0U)
 935:application-library/usb-cdc-device.c ****   {
 936:application-library/usb-cdc-device.c ****     /* Tx Transfer in progress */
 937:application-library/usb-cdc-device.c ****     hcdc->TxState = 1U;
 938:application-library/usb-cdc-device.c **** 
 939:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 940:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].total_length = hcdc->TxLength;
 941:application-library/usb-cdc-device.c **** 
 942:application-library/usb-cdc-device.c ****     /* Transmit next packet */
 943:application-library/usb-cdc-device.c ****     (void)USBD_LL_Transmit(pdev, CDC_IN_EP, hcdc->TxBuffer, hcdc->TxLength);
 944:application-library/usb-cdc-device.c **** 
 945:application-library/usb-cdc-device.c ****     ret = USBD_OK;
 946:application-library/usb-cdc-device.c ****   }
 947:application-library/usb-cdc-device.c **** 
 948:application-library/usb-cdc-device.c ****   return (uint8_t)ret;
 949:application-library/usb-cdc-device.c **** }
 950:application-library/usb-cdc-device.c **** 
 951:application-library/usb-cdc-device.c **** /**
 952:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_ReceivePacket
 953:application-library/usb-cdc-device.c ****   *         prepare OUT Endpoint for reception
 954:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 955:application-library/usb-cdc-device.c ****   * @retval status
 956:application-library/usb-cdc-device.c ****   */
 957:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_ReceivePacket(USBD_HandleTypeDef *pdev)
 958:application-library/usb-cdc-device.c **** {
 959:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 960:application-library/usb-cdc-device.c **** 
 961:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 962:application-library/usb-cdc-device.c ****   {
 963:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 964:application-library/usb-cdc-device.c ****   }
 965:application-library/usb-cdc-device.c **** 
 966:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 967:application-library/usb-cdc-device.c ****   {
 968:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 969:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 970:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 971:application-library/usb-cdc-device.c ****   }
 972:application-library/usb-cdc-device.c ****   else
 973:application-library/usb-cdc-device.c ****   {
 974:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 975:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 976:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 977:application-library/usb-cdc-device.c ****   }
 978:application-library/usb-cdc-device.c **** 
 979:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 980:application-library/usb-cdc-device.c **** }
 981:application-library/usb-cdc-device.c **** 
 982:application-library/usb-cdc-device.c **** /* usbd_cdc.c END ---- ---- ---- ---- */
 983:application-library/usb-cdc-device.c **** 
 984:application-library/usb-cdc-device.c **** /* usbd_core.c BEGIN ---- ---- ---- ---- */
 985:application-library/usb-cdc-device.c **** 
 986:application-library/usb-cdc-device.c **** /**
 987:application-library/usb-cdc-device.c ****   * @brief  Initializes the device stack and load the class driver
ARM GAS  /tmp/ccgHoJ4C.s 			page 27


 988:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 989:application-library/usb-cdc-device.c ****   * @param  pdesc: Descriptor structure address
 990:application-library/usb-cdc-device.c ****   * @param  id: Low level core index
 991:application-library/usb-cdc-device.c ****   * @retval None
 992:application-library/usb-cdc-device.c ****   */
 993:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Init(USBD_HandleTypeDef *pdev,
 994:application-library/usb-cdc-device.c ****                              USBD_DescriptorsTypeDef *pdesc, uint8_t id)
 995:application-library/usb-cdc-device.c **** {
 996:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 997:application-library/usb-cdc-device.c ****   /* Check whether the USB Host handle is valid */
 998:application-library/usb-cdc-device.c ****   if (pdev == NULL)
 999:application-library/usb-cdc-device.c ****   {
1000:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1001:application-library/usb-cdc-device.c ****   }
1002:application-library/usb-cdc-device.c ****   /* Unlink previous class*/
1003:application-library/usb-cdc-device.c ****   pdev->pClass[0] = NULL;
1004:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
1005:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
1006:application-library/usb-cdc-device.c **** 
1007:application-library/usb-cdc-device.c ****   /* Assign USBD Descriptors */
1008:application-library/usb-cdc-device.c ****   if (pdesc != NULL)
1009:application-library/usb-cdc-device.c ****   {
1010:application-library/usb-cdc-device.c ****     pdev->pDesc = pdesc;
1011:application-library/usb-cdc-device.c ****   }
1012:application-library/usb-cdc-device.c ****   /* Set Device initial State */
1013:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;  // DEFAULT - ADDRESSED - CONFIGURED - SUSPEND
1014:application-library/usb-cdc-device.c ****   pdev->id = id; // DEVICE_FS (0)
1015:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
1016:application-library/usb-cdc-device.c ****   ret = USBD_LL_Init(pdev); // configure the TX or the RX FIFO of the new defined endport
1017:application-library/usb-cdc-device.c **** 
1018:application-library/usb-cdc-device.c ****   return ret;
1019:application-library/usb-cdc-device.c **** }
1020:application-library/usb-cdc-device.c **** 
1021:application-library/usb-cdc-device.c **** /**
1022:application-library/usb-cdc-device.c ****   * @brief  USBD_DeInit
1023:application-library/usb-cdc-device.c ****   *         Re-Initialize the device library
1024:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1025:application-library/usb-cdc-device.c ****   * @retval status: status
1026:application-library/usb-cdc-device.c ****   */
1027:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_DeInit(USBD_HandleTypeDef *pdev)
1028:application-library/usb-cdc-device.c **** {
1029:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1030:application-library/usb-cdc-device.c **** 
1031:application-library/usb-cdc-device.c ****   /* Disconnect the USB Device */
1032:application-library/usb-cdc-device.c ****   (void)USBD_LL_Stop(pdev);
1033:application-library/usb-cdc-device.c **** 
1034:application-library/usb-cdc-device.c ****   /* Set Default State */
1035:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
1036:application-library/usb-cdc-device.c **** 
1037:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1038:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1039:application-library/usb-cdc-device.c ****   {
1040:application-library/usb-cdc-device.c ****     pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config);
1041:application-library/usb-cdc-device.c ****   }
1042:application-library/usb-cdc-device.c **** 
1043:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
1044:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 28


1045:application-library/usb-cdc-device.c ****   /* Free Device descriptors resources */
1046:application-library/usb-cdc-device.c ****   pdev->pDesc = NULL;
1047:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
1048:application-library/usb-cdc-device.c **** 
1049:application-library/usb-cdc-device.c ****   /* DeInitialize low level driver */
1050:application-library/usb-cdc-device.c ****   ret = USBD_LL_DeInit(pdev);
1051:application-library/usb-cdc-device.c **** 
1052:application-library/usb-cdc-device.c ****   return ret;
1053:application-library/usb-cdc-device.c **** }
1054:application-library/usb-cdc-device.c **** 
1055:application-library/usb-cdc-device.c **** /**
1056:application-library/usb-cdc-device.c ****   * @brief  USBD_RegisterClass
1057:application-library/usb-cdc-device.c ****   *         Link class driver to Device Core.
1058:application-library/usb-cdc-device.c ****   * @param  pDevice : Device Handle
1059:application-library/usb-cdc-device.c ****   * @param  pclass: Class handle
1060:application-library/usb-cdc-device.c ****   * @retval USBD Status
1061:application-library/usb-cdc-device.c ****   */
1062:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_RegisterClass(USBD_HandleTypeDef *pdev, USBD_ClassTypeDef *pclass)
1063:application-library/usb-cdc-device.c **** {
 481              		.loc 1 1063 0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 8
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485              	.LVL36:
 486 0000 10B5     		push	{r4, lr}
 487              	.LCFI3:
 488              		.cfi_def_cfa_offset 8
 489              		.cfi_offset 4, -8
 490              		.cfi_offset 14, -4
 491 0002 82B0     		sub	sp, sp, #8
 492              	.LCFI4:
 493              		.cfi_def_cfa_offset 16
1064:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 494              		.loc 1 1064 0
 495 0004 0023     		movs	r3, #0
 496 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
1065:application-library/usb-cdc-device.c **** 
1066:application-library/usb-cdc-device.c ****   if (pclass == NULL)
 497              		.loc 1 1066 0
 498 000a B1B1     		cbz	r1, .L35
 499 000c 0446     		mov	r4, r0
1067:application-library/usb-cdc-device.c ****   {
1068:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1069:application-library/usb-cdc-device.c ****   }
1070:application-library/usb-cdc-device.c ****   /* link the class to the USB Device handle */
1071:application-library/usb-cdc-device.c ****   pdev->pClass[0] = pclass;
 500              		.loc 1 1071 0
 501 000e C4F8B812 		str	r1, [r4, #696]
1072:application-library/usb-cdc-device.c **** 
1073:application-library/usb-cdc-device.c ****   /* Get Device Configuration Descriptor */
1074:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId]->GetFSConfigDescriptor != NULL)
 502              		.loc 1 1074 0
 503 0012 D0F8D432 		ldr	r3, [r0, #724]
 504 0016 AE33     		adds	r3, r3, #174
 505 0018 50F82330 		ldr	r3, [r0, r3, lsl #2]
 506 001c DB6A     		ldr	r3, [r3, #44]
 507 001e 23B1     		cbz	r3, .L34
ARM GAS  /tmp/ccgHoJ4C.s 			page 29


1075:application-library/usb-cdc-device.c ****   {
1076:application-library/usb-cdc-device.c ****     pdev->pConfDesc = (void *)pdev->pClass[pdev->classId]->GetFSConfigDescriptor(&len);
 508              		.loc 1 1076 0
 509 0020 0DF10600 		add	r0, sp, #6
 510              	.LVL37:
 511 0024 9847     		blx	r3
 512              	.LVL38:
 513 0026 C4F8D002 		str	r0, [r4, #720]
 514              	.L34:
1077:application-library/usb-cdc-device.c ****   }
1078:application-library/usb-cdc-device.c ****   /* Increment the NumClasses */
1079:application-library/usb-cdc-device.c ****   pdev->NumClasses ++;
 515              		.loc 1 1079 0
 516 002a D4F8D832 		ldr	r3, [r4, #728]
 517 002e 0133     		adds	r3, r3, #1
 518 0030 C4F8D832 		str	r3, [r4, #728]
1080:application-library/usb-cdc-device.c ****   return USBD_OK;
 519              		.loc 1 1080 0
 520 0034 0020     		movs	r0, #0
 521              	.LVL39:
 522              	.L33:
1081:application-library/usb-cdc-device.c **** }
 523              		.loc 1 1081 0
 524 0036 02B0     		add	sp, sp, #8
 525              	.LCFI5:
 526              		.cfi_remember_state
 527              		.cfi_def_cfa_offset 8
 528              		@ sp needed
 529 0038 10BD     		pop	{r4, pc}
 530              	.LVL40:
 531              	.L35:
 532              	.LCFI6:
 533              		.cfi_restore_state
1068:application-library/usb-cdc-device.c ****   }
 534              		.loc 1 1068 0
 535 003a 0320     		movs	r0, #3
 536              	.LVL41:
 537 003c FBE7     		b	.L33
 538              		.cfi_endproc
 539              	.LFE156:
 541              		.section	.text.USBD_Start,"ax",%progbits
 542              		.align	1
 543              		.global	USBD_Start
 544              		.syntax unified
 545              		.thumb
 546              		.thumb_func
 547              		.fpu fpv4-sp-d16
 549              	USBD_Start:
 550              	.LFB157:
1082:application-library/usb-cdc-device.c **** 
1083:application-library/usb-cdc-device.c **** 
1084:application-library/usb-cdc-device.c **** /**
1085:application-library/usb-cdc-device.c ****   * @brief  USBD_Start
1086:application-library/usb-cdc-device.c ****   *         Start the USB Device Core.
1087:application-library/usb-cdc-device.c ****   * @param  pdev: Device Handle
1088:application-library/usb-cdc-device.c ****   * @retval USBD Status
1089:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccgHoJ4C.s 			page 30


1090:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Start(USBD_HandleTypeDef *pdev)
1091:application-library/usb-cdc-device.c **** {
 551              		.loc 1 1091 0
 552              		.cfi_startproc
 553              		@ args = 0, pretend = 0, frame = 0
 554              		@ frame_needed = 0, uses_anonymous_args = 0
 555              	.LVL42:
 556 0000 08B5     		push	{r3, lr}
 557              	.LCFI7:
 558              		.cfi_def_cfa_offset 8
 559              		.cfi_offset 3, -8
 560              		.cfi_offset 14, -4
 561              	.LVL43:
1092:application-library/usb-cdc-device.c ****   /* Start the low level driver  */
1093:application-library/usb-cdc-device.c ****   // return USBD_LL_Start(pdev);
1094:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
1095:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
1096:application-library/usb-cdc-device.c **** 
1097:application-library/usb-cdc-device.c ****   /* Enable USB Transciver */
1098:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Start(pdev->pData);
 562              		.loc 1 1098 0
 563 0002 D0F8C802 		ldr	r0, [r0, #712]
 564              	.LVL44:
 565 0006 FFF7FEFF 		bl	HAL_PCD_Start
 566              	.LVL45:
1099:application-library/usb-cdc-device.c **** 
1100:application-library/usb-cdc-device.c ****   // usb_status =  USBD_Get_USB_Status(hal_status); /* defined in usbd_conf.c */
1101:application-library/usb-cdc-device.c ****   switch (hal_status)
 567              		.loc 1 1101 0
 568 000a 18B1     		cbz	r0, .L39
 569 000c 0228     		cmp	r0, #2
 570 000e 03D0     		beq	.L40
1102:application-library/usb-cdc-device.c ****   {
1103:application-library/usb-cdc-device.c ****     case HAL_OK :
1104:application-library/usb-cdc-device.c ****       usb_status = USBD_OK;
1105:application-library/usb-cdc-device.c ****     break;
1106:application-library/usb-cdc-device.c ****     case HAL_ERROR :
1107:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
 571              		.loc 1 1107 0
 572 0010 0320     		movs	r0, #3
 573              	.LVL46:
1108:application-library/usb-cdc-device.c ****     break;
1109:application-library/usb-cdc-device.c ****     case HAL_BUSY :
1110:application-library/usb-cdc-device.c ****       usb_status = USBD_BUSY;
1111:application-library/usb-cdc-device.c ****     break;
1112:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
1113:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1114:application-library/usb-cdc-device.c ****     break;
1115:application-library/usb-cdc-device.c ****     default :
1116:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1117:application-library/usb-cdc-device.c ****     break;
1118:application-library/usb-cdc-device.c ****   }
1119:application-library/usb-cdc-device.c **** 
1120:application-library/usb-cdc-device.c ****   return usb_status;
1121:application-library/usb-cdc-device.c **** }
 574              		.loc 1 1121 0
 575 0012 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccgHoJ4C.s 			page 31


 576              	.LVL47:
 577              	.L39:
1104:application-library/usb-cdc-device.c ****     break;
 578              		.loc 1 1104 0
 579 0014 0020     		movs	r0, #0
 580              	.LVL48:
 581 0016 08BD     		pop	{r3, pc}
 582              	.LVL49:
 583              	.L40:
1110:application-library/usb-cdc-device.c ****     break;
 584              		.loc 1 1110 0
 585 0018 0120     		movs	r0, #1
 586              	.LVL50:
1111:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
 587              		.loc 1 1111 0
 588 001a 08BD     		pop	{r3, pc}
 589              		.cfi_endproc
 590              	.LFE157:
 592              		.section	.text.USBD_RunTestMode,"ax",%progbits
 593              		.align	1
 594              		.global	USBD_RunTestMode
 595              		.syntax unified
 596              		.thumb
 597              		.thumb_func
 598              		.fpu fpv4-sp-d16
 600              	USBD_RunTestMode:
 601              	.LFB159:
1122:application-library/usb-cdc-device.c **** 
1123:application-library/usb-cdc-device.c **** 
1124:application-library/usb-cdc-device.c **** /**
1125:application-library/usb-cdc-device.c ****   * @brief  USBD_Stop
1126:application-library/usb-cdc-device.c ****   *         Stop the USB Device Core.
1127:application-library/usb-cdc-device.c ****   * @param  pdev: Device Handle
1128:application-library/usb-cdc-device.c ****   * @retval USBD Status
1129:application-library/usb-cdc-device.c ****   */
1130:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Stop(USBD_HandleTypeDef *pdev)
1131:application-library/usb-cdc-device.c **** {
1132:application-library/usb-cdc-device.c ****   /* Disconnect USB Device */
1133:application-library/usb-cdc-device.c ****   (void)USBD_LL_Stop(pdev);
1134:application-library/usb-cdc-device.c **** 
1135:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1136:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1137:application-library/usb-cdc-device.c ****   {
1138:application-library/usb-cdc-device.c ****     (void)pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config);
1139:application-library/usb-cdc-device.c ****   }
1140:application-library/usb-cdc-device.c **** 
1141:application-library/usb-cdc-device.c ****   return USBD_OK;
1142:application-library/usb-cdc-device.c **** }
1143:application-library/usb-cdc-device.c **** 
1144:application-library/usb-cdc-device.c **** /**
1145:application-library/usb-cdc-device.c ****   * @brief  USBD_RunTestMode
1146:application-library/usb-cdc-device.c ****   *         Launch test mode process
1147:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1148:application-library/usb-cdc-device.c ****   * @retval status
1149:application-library/usb-cdc-device.c ****   */
1150:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_RunTestMode(USBD_HandleTypeDef *pdev)
1151:application-library/usb-cdc-device.c **** {
ARM GAS  /tmp/ccgHoJ4C.s 			page 32


 602              		.loc 1 1151 0
 603              		.cfi_startproc
 604              		@ args = 0, pretend = 0, frame = 0
 605              		@ frame_needed = 0, uses_anonymous_args = 0
 606              		@ link register save eliminated.
 607              	.LVL51:
1152:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
1153:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1154:application-library/usb-cdc-device.c **** 
1155:application-library/usb-cdc-device.c ****   return USBD_OK;
1156:application-library/usb-cdc-device.c **** }
 608              		.loc 1 1156 0
 609 0000 0020     		movs	r0, #0
 610              	.LVL52:
 611 0002 7047     		bx	lr
 612              		.cfi_endproc
 613              	.LFE159:
 615              		.section	.text.USBD_SetClassConfig,"ax",%progbits
 616              		.align	1
 617              		.global	USBD_SetClassConfig
 618              		.syntax unified
 619              		.thumb
 620              		.thumb_func
 621              		.fpu fpv4-sp-d16
 623              	USBD_SetClassConfig:
 624              	.LFB160:
1157:application-library/usb-cdc-device.c **** 
1158:application-library/usb-cdc-device.c **** /**
1159:application-library/usb-cdc-device.c ****   * @brief  USBD_SetClassConfig
1160:application-library/usb-cdc-device.c ****   *        Configure device and start the interface
1161:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1162:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1163:application-library/usb-cdc-device.c ****   * @retval status
1164:application-library/usb-cdc-device.c ****   */
1165:application-library/usb-cdc-device.c **** 
1166:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_SetClassConfig(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
1167:application-library/usb-cdc-device.c **** {
 625              		.loc 1 1167 0
 626              		.cfi_startproc
 627              		@ args = 0, pretend = 0, frame = 0
 628              		@ frame_needed = 0, uses_anonymous_args = 0
 629              	.LVL53:
 630 0000 08B5     		push	{r3, lr}
 631              	.LCFI8:
 632              		.cfi_def_cfa_offset 8
 633              		.cfi_offset 3, -8
 634              		.cfi_offset 14, -4
 635              	.LVL54:
1168:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1169:application-library/usb-cdc-device.c **** 
1170:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
 636              		.loc 1 1170 0
 637 0002 D0F8B832 		ldr	r3, [r0, #696]
 638 0006 13B1     		cbz	r3, .L47
1171:application-library/usb-cdc-device.c ****   {
1172:application-library/usb-cdc-device.c ****     /* Set configuration and Start the Class */
1173:application-library/usb-cdc-device.c ****     ret = (USBD_StatusTypeDef)pdev->pClass[0]->Init(pdev, cfgidx);
ARM GAS  /tmp/ccgHoJ4C.s 			page 33


 639              		.loc 1 1173 0
 640 0008 1B68     		ldr	r3, [r3]
 641 000a 9847     		blx	r3
 642              	.LVL55:
 643 000c 08BD     		pop	{r3, pc}
 644              	.LVL56:
 645              	.L47:
1168:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 646              		.loc 1 1168 0
 647 000e 0020     		movs	r0, #0
 648              	.LVL57:
1174:application-library/usb-cdc-device.c ****   }
1175:application-library/usb-cdc-device.c **** 
1176:application-library/usb-cdc-device.c ****   return ret;
1177:application-library/usb-cdc-device.c **** }
 649              		.loc 1 1177 0
 650 0010 08BD     		pop	{r3, pc}
 651              		.cfi_endproc
 652              	.LFE160:
 654              		.section	.text.USBD_ClrClassConfig,"ax",%progbits
 655              		.align	1
 656              		.global	USBD_ClrClassConfig
 657              		.syntax unified
 658              		.thumb
 659              		.thumb_func
 660              		.fpu fpv4-sp-d16
 662              	USBD_ClrClassConfig:
 663              	.LFB161:
1178:application-library/usb-cdc-device.c **** 
1179:application-library/usb-cdc-device.c **** /**
1180:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrClassConfig
1181:application-library/usb-cdc-device.c ****   *         Clear current configuration
1182:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1183:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1184:application-library/usb-cdc-device.c ****   * @retval status: USBD_StatusTypeDef
1185:application-library/usb-cdc-device.c ****   */
1186:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_ClrClassConfig(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
1187:application-library/usb-cdc-device.c **** {
 664              		.loc 1 1187 0
 665              		.cfi_startproc
 666              		@ args = 0, pretend = 0, frame = 0
 667              		@ frame_needed = 0, uses_anonymous_args = 0
 668              	.LVL58:
 669 0000 08B5     		push	{r3, lr}
 670              	.LCFI9:
 671              		.cfi_def_cfa_offset 8
 672              		.cfi_offset 3, -8
 673              		.cfi_offset 14, -4
 674              	.LVL59:
1188:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1189:application-library/usb-cdc-device.c **** 
1190:application-library/usb-cdc-device.c ****   /* Clear configuration  and De-initialize the Class process */
1191:application-library/usb-cdc-device.c ****   if (pdev->pClass[0]->DeInit(pdev, cfgidx) != 0U)
 675              		.loc 1 1191 0
 676 0002 D0F8B832 		ldr	r3, [r0, #696]
 677 0006 5B68     		ldr	r3, [r3, #4]
 678 0008 9847     		blx	r3
ARM GAS  /tmp/ccgHoJ4C.s 			page 34


 679              	.LVL60:
 680 000a 00B1     		cbz	r0, .L50
1192:application-library/usb-cdc-device.c ****   {
1193:application-library/usb-cdc-device.c ****     ret = USBD_FAIL;
 681              		.loc 1 1193 0
 682 000c 0320     		movs	r0, #3
 683              	.L50:
 684              	.LVL61:
1194:application-library/usb-cdc-device.c ****   }
1195:application-library/usb-cdc-device.c **** 
1196:application-library/usb-cdc-device.c ****   return ret;
1197:application-library/usb-cdc-device.c **** }
 685              		.loc 1 1197 0
 686 000e 08BD     		pop	{r3, pc}
 687              		.cfi_endproc
 688              	.LFE161:
 690              		.section	.text.USBD_LL_SetSpeed,"ax",%progbits
 691              		.align	1
 692              		.global	USBD_LL_SetSpeed
 693              		.syntax unified
 694              		.thumb
 695              		.thumb_func
 696              		.fpu fpv4-sp-d16
 698              	USBD_LL_SetSpeed:
 699              	.LFB166:
1198:application-library/usb-cdc-device.c **** 
1199:application-library/usb-cdc-device.c **** 
1200:application-library/usb-cdc-device.c **** /**
1201:application-library/usb-cdc-device.c ****   * @brief  Handle the setup stage
1202:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1203:application-library/usb-cdc-device.c ****   * @retval status
1204:application-library/usb-cdc-device.c ****   */
1205:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SetupStage(USBD_HandleTypeDef *pdev, uint8_t *psetup)
1206:application-library/usb-cdc-device.c **** {
1207:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1208:application-library/usb-cdc-device.c **** 
1209:application-library/usb-cdc-device.c ****   USBD_ParseSetupRequest(&pdev->request, psetup);
1210:application-library/usb-cdc-device.c **** 
1211:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_SETUP;
1212:application-library/usb-cdc-device.c **** 
1213:application-library/usb-cdc-device.c ****   pdev->ep0_data_len = pdev->request.wLength;
1214:application-library/usb-cdc-device.c **** 
1215:application-library/usb-cdc-device.c ****   switch (pdev->request.bmRequest & 0x1FU)
1216:application-library/usb-cdc-device.c ****   {
1217:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_DEVICE:
1218:application-library/usb-cdc-device.c ****       ret = USBD_StdDevReq(pdev, &pdev->request);
1219:application-library/usb-cdc-device.c ****       break;
1220:application-library/usb-cdc-device.c **** 
1221:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_INTERFACE:
1222:application-library/usb-cdc-device.c ****       ret = USBD_StdItfReq(pdev, &pdev->request);
1223:application-library/usb-cdc-device.c ****       break;
1224:application-library/usb-cdc-device.c **** 
1225:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_ENDPOINT:
1226:application-library/usb-cdc-device.c ****       ret = USBD_StdEPReq(pdev, &pdev->request);
1227:application-library/usb-cdc-device.c ****       break;
1228:application-library/usb-cdc-device.c **** 
1229:application-library/usb-cdc-device.c ****     default:
ARM GAS  /tmp/ccgHoJ4C.s 			page 35


1230:application-library/usb-cdc-device.c ****       ret = USBD_LL_StallEP(pdev, (pdev->request.bmRequest & 0x80U));
1231:application-library/usb-cdc-device.c ****       break;
1232:application-library/usb-cdc-device.c ****   }
1233:application-library/usb-cdc-device.c **** 
1234:application-library/usb-cdc-device.c ****   return ret;
1235:application-library/usb-cdc-device.c **** }
1236:application-library/usb-cdc-device.c **** 
1237:application-library/usb-cdc-device.c **** /**
1238:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataOutStage
1239:application-library/usb-cdc-device.c ****   *         Handle data OUT stage
1240:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1241:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1242:application-library/usb-cdc-device.c ****   * @param  pdata: data pointer
1243:application-library/usb-cdc-device.c ****   * @retval status
1244:application-library/usb-cdc-device.c ****   */
1245:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DataOutStage(USBD_HandleTypeDef *pdev,
1246:application-library/usb-cdc-device.c ****                                         uint8_t epnum, uint8_t *pdata)
1247:application-library/usb-cdc-device.c **** {
1248:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1249:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1250:application-library/usb-cdc-device.c ****   uint8_t idx;
1251:application-library/usb-cdc-device.c **** 
1252:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1253:application-library/usb-cdc-device.c ****   {
1254:application-library/usb-cdc-device.c ****     pep = &pdev->ep_out[0];
1255:application-library/usb-cdc-device.c **** 
1256:application-library/usb-cdc-device.c ****     if (pdev->ep0_state == USBD_EP0_DATA_OUT)
1257:application-library/usb-cdc-device.c ****     {
1258:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1259:application-library/usb-cdc-device.c ****       {
1260:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
1261:application-library/usb-cdc-device.c **** 
1262:application-library/usb-cdc-device.c ****         (void)USBD_CtlContinueRx(pdev, pdata, MIN(pep->rem_length, pep->maxpacket));
1263:application-library/usb-cdc-device.c ****       }
1264:application-library/usb-cdc-device.c ****       else
1265:application-library/usb-cdc-device.c ****       {
1266:application-library/usb-cdc-device.c ****         /* Find the class ID relative to the current request */
1267:application-library/usb-cdc-device.c ****         switch (pdev->request.bmRequest & 0x1FU)
1268:application-library/usb-cdc-device.c ****         {
1269:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_DEVICE:
1270:application-library/usb-cdc-device.c ****             /* Device requests must be managed by the first instantiated class
1271:application-library/usb-cdc-device.c ****                (or duplicated by all classes for simplicity) */
1272:application-library/usb-cdc-device.c ****             idx = 0U;
1273:application-library/usb-cdc-device.c ****             break;
1274:application-library/usb-cdc-device.c **** 
1275:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_INTERFACE:
1276:application-library/usb-cdc-device.c ****             idx = 0x00U;
1277:application-library/usb-cdc-device.c ****             break;
1278:application-library/usb-cdc-device.c **** 
1279:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_ENDPOINT:
1280:application-library/usb-cdc-device.c ****             idx = USBD_CoreFindEP(pdev, LOBYTE(pdev->request.wIndex));
1281:application-library/usb-cdc-device.c ****             break;
1282:application-library/usb-cdc-device.c **** 
1283:application-library/usb-cdc-device.c ****           default:
1284:application-library/usb-cdc-device.c ****             /* Back to the first class in case of doubt */
1285:application-library/usb-cdc-device.c ****             idx = 0U;
1286:application-library/usb-cdc-device.c ****             break;
ARM GAS  /tmp/ccgHoJ4C.s 			page 36


1287:application-library/usb-cdc-device.c ****         }
1288:application-library/usb-cdc-device.c **** 
1289:application-library/usb-cdc-device.c ****         if (idx < USBD_MAX_SUPPORTED_CLASS)
1290:application-library/usb-cdc-device.c ****         {
1291:application-library/usb-cdc-device.c ****           /* Setup the class ID and route the request to the relative class function */
1292:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
1293:application-library/usb-cdc-device.c ****           {
1294:application-library/usb-cdc-device.c ****             if (pdev->pClass[idx]->EP0_RxReady != NULL)
1295:application-library/usb-cdc-device.c ****             {
1296:application-library/usb-cdc-device.c ****               pdev->classId = idx;
1297:application-library/usb-cdc-device.c ****               pdev->pClass[idx]->EP0_RxReady(pdev);
1298:application-library/usb-cdc-device.c ****             }
1299:application-library/usb-cdc-device.c ****           }
1300:application-library/usb-cdc-device.c ****         }
1301:application-library/usb-cdc-device.c **** 
1302:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
1303:application-library/usb-cdc-device.c ****       }
1304:application-library/usb-cdc-device.c ****     }
1305:application-library/usb-cdc-device.c ****     else
1306:application-library/usb-cdc-device.c ****     {
1307:application-library/usb-cdc-device.c ****     }
1308:application-library/usb-cdc-device.c ****   }
1309:application-library/usb-cdc-device.c ****   else
1310:application-library/usb-cdc-device.c ****   {
1311:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1312:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(pdev, (epnum & 0x7FU));
1313:application-library/usb-cdc-device.c **** 
1314:application-library/usb-cdc-device.c ****     if (((uint16_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1315:application-library/usb-cdc-device.c ****     {
1316:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1317:application-library/usb-cdc-device.c ****       if (pdev->dev_state == USBD_STATE_CONFIGURED)
1318:application-library/usb-cdc-device.c ****       {
1319:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->DataOut != NULL)
1320:application-library/usb-cdc-device.c ****         {
1321:application-library/usb-cdc-device.c ****           pdev->classId = idx;
1322:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataOut(pdev, epnum);
1323:application-library/usb-cdc-device.c ****         }
1324:application-library/usb-cdc-device.c ****       }
1325:application-library/usb-cdc-device.c ****       if (ret != USBD_OK)
1326:application-library/usb-cdc-device.c ****       {
1327:application-library/usb-cdc-device.c ****         return ret;
1328:application-library/usb-cdc-device.c ****       }
1329:application-library/usb-cdc-device.c ****     }
1330:application-library/usb-cdc-device.c ****   }
1331:application-library/usb-cdc-device.c **** 
1332:application-library/usb-cdc-device.c ****   return USBD_OK;
1333:application-library/usb-cdc-device.c **** }
1334:application-library/usb-cdc-device.c **** 
1335:application-library/usb-cdc-device.c **** /**
1336:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataInStage
1337:application-library/usb-cdc-device.c ****   *         Handle data in stage
1338:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1339:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1340:application-library/usb-cdc-device.c ****   * @retval status
1341:application-library/usb-cdc-device.c ****   */
1342:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DataInStage(USBD_HandleTypeDef *pdev,
1343:application-library/usb-cdc-device.c ****                                        uint8_t epnum, uint8_t *pdata)
ARM GAS  /tmp/ccgHoJ4C.s 			page 37


1344:application-library/usb-cdc-device.c **** {
1345:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1346:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1347:application-library/usb-cdc-device.c ****   uint8_t idx;
1348:application-library/usb-cdc-device.c **** 
1349:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1350:application-library/usb-cdc-device.c ****   {
1351:application-library/usb-cdc-device.c ****     pep = &pdev->ep_in[0];
1352:application-library/usb-cdc-device.c **** 
1353:application-library/usb-cdc-device.c ****     if (pdev->ep0_state == USBD_EP0_DATA_IN)
1354:application-library/usb-cdc-device.c ****     {
1355:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1356:application-library/usb-cdc-device.c ****       {
1357:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
1358:application-library/usb-cdc-device.c **** 
1359:application-library/usb-cdc-device.c ****         (void)USBD_CtlContinueSendData(pdev, pdata, pep->rem_length);
1360:application-library/usb-cdc-device.c **** 
1361:application-library/usb-cdc-device.c ****         /* Prepare endpoint for premature end of transfer */
1362:application-library/usb-cdc-device.c ****         (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
1363:application-library/usb-cdc-device.c ****       }
1364:application-library/usb-cdc-device.c ****       else
1365:application-library/usb-cdc-device.c ****       {
1366:application-library/usb-cdc-device.c ****         /* last packet is MPS multiple, so send ZLP packet */
1367:application-library/usb-cdc-device.c ****         if ((pep->maxpacket == pep->rem_length) &&
1368:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
1369:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
1370:application-library/usb-cdc-device.c ****         {
1371:application-library/usb-cdc-device.c ****           (void)USBD_CtlContinueSendData(pdev, NULL, 0U);
1372:application-library/usb-cdc-device.c ****           pdev->ep0_data_len = 0U;
1373:application-library/usb-cdc-device.c **** 
1374:application-library/usb-cdc-device.c ****           /* Prepare endpoint for premature end of transfer */
1375:application-library/usb-cdc-device.c ****           (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
1376:application-library/usb-cdc-device.c ****         }
1377:application-library/usb-cdc-device.c ****         else
1378:application-library/usb-cdc-device.c ****         {
1379:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
1380:application-library/usb-cdc-device.c ****           {
1381:application-library/usb-cdc-device.c ****             if (pdev->pClass[0]->EP0_TxSent != NULL)
1382:application-library/usb-cdc-device.c ****             {
1383:application-library/usb-cdc-device.c ****               pdev->classId = 0U;
1384:application-library/usb-cdc-device.c ****               pdev->pClass[0]->EP0_TxSent(pdev);
1385:application-library/usb-cdc-device.c ****             }
1386:application-library/usb-cdc-device.c ****           }
1387:application-library/usb-cdc-device.c ****           (void)USBD_LL_StallEP(pdev, 0x80U);
1388:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(pdev);
1389:application-library/usb-cdc-device.c ****         }
1390:application-library/usb-cdc-device.c ****       }
1391:application-library/usb-cdc-device.c ****     }
1392:application-library/usb-cdc-device.c **** 
1393:application-library/usb-cdc-device.c ****     if (pdev->dev_test_mode != 0U)
1394:application-library/usb-cdc-device.c ****     {
1395:application-library/usb-cdc-device.c ****       (void)USBD_RunTestMode(pdev);
1396:application-library/usb-cdc-device.c ****       pdev->dev_test_mode = 0U;
1397:application-library/usb-cdc-device.c ****     }
1398:application-library/usb-cdc-device.c ****   }
1399:application-library/usb-cdc-device.c ****   else
1400:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccgHoJ4C.s 			page 38


1401:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1402:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(pdev, ((uint8_t)epnum | 0x80U));
1403:application-library/usb-cdc-device.c **** 
1404:application-library/usb-cdc-device.c ****     if (((uint16_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1405:application-library/usb-cdc-device.c ****     {
1406:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1407:application-library/usb-cdc-device.c ****       if (pdev->dev_state == USBD_STATE_CONFIGURED)
1408:application-library/usb-cdc-device.c ****       {
1409:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->DataIn != NULL)
1410:application-library/usb-cdc-device.c ****         {
1411:application-library/usb-cdc-device.c ****           pdev->classId = idx;
1412:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataIn(pdev, epnum);
1413:application-library/usb-cdc-device.c **** 
1414:application-library/usb-cdc-device.c ****           if (ret != USBD_OK)
1415:application-library/usb-cdc-device.c ****           {
1416:application-library/usb-cdc-device.c ****             return ret;
1417:application-library/usb-cdc-device.c ****           }
1418:application-library/usb-cdc-device.c ****         }
1419:application-library/usb-cdc-device.c ****       }
1420:application-library/usb-cdc-device.c ****     }
1421:application-library/usb-cdc-device.c ****   }
1422:application-library/usb-cdc-device.c **** 
1423:application-library/usb-cdc-device.c ****   return USBD_OK;
1424:application-library/usb-cdc-device.c **** }
1425:application-library/usb-cdc-device.c **** 
1426:application-library/usb-cdc-device.c **** /**
1427:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Reset
1428:application-library/usb-cdc-device.c ****   *         Handle Reset event
1429:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1430:application-library/usb-cdc-device.c ****   * @retval status
1431:application-library/usb-cdc-device.c ****   */
1432:application-library/usb-cdc-device.c **** 
1433:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Reset(USBD_HandleTypeDef *pdev)
1434:application-library/usb-cdc-device.c **** {
1435:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1436:application-library/usb-cdc-device.c **** 
1437:application-library/usb-cdc-device.c ****   /* Upon Reset call user call back */
1438:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
1439:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_IDLE;
1440:application-library/usb-cdc-device.c ****   pdev->dev_config = 0U;
1441:application-library/usb-cdc-device.c ****   pdev->dev_remote_wakeup = 0U;
1442:application-library/usb-cdc-device.c ****   pdev->dev_test_mode = 0U;
1443:application-library/usb-cdc-device.c **** 
1444:application-library/usb-cdc-device.c **** 
1445:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1446:application-library/usb-cdc-device.c ****   {
1447:application-library/usb-cdc-device.c ****     if (pdev->pClass[0]->DeInit != NULL)
1448:application-library/usb-cdc-device.c ****     {
1449:application-library/usb-cdc-device.c ****       if (pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config) != USBD_OK)
1450:application-library/usb-cdc-device.c ****       {
1451:application-library/usb-cdc-device.c ****         ret = USBD_FAIL;
1452:application-library/usb-cdc-device.c ****       }
1453:application-library/usb-cdc-device.c ****     }
1454:application-library/usb-cdc-device.c ****   }
1455:application-library/usb-cdc-device.c **** 
1456:application-library/usb-cdc-device.c ****   /* Open EP0 OUT */
1457:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, 0x00U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
ARM GAS  /tmp/ccgHoJ4C.s 			page 39


1458:application-library/usb-cdc-device.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
1459:application-library/usb-cdc-device.c **** 
1460:application-library/usb-cdc-device.c ****   pdev->ep_out[0].maxpacket = USB_MAX_EP0_SIZE;
1461:application-library/usb-cdc-device.c **** 
1462:application-library/usb-cdc-device.c ****   /* Open EP0 IN */
1463:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, 0x80U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
1464:application-library/usb-cdc-device.c ****   pdev->ep_in[0x80U & 0xFU].is_used = 1U;
1465:application-library/usb-cdc-device.c **** 
1466:application-library/usb-cdc-device.c ****   pdev->ep_in[0].maxpacket = USB_MAX_EP0_SIZE;
1467:application-library/usb-cdc-device.c **** 
1468:application-library/usb-cdc-device.c ****   return ret;
1469:application-library/usb-cdc-device.c **** }
1470:application-library/usb-cdc-device.c **** 
1471:application-library/usb-cdc-device.c **** /**
1472:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SetSpeed
1473:application-library/usb-cdc-device.c ****   *         Handle Reset event
1474:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1475:application-library/usb-cdc-device.c ****   * @retval None.
1476:application-library/usb-cdc-device.c ****   */
1477:application-library/usb-cdc-device.c **** void USBD_LL_SetSpeed(USBD_HandleTypeDef *pdev,
1478:application-library/usb-cdc-device.c ****                                     USBD_SpeedTypeDef speed)
1479:application-library/usb-cdc-device.c **** {
 700              		.loc 1 1479 0
 701              		.cfi_startproc
 702              		@ args = 0, pretend = 0, frame = 0
 703              		@ frame_needed = 0, uses_anonymous_args = 0
 704              		@ link register save eliminated.
 705              	.LVL62:
1480:application-library/usb-cdc-device.c ****   pdev->dev_speed = speed;
 706              		.loc 1 1480 0
 707 0000 0174     		strb	r1, [r0, #16]
 708 0002 7047     		bx	lr
 709              		.cfi_endproc
 710              	.LFE166:
 712              		.section	.text.USBD_LL_Suspend,"ax",%progbits
 713              		.align	1
 714              		.global	USBD_LL_Suspend
 715              		.syntax unified
 716              		.thumb
 717              		.thumb_func
 718              		.fpu fpv4-sp-d16
 720              	USBD_LL_Suspend:
 721              	.LFB167:
1481:application-library/usb-cdc-device.c **** }
1482:application-library/usb-cdc-device.c **** 
1483:application-library/usb-cdc-device.c **** /**
1484:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Suspend
1485:application-library/usb-cdc-device.c ****   *         Handle Suspend event
1486:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1487:application-library/usb-cdc-device.c ****   * @retval status
1488:application-library/usb-cdc-device.c ****   */
1489:application-library/usb-cdc-device.c **** 
1490:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Suspend(USBD_HandleTypeDef *pdev)
1491:application-library/usb-cdc-device.c **** {
 722              		.loc 1 1491 0
 723              		.cfi_startproc
 724              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 40


 725              		@ frame_needed = 0, uses_anonymous_args = 0
 726              		@ link register save eliminated.
 727              	.LVL63:
1492:application-library/usb-cdc-device.c ****   pdev->dev_old_state = pdev->dev_state;
 728              		.loc 1 1492 0
 729 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 730 0004 DBB2     		uxtb	r3, r3
 731 0006 80F89D32 		strb	r3, [r0, #669]
1493:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_SUSPENDED;
 732              		.loc 1 1493 0
 733 000a 0423     		movs	r3, #4
 734 000c 80F89C32 		strb	r3, [r0, #668]
1494:application-library/usb-cdc-device.c ****   return USBD_OK;
1495:application-library/usb-cdc-device.c **** }
 735              		.loc 1 1495 0
 736 0010 0020     		movs	r0, #0
 737              	.LVL64:
 738 0012 7047     		bx	lr
 739              		.cfi_endproc
 740              	.LFE167:
 742              		.section	.text.USBD_LL_Resume,"ax",%progbits
 743              		.align	1
 744              		.global	USBD_LL_Resume
 745              		.syntax unified
 746              		.thumb
 747              		.thumb_func
 748              		.fpu fpv4-sp-d16
 750              	USBD_LL_Resume:
 751              	.LFB168:
1496:application-library/usb-cdc-device.c **** 
1497:application-library/usb-cdc-device.c **** /**
1498:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Resume
1499:application-library/usb-cdc-device.c ****   *         Handle Resume event
1500:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1501:application-library/usb-cdc-device.c ****   * @retval status
1502:application-library/usb-cdc-device.c ****   */
1503:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Resume(USBD_HandleTypeDef *pdev)
1504:application-library/usb-cdc-device.c **** {
 752              		.loc 1 1504 0
 753              		.cfi_startproc
 754              		@ args = 0, pretend = 0, frame = 0
 755              		@ frame_needed = 0, uses_anonymous_args = 0
 756              		@ link register save eliminated.
 757              	.LVL65:
1505:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_SUSPENDED)
 758              		.loc 1 1505 0
 759 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 760 0004 DBB2     		uxtb	r3, r3
 761 0006 042B     		cmp	r3, #4
 762 0008 01D0     		beq	.L57
 763              	.L56:
1506:application-library/usb-cdc-device.c ****   {
1507:application-library/usb-cdc-device.c ****     pdev->dev_state = pdev->dev_old_state;
1508:application-library/usb-cdc-device.c ****   }
1509:application-library/usb-cdc-device.c **** 
1510:application-library/usb-cdc-device.c ****   return USBD_OK;
1511:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccgHoJ4C.s 			page 41


 764              		.loc 1 1511 0
 765 000a 0020     		movs	r0, #0
 766              	.LVL66:
 767 000c 7047     		bx	lr
 768              	.LVL67:
 769              	.L57:
1507:application-library/usb-cdc-device.c ****   }
 770              		.loc 1 1507 0
 771 000e 90F89D32 		ldrb	r3, [r0, #669]	@ zero_extendqisi2
 772 0012 DBB2     		uxtb	r3, r3
 773 0014 80F89C32 		strb	r3, [r0, #668]
 774 0018 F7E7     		b	.L56
 775              		.cfi_endproc
 776              	.LFE168:
 778              		.section	.text.USBD_LL_SOF,"ax",%progbits
 779              		.align	1
 780              		.global	USBD_LL_SOF
 781              		.syntax unified
 782              		.thumb
 783              		.thumb_func
 784              		.fpu fpv4-sp-d16
 786              	USBD_LL_SOF:
 787              	.LFB169:
1512:application-library/usb-cdc-device.c **** 
1513:application-library/usb-cdc-device.c **** /**
1514:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SOF
1515:application-library/usb-cdc-device.c ****   *         Handle SOF event
1516:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1517:application-library/usb-cdc-device.c ****   * @retval status
1518:application-library/usb-cdc-device.c ****   */
1519:application-library/usb-cdc-device.c **** 
1520:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SOF(USBD_HandleTypeDef *pdev)
1521:application-library/usb-cdc-device.c **** {
 788              		.loc 1 1521 0
 789              		.cfi_startproc
 790              		@ args = 0, pretend = 0, frame = 0
 791              		@ frame_needed = 0, uses_anonymous_args = 0
 792              	.LVL68:
 793 0000 08B5     		push	{r3, lr}
 794              	.LCFI10:
 795              		.cfi_def_cfa_offset 8
 796              		.cfi_offset 3, -8
 797              		.cfi_offset 14, -4
1522:application-library/usb-cdc-device.c ****   /* The SOF event can be distributed for all classes that support it */
1523:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 798              		.loc 1 1523 0
 799 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 800 0006 DBB2     		uxtb	r3, r3
 801 0008 032B     		cmp	r3, #3
 802 000a 01D0     		beq	.L61
 803              	.LVL69:
 804              	.L59:
1524:application-library/usb-cdc-device.c ****   {
1525:application-library/usb-cdc-device.c ****     if (pdev->pClass[0] != NULL)
1526:application-library/usb-cdc-device.c ****     {
1527:application-library/usb-cdc-device.c ****       if (pdev->pClass[0]->SOF != NULL)
1528:application-library/usb-cdc-device.c ****       {
ARM GAS  /tmp/ccgHoJ4C.s 			page 42


1529:application-library/usb-cdc-device.c ****         (void)pdev->pClass[0]->SOF(pdev);
1530:application-library/usb-cdc-device.c ****       }
1531:application-library/usb-cdc-device.c ****     }
1532:application-library/usb-cdc-device.c ****   }
1533:application-library/usb-cdc-device.c **** 
1534:application-library/usb-cdc-device.c ****   return USBD_OK;
1535:application-library/usb-cdc-device.c **** }
 805              		.loc 1 1535 0
 806 000c 0020     		movs	r0, #0
 807 000e 08BD     		pop	{r3, pc}
 808              	.LVL70:
 809              	.L61:
1525:application-library/usb-cdc-device.c ****     {
 810              		.loc 1 1525 0
 811 0010 D0F8B832 		ldr	r3, [r0, #696]
 812 0014 002B     		cmp	r3, #0
 813 0016 F9D0     		beq	.L59
1527:application-library/usb-cdc-device.c ****       {
 814              		.loc 1 1527 0
 815 0018 DB69     		ldr	r3, [r3, #28]
 816 001a 002B     		cmp	r3, #0
 817 001c F6D0     		beq	.L59
1529:application-library/usb-cdc-device.c ****       }
 818              		.loc 1 1529 0
 819 001e 9847     		blx	r3
 820              	.LVL71:
 821 0020 F4E7     		b	.L59
 822              		.cfi_endproc
 823              	.LFE169:
 825              		.section	.text.USBD_LL_IsoINIncomplete,"ax",%progbits
 826              		.align	1
 827              		.global	USBD_LL_IsoINIncomplete
 828              		.syntax unified
 829              		.thumb
 830              		.thumb_func
 831              		.fpu fpv4-sp-d16
 833              	USBD_LL_IsoINIncomplete:
 834              	.LFB170:
1536:application-library/usb-cdc-device.c **** 
1537:application-library/usb-cdc-device.c **** /**
1538:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_IsoINIncomplete
1539:application-library/usb-cdc-device.c ****   *         Handle iso in incomplete event
1540:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1541:application-library/usb-cdc-device.c ****   * @retval status
1542:application-library/usb-cdc-device.c ****   */
1543:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_IsoINIncomplete(USBD_HandleTypeDef *pdev,
1544:application-library/usb-cdc-device.c ****                                            uint8_t epnum)
1545:application-library/usb-cdc-device.c **** {
 835              		.loc 1 1545 0
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 0
 838              		@ frame_needed = 0, uses_anonymous_args = 0
 839              	.LVL72:
 840 0000 08B5     		push	{r3, lr}
 841              	.LCFI11:
 842              		.cfi_def_cfa_offset 8
 843              		.cfi_offset 3, -8
ARM GAS  /tmp/ccgHoJ4C.s 			page 43


 844              		.cfi_offset 14, -4
1546:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
 845              		.loc 1 1546 0
 846 0002 D0F8D432 		ldr	r3, [r0, #724]
 847 0006 AE33     		adds	r3, r3, #174
 848 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 849 000c 5AB1     		cbz	r2, .L64
1547:application-library/usb-cdc-device.c ****   {
1548:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1549:application-library/usb-cdc-device.c ****   }
1550:application-library/usb-cdc-device.c **** 
1551:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 850              		.loc 1 1551 0
 851 000e 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 852 0012 DBB2     		uxtb	r3, r3
 853 0014 032B     		cmp	r3, #3
 854 0016 01D0     		beq	.L68
1552:application-library/usb-cdc-device.c ****   {
1553:application-library/usb-cdc-device.c ****     if (pdev->pClass[pdev->classId]->IsoINIncomplete != NULL)
1554:application-library/usb-cdc-device.c ****     {
1555:application-library/usb-cdc-device.c ****       (void)pdev->pClass[pdev->classId]->IsoINIncomplete(pdev, epnum);
1556:application-library/usb-cdc-device.c ****     }
1557:application-library/usb-cdc-device.c ****   }
1558:application-library/usb-cdc-device.c **** 
1559:application-library/usb-cdc-device.c ****   return USBD_OK;
 855              		.loc 1 1559 0
 856 0018 0020     		movs	r0, #0
 857              	.LVL73:
 858 001a 08BD     		pop	{r3, pc}
 859              	.LVL74:
 860              	.L68:
1553:application-library/usb-cdc-device.c ****     {
 861              		.loc 1 1553 0
 862 001c 136A     		ldr	r3, [r2, #32]
 863 001e 23B1     		cbz	r3, .L66
1555:application-library/usb-cdc-device.c ****     }
 864              		.loc 1 1555 0
 865 0020 9847     		blx	r3
 866              	.LVL75:
 867              		.loc 1 1559 0
 868 0022 0020     		movs	r0, #0
 869 0024 08BD     		pop	{r3, pc}
 870              	.LVL76:
 871              	.L64:
1548:application-library/usb-cdc-device.c ****   }
 872              		.loc 1 1548 0
 873 0026 0320     		movs	r0, #3
 874              	.LVL77:
 875 0028 08BD     		pop	{r3, pc}
 876              	.LVL78:
 877              	.L66:
 878              		.loc 1 1559 0
 879 002a 0020     		movs	r0, #0
 880              	.LVL79:
1560:application-library/usb-cdc-device.c **** }
 881              		.loc 1 1560 0
 882 002c 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccgHoJ4C.s 			page 44


 883              		.cfi_endproc
 884              	.LFE170:
 886              		.section	.text.USBD_LL_IsoOUTIncomplete,"ax",%progbits
 887              		.align	1
 888              		.global	USBD_LL_IsoOUTIncomplete
 889              		.syntax unified
 890              		.thumb
 891              		.thumb_func
 892              		.fpu fpv4-sp-d16
 894              	USBD_LL_IsoOUTIncomplete:
 895              	.LFB171:
1561:application-library/usb-cdc-device.c **** 
1562:application-library/usb-cdc-device.c **** /**
1563:application-library/usb-cdc-device.c ****   * @brief  Handle iso out incomplete event.
1564:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1565:application-library/usb-cdc-device.c ****   * @retval None.
1566:application-library/usb-cdc-device.c ****   */
1567:application-library/usb-cdc-device.c **** void USBD_LL_IsoOUTIncomplete(USBD_HandleTypeDef *pdev,
1568:application-library/usb-cdc-device.c ****                                             uint8_t epnum)
1569:application-library/usb-cdc-device.c **** {
 896              		.loc 1 1569 0
 897              		.cfi_startproc
 898              		@ args = 0, pretend = 0, frame = 0
 899              		@ frame_needed = 0, uses_anonymous_args = 0
 900              	.LVL80:
 901 0000 08B5     		push	{r3, lr}
 902              	.LCFI12:
 903              		.cfi_def_cfa_offset 8
 904              		.cfi_offset 3, -8
 905              		.cfi_offset 14, -4
1570:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
 906              		.loc 1 1570 0
 907 0002 D0F8D432 		ldr	r3, [r0, #724]
 908 0006 AE33     		adds	r3, r3, #174
 909 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 910 000c 22B1     		cbz	r2, .L69
1571:application-library/usb-cdc-device.c ****   {
1572:application-library/usb-cdc-device.c ****     return;
1573:application-library/usb-cdc-device.c ****   }
1574:application-library/usb-cdc-device.c **** 
1575:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
 911              		.loc 1 1575 0
 912 000e 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 913 0012 DBB2     		uxtb	r3, r3
 914 0014 032B     		cmp	r3, #3
 915 0016 00D0     		beq	.L72
 916              	.LVL81:
 917              	.L69:
 918 0018 08BD     		pop	{r3, pc}
 919              	.LVL82:
 920              	.L72:
1576:application-library/usb-cdc-device.c ****   {
1577:application-library/usb-cdc-device.c ****     if (pdev->pClass[pdev->classId]->IsoOUTIncomplete != NULL)
 921              		.loc 1 1577 0
 922 001a 536A     		ldr	r3, [r2, #36]
 923 001c 002B     		cmp	r3, #0
 924 001e FBD0     		beq	.L69
ARM GAS  /tmp/ccgHoJ4C.s 			page 45


1578:application-library/usb-cdc-device.c ****     {
1579:application-library/usb-cdc-device.c ****       (void)pdev->pClass[pdev->classId]->IsoOUTIncomplete(pdev, epnum);
 925              		.loc 1 1579 0
 926 0020 9847     		blx	r3
 927              	.LVL83:
 928 0022 F9E7     		b	.L69
 929              		.cfi_endproc
 930              	.LFE171:
 932              		.section	.text.USBD_LL_DevConnected,"ax",%progbits
 933              		.align	1
 934              		.global	USBD_LL_DevConnected
 935              		.syntax unified
 936              		.thumb
 937              		.thumb_func
 938              		.fpu fpv4-sp-d16
 940              	USBD_LL_DevConnected:
 941              	.LFB172:
1580:application-library/usb-cdc-device.c ****     }
1581:application-library/usb-cdc-device.c ****   }
1582:application-library/usb-cdc-device.c **** }
1583:application-library/usb-cdc-device.c **** 
1584:application-library/usb-cdc-device.c **** /**
1585:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevConnected
1586:application-library/usb-cdc-device.c ****   *         Handle device connection event
1587:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1588:application-library/usb-cdc-device.c ****   * @retval status
1589:application-library/usb-cdc-device.c ****   */
1590:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevConnected(USBD_HandleTypeDef *pdev)
1591:application-library/usb-cdc-device.c **** {
 942              		.loc 1 1591 0
 943              		.cfi_startproc
 944              		@ args = 0, pretend = 0, frame = 0
 945              		@ frame_needed = 0, uses_anonymous_args = 0
 946              		@ link register save eliminated.
 947              	.LVL84:
1592:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
1593:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1594:application-library/usb-cdc-device.c **** 
1595:application-library/usb-cdc-device.c ****   return USBD_OK;
1596:application-library/usb-cdc-device.c **** }
 948              		.loc 1 1596 0
 949 0000 0020     		movs	r0, #0
 950              	.LVL85:
 951 0002 7047     		bx	lr
 952              		.cfi_endproc
 953              	.LFE172:
 955              		.section	.text.USBD_LL_DevDisconnected,"ax",%progbits
 956              		.align	1
 957              		.global	USBD_LL_DevDisconnected
 958              		.syntax unified
 959              		.thumb
 960              		.thumb_func
 961              		.fpu fpv4-sp-d16
 963              	USBD_LL_DevDisconnected:
 964              	.LFB173:
1597:application-library/usb-cdc-device.c **** 
1598:application-library/usb-cdc-device.c **** /**
ARM GAS  /tmp/ccgHoJ4C.s 			page 46


1599:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevDisconnected
1600:application-library/usb-cdc-device.c ****   *         Handle device disconnection event
1601:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1602:application-library/usb-cdc-device.c ****   * @retval status
1603:application-library/usb-cdc-device.c ****   */
1604:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevDisconnected(USBD_HandleTypeDef *pdev)
1605:application-library/usb-cdc-device.c **** {
 965              		.loc 1 1605 0
 966              		.cfi_startproc
 967              		@ args = 0, pretend = 0, frame = 0
 968              		@ frame_needed = 0, uses_anonymous_args = 0
 969              	.LVL86:
 970 0000 08B5     		push	{r3, lr}
 971              	.LCFI13:
 972              		.cfi_def_cfa_offset 8
 973              		.cfi_offset 3, -8
 974              		.cfi_offset 14, -4
 975              	.LVL87:
1606:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef   ret = USBD_OK;
1607:application-library/usb-cdc-device.c **** 
1608:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1609:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
 976              		.loc 1 1609 0
 977 0002 0123     		movs	r3, #1
 978 0004 80F89C32 		strb	r3, [r0, #668]
1610:application-library/usb-cdc-device.c **** 
1611:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
 979              		.loc 1 1611 0
 980 0008 D0F8B832 		ldr	r3, [r0, #696]
 981 000c 33B1     		cbz	r3, .L76
1612:application-library/usb-cdc-device.c ****   {
1613:application-library/usb-cdc-device.c ****     if (pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config) != 0U)
 982              		.loc 1 1613 0
 983 000e 5B68     		ldr	r3, [r3, #4]
 984 0010 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 985 0012 9847     		blx	r3
 986              	.LVL88:
 987 0014 08B1     		cbz	r0, .L79
1614:application-library/usb-cdc-device.c ****     {
1615:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 988              		.loc 1 1615 0
 989 0016 0320     		movs	r0, #3
 990              	.LVL89:
1616:application-library/usb-cdc-device.c ****     }
1617:application-library/usb-cdc-device.c ****   }
1618:application-library/usb-cdc-device.c **** 
1619:application-library/usb-cdc-device.c ****   return ret;
1620:application-library/usb-cdc-device.c **** }
 991              		.loc 1 1620 0
 992 0018 08BD     		pop	{r3, pc}
 993              	.LVL90:
 994              	.L79:
 995 001a 08BD     		pop	{r3, pc}
 996              	.LVL91:
 997              	.L76:
1606:application-library/usb-cdc-device.c **** 
 998              		.loc 1 1606 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 47


 999 001c 0020     		movs	r0, #0
 1000              	.LVL92:
 1001 001e 08BD     		pop	{r3, pc}
 1002              		.cfi_endproc
 1003              	.LFE173:
 1005              		.section	.text.USBD_CoreFindEP,"ax",%progbits
 1006              		.align	1
 1007              		.global	USBD_CoreFindEP
 1008              		.syntax unified
 1009              		.thumb
 1010              		.thumb_func
 1011              		.fpu fpv4-sp-d16
 1013              	USBD_CoreFindEP:
 1014              	.LFB174:
1621:application-library/usb-cdc-device.c **** 
1622:application-library/usb-cdc-device.c **** /**
1623:application-library/usb-cdc-device.c ****   * @brief  Returns the class index relative to the selected endpoint
1624:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1625:application-library/usb-cdc-device.c ****   * @param  index : selected endpoint number
1626:application-library/usb-cdc-device.c ****   * @retval index of the class using the selected endpoint number. 0xFF if no class found.
1627:application-library/usb-cdc-device.c ****   */
1628:application-library/usb-cdc-device.c **** uint8_t USBD_CoreFindEP(USBD_HandleTypeDef *pdev, uint8_t index)
1629:application-library/usb-cdc-device.c **** {
 1015              		.loc 1 1629 0
 1016              		.cfi_startproc
 1017              		@ args = 0, pretend = 0, frame = 0
 1018              		@ frame_needed = 0, uses_anonymous_args = 0
 1019              		@ link register save eliminated.
 1020              	.LVL93:
1630:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1631:application-library/usb-cdc-device.c ****   UNUSED(index);
1632:application-library/usb-cdc-device.c ****   return 0x00U;
1633:application-library/usb-cdc-device.c **** }
 1021              		.loc 1 1633 0
 1022 0000 0020     		movs	r0, #0
 1023              	.LVL94:
 1024 0002 7047     		bx	lr
 1025              		.cfi_endproc
 1026              	.LFE174:
 1028              		.section	.text.USBD_GetNextDesc,"ax",%progbits
 1029              		.align	1
 1030              		.global	USBD_GetNextDesc
 1031              		.syntax unified
 1032              		.thumb
 1033              		.thumb_func
 1034              		.fpu fpv4-sp-d16
 1036              	USBD_GetNextDesc:
 1037              	.LFB176:
1634:application-library/usb-cdc-device.c **** 
1635:application-library/usb-cdc-device.c **** /**
1636:application-library/usb-cdc-device.c ****   * @brief  Returns the Endpoint descriptor
1637:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1638:application-library/usb-cdc-device.c ****   * @param  pConfDesc:  pointer to Bos descriptor
1639:application-library/usb-cdc-device.c ****   * @param  EpAddr:  endpoint address
1640:application-library/usb-cdc-device.c ****   * @retval pointer to video endpoint descriptor
1641:application-library/usb-cdc-device.c ****   */
1642:application-library/usb-cdc-device.c **** void *USBD_GetEpDesc(uint8_t *pConfDesc, uint8_t EpAddr)
ARM GAS  /tmp/ccgHoJ4C.s 			page 48


1643:application-library/usb-cdc-device.c **** {
1644:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
1645:application-library/usb-cdc-device.c ****   USBD_ConfigDescTypeDef *desc = (USBD_ConfigDescTypeDef *)(void *)pConfDesc;
1646:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpDesc = NULL;
1647:application-library/usb-cdc-device.c ****   uint16_t ptr;
1648:application-library/usb-cdc-device.c **** 
1649:application-library/usb-cdc-device.c ****   if (desc->wTotalLength > desc->bLength)
1650:application-library/usb-cdc-device.c ****   {
1651:application-library/usb-cdc-device.c ****     ptr = desc->bLength;
1652:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
1653:application-library/usb-cdc-device.c ****     {
1654:application-library/usb-cdc-device.c ****       pdesc = USBD_GetNextDesc((uint8_t *)pdesc, &ptr);
1655:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
1656:application-library/usb-cdc-device.c ****       {
1657:application-library/usb-cdc-device.c ****         pEpDesc = (USBD_EpDescTypeDef *)(void *)pdesc;
1658:application-library/usb-cdc-device.c **** 
1659:application-library/usb-cdc-device.c ****         if (pEpDesc->bEndpointAddress == EpAddr)
1660:application-library/usb-cdc-device.c ****         {
1661:application-library/usb-cdc-device.c ****           break;
1662:application-library/usb-cdc-device.c ****         }
1663:application-library/usb-cdc-device.c ****         else
1664:application-library/usb-cdc-device.c ****         {
1665:application-library/usb-cdc-device.c ****           pEpDesc = NULL;
1666:application-library/usb-cdc-device.c ****         }
1667:application-library/usb-cdc-device.c ****       }
1668:application-library/usb-cdc-device.c ****     }
1669:application-library/usb-cdc-device.c ****   }
1670:application-library/usb-cdc-device.c **** 
1671:application-library/usb-cdc-device.c ****   return (void *)pEpDesc;
1672:application-library/usb-cdc-device.c **** }
1673:application-library/usb-cdc-device.c **** 
1674:application-library/usb-cdc-device.c **** /**
1675:application-library/usb-cdc-device.c ****   * @brief  Returns the next descriptor header
1676:application-library/usb-cdc-device.c ****   * @param  buf: Buffer where the descriptor is available
1677:application-library/usb-cdc-device.c ****   * @param  ptr: data pointer inside the descriptor
1678:application-library/usb-cdc-device.c ****   * @retval next header
1679:application-library/usb-cdc-device.c ****   */
1680:application-library/usb-cdc-device.c **** USBD_DescHeaderTypeDef *USBD_GetNextDesc(uint8_t *pbuf, uint16_t *ptr)
1681:application-library/usb-cdc-device.c **** {
 1038              		.loc 1 1681 0
 1039              		.cfi_startproc
 1040              		@ args = 0, pretend = 0, frame = 0
 1041              		@ frame_needed = 0, uses_anonymous_args = 0
 1042              		@ link register save eliminated.
 1043              	.LVL95:
1682:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pnext = (USBD_DescHeaderTypeDef *)(void *)pbuf;
1683:application-library/usb-cdc-device.c **** 
1684:application-library/usb-cdc-device.c ****   *ptr += pnext->bLength;
 1044              		.loc 1 1684 0
 1045 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1046 0002 0A88     		ldrh	r2, [r1]
 1047 0004 1344     		add	r3, r3, r2
 1048 0006 0B80     		strh	r3, [r1]	@ movhi
1685:application-library/usb-cdc-device.c ****   pnext = (USBD_DescHeaderTypeDef *)(void *)(pbuf + pnext->bLength);
 1049              		.loc 1 1685 0
 1050 0008 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1051              	.LVL96:
ARM GAS  /tmp/ccgHoJ4C.s 			page 49


1686:application-library/usb-cdc-device.c ****   return (pnext);
1687:application-library/usb-cdc-device.c **** }
 1052              		.loc 1 1687 0
 1053 000a 1844     		add	r0, r0, r3
 1054              	.LVL97:
 1055 000c 7047     		bx	lr
 1056              		.cfi_endproc
 1057              	.LFE176:
 1059              		.section	.text.USBD_GetEpDesc,"ax",%progbits
 1060              		.align	1
 1061              		.global	USBD_GetEpDesc
 1062              		.syntax unified
 1063              		.thumb
 1064              		.thumb_func
 1065              		.fpu fpv4-sp-d16
 1067              	USBD_GetEpDesc:
 1068              	.LFB175:
1643:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 1069              		.loc 1 1643 0
 1070              		.cfi_startproc
 1071              		@ args = 0, pretend = 0, frame = 8
 1072              		@ frame_needed = 0, uses_anonymous_args = 0
 1073              	.LVL98:
1649:application-library/usb-cdc-device.c ****   {
 1074              		.loc 1 1649 0
 1075 0000 4288     		ldrh	r2, [r0, #2]	@ unaligned
 1076 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1077 0004 9A42     		cmp	r2, r3
 1078 0006 18D9     		bls	.L86
1643:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 1079              		.loc 1 1643 0
 1080 0008 30B5     		push	{r4, r5, lr}
 1081              	.LCFI14:
 1082              		.cfi_def_cfa_offset 12
 1083              		.cfi_offset 4, -12
 1084              		.cfi_offset 5, -8
 1085              		.cfi_offset 14, -4
 1086 000a 83B0     		sub	sp, sp, #12
 1087              	.LCFI15:
 1088              		.cfi_def_cfa_offset 24
 1089 000c 0D46     		mov	r5, r1
 1090 000e 0446     		mov	r4, r0
1651:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
 1091              		.loc 1 1651 0
 1092 0010 ADF80630 		strh	r3, [sp, #6]	@ movhi
 1093              	.LVL99:
 1094              	.L84:
1652:application-library/usb-cdc-device.c ****     {
 1095              		.loc 1 1652 0
 1096 0014 6288     		ldrh	r2, [r4, #2]	@ unaligned
 1097 0016 BDF80630 		ldrh	r3, [sp, #6]
 1098 001a 9A42     		cmp	r2, r3
 1099 001c 0AD9     		bls	.L92
1654:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
 1100              		.loc 1 1654 0
 1101 001e 0DF10601 		add	r1, sp, #6
 1102 0022 FFF7FEFF 		bl	USBD_GetNextDesc
ARM GAS  /tmp/ccgHoJ4C.s 			page 50


 1103              	.LVL100:
1655:application-library/usb-cdc-device.c ****       {
 1104              		.loc 1 1655 0
 1105 0026 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 1106 0028 052B     		cmp	r3, #5
 1107 002a F3D1     		bne	.L84
 1108              	.LVL101:
1659:application-library/usb-cdc-device.c ****         {
 1109              		.loc 1 1659 0
 1110 002c 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
 1111 002e AB42     		cmp	r3, r5
 1112 0030 F0D1     		bne	.L84
 1113 0032 00E0     		b	.L83
 1114              	.LVL102:
 1115              	.L92:
 1116 0034 0020     		movs	r0, #0
 1117              	.LVL103:
 1118              	.L83:
1672:application-library/usb-cdc-device.c **** 
 1119              		.loc 1 1672 0
 1120 0036 03B0     		add	sp, sp, #12
 1121              	.LCFI16:
 1122              		.cfi_def_cfa_offset 12
 1123              		@ sp needed
 1124 0038 30BD     		pop	{r4, r5, pc}
 1125              	.LVL104:
 1126              	.L86:
 1127              	.LCFI17:
 1128              		.cfi_def_cfa_offset 0
 1129              		.cfi_restore 4
 1130              		.cfi_restore 5
 1131              		.cfi_restore 14
1646:application-library/usb-cdc-device.c ****   uint16_t ptr;
 1132              		.loc 1 1646 0
 1133 003a 0020     		movs	r0, #0
 1134              	.LVL105:
 1135 003c 7047     		bx	lr
 1136              		.cfi_endproc
 1137              	.LFE175:
 1139              		.section	.text.USBD_CDC_GetFSCfgDesc,"ax",%progbits
 1140              		.align	1
 1141              		.global	USBD_CDC_GetFSCfgDesc
 1142              		.syntax unified
 1143              		.thumb
 1144              		.thumb_func
 1145              		.fpu fpv4-sp-d16
 1147              	USBD_CDC_GetFSCfgDesc:
 1148              	.LFB145:
 758:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 1149              		.loc 1 758 0
 1150              		.cfi_startproc
 1151              		@ args = 0, pretend = 0, frame = 0
 1152              		@ frame_needed = 0, uses_anonymous_args = 0
 1153              	.LVL106:
 1154 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1155              	.LCFI18:
 1156              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccgHoJ4C.s 			page 51


 1157              		.cfi_offset 3, -24
 1158              		.cfi_offset 4, -20
 1159              		.cfi_offset 5, -16
 1160              		.cfi_offset 6, -12
 1161              		.cfi_offset 7, -8
 1162              		.cfi_offset 14, -4
 1163 0002 0746     		mov	r7, r0
 759:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 1164              		.loc 1 759 0
 1165 0004 0F4C     		ldr	r4, .L98
 1166 0006 8221     		movs	r1, #130
 1167 0008 2046     		mov	r0, r4
 1168              	.LVL107:
 1169 000a FFF7FEFF 		bl	USBD_GetEpDesc
 1170              	.LVL108:
 1171 000e 0646     		mov	r6, r0
 1172              	.LVL109:
 760:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 1173              		.loc 1 760 0
 1174 0010 0121     		movs	r1, #1
 1175 0012 2046     		mov	r0, r4
 1176              	.LVL110:
 1177 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 1178              	.LVL111:
 1179 0018 0546     		mov	r5, r0
 1180              	.LVL112:
 761:application-library/usb-cdc-device.c **** 
 1181              		.loc 1 761 0
 1182 001a 8121     		movs	r1, #129
 1183 001c 2046     		mov	r0, r4
 1184              	.LVL113:
 1185 001e FFF7FEFF 		bl	USBD_GetEpDesc
 1186              	.LVL114:
 763:application-library/usb-cdc-device.c ****   {
 1187              		.loc 1 763 0
 1188 0022 0EB1     		cbz	r6, .L94
 765:application-library/usb-cdc-device.c ****   }
 1189              		.loc 1 765 0
 1190 0024 1023     		movs	r3, #16
 1191 0026 B371     		strb	r3, [r6, #6]
 1192              	.L94:
 768:application-library/usb-cdc-device.c ****   {
 1193              		.loc 1 768 0
 1194 0028 1DB1     		cbz	r5, .L95
 770:application-library/usb-cdc-device.c ****   }
 1195              		.loc 1 770 0
 1196 002a 4023     		movs	r3, #64
 1197 002c 2B71     		strb	r3, [r5, #4]
 1198 002e 0023     		movs	r3, #0
 1199 0030 6B71     		strb	r3, [r5, #5]
 1200              	.L95:
 773:application-library/usb-cdc-device.c ****   {
 1201              		.loc 1 773 0
 1202 0032 18B1     		cbz	r0, .L96
 775:application-library/usb-cdc-device.c ****   }
 1203              		.loc 1 775 0
 1204 0034 4023     		movs	r3, #64
ARM GAS  /tmp/ccgHoJ4C.s 			page 52


 1205 0036 0371     		strb	r3, [r0, #4]
 1206 0038 0023     		movs	r3, #0
 1207 003a 4371     		strb	r3, [r0, #5]
 1208              	.L96:
 778:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 1209              		.loc 1 778 0
 1210 003c 4323     		movs	r3, #67
 1211 003e 3B80     		strh	r3, [r7]	@ movhi
 780:application-library/usb-cdc-device.c **** 
 1212              		.loc 1 780 0
 1213 0040 0048     		ldr	r0, .L98
 1214              	.LVL115:
 1215 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1216              	.LVL116:
 1217              	.L99:
 1218              		.align	2
 1219              	.L98:
 1220 0044 00000000 		.word	.LANCHOR4
 1221              		.cfi_endproc
 1222              	.LFE145:
 1224              		.section	.text.USBD_CDC_GetHSCfgDesc,"ax",%progbits
 1225              		.align	1
 1226              		.global	USBD_CDC_GetHSCfgDesc
 1227              		.syntax unified
 1228              		.thumb
 1229              		.thumb_func
 1230              		.fpu fpv4-sp-d16
 1232              	USBD_CDC_GetHSCfgDesc:
 1233              	.LFB146:
 788:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 1234              		.loc 1 788 0
 1235              		.cfi_startproc
 1236              		@ args = 0, pretend = 0, frame = 0
 1237              		@ frame_needed = 0, uses_anonymous_args = 0
 1238              	.LVL117:
 1239 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1240              	.LCFI19:
 1241              		.cfi_def_cfa_offset 24
 1242              		.cfi_offset 3, -24
 1243              		.cfi_offset 4, -20
 1244              		.cfi_offset 5, -16
 1245              		.cfi_offset 6, -12
 1246              		.cfi_offset 7, -8
 1247              		.cfi_offset 14, -4
 1248 0002 0746     		mov	r7, r0
 789:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 1249              		.loc 1 789 0
 1250 0004 0F4C     		ldr	r4, .L105
 1251 0006 8221     		movs	r1, #130
 1252 0008 2046     		mov	r0, r4
 1253              	.LVL118:
 1254 000a FFF7FEFF 		bl	USBD_GetEpDesc
 1255              	.LVL119:
 1256 000e 0646     		mov	r6, r0
 1257              	.LVL120:
 790:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 1258              		.loc 1 790 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 53


 1259 0010 0121     		movs	r1, #1
 1260 0012 2046     		mov	r0, r4
 1261              	.LVL121:
 1262 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 1263              	.LVL122:
 1264 0018 0546     		mov	r5, r0
 1265              	.LVL123:
 791:application-library/usb-cdc-device.c **** 
 1266              		.loc 1 791 0
 1267 001a 8121     		movs	r1, #129
 1268 001c 2046     		mov	r0, r4
 1269              	.LVL124:
 1270 001e FFF7FEFF 		bl	USBD_GetEpDesc
 1271              	.LVL125:
 793:application-library/usb-cdc-device.c ****   {
 1272              		.loc 1 793 0
 1273 0022 0EB1     		cbz	r6, .L101
 795:application-library/usb-cdc-device.c ****   }
 1274              		.loc 1 795 0
 1275 0024 1023     		movs	r3, #16
 1276 0026 B371     		strb	r3, [r6, #6]
 1277              	.L101:
 798:application-library/usb-cdc-device.c ****   {
 1278              		.loc 1 798 0
 1279 0028 1DB1     		cbz	r5, .L102
 800:application-library/usb-cdc-device.c ****   }
 1280              		.loc 1 800 0
 1281 002a 0023     		movs	r3, #0
 1282 002c 2B71     		strb	r3, [r5, #4]
 1283 002e 0223     		movs	r3, #2
 1284 0030 6B71     		strb	r3, [r5, #5]
 1285              	.L102:
 803:application-library/usb-cdc-device.c ****   {
 1286              		.loc 1 803 0
 1287 0032 18B1     		cbz	r0, .L103
 805:application-library/usb-cdc-device.c ****   }
 1288              		.loc 1 805 0
 1289 0034 0023     		movs	r3, #0
 1290 0036 0371     		strb	r3, [r0, #4]
 1291 0038 0223     		movs	r3, #2
 1292 003a 4371     		strb	r3, [r0, #5]
 1293              	.L103:
 808:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 1294              		.loc 1 808 0
 1295 003c 4323     		movs	r3, #67
 1296 003e 3B80     		strh	r3, [r7]	@ movhi
 810:application-library/usb-cdc-device.c **** 
 1297              		.loc 1 810 0
 1298 0040 0048     		ldr	r0, .L105
 1299              	.LVL126:
 1300 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1301              	.LVL127:
 1302              	.L106:
 1303              		.align	2
 1304              	.L105:
 1305 0044 00000000 		.word	.LANCHOR4
 1306              		.cfi_endproc
ARM GAS  /tmp/ccgHoJ4C.s 			page 54


 1307              	.LFE146:
 1309              		.section	.text.USBD_CDC_GetOtherSpeedCfgDesc,"ax",%progbits
 1310              		.align	1
 1311              		.global	USBD_CDC_GetOtherSpeedCfgDesc
 1312              		.syntax unified
 1313              		.thumb
 1314              		.thumb_func
 1315              		.fpu fpv4-sp-d16
 1317              	USBD_CDC_GetOtherSpeedCfgDesc:
 1318              	.LFB147:
 819:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 1319              		.loc 1 819 0
 1320              		.cfi_startproc
 1321              		@ args = 0, pretend = 0, frame = 0
 1322              		@ frame_needed = 0, uses_anonymous_args = 0
 1323              	.LVL128:
 1324 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1325              	.LCFI20:
 1326              		.cfi_def_cfa_offset 24
 1327              		.cfi_offset 3, -24
 1328              		.cfi_offset 4, -20
 1329              		.cfi_offset 5, -16
 1330              		.cfi_offset 6, -12
 1331              		.cfi_offset 7, -8
 1332              		.cfi_offset 14, -4
 1333 0002 0746     		mov	r7, r0
 820:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 1334              		.loc 1 820 0
 1335 0004 0F4C     		ldr	r4, .L112
 1336 0006 8221     		movs	r1, #130
 1337 0008 2046     		mov	r0, r4
 1338              	.LVL129:
 1339 000a FFF7FEFF 		bl	USBD_GetEpDesc
 1340              	.LVL130:
 1341 000e 0646     		mov	r6, r0
 1342              	.LVL131:
 821:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 1343              		.loc 1 821 0
 1344 0010 0121     		movs	r1, #1
 1345 0012 2046     		mov	r0, r4
 1346              	.LVL132:
 1347 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 1348              	.LVL133:
 1349 0018 0546     		mov	r5, r0
 1350              	.LVL134:
 822:application-library/usb-cdc-device.c **** 
 1351              		.loc 1 822 0
 1352 001a 8121     		movs	r1, #129
 1353 001c 2046     		mov	r0, r4
 1354              	.LVL135:
 1355 001e FFF7FEFF 		bl	USBD_GetEpDesc
 1356              	.LVL136:
 824:application-library/usb-cdc-device.c ****   {
 1357              		.loc 1 824 0
 1358 0022 0EB1     		cbz	r6, .L108
 826:application-library/usb-cdc-device.c ****   }
 1359              		.loc 1 826 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 55


 1360 0024 1023     		movs	r3, #16
 1361 0026 B371     		strb	r3, [r6, #6]
 1362              	.L108:
 829:application-library/usb-cdc-device.c ****   {
 1363              		.loc 1 829 0
 1364 0028 1DB1     		cbz	r5, .L109
 831:application-library/usb-cdc-device.c ****   }
 1365              		.loc 1 831 0
 1366 002a 4023     		movs	r3, #64
 1367 002c 2B71     		strb	r3, [r5, #4]
 1368 002e 0023     		movs	r3, #0
 1369 0030 6B71     		strb	r3, [r5, #5]
 1370              	.L109:
 834:application-library/usb-cdc-device.c ****   {
 1371              		.loc 1 834 0
 1372 0032 18B1     		cbz	r0, .L110
 836:application-library/usb-cdc-device.c ****   }
 1373              		.loc 1 836 0
 1374 0034 4023     		movs	r3, #64
 1375 0036 0371     		strb	r3, [r0, #4]
 1376 0038 0023     		movs	r3, #0
 1377 003a 4371     		strb	r3, [r0, #5]
 1378              	.L110:
 839:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 1379              		.loc 1 839 0
 1380 003c 4323     		movs	r3, #67
 1381 003e 3B80     		strh	r3, [r7]	@ movhi
 841:application-library/usb-cdc-device.c **** 
 1382              		.loc 1 841 0
 1383 0040 0048     		ldr	r0, .L112
 1384              	.LVL137:
 1385 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1386              	.LVL138:
 1387              	.L113:
 1388              		.align	2
 1389              	.L112:
 1390 0044 00000000 		.word	.LANCHOR4
 1391              		.cfi_endproc
 1392              	.LFE147:
 1394              		.section	.text.USBD_ParseSetupRequest,"ax",%progbits
 1395              		.align	1
 1396              		.global	USBD_ParseSetupRequest
 1397              		.syntax unified
 1398              		.thumb
 1399              		.thumb_func
 1400              		.fpu fpv4-sp-d16
 1402              	USBD_ParseSetupRequest:
 1403              	.LFB187:
1688:application-library/usb-cdc-device.c **** 
1689:application-library/usb-cdc-device.c **** /* usbd_core.c END ---- ---- ---- ---- */
1690:application-library/usb-cdc-device.c **** 
1691:application-library/usb-cdc-device.c **** 
1692:application-library/usb-cdc-device.c **** /* usbd_ctlreq.c BEGIN ---- ---- ---- ---- */
1693:application-library/usb-cdc-device.c **** 
1694:application-library/usb-cdc-device.c **** 
1695:application-library/usb-cdc-device.c **** 
1696:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 56


1697:application-library/usb-cdc-device.c **** 
1698:application-library/usb-cdc-device.c **** 
1699:application-library/usb-cdc-device.c **** /**
1700:application-library/usb-cdc-device.c ****   * @brief  USBD_StdDevReq
1701:application-library/usb-cdc-device.c ****   *         Handle standard usb device requests
1702:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1703:application-library/usb-cdc-device.c ****   * @param  req: usb request
1704:application-library/usb-cdc-device.c ****   * @retval status
1705:application-library/usb-cdc-device.c ****   */
1706:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdDevReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1707:application-library/usb-cdc-device.c **** {
1708:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1709:application-library/usb-cdc-device.c **** 
1710:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1711:application-library/usb-cdc-device.c ****   {
1712:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1713:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1714:application-library/usb-cdc-device.c ****       ret = (USBD_StatusTypeDef)pdev->pClass[pdev->classId]->Setup(pdev, req);
1715:application-library/usb-cdc-device.c ****       break;
1716:application-library/usb-cdc-device.c **** 
1717:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1718:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1719:application-library/usb-cdc-device.c ****       {
1720:application-library/usb-cdc-device.c ****         case USB_REQ_GET_DESCRIPTOR:
1721:application-library/usb-cdc-device.c ****           USBD_GetDescriptor(pdev, req);
1722:application-library/usb-cdc-device.c ****           break;
1723:application-library/usb-cdc-device.c **** 
1724:application-library/usb-cdc-device.c ****         case USB_REQ_SET_ADDRESS:
1725:application-library/usb-cdc-device.c ****           USBD_SetAddress(pdev, req);
1726:application-library/usb-cdc-device.c ****           break;
1727:application-library/usb-cdc-device.c **** 
1728:application-library/usb-cdc-device.c ****         case USB_REQ_SET_CONFIGURATION:
1729:application-library/usb-cdc-device.c ****           ret = USBD_SetConfig(pdev, req);
1730:application-library/usb-cdc-device.c ****           break;
1731:application-library/usb-cdc-device.c **** 
1732:application-library/usb-cdc-device.c ****         case USB_REQ_GET_CONFIGURATION:
1733:application-library/usb-cdc-device.c ****           USBD_GetConfig(pdev, req);
1734:application-library/usb-cdc-device.c ****           break;
1735:application-library/usb-cdc-device.c **** 
1736:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
1737:application-library/usb-cdc-device.c ****           USBD_GetStatus(pdev, req);
1738:application-library/usb-cdc-device.c ****           break;
1739:application-library/usb-cdc-device.c **** 
1740:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1741:application-library/usb-cdc-device.c ****           USBD_SetFeature(pdev, req);
1742:application-library/usb-cdc-device.c ****           break;
1743:application-library/usb-cdc-device.c **** 
1744:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1745:application-library/usb-cdc-device.c ****           USBD_ClrFeature(pdev, req);
1746:application-library/usb-cdc-device.c ****           break;
1747:application-library/usb-cdc-device.c **** 
1748:application-library/usb-cdc-device.c ****         default:
1749:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
1750:application-library/usb-cdc-device.c ****           break;
1751:application-library/usb-cdc-device.c ****       }
1752:application-library/usb-cdc-device.c ****       break;
1753:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 57


1754:application-library/usb-cdc-device.c ****     default:
1755:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
1756:application-library/usb-cdc-device.c ****       break;
1757:application-library/usb-cdc-device.c ****   }
1758:application-library/usb-cdc-device.c **** 
1759:application-library/usb-cdc-device.c ****   return ret;
1760:application-library/usb-cdc-device.c **** }
1761:application-library/usb-cdc-device.c **** 
1762:application-library/usb-cdc-device.c **** /**
1763:application-library/usb-cdc-device.c ****   * @brief  USBD_StdItfReq
1764:application-library/usb-cdc-device.c ****   *         Handle standard usb interface requests
1765:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1766:application-library/usb-cdc-device.c ****   * @param  req: usb request
1767:application-library/usb-cdc-device.c ****   * @retval status
1768:application-library/usb-cdc-device.c ****   */
1769:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdItfReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1770:application-library/usb-cdc-device.c **** {
1771:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1772:application-library/usb-cdc-device.c ****   uint8_t idx;
1773:application-library/usb-cdc-device.c **** 
1774:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1775:application-library/usb-cdc-device.c ****   {
1776:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1777:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1778:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1779:application-library/usb-cdc-device.c ****       switch (pdev->dev_state)
1780:application-library/usb-cdc-device.c ****       {
1781:application-library/usb-cdc-device.c ****         case USBD_STATE_DEFAULT:
1782:application-library/usb-cdc-device.c ****         case USBD_STATE_ADDRESSED:
1783:application-library/usb-cdc-device.c ****         case USBD_STATE_CONFIGURED:
1784:application-library/usb-cdc-device.c **** 
1785:application-library/usb-cdc-device.c ****           if (LOBYTE(req->wIndex) <= USBD_MAX_NUM_INTERFACES)
1786:application-library/usb-cdc-device.c ****           {
1787:application-library/usb-cdc-device.c ****             /* Get the class index relative to this interface */
1788:application-library/usb-cdc-device.c ****             idx = 0x00U;
1789:application-library/usb-cdc-device.c ****             if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1790:application-library/usb-cdc-device.c ****             {
1791:application-library/usb-cdc-device.c ****               /* Call the class data out function to manage the request */
1792:application-library/usb-cdc-device.c ****               if (pdev->pClass[idx]->Setup != NULL)
1793:application-library/usb-cdc-device.c ****               {
1794:application-library/usb-cdc-device.c ****                 pdev->classId = idx;
1795:application-library/usb-cdc-device.c ****                 ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
1796:application-library/usb-cdc-device.c ****               }
1797:application-library/usb-cdc-device.c ****               else
1798:application-library/usb-cdc-device.c ****               {
1799:application-library/usb-cdc-device.c ****                 /* should never reach this condition */
1800:application-library/usb-cdc-device.c ****                 ret = USBD_FAIL;
1801:application-library/usb-cdc-device.c ****               }
1802:application-library/usb-cdc-device.c ****             }
1803:application-library/usb-cdc-device.c ****             else
1804:application-library/usb-cdc-device.c ****             {
1805:application-library/usb-cdc-device.c ****               /* No relative interface found */
1806:application-library/usb-cdc-device.c ****               ret = USBD_FAIL;
1807:application-library/usb-cdc-device.c ****             }
1808:application-library/usb-cdc-device.c **** 
1809:application-library/usb-cdc-device.c ****             if ((req->wLength == 0U) && (ret == USBD_OK))
1810:application-library/usb-cdc-device.c ****             {
ARM GAS  /tmp/ccgHoJ4C.s 			page 58


1811:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendStatus(pdev);
1812:application-library/usb-cdc-device.c ****             }
1813:application-library/usb-cdc-device.c ****           }
1814:application-library/usb-cdc-device.c ****           else
1815:application-library/usb-cdc-device.c ****           {
1816:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
1817:application-library/usb-cdc-device.c ****           }
1818:application-library/usb-cdc-device.c ****           break;
1819:application-library/usb-cdc-device.c **** 
1820:application-library/usb-cdc-device.c ****         default:
1821:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
1822:application-library/usb-cdc-device.c ****           break;
1823:application-library/usb-cdc-device.c ****       }
1824:application-library/usb-cdc-device.c ****       break;
1825:application-library/usb-cdc-device.c **** 
1826:application-library/usb-cdc-device.c ****     default:
1827:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
1828:application-library/usb-cdc-device.c ****       break;
1829:application-library/usb-cdc-device.c ****   }
1830:application-library/usb-cdc-device.c **** 
1831:application-library/usb-cdc-device.c ****   return ret;
1832:application-library/usb-cdc-device.c **** }
1833:application-library/usb-cdc-device.c **** 
1834:application-library/usb-cdc-device.c **** /**
1835:application-library/usb-cdc-device.c ****   * @brief  USBD_StdEPReq
1836:application-library/usb-cdc-device.c ****   *         Handle standard usb endpoint requests
1837:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1838:application-library/usb-cdc-device.c ****   * @param  req: usb request
1839:application-library/usb-cdc-device.c ****   * @retval status
1840:application-library/usb-cdc-device.c ****   */
1841:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdEPReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1842:application-library/usb-cdc-device.c **** {
1843:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1844:application-library/usb-cdc-device.c ****   uint8_t ep_addr;
1845:application-library/usb-cdc-device.c ****   uint8_t idx;
1846:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1847:application-library/usb-cdc-device.c **** 
1848:application-library/usb-cdc-device.c ****   ep_addr = LOBYTE(req->wIndex);
1849:application-library/usb-cdc-device.c **** 
1850:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1851:application-library/usb-cdc-device.c ****   {
1852:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1853:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1854:application-library/usb-cdc-device.c ****       /* Get the class index relative to this endpoint */
1855:application-library/usb-cdc-device.c ****       idx = USBD_CoreFindEP(pdev, ep_addr);
1856:application-library/usb-cdc-device.c ****       if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1857:application-library/usb-cdc-device.c ****       {
1858:application-library/usb-cdc-device.c ****         pdev->classId = idx;
1859:application-library/usb-cdc-device.c ****         /* Call the class data out function to manage the request */
1860:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->Setup != NULL)
1861:application-library/usb-cdc-device.c ****         {
1862:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->Setup(pdev, req);
1863:application-library/usb-cdc-device.c ****         }
1864:application-library/usb-cdc-device.c ****       }
1865:application-library/usb-cdc-device.c ****       break;
1866:application-library/usb-cdc-device.c **** 
1867:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
ARM GAS  /tmp/ccgHoJ4C.s 			page 59


1868:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1869:application-library/usb-cdc-device.c ****       {
1870:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1871:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
1872:application-library/usb-cdc-device.c ****           {
1873:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1874:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1875:application-library/usb-cdc-device.c ****               {
1876:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, ep_addr);
1877:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
1878:application-library/usb-cdc-device.c ****               }
1879:application-library/usb-cdc-device.c ****               else
1880:application-library/usb-cdc-device.c ****               {
1881:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
1882:application-library/usb-cdc-device.c ****               }
1883:application-library/usb-cdc-device.c ****               break;
1884:application-library/usb-cdc-device.c **** 
1885:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1886:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
1887:application-library/usb-cdc-device.c ****               {
1888:application-library/usb-cdc-device.c ****                 if ((ep_addr != 0x00U) && (ep_addr != 0x80U) && (req->wLength == 0x00U))
1889:application-library/usb-cdc-device.c ****                 {
1890:application-library/usb-cdc-device.c ****                   (void)USBD_LL_StallEP(pdev, ep_addr);
1891:application-library/usb-cdc-device.c ****                 }
1892:application-library/usb-cdc-device.c ****               }
1893:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendStatus(pdev);
1894:application-library/usb-cdc-device.c **** 
1895:application-library/usb-cdc-device.c ****               break;
1896:application-library/usb-cdc-device.c **** 
1897:application-library/usb-cdc-device.c ****             default:
1898:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
1899:application-library/usb-cdc-device.c ****               break;
1900:application-library/usb-cdc-device.c ****           }
1901:application-library/usb-cdc-device.c ****           break;
1902:application-library/usb-cdc-device.c **** 
1903:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1904:application-library/usb-cdc-device.c **** 
1905:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
1906:application-library/usb-cdc-device.c ****           {
1907:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1908:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1909:application-library/usb-cdc-device.c ****               {
1910:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, ep_addr);
1911:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
1912:application-library/usb-cdc-device.c ****               }
1913:application-library/usb-cdc-device.c ****               else
1914:application-library/usb-cdc-device.c ****               {
1915:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
1916:application-library/usb-cdc-device.c ****               }
1917:application-library/usb-cdc-device.c ****               break;
1918:application-library/usb-cdc-device.c **** 
1919:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1920:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
1921:application-library/usb-cdc-device.c ****               {
1922:application-library/usb-cdc-device.c ****                 if ((ep_addr & 0x7FU) != 0x00U)
1923:application-library/usb-cdc-device.c ****                 {
1924:application-library/usb-cdc-device.c ****                   (void)USBD_LL_ClearStallEP(pdev, ep_addr);
ARM GAS  /tmp/ccgHoJ4C.s 			page 60


1925:application-library/usb-cdc-device.c ****                 }
1926:application-library/usb-cdc-device.c ****                 (void)USBD_CtlSendStatus(pdev);
1927:application-library/usb-cdc-device.c **** 
1928:application-library/usb-cdc-device.c ****                 /* Get the class index relative to this interface */
1929:application-library/usb-cdc-device.c ****                 idx = USBD_CoreFindEP(pdev, ep_addr);
1930:application-library/usb-cdc-device.c ****                 if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1931:application-library/usb-cdc-device.c ****                 {
1932:application-library/usb-cdc-device.c ****                   pdev->classId = idx;
1933:application-library/usb-cdc-device.c ****                   /* Call the class data out function to manage the request */
1934:application-library/usb-cdc-device.c ****                   if (pdev->pClass[idx]->Setup != NULL)
1935:application-library/usb-cdc-device.c ****                   {
1936:application-library/usb-cdc-device.c ****                     ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
1937:application-library/usb-cdc-device.c ****                   }
1938:application-library/usb-cdc-device.c ****                 }
1939:application-library/usb-cdc-device.c ****               }
1940:application-library/usb-cdc-device.c ****               break;
1941:application-library/usb-cdc-device.c **** 
1942:application-library/usb-cdc-device.c ****             default:
1943:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
1944:application-library/usb-cdc-device.c ****               break;
1945:application-library/usb-cdc-device.c ****           }
1946:application-library/usb-cdc-device.c ****           break;
1947:application-library/usb-cdc-device.c **** 
1948:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
1949:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
1950:application-library/usb-cdc-device.c ****           {
1951:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1952:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1953:application-library/usb-cdc-device.c ****               {
1954:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
1955:application-library/usb-cdc-device.c ****                 break;
1956:application-library/usb-cdc-device.c ****               }
1957:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &pdev->ep_in[ep_addr & 0x7FU] : \
1958:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
1959:application-library/usb-cdc-device.c **** 
1960:application-library/usb-cdc-device.c ****               pep->status = 0x0000U;
1961:application-library/usb-cdc-device.c **** 
1962:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendData(pdev, (uint8_t *)&pep->status, 2U);
1963:application-library/usb-cdc-device.c ****               break;
1964:application-library/usb-cdc-device.c **** 
1965:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1966:application-library/usb-cdc-device.c ****               if ((ep_addr & 0x80U) == 0x80U)
1967:application-library/usb-cdc-device.c ****               {
1968:application-library/usb-cdc-device.c ****                 if (pdev->ep_in[ep_addr & 0xFU].is_used == 0U)
1969:application-library/usb-cdc-device.c ****                 {
1970:application-library/usb-cdc-device.c ****                   USBD_CtlError(pdev, req);
1971:application-library/usb-cdc-device.c ****                   break;
1972:application-library/usb-cdc-device.c ****                 }
1973:application-library/usb-cdc-device.c ****               }
1974:application-library/usb-cdc-device.c ****               else
1975:application-library/usb-cdc-device.c ****               {
1976:application-library/usb-cdc-device.c ****                 if (pdev->ep_out[ep_addr & 0xFU].is_used == 0U)
1977:application-library/usb-cdc-device.c ****                 {
1978:application-library/usb-cdc-device.c ****                   USBD_CtlError(pdev, req);
1979:application-library/usb-cdc-device.c ****                   break;
1980:application-library/usb-cdc-device.c ****                 }
1981:application-library/usb-cdc-device.c ****               }
ARM GAS  /tmp/ccgHoJ4C.s 			page 61


1982:application-library/usb-cdc-device.c **** 
1983:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &pdev->ep_in[ep_addr & 0x7FU] : \
1984:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
1985:application-library/usb-cdc-device.c **** 
1986:application-library/usb-cdc-device.c ****               if ((ep_addr == 0x00U) || (ep_addr == 0x80U))
1987:application-library/usb-cdc-device.c ****               {
1988:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
1989:application-library/usb-cdc-device.c ****               }
1990:application-library/usb-cdc-device.c ****               else if (USBD_LL_IsStallEP(pdev, ep_addr) != 0U)
1991:application-library/usb-cdc-device.c ****               {
1992:application-library/usb-cdc-device.c ****                 pep->status = 0x0001U;
1993:application-library/usb-cdc-device.c ****               }
1994:application-library/usb-cdc-device.c ****               else
1995:application-library/usb-cdc-device.c ****               {
1996:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
1997:application-library/usb-cdc-device.c ****               }
1998:application-library/usb-cdc-device.c **** 
1999:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendData(pdev, (uint8_t *)&pep->status, 2U);
2000:application-library/usb-cdc-device.c ****               break;
2001:application-library/usb-cdc-device.c **** 
2002:application-library/usb-cdc-device.c ****             default:
2003:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
2004:application-library/usb-cdc-device.c ****               break;
2005:application-library/usb-cdc-device.c ****           }
2006:application-library/usb-cdc-device.c ****           break;
2007:application-library/usb-cdc-device.c **** 
2008:application-library/usb-cdc-device.c ****         default:
2009:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2010:application-library/usb-cdc-device.c ****           break;
2011:application-library/usb-cdc-device.c ****       }
2012:application-library/usb-cdc-device.c ****       break;
2013:application-library/usb-cdc-device.c **** 
2014:application-library/usb-cdc-device.c ****     default:
2015:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2016:application-library/usb-cdc-device.c ****       break;
2017:application-library/usb-cdc-device.c ****   }
2018:application-library/usb-cdc-device.c **** 
2019:application-library/usb-cdc-device.c ****   return ret;
2020:application-library/usb-cdc-device.c **** }
2021:application-library/usb-cdc-device.c **** 
2022:application-library/usb-cdc-device.c **** 
2023:application-library/usb-cdc-device.c **** /**
2024:application-library/usb-cdc-device.c ****   * @brief  Handle Get Descriptor requests
2025:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2026:application-library/usb-cdc-device.c ****   * @param  req: usb request
2027:application-library/usb-cdc-device.c ****   * @retval status
2028:application-library/usb-cdc-device.c ****   */
2029:application-library/usb-cdc-device.c **** void USBD_GetDescriptor(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2030:application-library/usb-cdc-device.c **** {
2031:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
2032:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
2033:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
2034:application-library/usb-cdc-device.c **** 
2035:application-library/usb-cdc-device.c ****   switch (req->wValue >> 8)
2036:application-library/usb-cdc-device.c ****   {
2037:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE:
2038:application-library/usb-cdc-device.c ****       pbuf = pdev->pDesc->GetDeviceDescriptor(pdev->dev_speed, &len);
ARM GAS  /tmp/ccgHoJ4C.s 			page 62


2039:application-library/usb-cdc-device.c ****       break;
2040:application-library/usb-cdc-device.c **** 
2041:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_CONFIGURATION:
2042:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2043:application-library/usb-cdc-device.c ****       {
2044:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)pdev->pClass[0]->GetHSConfigDescriptor(&len);
2045:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
2046:application-library/usb-cdc-device.c ****       }
2047:application-library/usb-cdc-device.c ****       else
2048:application-library/usb-cdc-device.c ****       {
2049:application-library/usb-cdc-device.c ****         pbuf   = (uint8_t *)pdev->pClass[0]->GetFSConfigDescriptor(&len);
2050:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
2051:application-library/usb-cdc-device.c ****       }
2052:application-library/usb-cdc-device.c ****       break;
2053:application-library/usb-cdc-device.c **** 
2054:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_STRING:
2055:application-library/usb-cdc-device.c ****       switch ((uint8_t)(req->wValue))
2056:application-library/usb-cdc-device.c ****       {
2057:application-library/usb-cdc-device.c ****         case USBD_IDX_LANGID_STR:
2058:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetLangIDStrDescriptor != NULL)
2059:application-library/usb-cdc-device.c ****           {
2060:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetLangIDStrDescriptor(pdev->dev_speed, &len);
2061:application-library/usb-cdc-device.c ****           }
2062:application-library/usb-cdc-device.c ****           else
2063:application-library/usb-cdc-device.c ****           {
2064:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2065:application-library/usb-cdc-device.c ****             err++;
2066:application-library/usb-cdc-device.c ****           }
2067:application-library/usb-cdc-device.c ****           break;
2068:application-library/usb-cdc-device.c **** 
2069:application-library/usb-cdc-device.c ****         case USBD_IDX_MFC_STR:
2070:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetManufacturerStrDescriptor != NULL)
2071:application-library/usb-cdc-device.c ****           {
2072:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetManufacturerStrDescriptor(pdev->dev_speed, &len);
2073:application-library/usb-cdc-device.c ****           }
2074:application-library/usb-cdc-device.c ****           else
2075:application-library/usb-cdc-device.c ****           {
2076:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2077:application-library/usb-cdc-device.c ****             err++;
2078:application-library/usb-cdc-device.c ****           }
2079:application-library/usb-cdc-device.c ****           break;
2080:application-library/usb-cdc-device.c **** 
2081:application-library/usb-cdc-device.c ****         case USBD_IDX_PRODUCT_STR:
2082:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetProductStrDescriptor != NULL)
2083:application-library/usb-cdc-device.c ****           {
2084:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetProductStrDescriptor(pdev->dev_speed, &len);
2085:application-library/usb-cdc-device.c ****           }
2086:application-library/usb-cdc-device.c ****           else
2087:application-library/usb-cdc-device.c ****           {
2088:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2089:application-library/usb-cdc-device.c ****             err++;
2090:application-library/usb-cdc-device.c ****           }
2091:application-library/usb-cdc-device.c ****           break;
2092:application-library/usb-cdc-device.c **** 
2093:application-library/usb-cdc-device.c ****         case USBD_IDX_SERIAL_STR:
2094:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetSerialStrDescriptor != NULL)
2095:application-library/usb-cdc-device.c ****           {
ARM GAS  /tmp/ccgHoJ4C.s 			page 63


2096:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetSerialStrDescriptor(pdev->dev_speed, &len);
2097:application-library/usb-cdc-device.c ****           }
2098:application-library/usb-cdc-device.c ****           else
2099:application-library/usb-cdc-device.c ****           {
2100:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2101:application-library/usb-cdc-device.c ****             err++;
2102:application-library/usb-cdc-device.c ****           }
2103:application-library/usb-cdc-device.c ****           break;
2104:application-library/usb-cdc-device.c **** 
2105:application-library/usb-cdc-device.c ****         case USBD_IDX_CONFIG_STR:
2106:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetConfigurationStrDescriptor != NULL)
2107:application-library/usb-cdc-device.c ****           {
2108:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetConfigurationStrDescriptor(pdev->dev_speed, &len);
2109:application-library/usb-cdc-device.c ****           }
2110:application-library/usb-cdc-device.c ****           else
2111:application-library/usb-cdc-device.c ****           {
2112:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2113:application-library/usb-cdc-device.c ****             err++;
2114:application-library/usb-cdc-device.c ****           }
2115:application-library/usb-cdc-device.c ****           break;
2116:application-library/usb-cdc-device.c **** 
2117:application-library/usb-cdc-device.c ****         case USBD_IDX_INTERFACE_STR:
2118:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetInterfaceStrDescriptor != NULL)
2119:application-library/usb-cdc-device.c ****           {
2120:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetInterfaceStrDescriptor(pdev->dev_speed, &len);
2121:application-library/usb-cdc-device.c ****           }
2122:application-library/usb-cdc-device.c ****           else
2123:application-library/usb-cdc-device.c ****           {
2124:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2125:application-library/usb-cdc-device.c ****             err++;
2126:application-library/usb-cdc-device.c ****           }
2127:application-library/usb-cdc-device.c ****           break;
2128:application-library/usb-cdc-device.c **** 
2129:application-library/usb-cdc-device.c ****         default:
2130:application-library/usb-cdc-device.c **** 
2131:application-library/usb-cdc-device.c **** #if ((USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U))
2132:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2133:application-library/usb-cdc-device.c ****           err++;
2134:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
2135:application-library/usb-cdc-device.c ****           break;
2136:application-library/usb-cdc-device.c ****       }
2137:application-library/usb-cdc-device.c ****       break;
2138:application-library/usb-cdc-device.c **** 
2139:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE_QUALIFIER:
2140:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2141:application-library/usb-cdc-device.c ****       {
2142:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)pdev->pClass[0]->GetDeviceQualifierDescriptor(&len);
2143:application-library/usb-cdc-device.c ****       }
2144:application-library/usb-cdc-device.c ****       else
2145:application-library/usb-cdc-device.c ****       {
2146:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2147:application-library/usb-cdc-device.c ****         err++;
2148:application-library/usb-cdc-device.c ****       }
2149:application-library/usb-cdc-device.c ****       break;
2150:application-library/usb-cdc-device.c **** 
2151:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION:
2152:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
ARM GAS  /tmp/ccgHoJ4C.s 			page 64


2153:application-library/usb-cdc-device.c ****       {
2154:application-library/usb-cdc-device.c ****         pbuf = (uint8_t *)pdev->pClass[0]->GetOtherSpeedConfigDescriptor(&len);
2155:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
2156:application-library/usb-cdc-device.c ****       }
2157:application-library/usb-cdc-device.c ****       else
2158:application-library/usb-cdc-device.c ****       {
2159:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2160:application-library/usb-cdc-device.c ****         err++;
2161:application-library/usb-cdc-device.c ****       }
2162:application-library/usb-cdc-device.c ****       break;
2163:application-library/usb-cdc-device.c **** 
2164:application-library/usb-cdc-device.c ****     default:
2165:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2166:application-library/usb-cdc-device.c ****       err++;
2167:application-library/usb-cdc-device.c ****       break;
2168:application-library/usb-cdc-device.c ****   }
2169:application-library/usb-cdc-device.c **** 
2170:application-library/usb-cdc-device.c ****   if (err != 0U)
2171:application-library/usb-cdc-device.c ****   {
2172:application-library/usb-cdc-device.c ****     return;
2173:application-library/usb-cdc-device.c ****   }
2174:application-library/usb-cdc-device.c **** 
2175:application-library/usb-cdc-device.c ****   if (req->wLength != 0U)
2176:application-library/usb-cdc-device.c ****   {
2177:application-library/usb-cdc-device.c ****     if (len != 0U)
2178:application-library/usb-cdc-device.c ****     {
2179:application-library/usb-cdc-device.c ****       len = MIN(len, req->wLength);
2180:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, pbuf, len);
2181:application-library/usb-cdc-device.c ****     }
2182:application-library/usb-cdc-device.c ****     else
2183:application-library/usb-cdc-device.c ****     {
2184:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2185:application-library/usb-cdc-device.c ****     }
2186:application-library/usb-cdc-device.c ****   }
2187:application-library/usb-cdc-device.c ****   else
2188:application-library/usb-cdc-device.c ****   {
2189:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2190:application-library/usb-cdc-device.c ****   }
2191:application-library/usb-cdc-device.c **** }
2192:application-library/usb-cdc-device.c **** 
2193:application-library/usb-cdc-device.c **** 
2194:application-library/usb-cdc-device.c **** /**
2195:application-library/usb-cdc-device.c ****   * @brief  Set device address
2196:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2197:application-library/usb-cdc-device.c ****   * @param  req: usb request
2198:application-library/usb-cdc-device.c ****   * @retval status
2199:application-library/usb-cdc-device.c ****   */
2200:application-library/usb-cdc-device.c **** void USBD_SetAddress(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2201:application-library/usb-cdc-device.c **** {
2202:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
2203:application-library/usb-cdc-device.c **** 
2204:application-library/usb-cdc-device.c ****   if ((req->wIndex == 0U) && (req->wLength == 0U) && (req->wValue < 128U))
2205:application-library/usb-cdc-device.c ****   {
2206:application-library/usb-cdc-device.c ****     dev_addr = (uint8_t)(req->wValue) & 0x7FU;
2207:application-library/usb-cdc-device.c **** 
2208:application-library/usb-cdc-device.c ****     if (pdev->dev_state == USBD_STATE_CONFIGURED)
2209:application-library/usb-cdc-device.c ****     {
ARM GAS  /tmp/ccgHoJ4C.s 			page 65


2210:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2211:application-library/usb-cdc-device.c ****     }
2212:application-library/usb-cdc-device.c ****     else
2213:application-library/usb-cdc-device.c ****     {
2214:application-library/usb-cdc-device.c ****       pdev->dev_address = dev_addr;
2215:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(pdev, dev_addr);
2216:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendStatus(pdev);
2217:application-library/usb-cdc-device.c **** 
2218:application-library/usb-cdc-device.c ****       if (dev_addr != 0U)
2219:application-library/usb-cdc-device.c ****       {
2220:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_ADDRESSED;
2221:application-library/usb-cdc-device.c ****       }
2222:application-library/usb-cdc-device.c ****       else
2223:application-library/usb-cdc-device.c ****       {
2224:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_DEFAULT;
2225:application-library/usb-cdc-device.c ****       }
2226:application-library/usb-cdc-device.c ****     }
2227:application-library/usb-cdc-device.c ****   }
2228:application-library/usb-cdc-device.c ****   else
2229:application-library/usb-cdc-device.c ****   {
2230:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2231:application-library/usb-cdc-device.c ****   }
2232:application-library/usb-cdc-device.c **** }
2233:application-library/usb-cdc-device.c **** 
2234:application-library/usb-cdc-device.c **** /**
2235:application-library/usb-cdc-device.c ****   * @brief  Handle Set device configuration request
2236:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2237:application-library/usb-cdc-device.c ****   * @param  req: usb request
2238:application-library/usb-cdc-device.c ****   * @retval status
2239:application-library/usb-cdc-device.c ****   */
2240:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_SetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2241:application-library/usb-cdc-device.c **** {
2242:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
2243:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
2244:application-library/usb-cdc-device.c **** 
2245:application-library/usb-cdc-device.c ****   cfgidx = (uint8_t)(req->wValue);
2246:application-library/usb-cdc-device.c **** 
2247:application-library/usb-cdc-device.c ****   if (cfgidx > USBD_MAX_NUM_CONFIGURATION)
2248:application-library/usb-cdc-device.c ****   {
2249:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2250:application-library/usb-cdc-device.c ****     return USBD_FAIL;
2251:application-library/usb-cdc-device.c ****   }
2252:application-library/usb-cdc-device.c **** 
2253:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2254:application-library/usb-cdc-device.c ****   {
2255:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2256:application-library/usb-cdc-device.c ****       if (cfgidx != 0U)
2257:application-library/usb-cdc-device.c ****       {
2258:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2259:application-library/usb-cdc-device.c **** 
2260:application-library/usb-cdc-device.c ****         ret = USBD_SetClassConfig(pdev, cfgidx);
2261:application-library/usb-cdc-device.c **** 
2262:application-library/usb-cdc-device.c ****         if (ret != USBD_OK)
2263:application-library/usb-cdc-device.c ****         {
2264:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2265:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
2266:application-library/usb-cdc-device.c ****         }
ARM GAS  /tmp/ccgHoJ4C.s 			page 66


2267:application-library/usb-cdc-device.c ****         else
2268:application-library/usb-cdc-device.c ****         {
2269:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendStatus(pdev);
2270:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_CONFIGURED;
2271:application-library/usb-cdc-device.c ****         }
2272:application-library/usb-cdc-device.c ****       }
2273:application-library/usb-cdc-device.c ****       else
2274:application-library/usb-cdc-device.c ****       {
2275:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2276:application-library/usb-cdc-device.c ****       }
2277:application-library/usb-cdc-device.c ****       break;
2278:application-library/usb-cdc-device.c **** 
2279:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2280:application-library/usb-cdc-device.c ****       if (cfgidx == 0U)
2281:application-library/usb-cdc-device.c ****       {
2282:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_ADDRESSED;
2283:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2284:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, cfgidx);
2285:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2286:application-library/usb-cdc-device.c ****       }
2287:application-library/usb-cdc-device.c ****       else if (cfgidx != pdev->dev_config)
2288:application-library/usb-cdc-device.c ****       {
2289:application-library/usb-cdc-device.c ****         /* Clear old configuration */
2290:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
2291:application-library/usb-cdc-device.c **** 
2292:application-library/usb-cdc-device.c ****         /* set new configuration */
2293:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2294:application-library/usb-cdc-device.c **** 
2295:application-library/usb-cdc-device.c ****         ret = USBD_SetClassConfig(pdev, cfgidx);
2296:application-library/usb-cdc-device.c **** 
2297:application-library/usb-cdc-device.c ****         if (ret != USBD_OK)
2298:application-library/usb-cdc-device.c ****         {
2299:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2300:application-library/usb-cdc-device.c ****           (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
2301:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
2302:application-library/usb-cdc-device.c ****         }
2303:application-library/usb-cdc-device.c ****         else
2304:application-library/usb-cdc-device.c ****         {
2305:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendStatus(pdev);
2306:application-library/usb-cdc-device.c ****         }
2307:application-library/usb-cdc-device.c ****       }
2308:application-library/usb-cdc-device.c ****       else
2309:application-library/usb-cdc-device.c ****       {
2310:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2311:application-library/usb-cdc-device.c ****       }
2312:application-library/usb-cdc-device.c ****       break;
2313:application-library/usb-cdc-device.c **** 
2314:application-library/usb-cdc-device.c ****     default:
2315:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2316:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(pdev, cfgidx);
2317:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
2318:application-library/usb-cdc-device.c ****       break;
2319:application-library/usb-cdc-device.c ****   }
2320:application-library/usb-cdc-device.c **** 
2321:application-library/usb-cdc-device.c ****   return ret;
2322:application-library/usb-cdc-device.c **** }
2323:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 67


2324:application-library/usb-cdc-device.c **** /**
2325:application-library/usb-cdc-device.c ****   * @brief  Handle Get device configuration request
2326:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2327:application-library/usb-cdc-device.c ****   * @param  req: usb request
2328:application-library/usb-cdc-device.c ****   * @retval status
2329:application-library/usb-cdc-device.c ****   */
2330:application-library/usb-cdc-device.c **** void USBD_GetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2331:application-library/usb-cdc-device.c **** {
2332:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
2333:application-library/usb-cdc-device.c ****   {
2334:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2335:application-library/usb-cdc-device.c ****   }
2336:application-library/usb-cdc-device.c ****   else
2337:application-library/usb-cdc-device.c ****   {
2338:application-library/usb-cdc-device.c ****     switch (pdev->dev_state)
2339:application-library/usb-cdc-device.c ****     {
2340:application-library/usb-cdc-device.c ****       case USBD_STATE_DEFAULT:
2341:application-library/usb-cdc-device.c ****       case USBD_STATE_ADDRESSED:
2342:application-library/usb-cdc-device.c ****         pdev->dev_default_config = 0U;
2343:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_default_config, 1U);
2344:application-library/usb-cdc-device.c ****         break;
2345:application-library/usb-cdc-device.c **** 
2346:application-library/usb-cdc-device.c ****       case USBD_STATE_CONFIGURED:
2347:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_config, 1U);
2348:application-library/usb-cdc-device.c ****         break;
2349:application-library/usb-cdc-device.c **** 
2350:application-library/usb-cdc-device.c ****       default:
2351:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2352:application-library/usb-cdc-device.c ****         break;
2353:application-library/usb-cdc-device.c ****     }
2354:application-library/usb-cdc-device.c ****   }
2355:application-library/usb-cdc-device.c **** }
2356:application-library/usb-cdc-device.c **** 
2357:application-library/usb-cdc-device.c **** /**
2358:application-library/usb-cdc-device.c ****   * @brief  USBD_GetStatus
2359:application-library/usb-cdc-device.c ****   *         Handle Get Status request
2360:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2361:application-library/usb-cdc-device.c ****   * @param  req: usb request
2362:application-library/usb-cdc-device.c ****   * @retval status
2363:application-library/usb-cdc-device.c ****   */
2364:application-library/usb-cdc-device.c **** void USBD_GetStatus(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2365:application-library/usb-cdc-device.c **** {
2366:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2367:application-library/usb-cdc-device.c ****   {
2368:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2369:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2370:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2371:application-library/usb-cdc-device.c ****       if (req->wLength != 0x2U)
2372:application-library/usb-cdc-device.c ****       {
2373:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2374:application-library/usb-cdc-device.c ****         break;
2375:application-library/usb-cdc-device.c ****       }
2376:application-library/usb-cdc-device.c **** 
2377:application-library/usb-cdc-device.c **** #if (USBD_SELF_POWERED == 1U)
2378:application-library/usb-cdc-device.c ****       pdev->dev_config_status = USB_CONFIG_SELF_POWERED;
2379:application-library/usb-cdc-device.c **** #else
2380:application-library/usb-cdc-device.c ****       pdev->dev_config_status = 0U;
ARM GAS  /tmp/ccgHoJ4C.s 			page 68


2381:application-library/usb-cdc-device.c **** #endif /* USBD_SELF_POWERED */
2382:application-library/usb-cdc-device.c **** 
2383:application-library/usb-cdc-device.c ****       if (pdev->dev_remote_wakeup != 0U)
2384:application-library/usb-cdc-device.c ****       {
2385:application-library/usb-cdc-device.c ****         pdev->dev_config_status |= USB_CONFIG_REMOTE_WAKEUP;
2386:application-library/usb-cdc-device.c ****       }
2387:application-library/usb-cdc-device.c **** 
2388:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_config_status, 2U);
2389:application-library/usb-cdc-device.c ****       break;
2390:application-library/usb-cdc-device.c **** 
2391:application-library/usb-cdc-device.c ****     default:
2392:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2393:application-library/usb-cdc-device.c ****       break;
2394:application-library/usb-cdc-device.c ****   }
2395:application-library/usb-cdc-device.c **** }
2396:application-library/usb-cdc-device.c **** 
2397:application-library/usb-cdc-device.c **** 
2398:application-library/usb-cdc-device.c **** /**
2399:application-library/usb-cdc-device.c ****   * @brief  USBD_SetFeature
2400:application-library/usb-cdc-device.c ****   *         Handle Set device feature request
2401:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2402:application-library/usb-cdc-device.c ****   * @param  req: usb request
2403:application-library/usb-cdc-device.c ****   * @retval status
2404:application-library/usb-cdc-device.c ****   */
2405:application-library/usb-cdc-device.c **** void USBD_SetFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2406:application-library/usb-cdc-device.c **** {
2407:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2408:application-library/usb-cdc-device.c ****   {
2409:application-library/usb-cdc-device.c ****     pdev->dev_remote_wakeup = 1U;
2410:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2411:application-library/usb-cdc-device.c ****   }
2412:application-library/usb-cdc-device.c ****   else if (req->wValue == USB_FEATURE_TEST_MODE)
2413:application-library/usb-cdc-device.c ****   {
2414:application-library/usb-cdc-device.c ****     pdev->dev_test_mode = req->wIndex >> 8;
2415:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2416:application-library/usb-cdc-device.c ****   }
2417:application-library/usb-cdc-device.c ****   else
2418:application-library/usb-cdc-device.c ****   {
2419:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2420:application-library/usb-cdc-device.c ****   }
2421:application-library/usb-cdc-device.c **** }
2422:application-library/usb-cdc-device.c **** 
2423:application-library/usb-cdc-device.c **** 
2424:application-library/usb-cdc-device.c **** /**
2425:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrFeature
2426:application-library/usb-cdc-device.c ****   *         Handle clear device feature request
2427:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2428:application-library/usb-cdc-device.c ****   * @param  req: usb request
2429:application-library/usb-cdc-device.c ****   * @retval status
2430:application-library/usb-cdc-device.c ****   */
2431:application-library/usb-cdc-device.c **** void USBD_ClrFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2432:application-library/usb-cdc-device.c **** {
2433:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2434:application-library/usb-cdc-device.c ****   {
2435:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2436:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2437:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
ARM GAS  /tmp/ccgHoJ4C.s 			page 69


2438:application-library/usb-cdc-device.c ****       if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2439:application-library/usb-cdc-device.c ****       {
2440:application-library/usb-cdc-device.c ****         pdev->dev_remote_wakeup = 0U;
2441:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2442:application-library/usb-cdc-device.c ****       }
2443:application-library/usb-cdc-device.c ****       break;
2444:application-library/usb-cdc-device.c **** 
2445:application-library/usb-cdc-device.c ****     default:
2446:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2447:application-library/usb-cdc-device.c ****       break;
2448:application-library/usb-cdc-device.c ****   }
2449:application-library/usb-cdc-device.c **** }
2450:application-library/usb-cdc-device.c **** 
2451:application-library/usb-cdc-device.c **** 
2452:application-library/usb-cdc-device.c **** /**
2453:application-library/usb-cdc-device.c ****   * @brief  USBD_ParseSetupRequest
2454:application-library/usb-cdc-device.c ****   *         Copy buffer into setup structure
2455:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2456:application-library/usb-cdc-device.c ****   * @param  req: usb request
2457:application-library/usb-cdc-device.c ****   * @retval None
2458:application-library/usb-cdc-device.c ****   */
2459:application-library/usb-cdc-device.c **** void USBD_ParseSetupRequest(USBD_SetupReqTypedef *req, uint8_t *pdata)
2460:application-library/usb-cdc-device.c **** {
 1404              		.loc 1 2460 0
 1405              		.cfi_startproc
 1406              		@ args = 0, pretend = 0, frame = 0
 1407              		@ frame_needed = 0, uses_anonymous_args = 0
 1408              		@ link register save eliminated.
 1409              	.LVL139:
2461:application-library/usb-cdc-device.c ****   uint8_t *pbuff = pdata;
2462:application-library/usb-cdc-device.c **** 
2463:application-library/usb-cdc-device.c ****   req->bmRequest = *(uint8_t *)(pbuff);
 1410              		.loc 1 2463 0
 1411 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 1412 0002 0370     		strb	r3, [r0]
 1413              	.LVL140:
2464:application-library/usb-cdc-device.c **** 
2465:application-library/usb-cdc-device.c ****   pbuff++;
2466:application-library/usb-cdc-device.c ****   req->bRequest = *(uint8_t *)(pbuff);
 1414              		.loc 1 2466 0
 1415 0004 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1416 0006 4370     		strb	r3, [r0, #1]
 1417              	.LVL141:
 1418              	.LBB8:
 1419              	.LBB9:
 1420              		.file 2 "application-library/usb-cdc-device.h"
   1:application-library/usb-cdc-device.h **** 
   2:application-library/usb-cdc-device.h **** #ifndef __USB_CDC_DEVICE_H
   3:application-library/usb-cdc-device.h **** #define __USB_CDC_DEVICE_H
   4:application-library/usb-cdc-device.h **** 
   5:application-library/usb-cdc-device.h **** /* Includes ------------------------------------------------------------------*/
   6:application-library/usb-cdc-device.h **** /* usb_device.h ---- ---- ---- ---- */
   7:application-library/usb-cdc-device.h **** #include "stm32f4xx.h"
   8:application-library/usb-cdc-device.h **** #include "stm32f4xx_hal.h"
   9:application-library/usb-cdc-device.h **** 
  10:application-library/usb-cdc-device.h **** #include <stdio.h>
  11:application-library/usb-cdc-device.h **** #include <stdlib.h>
ARM GAS  /tmp/ccgHoJ4C.s 			page 70


  12:application-library/usb-cdc-device.h **** #include <string.h>
  13:application-library/usb-cdc-device.h **** 
  14:application-library/usb-cdc-device.h **** // #include "usbd_conf.h"
  15:application-library/usb-cdc-device.h **** 
  16:application-library/usb-cdc-device.h **** #ifndef __USBD_DEF_H
  17:application-library/usb-cdc-device.h **** #define __USBD_DEF_H
  18:application-library/usb-cdc-device.h **** 
  19:application-library/usb-cdc-device.h **** 
  20:application-library/usb-cdc-device.h **** /* usbd_def.h BEGIN ---- ---- ---- ---- */
  21:application-library/usb-cdc-device.h **** #ifndef NULL
  22:application-library/usb-cdc-device.h **** #define NULL                                            0U
  23:application-library/usb-cdc-device.h **** #endif /* NULL */
  24:application-library/usb-cdc-device.h **** 
  25:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_NUM_INTERFACES
  26:application-library/usb-cdc-device.h **** #define USBD_MAX_NUM_INTERFACES                         1U
  27:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  28:application-library/usb-cdc-device.h **** 
  29:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_NUM_CONFIGURATION
  30:application-library/usb-cdc-device.h **** #define USBD_MAX_NUM_CONFIGURATION                      1U
  31:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  32:application-library/usb-cdc-device.h **** 
  33:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
  34:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_SUPPORTED_CLASS
  35:application-library/usb-cdc-device.h **** #define USBD_MAX_SUPPORTED_CLASS                       4U
  36:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_SUPPORTED_CLASS */
  37:application-library/usb-cdc-device.h **** #else
  38:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_SUPPORTED_CLASS
  39:application-library/usb-cdc-device.h **** #define USBD_MAX_SUPPORTED_CLASS                       1U
  40:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_SUPPORTED_CLASS */
  41:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
  42:application-library/usb-cdc-device.h **** 
  43:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_CLASS_ENDPOINTS
  44:application-library/usb-cdc-device.h **** #define USBD_MAX_CLASS_ENDPOINTS                       5U
  45:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_CLASS_ENDPOINTS */
  46:application-library/usb-cdc-device.h **** 
  47:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_CLASS_INTERFACES
  48:application-library/usb-cdc-device.h **** #define USBD_MAX_CLASS_INTERFACES                      5U
  49:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_CLASS_INTERFACES */
  50:application-library/usb-cdc-device.h **** 
  51:application-library/usb-cdc-device.h **** #ifndef USBD_LPM_ENABLED
  52:application-library/usb-cdc-device.h **** #define USBD_LPM_ENABLED                                0U
  53:application-library/usb-cdc-device.h **** #endif /* USBD_LPM_ENABLED */
  54:application-library/usb-cdc-device.h **** 
  55:application-library/usb-cdc-device.h **** #ifndef USBD_SELF_POWERED
  56:application-library/usb-cdc-device.h **** #define USBD_SELF_POWERED                               1U
  57:application-library/usb-cdc-device.h **** #endif /*USBD_SELF_POWERED */
  58:application-library/usb-cdc-device.h **** 
  59:application-library/usb-cdc-device.h **** #ifndef USBD_MAX_POWER
  60:application-library/usb-cdc-device.h **** #define USBD_MAX_POWER                                  0x32U /* 100 mA */
  61:application-library/usb-cdc-device.h **** #endif /* USBD_MAX_POWER */
  62:application-library/usb-cdc-device.h **** 
  63:application-library/usb-cdc-device.h **** #ifndef USBD_SUPPORT_USER_STRING_DESC
  64:application-library/usb-cdc-device.h **** #define USBD_SUPPORT_USER_STRING_DESC                   0U
  65:application-library/usb-cdc-device.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC */
  66:application-library/usb-cdc-device.h **** 
  67:application-library/usb-cdc-device.h **** #ifndef USBD_CLASS_USER_STRING_DESC
  68:application-library/usb-cdc-device.h **** #define USBD_CLASS_USER_STRING_DESC                     0U
ARM GAS  /tmp/ccgHoJ4C.s 			page 71


  69:application-library/usb-cdc-device.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
  70:application-library/usb-cdc-device.h **** 
  71:application-library/usb-cdc-device.h **** #define  USB_LEN_DEV_QUALIFIER_DESC                     0x0AU
  72:application-library/usb-cdc-device.h **** #define  USB_LEN_DEV_DESC                               0x12U
  73:application-library/usb-cdc-device.h **** #define  USB_LEN_CFG_DESC                               0x09U
  74:application-library/usb-cdc-device.h **** #define  USB_LEN_IF_DESC                                0x09U
  75:application-library/usb-cdc-device.h **** #define  USB_LEN_EP_DESC                                0x07U
  76:application-library/usb-cdc-device.h **** #define  USB_LEN_OTG_DESC                               0x03U
  77:application-library/usb-cdc-device.h **** #define  USB_LEN_LANGID_STR_DESC                        0x04U
  78:application-library/usb-cdc-device.h **** #define  USB_LEN_OTHER_SPEED_DESC_SIZ                   0x09U
  79:application-library/usb-cdc-device.h **** 
  80:application-library/usb-cdc-device.h **** #define  USBD_IDX_LANGID_STR                            0x00U
  81:application-library/usb-cdc-device.h **** #define  USBD_IDX_MFC_STR                               0x01U
  82:application-library/usb-cdc-device.h **** #define  USBD_IDX_PRODUCT_STR                           0x02U
  83:application-library/usb-cdc-device.h **** #define  USBD_IDX_SERIAL_STR                            0x03U
  84:application-library/usb-cdc-device.h **** #define  USBD_IDX_CONFIG_STR                            0x04U
  85:application-library/usb-cdc-device.h **** #define  USBD_IDX_INTERFACE_STR                         0x05U
  86:application-library/usb-cdc-device.h **** 
  87:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_STANDARD                          0x00U
  88:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_CLASS                             0x20U
  89:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_VENDOR                            0x40U
  90:application-library/usb-cdc-device.h **** #define  USB_REQ_TYPE_MASK                              0x60U
  91:application-library/usb-cdc-device.h **** 
  92:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_DEVICE                       0x00U
  93:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_INTERFACE                    0x01U
  94:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_ENDPOINT                     0x02U
  95:application-library/usb-cdc-device.h **** #define  USB_REQ_RECIPIENT_MASK                         0x03U
  96:application-library/usb-cdc-device.h **** 
  97:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_STATUS                             0x00U
  98:application-library/usb-cdc-device.h **** #define  USB_REQ_CLEAR_FEATURE                          0x01U
  99:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_FEATURE                            0x03U
 100:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_ADDRESS                            0x05U
 101:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_DESCRIPTOR                         0x06U
 102:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_DESCRIPTOR                         0x07U
 103:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_CONFIGURATION                      0x08U
 104:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_CONFIGURATION                      0x09U
 105:application-library/usb-cdc-device.h **** #define  USB_REQ_GET_INTERFACE                          0x0AU
 106:application-library/usb-cdc-device.h **** #define  USB_REQ_SET_INTERFACE                          0x0BU
 107:application-library/usb-cdc-device.h **** #define  USB_REQ_SYNCH_FRAME                            0x0CU
 108:application-library/usb-cdc-device.h **** 
 109:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_DEVICE                           0x01U
 110:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_CONFIGURATION                    0x02U
 111:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_STRING                           0x03U
 112:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_INTERFACE                        0x04U
 113:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_ENDPOINT                         0x05U
 114:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_DEVICE_QUALIFIER                 0x06U
 115:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION        0x07U
 116:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_IAD                              0x0BU
 117:application-library/usb-cdc-device.h **** #define  USB_DESC_TYPE_BOS                              0x0FU
 118:application-library/usb-cdc-device.h **** 
 119:application-library/usb-cdc-device.h **** #define USB_CONFIG_REMOTE_WAKEUP                        0x02U
 120:application-library/usb-cdc-device.h **** #define USB_CONFIG_SELF_POWERED                         0x01U
 121:application-library/usb-cdc-device.h **** 
 122:application-library/usb-cdc-device.h **** #define USB_FEATURE_EP_HALT                             0x00U
 123:application-library/usb-cdc-device.h **** #define USB_FEATURE_REMOTE_WAKEUP                       0x01U
 124:application-library/usb-cdc-device.h **** #define USB_FEATURE_TEST_MODE                           0x02U
 125:application-library/usb-cdc-device.h **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 72


 126:application-library/usb-cdc-device.h **** #define USB_DEVICE_CAPABITY_TYPE                        0x10U
 127:application-library/usb-cdc-device.h **** 
 128:application-library/usb-cdc-device.h **** #define USB_CONF_DESC_SIZE                              0x09U
 129:application-library/usb-cdc-device.h **** #define USB_IF_DESC_SIZE                                0x09U
 130:application-library/usb-cdc-device.h **** #define USB_EP_DESC_SIZE                                0x07U
 131:application-library/usb-cdc-device.h **** #define USB_IAD_DESC_SIZE                               0x08U
 132:application-library/usb-cdc-device.h **** 
 133:application-library/usb-cdc-device.h **** #define USB_HS_MAX_PACKET_SIZE                          512U
 134:application-library/usb-cdc-device.h **** #define USB_FS_MAX_PACKET_SIZE                          64U
 135:application-library/usb-cdc-device.h **** #define USB_MAX_EP0_SIZE                                64U
 136:application-library/usb-cdc-device.h **** 
 137:application-library/usb-cdc-device.h **** /*  Device Status */
 138:application-library/usb-cdc-device.h **** #define USBD_STATE_DEFAULT                              0x01U
 139:application-library/usb-cdc-device.h **** #define USBD_STATE_ADDRESSED                            0x02U
 140:application-library/usb-cdc-device.h **** #define USBD_STATE_CONFIGURED                           0x03U
 141:application-library/usb-cdc-device.h **** #define USBD_STATE_SUSPENDED                            0x04U
 142:application-library/usb-cdc-device.h **** 
 143:application-library/usb-cdc-device.h **** 
 144:application-library/usb-cdc-device.h **** /*  EP0 State */
 145:application-library/usb-cdc-device.h **** #define USBD_EP0_IDLE                                   0x00U
 146:application-library/usb-cdc-device.h **** #define USBD_EP0_SETUP                                  0x01U
 147:application-library/usb-cdc-device.h **** #define USBD_EP0_DATA_IN                                0x02U
 148:application-library/usb-cdc-device.h **** #define USBD_EP0_DATA_OUT                               0x03U
 149:application-library/usb-cdc-device.h **** #define USBD_EP0_STATUS_IN                              0x04U
 150:application-library/usb-cdc-device.h **** #define USBD_EP0_STATUS_OUT                             0x05U
 151:application-library/usb-cdc-device.h **** #define USBD_EP0_STALL                                  0x06U
 152:application-library/usb-cdc-device.h **** 
 153:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_CTRL                               0x00U
 154:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_ISOC                               0x01U
 155:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_BULK                               0x02U
 156:application-library/usb-cdc-device.h **** #define USBD_EP_TYPE_INTR                               0x03U
 157:application-library/usb-cdc-device.h **** 
 158:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 159:application-library/usb-cdc-device.h **** #define USBD_EP_IN                                      0x80U
 160:application-library/usb-cdc-device.h **** #define USBD_EP_OUT                                     0x00U
 161:application-library/usb-cdc-device.h **** #define USBD_FUNC_DESCRIPTOR_TYPE                       0x24U
 162:application-library/usb-cdc-device.h **** #define USBD_DESC_SUBTYPE_ACM                           0x0FU
 163:application-library/usb-cdc-device.h **** #define USBD_DESC_ECM_BCD_LOW                           0x00U
 164:application-library/usb-cdc-device.h **** #define USBD_DESC_ECM_BCD_HIGH                          0x10U
 165:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
 166:application-library/usb-cdc-device.h **** /**
 167:application-library/usb-cdc-device.h ****   * @}
 168:application-library/usb-cdc-device.h ****   */
 169:application-library/usb-cdc-device.h **** 
 170:application-library/usb-cdc-device.h **** 
 171:application-library/usb-cdc-device.h **** /** @defgroup USBD_DEF_Exported_TypesDefinitions
 172:application-library/usb-cdc-device.h ****   * @{
 173:application-library/usb-cdc-device.h ****   */
 174:application-library/usb-cdc-device.h **** 
 175:application-library/usb-cdc-device.h **** typedef  struct  usb_setup_req
 176:application-library/usb-cdc-device.h **** {
 177:application-library/usb-cdc-device.h ****   uint8_t   bmRequest;
 178:application-library/usb-cdc-device.h ****   uint8_t   bRequest;
 179:application-library/usb-cdc-device.h ****   uint16_t  wValue;
 180:application-library/usb-cdc-device.h ****   uint16_t  wIndex;
 181:application-library/usb-cdc-device.h ****   uint16_t  wLength;
 182:application-library/usb-cdc-device.h **** } USBD_SetupReqTypedef;
ARM GAS  /tmp/ccgHoJ4C.s 			page 73


 183:application-library/usb-cdc-device.h **** 
 184:application-library/usb-cdc-device.h **** typedef struct
 185:application-library/usb-cdc-device.h **** {
 186:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 187:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 188:application-library/usb-cdc-device.h ****   uint16_t  wTotalLength;
 189:application-library/usb-cdc-device.h ****   uint8_t   bNumInterfaces;
 190:application-library/usb-cdc-device.h ****   uint8_t   bConfigurationValue;
 191:application-library/usb-cdc-device.h ****   uint8_t   iConfiguration;
 192:application-library/usb-cdc-device.h ****   uint8_t   bmAttributes;
 193:application-library/usb-cdc-device.h ****   uint8_t   bMaxPower;
 194:application-library/usb-cdc-device.h **** } __PACKED USBD_ConfigDescTypeDef;
 195:application-library/usb-cdc-device.h **** 
 196:application-library/usb-cdc-device.h **** typedef struct
 197:application-library/usb-cdc-device.h **** {
 198:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 199:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 200:application-library/usb-cdc-device.h ****   uint16_t  wTotalLength;
 201:application-library/usb-cdc-device.h ****   uint8_t   bNumDeviceCaps;
 202:application-library/usb-cdc-device.h **** } USBD_BosDescTypeDef;
 203:application-library/usb-cdc-device.h **** 
 204:application-library/usb-cdc-device.h **** typedef struct
 205:application-library/usb-cdc-device.h **** {
 206:application-library/usb-cdc-device.h ****   uint8_t   bLength;
 207:application-library/usb-cdc-device.h ****   uint8_t   bDescriptorType;
 208:application-library/usb-cdc-device.h ****   uint8_t   bEndpointAddress;
 209:application-library/usb-cdc-device.h ****   uint8_t   bmAttributes;
 210:application-library/usb-cdc-device.h ****   uint16_t  wMaxPacketSize;
 211:application-library/usb-cdc-device.h ****   uint8_t   bInterval;
 212:application-library/usb-cdc-device.h **** } __PACKED USBD_EpDescTypeDef;
 213:application-library/usb-cdc-device.h **** 
 214:application-library/usb-cdc-device.h **** typedef  struct
 215:application-library/usb-cdc-device.h **** {
 216:application-library/usb-cdc-device.h ****   uint8_t  bLength;
 217:application-library/usb-cdc-device.h ****   uint8_t  bDescriptorType;
 218:application-library/usb-cdc-device.h ****   uint8_t  bDescriptorSubType;
 219:application-library/usb-cdc-device.h **** } USBD_DescHeaderTypeDef;
 220:application-library/usb-cdc-device.h **** 
 221:application-library/usb-cdc-device.h **** struct _USBD_HandleTypeDef;
 222:application-library/usb-cdc-device.h **** 
 223:application-library/usb-cdc-device.h **** typedef struct _Device_cb
 224:application-library/usb-cdc-device.h **** {
 225:application-library/usb-cdc-device.h ****   uint8_t (*Init)(struct _USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 226:application-library/usb-cdc-device.h ****   uint8_t (*DeInit)(struct _USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 227:application-library/usb-cdc-device.h ****   /* Control Endpoints*/
 228:application-library/usb-cdc-device.h ****   uint8_t (*Setup)(struct _USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef  *req);
 229:application-library/usb-cdc-device.h ****   uint8_t (*EP0_TxSent)(struct _USBD_HandleTypeDef *pdev);
 230:application-library/usb-cdc-device.h ****   uint8_t (*EP0_RxReady)(struct _USBD_HandleTypeDef *pdev);
 231:application-library/usb-cdc-device.h ****   /* Class Specific Endpoints*/
 232:application-library/usb-cdc-device.h ****   uint8_t (*DataIn)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 233:application-library/usb-cdc-device.h ****   uint8_t (*DataOut)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 234:application-library/usb-cdc-device.h ****   uint8_t (*SOF)(struct _USBD_HandleTypeDef *pdev);
 235:application-library/usb-cdc-device.h ****   uint8_t (*IsoINIncomplete)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 236:application-library/usb-cdc-device.h ****   uint8_t (*IsoOUTIncomplete)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 237:application-library/usb-cdc-device.h **** 
 238:application-library/usb-cdc-device.h ****   uint8_t  *(*GetHSConfigDescriptor)(uint16_t *length);
 239:application-library/usb-cdc-device.h ****   uint8_t  *(*GetFSConfigDescriptor)(uint16_t *length);
ARM GAS  /tmp/ccgHoJ4C.s 			page 74


 240:application-library/usb-cdc-device.h ****   uint8_t  *(*GetOtherSpeedConfigDescriptor)(uint16_t *length);
 241:application-library/usb-cdc-device.h ****   uint8_t  *(*GetDeviceQualifierDescriptor)(uint16_t *length);
 242:application-library/usb-cdc-device.h **** #if (USBD_SUPPORT_USER_STRING_DESC == 1U)
 243:application-library/usb-cdc-device.h ****   uint8_t  *(*GetUsrStrDescriptor)(struct _USBD_HandleTypeDef *pdev, uint8_t index,  uint16_t *leng
 244:application-library/usb-cdc-device.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC  */
 245:application-library/usb-cdc-device.h **** 
 246:application-library/usb-cdc-device.h **** } USBD_ClassTypeDef;
 247:application-library/usb-cdc-device.h **** 
 248:application-library/usb-cdc-device.h **** /* Following USB Device Speed */
 249:application-library/usb-cdc-device.h **** typedef enum
 250:application-library/usb-cdc-device.h **** {
 251:application-library/usb-cdc-device.h ****   USBD_SPEED_HIGH  = 0U,
 252:application-library/usb-cdc-device.h ****   USBD_SPEED_FULL  = 1U,
 253:application-library/usb-cdc-device.h ****   USBD_SPEED_LOW   = 2U,
 254:application-library/usb-cdc-device.h **** } USBD_SpeedTypeDef;
 255:application-library/usb-cdc-device.h **** 
 256:application-library/usb-cdc-device.h **** /* Following USB Device status */
 257:application-library/usb-cdc-device.h **** typedef enum
 258:application-library/usb-cdc-device.h **** {
 259:application-library/usb-cdc-device.h ****   USBD_OK = 0U,
 260:application-library/usb-cdc-device.h ****   USBD_BUSY,
 261:application-library/usb-cdc-device.h ****   USBD_EMEM,
 262:application-library/usb-cdc-device.h ****   USBD_FAIL,
 263:application-library/usb-cdc-device.h **** } USBD_StatusTypeDef;
 264:application-library/usb-cdc-device.h **** 
 265:application-library/usb-cdc-device.h **** /* USB Device descriptors structure */
 266:application-library/usb-cdc-device.h **** typedef struct
 267:application-library/usb-cdc-device.h **** {
 268:application-library/usb-cdc-device.h ****   uint8_t *(*GetDeviceDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 269:application-library/usb-cdc-device.h ****   uint8_t *(*GetLangIDStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 270:application-library/usb-cdc-device.h ****   uint8_t *(*GetManufacturerStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 271:application-library/usb-cdc-device.h ****   uint8_t *(*GetProductStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 272:application-library/usb-cdc-device.h ****   uint8_t *(*GetSerialStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 273:application-library/usb-cdc-device.h ****   uint8_t *(*GetConfigurationStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 274:application-library/usb-cdc-device.h ****   uint8_t *(*GetInterfaceStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 275:application-library/usb-cdc-device.h **** #if (USBD_CLASS_USER_STRING_DESC == 1)
 276:application-library/usb-cdc-device.h ****   uint8_t *(*GetUserStrDescriptor)(USBD_SpeedTypeDef speed, uint8_t idx, uint16_t *length);
 277:application-library/usb-cdc-device.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
 278:application-library/usb-cdc-device.h **** #if ((USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1))
 279:application-library/usb-cdc-device.h ****   uint8_t *(*GetBOSDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 280:application-library/usb-cdc-device.h **** #endif /* (USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1) */
 281:application-library/usb-cdc-device.h **** } USBD_DescriptorsTypeDef;
 282:application-library/usb-cdc-device.h **** 
 283:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 284:application-library/usb-cdc-device.h **** typedef struct
 285:application-library/usb-cdc-device.h **** {
 286:application-library/usb-cdc-device.h ****   uint32_t status;
 287:application-library/usb-cdc-device.h ****   uint32_t total_length;
 288:application-library/usb-cdc-device.h ****   uint32_t rem_length;
 289:application-library/usb-cdc-device.h ****   uint32_t maxpacket;
 290:application-library/usb-cdc-device.h ****   uint16_t is_used;
 291:application-library/usb-cdc-device.h ****   uint16_t bInterval;
 292:application-library/usb-cdc-device.h **** } USBD_EndpointTypeDef;
 293:application-library/usb-cdc-device.h **** 
 294:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 295:application-library/usb-cdc-device.h **** typedef enum
 296:application-library/usb-cdc-device.h **** {
ARM GAS  /tmp/ccgHoJ4C.s 			page 75


 297:application-library/usb-cdc-device.h ****   CLASS_TYPE_NONE    = 0,
 298:application-library/usb-cdc-device.h ****   CLASS_TYPE_HID     = 1,
 299:application-library/usb-cdc-device.h ****   CLASS_TYPE_CDC     = 2,
 300:application-library/usb-cdc-device.h ****   CLASS_TYPE_MSC     = 3,
 301:application-library/usb-cdc-device.h ****   CLASS_TYPE_DFU     = 4,
 302:application-library/usb-cdc-device.h ****   CLASS_TYPE_CHID    = 5,
 303:application-library/usb-cdc-device.h ****   CLASS_TYPE_AUDIO   = 6,
 304:application-library/usb-cdc-device.h ****   CLASS_TYPE_ECM     = 7,
 305:application-library/usb-cdc-device.h ****   CLASS_TYPE_RNDIS   = 8,
 306:application-library/usb-cdc-device.h ****   CLASS_TYPE_MTP     = 9,
 307:application-library/usb-cdc-device.h ****   CLASS_TYPE_VIDEO   = 10,
 308:application-library/usb-cdc-device.h ****   CLASS_TYPE_PRINTER = 11,
 309:application-library/usb-cdc-device.h ****   CLASS_TYPE_CCID    = 12,
 310:application-library/usb-cdc-device.h **** } USBD_CompositeClassTypeDef;
 311:application-library/usb-cdc-device.h **** 
 312:application-library/usb-cdc-device.h **** 
 313:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 314:application-library/usb-cdc-device.h **** typedef struct
 315:application-library/usb-cdc-device.h **** {
 316:application-library/usb-cdc-device.h ****   uint8_t                     add;
 317:application-library/usb-cdc-device.h ****   uint8_t                     type;
 318:application-library/usb-cdc-device.h ****   uint8_t                     size;
 319:application-library/usb-cdc-device.h ****   uint8_t                     is_used;
 320:application-library/usb-cdc-device.h **** } USBD_EPTypeDef;
 321:application-library/usb-cdc-device.h **** 
 322:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 323:application-library/usb-cdc-device.h **** typedef struct
 324:application-library/usb-cdc-device.h **** {
 325:application-library/usb-cdc-device.h ****   USBD_CompositeClassTypeDef   ClassType;
 326:application-library/usb-cdc-device.h ****   uint32_t                     ClassId;
 327:application-library/usb-cdc-device.h ****   uint32_t                     Active;
 328:application-library/usb-cdc-device.h ****   uint32_t                     NumEps;
 329:application-library/usb-cdc-device.h ****   USBD_EPTypeDef               Eps[USBD_MAX_CLASS_ENDPOINTS];
 330:application-library/usb-cdc-device.h ****   uint8_t                      *EpAdd;
 331:application-library/usb-cdc-device.h ****   uint32_t                     NumIf;
 332:application-library/usb-cdc-device.h ****   uint8_t                      Ifs[USBD_MAX_CLASS_INTERFACES];
 333:application-library/usb-cdc-device.h ****   uint32_t                     CurrPcktSze;
 334:application-library/usb-cdc-device.h **** } USBD_CompositeElementTypeDef;
 335:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
 336:application-library/usb-cdc-device.h **** 
 337:application-library/usb-cdc-device.h **** /* USB Device handle structure */
 338:application-library/usb-cdc-device.h **** typedef struct _USBD_HandleTypeDef
 339:application-library/usb-cdc-device.h **** {
 340:application-library/usb-cdc-device.h ****   uint8_t                 id;
 341:application-library/usb-cdc-device.h ****   uint32_t                dev_config;
 342:application-library/usb-cdc-device.h ****   uint32_t                dev_default_config;
 343:application-library/usb-cdc-device.h ****   uint32_t                dev_config_status;
 344:application-library/usb-cdc-device.h ****   USBD_SpeedTypeDef       dev_speed;
 345:application-library/usb-cdc-device.h ****   USBD_EndpointTypeDef    ep_in[16];
 346:application-library/usb-cdc-device.h ****   USBD_EndpointTypeDef    ep_out[16];
 347:application-library/usb-cdc-device.h ****   __IO uint32_t           ep0_state;
 348:application-library/usb-cdc-device.h ****   uint32_t                ep0_data_len;
 349:application-library/usb-cdc-device.h ****   __IO uint8_t            dev_state;
 350:application-library/usb-cdc-device.h ****   __IO uint8_t            dev_old_state;
 351:application-library/usb-cdc-device.h ****   uint8_t                 dev_address;
 352:application-library/usb-cdc-device.h ****   uint8_t                 dev_connection_status;
 353:application-library/usb-cdc-device.h ****   uint8_t                 dev_test_mode;
ARM GAS  /tmp/ccgHoJ4C.s 			page 76


 354:application-library/usb-cdc-device.h ****   uint32_t                dev_remote_wakeup;
 355:application-library/usb-cdc-device.h ****   uint8_t                 ConfIdx;
 356:application-library/usb-cdc-device.h **** 
 357:application-library/usb-cdc-device.h ****   USBD_SetupReqTypedef    request;
 358:application-library/usb-cdc-device.h ****   USBD_DescriptorsTypeDef *pDesc;
 359:application-library/usb-cdc-device.h ****   USBD_ClassTypeDef       *pClass[USBD_MAX_SUPPORTED_CLASS];
 360:application-library/usb-cdc-device.h ****   void                    *pClassData;
 361:application-library/usb-cdc-device.h ****   void                    *pClassDataCmsit[USBD_MAX_SUPPORTED_CLASS];
 362:application-library/usb-cdc-device.h ****   void                    *pUserData[USBD_MAX_SUPPORTED_CLASS];
 363:application-library/usb-cdc-device.h ****   void                    *pData;
 364:application-library/usb-cdc-device.h ****   void                    *pBosDesc;
 365:application-library/usb-cdc-device.h ****   void                    *pConfDesc;
 366:application-library/usb-cdc-device.h ****   uint32_t                classId;
 367:application-library/usb-cdc-device.h ****   uint32_t                NumClasses;
 368:application-library/usb-cdc-device.h **** #ifdef USE_USBD_COMPOSITE
 369:application-library/usb-cdc-device.h ****   USBD_CompositeElementTypeDef tclasslist[USBD_MAX_SUPPORTED_CLASS];
 370:application-library/usb-cdc-device.h **** #endif /* USE_USBD_COMPOSITE */
 371:application-library/usb-cdc-device.h **** } USBD_HandleTypeDef;
 372:application-library/usb-cdc-device.h **** 
 373:application-library/usb-cdc-device.h **** /* USB Device endpoint direction */
 374:application-library/usb-cdc-device.h **** typedef enum
 375:application-library/usb-cdc-device.h **** {
 376:application-library/usb-cdc-device.h ****   OUT   = 0x00,
 377:application-library/usb-cdc-device.h ****   IN    = 0x80,
 378:application-library/usb-cdc-device.h **** } USBD_EPDirectionTypeDef;
 379:application-library/usb-cdc-device.h **** 
 380:application-library/usb-cdc-device.h **** typedef enum
 381:application-library/usb-cdc-device.h **** {
 382:application-library/usb-cdc-device.h ****   NETWORK_CONNECTION = 0x00,
 383:application-library/usb-cdc-device.h ****   RESPONSE_AVAILABLE = 0x01,
 384:application-library/usb-cdc-device.h ****   CONNECTION_SPEED_CHANGE = 0x2A
 385:application-library/usb-cdc-device.h **** } USBD_CDC_NotifCodeTypeDef;
 386:application-library/usb-cdc-device.h **** /**
 387:application-library/usb-cdc-device.h ****   * @}
 388:application-library/usb-cdc-device.h ****   */
 389:application-library/usb-cdc-device.h **** 
 390:application-library/usb-cdc-device.h **** 
 391:application-library/usb-cdc-device.h **** 
 392:application-library/usb-cdc-device.h **** /** @defgroup USBD_DEF_Exported_Macros
 393:application-library/usb-cdc-device.h ****   * @{
 394:application-library/usb-cdc-device.h ****   */
 395:application-library/usb-cdc-device.h **** __STATIC_INLINE uint16_t SWAPBYTE(uint8_t *addr)
 396:application-library/usb-cdc-device.h **** {
 397:application-library/usb-cdc-device.h ****   uint16_t _SwapVal, _Byte1, _Byte2;
 398:application-library/usb-cdc-device.h ****   uint8_t *_pbuff = addr;
 399:application-library/usb-cdc-device.h **** 
 400:application-library/usb-cdc-device.h ****   _Byte1 = *(uint8_t *)_pbuff;
 1421              		.loc 2 400 0
 1422 0008 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 1423              	.LVL142:
 401:application-library/usb-cdc-device.h ****   _pbuff++;
 402:application-library/usb-cdc-device.h ****   _Byte2 = *(uint8_t *)_pbuff;
 1424              		.loc 2 402 0
 1425 000a CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 1426              	.LVL143:
 403:application-library/usb-cdc-device.h **** 
 404:application-library/usb-cdc-device.h ****   _SwapVal = (_Byte2 << 8) | _Byte1;
ARM GAS  /tmp/ccgHoJ4C.s 			page 77


 1427              		.loc 2 404 0
 1428 000c 43EA0223 		orr	r3, r3, r2, lsl #8
 1429              	.LVL144:
 1430              	.LBE9:
 1431              	.LBE8:
2467:application-library/usb-cdc-device.c **** 
2468:application-library/usb-cdc-device.c ****   pbuff++;
2469:application-library/usb-cdc-device.c ****   req->wValue = SWAPBYTE(pbuff);
 1432              		.loc 1 2469 0
 1433 0010 4380     		strh	r3, [r0, #2]	@ movhi
 1434              	.LVL145:
 1435              	.LBB10:
 1436              	.LBB11:
 400:application-library/usb-cdc-device.h ****   _pbuff++;
 1437              		.loc 2 400 0
 1438 0012 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 1439              	.LVL146:
 402:application-library/usb-cdc-device.h **** 
 1440              		.loc 2 402 0
 1441 0014 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 1442              	.LVL147:
 1443              		.loc 2 404 0
 1444 0016 43EA0223 		orr	r3, r3, r2, lsl #8
 1445              	.LVL148:
 1446              	.LBE11:
 1447              	.LBE10:
2470:application-library/usb-cdc-device.c **** 
2471:application-library/usb-cdc-device.c ****   pbuff++;
2472:application-library/usb-cdc-device.c ****   pbuff++;
2473:application-library/usb-cdc-device.c ****   req->wIndex = SWAPBYTE(pbuff);
 1448              		.loc 1 2473 0
 1449 001a 8380     		strh	r3, [r0, #4]	@ movhi
 1450              	.LVL149:
 1451              	.LBB12:
 1452              	.LBB13:
 400:application-library/usb-cdc-device.h ****   _pbuff++;
 1453              		.loc 2 400 0
 1454 001c 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 1455              	.LVL150:
 402:application-library/usb-cdc-device.h **** 
 1456              		.loc 2 402 0
 1457 001e CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
 1458              	.LVL151:
 1459              		.loc 2 404 0
 1460 0020 43EA0223 		orr	r3, r3, r2, lsl #8
 1461              	.LVL152:
 1462              	.LBE13:
 1463              	.LBE12:
2474:application-library/usb-cdc-device.c **** 
2475:application-library/usb-cdc-device.c ****   pbuff++;
2476:application-library/usb-cdc-device.c ****   pbuff++;
2477:application-library/usb-cdc-device.c ****   req->wLength = SWAPBYTE(pbuff);
 1464              		.loc 1 2477 0
 1465 0024 C380     		strh	r3, [r0, #6]	@ movhi
 1466              	.LVL153:
 1467 0026 7047     		bx	lr
 1468              		.cfi_endproc
ARM GAS  /tmp/ccgHoJ4C.s 			page 78


 1469              	.LFE187:
 1471              		.section	.text.USBD_GetLen,"ax",%progbits
 1472              		.align	1
 1473              		.global	USBD_GetLen
 1474              		.syntax unified
 1475              		.thumb
 1476              		.thumb_func
 1477              		.fpu fpv4-sp-d16
 1479              	USBD_GetLen:
 1480              	.LFB190:
2478:application-library/usb-cdc-device.c **** }
2479:application-library/usb-cdc-device.c **** 
2480:application-library/usb-cdc-device.c **** 
2481:application-library/usb-cdc-device.c **** /**
2482:application-library/usb-cdc-device.c ****   * @brief  Handle USB low level Error
2483:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2484:application-library/usb-cdc-device.c ****   * @param  req: usb request
2485:application-library/usb-cdc-device.c ****   * @retval None
2486:application-library/usb-cdc-device.c ****   */
2487:application-library/usb-cdc-device.c **** void USBD_CtlError(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2488:application-library/usb-cdc-device.c **** {
2489:application-library/usb-cdc-device.c ****   UNUSED(req);
2490:application-library/usb-cdc-device.c **** 
2491:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0x80U);
2492:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0U);
2493:application-library/usb-cdc-device.c **** }
2494:application-library/usb-cdc-device.c **** 
2495:application-library/usb-cdc-device.c **** 
2496:application-library/usb-cdc-device.c **** /**
2497:application-library/usb-cdc-device.c ****   * @brief  USBD_GetString
2498:application-library/usb-cdc-device.c ****   *         Convert Ascii string into unicode one
2499:application-library/usb-cdc-device.c ****   * @param  desc : descriptor buffer
2500:application-library/usb-cdc-device.c ****   * @param  unicode : Formatted string buffer (unicode)
2501:application-library/usb-cdc-device.c ****   * @param  len : descriptor length
2502:application-library/usb-cdc-device.c ****   * @retval None
2503:application-library/usb-cdc-device.c ****   */
2504:application-library/usb-cdc-device.c **** void USBD_GetString(uint8_t *desc, uint8_t *unicode, uint16_t *len)
2505:application-library/usb-cdc-device.c **** {
2506:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
2507:application-library/usb-cdc-device.c ****   uint8_t *pdesc;
2508:application-library/usb-cdc-device.c **** 
2509:application-library/usb-cdc-device.c ****   if (desc == NULL)
2510:application-library/usb-cdc-device.c ****   {
2511:application-library/usb-cdc-device.c ****     return;
2512:application-library/usb-cdc-device.c ****   }
2513:application-library/usb-cdc-device.c **** 
2514:application-library/usb-cdc-device.c ****   pdesc = desc;
2515:application-library/usb-cdc-device.c ****   *len = ((uint16_t)USBD_GetLen(pdesc) * 2U) + 2U;
2516:application-library/usb-cdc-device.c **** 
2517:application-library/usb-cdc-device.c ****   unicode[idx] = *(uint8_t *)len;
2518:application-library/usb-cdc-device.c ****   idx++;
2519:application-library/usb-cdc-device.c ****   unicode[idx] = USB_DESC_TYPE_STRING;
2520:application-library/usb-cdc-device.c ****   idx++;
2521:application-library/usb-cdc-device.c **** 
2522:application-library/usb-cdc-device.c ****   while (*pdesc != (uint8_t)'\0')
2523:application-library/usb-cdc-device.c ****   {
2524:application-library/usb-cdc-device.c ****     unicode[idx] = *pdesc;
ARM GAS  /tmp/ccgHoJ4C.s 			page 79


2525:application-library/usb-cdc-device.c ****     pdesc++;
2526:application-library/usb-cdc-device.c ****     idx++;
2527:application-library/usb-cdc-device.c **** 
2528:application-library/usb-cdc-device.c ****     unicode[idx] = 0U;
2529:application-library/usb-cdc-device.c ****     idx++;
2530:application-library/usb-cdc-device.c ****   }
2531:application-library/usb-cdc-device.c **** }
2532:application-library/usb-cdc-device.c **** 
2533:application-library/usb-cdc-device.c **** 
2534:application-library/usb-cdc-device.c **** /**
2535:application-library/usb-cdc-device.c ****   * @brief  Return the string length
2536:application-library/usb-cdc-device.c ****    * @param  buf : pointer to the ascii string buffer
2537:application-library/usb-cdc-device.c ****   * @retval string length
2538:application-library/usb-cdc-device.c ****   */
2539:application-library/usb-cdc-device.c **** uint8_t USBD_GetLen(uint8_t *buf)
2540:application-library/usb-cdc-device.c **** {
 1481              		.loc 1 2540 0
 1482              		.cfi_startproc
 1483              		@ args = 0, pretend = 0, frame = 0
 1484              		@ frame_needed = 0, uses_anonymous_args = 0
 1485              		@ link register save eliminated.
 1486              	.LVL154:
2541:application-library/usb-cdc-device.c ****   uint8_t  len = 0U;
 1487              		.loc 1 2541 0
 1488 0000 0023     		movs	r3, #0
2542:application-library/usb-cdc-device.c ****   uint8_t *pbuff = buf;
2543:application-library/usb-cdc-device.c **** 
2544:application-library/usb-cdc-device.c ****   while (*pbuff != (uint8_t)'\0')
 1489              		.loc 1 2544 0
 1490 0002 02E0     		b	.L116
 1491              	.LVL155:
 1492              	.L117:
2545:application-library/usb-cdc-device.c ****   {
2546:application-library/usb-cdc-device.c ****     len++;
 1493              		.loc 1 2546 0
 1494 0004 0133     		adds	r3, r3, #1
 1495              	.LVL156:
 1496 0006 DBB2     		uxtb	r3, r3
 1497              	.LVL157:
2547:application-library/usb-cdc-device.c ****     pbuff++;
 1498              		.loc 1 2547 0
 1499 0008 0130     		adds	r0, r0, #1
 1500              	.LVL158:
 1501              	.L116:
2544:application-library/usb-cdc-device.c ****   {
 1502              		.loc 1 2544 0
 1503 000a 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 1504 000c 002A     		cmp	r2, #0
 1505 000e F9D1     		bne	.L117
2548:application-library/usb-cdc-device.c ****   }
2549:application-library/usb-cdc-device.c **** 
2550:application-library/usb-cdc-device.c ****   return len;
2551:application-library/usb-cdc-device.c **** }
 1506              		.loc 1 2551 0
 1507 0010 1846     		mov	r0, r3
 1508              	.LVL159:
 1509 0012 7047     		bx	lr
ARM GAS  /tmp/ccgHoJ4C.s 			page 80


 1510              		.cfi_endproc
 1511              	.LFE190:
 1513              		.section	.text.USBD_GetString,"ax",%progbits
 1514              		.align	1
 1515              		.global	USBD_GetString
 1516              		.syntax unified
 1517              		.thumb
 1518              		.thumb_func
 1519              		.fpu fpv4-sp-d16
 1521              	USBD_GetString:
 1522              	.LFB189:
2505:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 1523              		.loc 1 2505 0
 1524              		.cfi_startproc
 1525              		@ args = 0, pretend = 0, frame = 0
 1526              		@ frame_needed = 0, uses_anonymous_args = 0
 1527              	.LVL160:
2509:application-library/usb-cdc-device.c ****   {
 1528              		.loc 1 2509 0
 1529 0000 C8B1     		cbz	r0, .L123
2505:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 1530              		.loc 1 2505 0
 1531 0002 70B5     		push	{r4, r5, r6, lr}
 1532              	.LCFI21:
 1533              		.cfi_def_cfa_offset 16
 1534              		.cfi_offset 4, -16
 1535              		.cfi_offset 5, -12
 1536              		.cfi_offset 6, -8
 1537              		.cfi_offset 14, -4
 1538 0004 0D46     		mov	r5, r1
 1539 0006 1646     		mov	r6, r2
 1540 0008 0446     		mov	r4, r0
 1541              	.LVL161:
2515:application-library/usb-cdc-device.c **** 
 1542              		.loc 1 2515 0
 1543 000a FFF7FEFF 		bl	USBD_GetLen
 1544              	.LVL162:
 1545 000e 0130     		adds	r0, r0, #1
 1546 0010 4000     		lsls	r0, r0, #1
 1547 0012 3080     		strh	r0, [r6]	@ movhi
2517:application-library/usb-cdc-device.c ****   idx++;
 1548              		.loc 1 2517 0
 1549 0014 2870     		strb	r0, [r5]
 1550              	.LVL163:
2519:application-library/usb-cdc-device.c ****   idx++;
 1551              		.loc 1 2519 0
 1552 0016 0323     		movs	r3, #3
 1553 0018 6B70     		strb	r3, [r5, #1]
 1554              	.LVL164:
2520:application-library/usb-cdc-device.c **** 
 1555              		.loc 1 2520 0
 1556 001a 0223     		movs	r3, #2
2522:application-library/usb-cdc-device.c ****   {
 1557              		.loc 1 2522 0
 1558 001c 07E0     		b	.L120
 1559              	.LVL165:
 1560              	.L121:
ARM GAS  /tmp/ccgHoJ4C.s 			page 81


2524:application-library/usb-cdc-device.c ****     pdesc++;
 1561              		.loc 1 2524 0
 1562 001e EA54     		strb	r2, [r5, r3]
2525:application-library/usb-cdc-device.c ****     idx++;
 1563              		.loc 1 2525 0
 1564 0020 0134     		adds	r4, r4, #1
 1565              	.LVL166:
2526:application-library/usb-cdc-device.c **** 
 1566              		.loc 1 2526 0
 1567 0022 5A1C     		adds	r2, r3, #1
 1568 0024 D2B2     		uxtb	r2, r2
 1569              	.LVL167:
2528:application-library/usb-cdc-device.c ****     idx++;
 1570              		.loc 1 2528 0
 1571 0026 0021     		movs	r1, #0
 1572 0028 A954     		strb	r1, [r5, r2]
2529:application-library/usb-cdc-device.c ****   }
 1573              		.loc 1 2529 0
 1574 002a 0233     		adds	r3, r3, #2
 1575 002c DBB2     		uxtb	r3, r3
 1576              	.LVL168:
 1577              	.L120:
2522:application-library/usb-cdc-device.c ****   {
 1578              		.loc 1 2522 0
 1579 002e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 1580 0030 002A     		cmp	r2, #0
 1581 0032 F4D1     		bne	.L121
 1582 0034 70BD     		pop	{r4, r5, r6, pc}
 1583              	.LVL169:
 1584              	.L123:
 1585              	.LCFI22:
 1586              		.cfi_def_cfa_offset 0
 1587              		.cfi_restore 4
 1588              		.cfi_restore 5
 1589              		.cfi_restore 6
 1590              		.cfi_restore 14
 1591 0036 7047     		bx	lr
 1592              		.cfi_endproc
 1593              	.LFE189:
 1595              		.section	.text.HAL_PCD_MspInit,"ax",%progbits
 1596              		.align	1
 1597              		.global	HAL_PCD_MspInit
 1598              		.syntax unified
 1599              		.thumb
 1600              		.thumb_func
 1601              		.fpu fpv4-sp-d16
 1603              	HAL_PCD_MspInit:
 1604              	.LFB198:
2552:application-library/usb-cdc-device.c **** 
2553:application-library/usb-cdc-device.c **** /* usbd_ctlreq.c END ---- ---- ---- ---- */
2554:application-library/usb-cdc-device.c **** 
2555:application-library/usb-cdc-device.c **** 
2556:application-library/usb-cdc-device.c **** /* usbd_ioreq.c BEGIN ---- ---- ---- ---- */
2557:application-library/usb-cdc-device.c **** /**
2558:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlSendData
2559:application-library/usb-cdc-device.c ****   *         send data on the ctl pipe
2560:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
ARM GAS  /tmp/ccgHoJ4C.s 			page 82


2561:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2562:application-library/usb-cdc-device.c ****   * @param  len: length of data to be sent
2563:application-library/usb-cdc-device.c ****   * @retval status
2564:application-library/usb-cdc-device.c ****   */
2565:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlSendData(USBD_HandleTypeDef *pdev,
2566:application-library/usb-cdc-device.c ****                                     uint8_t *pbuf, uint32_t len)
2567:application-library/usb-cdc-device.c **** {
2568:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2569:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_DATA_IN;
2570:application-library/usb-cdc-device.c ****   pdev->ep_in[0].total_length = len;
2571:application-library/usb-cdc-device.c **** 
2572:application-library/usb-cdc-device.c **** #ifdef USBD_AVOID_PACKET_SPLIT_MPS
2573:application-library/usb-cdc-device.c ****   pdev->ep_in[0].rem_length = 0U;
2574:application-library/usb-cdc-device.c **** #else
2575:application-library/usb-cdc-device.c ****   pdev->ep_in[0].rem_length = len;
2576:application-library/usb-cdc-device.c **** #endif /* USBD_AVOID_PACKET_SPLIT_MPS */
2577:application-library/usb-cdc-device.c **** 
2578:application-library/usb-cdc-device.c ****   /* Start the transfer */
2579:application-library/usb-cdc-device.c ****   (void)USBD_LL_Transmit(pdev, 0x00U, pbuf, len);
2580:application-library/usb-cdc-device.c **** 
2581:application-library/usb-cdc-device.c ****   return USBD_OK;
2582:application-library/usb-cdc-device.c **** }
2583:application-library/usb-cdc-device.c **** 
2584:application-library/usb-cdc-device.c **** /**
2585:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlContinueSendData
2586:application-library/usb-cdc-device.c ****   *         continue sending data on the ctl pipe
2587:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2588:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2589:application-library/usb-cdc-device.c ****   * @param  len: length of data to be sent
2590:application-library/usb-cdc-device.c ****   * @retval status
2591:application-library/usb-cdc-device.c ****   */
2592:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlContinueSendData(USBD_HandleTypeDef *pdev,
2593:application-library/usb-cdc-device.c ****                                             uint8_t *pbuf, uint32_t len)
2594:application-library/usb-cdc-device.c **** {
2595:application-library/usb-cdc-device.c ****   /* Start the next transfer */
2596:application-library/usb-cdc-device.c ****   (void)USBD_LL_Transmit(pdev, 0x00U, pbuf, len);
2597:application-library/usb-cdc-device.c **** 
2598:application-library/usb-cdc-device.c ****   return USBD_OK;
2599:application-library/usb-cdc-device.c **** }
2600:application-library/usb-cdc-device.c **** 
2601:application-library/usb-cdc-device.c **** /**
2602:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlPrepareRx
2603:application-library/usb-cdc-device.c ****   *         receive data on the ctl pipe
2604:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2605:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2606:application-library/usb-cdc-device.c ****   * @param  len: length of data to be received
2607:application-library/usb-cdc-device.c ****   * @retval status
2608:application-library/usb-cdc-device.c ****   */
2609:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlPrepareRx(USBD_HandleTypeDef *pdev,
2610:application-library/usb-cdc-device.c ****                                      uint8_t *pbuf, uint32_t len)
2611:application-library/usb-cdc-device.c **** {
2612:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2613:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_DATA_OUT;
2614:application-library/usb-cdc-device.c ****   pdev->ep_out[0].total_length = len;
2615:application-library/usb-cdc-device.c **** 
2616:application-library/usb-cdc-device.c **** #ifdef USBD_AVOID_PACKET_SPLIT_MPS
2617:application-library/usb-cdc-device.c ****   pdev->ep_out[0].rem_length = 0U;
ARM GAS  /tmp/ccgHoJ4C.s 			page 83


2618:application-library/usb-cdc-device.c **** #else
2619:application-library/usb-cdc-device.c ****   pdev->ep_out[0].rem_length = len;
2620:application-library/usb-cdc-device.c **** #endif /* USBD_AVOID_PACKET_SPLIT_MPS */
2621:application-library/usb-cdc-device.c **** 
2622:application-library/usb-cdc-device.c ****   /* Start the transfer */
2623:application-library/usb-cdc-device.c ****   (void)USBD_LL_PrepareReceive(pdev, 0U, pbuf, len);
2624:application-library/usb-cdc-device.c **** 
2625:application-library/usb-cdc-device.c ****   return USBD_OK;
2626:application-library/usb-cdc-device.c **** }
2627:application-library/usb-cdc-device.c **** 
2628:application-library/usb-cdc-device.c **** /**
2629:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlContinueRx
2630:application-library/usb-cdc-device.c ****   *         continue receive data on the ctl pipe
2631:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2632:application-library/usb-cdc-device.c ****   * @param  buff: pointer to data buffer
2633:application-library/usb-cdc-device.c ****   * @param  len: length of data to be received
2634:application-library/usb-cdc-device.c ****   * @retval status
2635:application-library/usb-cdc-device.c ****   */
2636:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlContinueRx(USBD_HandleTypeDef *pdev,
2637:application-library/usb-cdc-device.c ****                                       uint8_t *pbuf, uint32_t len)
2638:application-library/usb-cdc-device.c **** {
2639:application-library/usb-cdc-device.c ****   (void)USBD_LL_PrepareReceive(pdev, 0U, pbuf, len);
2640:application-library/usb-cdc-device.c **** 
2641:application-library/usb-cdc-device.c ****   return USBD_OK;
2642:application-library/usb-cdc-device.c **** }
2643:application-library/usb-cdc-device.c **** 
2644:application-library/usb-cdc-device.c **** /**
2645:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlSendStatus
2646:application-library/usb-cdc-device.c ****   *         send zero lzngth packet on the ctl pipe
2647:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2648:application-library/usb-cdc-device.c ****   * @retval status
2649:application-library/usb-cdc-device.c ****   */
2650:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlSendStatus(USBD_HandleTypeDef *pdev)
2651:application-library/usb-cdc-device.c **** {
2652:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2653:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_STATUS_IN;
2654:application-library/usb-cdc-device.c **** 
2655:application-library/usb-cdc-device.c ****   /* Start the transfer */
2656:application-library/usb-cdc-device.c ****   (void)USBD_LL_Transmit(pdev, 0x00U, NULL, 0U);
2657:application-library/usb-cdc-device.c **** 
2658:application-library/usb-cdc-device.c ****   return USBD_OK;
2659:application-library/usb-cdc-device.c **** }
2660:application-library/usb-cdc-device.c **** 
2661:application-library/usb-cdc-device.c **** /**
2662:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlReceiveStatus
2663:application-library/usb-cdc-device.c ****   *         receive zero lzngth packet on the ctl pipe
2664:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2665:application-library/usb-cdc-device.c ****   * @retval status
2666:application-library/usb-cdc-device.c ****   */
2667:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_CtlReceiveStatus(USBD_HandleTypeDef *pdev)
2668:application-library/usb-cdc-device.c **** {
2669:application-library/usb-cdc-device.c ****   /* Set EP0 State */
2670:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_STATUS_OUT;
2671:application-library/usb-cdc-device.c **** 
2672:application-library/usb-cdc-device.c ****   /* Start the transfer */
2673:application-library/usb-cdc-device.c ****   (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
2674:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 84


2675:application-library/usb-cdc-device.c ****   return USBD_OK;
2676:application-library/usb-cdc-device.c **** }
2677:application-library/usb-cdc-device.c **** 
2678:application-library/usb-cdc-device.c **** /**
2679:application-library/usb-cdc-device.c ****   * @brief  USBD_GetRxCount
2680:application-library/usb-cdc-device.c ****   *         returns the received data length
2681:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2682:application-library/usb-cdc-device.c ****   * @param  ep_addr: endpoint address
2683:application-library/usb-cdc-device.c ****   * @retval Rx Data blength
2684:application-library/usb-cdc-device.c ****   */
2685:application-library/usb-cdc-device.c **** uint32_t USBD_GetRxCount(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
2686:application-library/usb-cdc-device.c **** {
2687:application-library/usb-cdc-device.c ****   return USBD_LL_GetRxDataSize(pdev, ep_addr);
2688:application-library/usb-cdc-device.c **** }
2689:application-library/usb-cdc-device.c **** 
2690:application-library/usb-cdc-device.c **** /* usbd_ioreq.c END ---- ---- ---- ---- */
2691:application-library/usb-cdc-device.c **** 
2692:application-library/usb-cdc-device.c **** 
2693:application-library/usb-cdc-device.c **** 
2694:application-library/usb-cdc-device.c **** PCD_HandleTypeDef hpcd_USB_OTG_FS;
2695:application-library/usb-cdc-device.c **** void Error_Handler(void);
2696:application-library/usb-cdc-device.c **** 
2697:application-library/usb-cdc-device.c **** void SystemClock_Config(void);
2698:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Get_USB_Status(HAL_StatusTypeDef hal_status);
2699:application-library/usb-cdc-device.c **** 
2700:application-library/usb-cdc-device.c **** /*******************************************************************************
2701:application-library/usb-cdc-device.c ****                        LL Driver Callbacks (PCD -> USB Device Library)
2702:application-library/usb-cdc-device.c **** *******************************************************************************/
2703:application-library/usb-cdc-device.c **** /* MSP Init */
2704:application-library/usb-cdc-device.c **** 
2705:application-library/usb-cdc-device.c **** void HAL_PCD_MspInit(PCD_HandleTypeDef* pcdHandle)
2706:application-library/usb-cdc-device.c **** {
 1605              		.loc 1 2706 0
 1606              		.cfi_startproc
 1607              		@ args = 0, pretend = 0, frame = 32
 1608              		@ frame_needed = 0, uses_anonymous_args = 0
 1609              	.LVL170:
 1610 0000 30B5     		push	{r4, r5, lr}
 1611              	.LCFI23:
 1612              		.cfi_def_cfa_offset 12
 1613              		.cfi_offset 4, -12
 1614              		.cfi_offset 5, -8
 1615              		.cfi_offset 14, -4
 1616 0002 89B0     		sub	sp, sp, #36
 1617              	.LCFI24:
 1618              		.cfi_def_cfa_offset 48
2707:application-library/usb-cdc-device.c ****   GPIO_InitTypeDef GPIO_InitStruct = {0};
 1619              		.loc 1 2707 0
 1620 0004 0023     		movs	r3, #0
 1621 0006 0393     		str	r3, [sp, #12]
 1622 0008 0493     		str	r3, [sp, #16]
 1623 000a 0593     		str	r3, [sp, #20]
 1624 000c 0693     		str	r3, [sp, #24]
 1625 000e 0793     		str	r3, [sp, #28]
2708:application-library/usb-cdc-device.c ****   if(pcdHandle->Instance==USB_OTG_FS)
 1626              		.loc 1 2708 0
 1627 0010 0368     		ldr	r3, [r0]
ARM GAS  /tmp/ccgHoJ4C.s 			page 85


 1628 0012 B3F1A04F 		cmp	r3, #1342177280
 1629 0016 01D0     		beq	.L129
 1630              	.LVL171:
 1631              	.L126:
2709:application-library/usb-cdc-device.c ****   {
2710:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspInit 0 */
2711:application-library/usb-cdc-device.c **** 
2712:application-library/usb-cdc-device.c ****   /* USER CODE END USB_OTG_FS_MspInit 0 */
2713:application-library/usb-cdc-device.c **** 
2714:application-library/usb-cdc-device.c ****     __HAL_RCC_GPIOA_CLK_ENABLE();
2715:application-library/usb-cdc-device.c ****     /**USB_OTG_FS GPIO Configuration
2716:application-library/usb-cdc-device.c ****     PA11     ------> USB_OTG_FS_DM
2717:application-library/usb-cdc-device.c ****     PA12     ------> USB_OTG_FS_DP
2718:application-library/usb-cdc-device.c ****     */
2719:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Pin = GPIO_PIN_11|GPIO_PIN_12;
2720:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
2721:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
2722:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Speed = GPIO_SPEED_FREQ_VERY_HIGH;
2723:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Alternate = GPIO_AF10_OTG_FS;
2724:application-library/usb-cdc-device.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
2725:application-library/usb-cdc-device.c **** 
2726:application-library/usb-cdc-device.c ****     /* Peripheral clock enable */
2727:application-library/usb-cdc-device.c ****     __HAL_RCC_USB_OTG_FS_CLK_ENABLE();
2728:application-library/usb-cdc-device.c **** 
2729:application-library/usb-cdc-device.c ****     /* Peripheral interrupt init */
2730:application-library/usb-cdc-device.c ****     HAL_NVIC_SetPriority(OTG_FS_IRQn, 0, 0);
2731:application-library/usb-cdc-device.c ****     HAL_NVIC_EnableIRQ(OTG_FS_IRQn);
2732:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspInit 1 */
2733:application-library/usb-cdc-device.c **** 
2734:application-library/usb-cdc-device.c ****   /* USER CODE END USB_OTG_FS_MspInit 1 */
2735:application-library/usb-cdc-device.c ****   }
2736:application-library/usb-cdc-device.c **** }
 1632              		.loc 1 2736 0
 1633 0018 09B0     		add	sp, sp, #36
 1634              	.LCFI25:
 1635              		.cfi_remember_state
 1636              		.cfi_def_cfa_offset 12
 1637              		@ sp needed
 1638 001a 30BD     		pop	{r4, r5, pc}
 1639              	.LVL172:
 1640              	.L129:
 1641              	.LCFI26:
 1642              		.cfi_restore_state
 1643              	.LBB14:
2714:application-library/usb-cdc-device.c ****     /**USB_OTG_FS GPIO Configuration
 1644              		.loc 1 2714 0
 1645 001c 0025     		movs	r5, #0
 1646 001e 0195     		str	r5, [sp, #4]
 1647 0020 164C     		ldr	r4, .L130
 1648 0022 236B     		ldr	r3, [r4, #48]
 1649 0024 43F00103 		orr	r3, r3, #1
 1650 0028 2363     		str	r3, [r4, #48]
 1651 002a 236B     		ldr	r3, [r4, #48]
 1652 002c 03F00103 		and	r3, r3, #1
 1653 0030 0193     		str	r3, [sp, #4]
 1654 0032 019B     		ldr	r3, [sp, #4]
 1655              	.LBE14:
ARM GAS  /tmp/ccgHoJ4C.s 			page 86


2719:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Mode = GPIO_MODE_AF_PP;
 1656              		.loc 1 2719 0
 1657 0034 4FF4C053 		mov	r3, #6144
 1658 0038 0393     		str	r3, [sp, #12]
2720:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Pull = GPIO_NOPULL;
 1659              		.loc 1 2720 0
 1660 003a 0223     		movs	r3, #2
 1661 003c 0493     		str	r3, [sp, #16]
2722:application-library/usb-cdc-device.c ****     GPIO_InitStruct.Alternate = GPIO_AF10_OTG_FS;
 1662              		.loc 1 2722 0
 1663 003e 0323     		movs	r3, #3
 1664 0040 0693     		str	r3, [sp, #24]
2723:application-library/usb-cdc-device.c ****     HAL_GPIO_Init(GPIOA, &GPIO_InitStruct);
 1665              		.loc 1 2723 0
 1666 0042 0A23     		movs	r3, #10
 1667 0044 0793     		str	r3, [sp, #28]
2724:application-library/usb-cdc-device.c **** 
 1668              		.loc 1 2724 0
 1669 0046 03A9     		add	r1, sp, #12
 1670 0048 0D48     		ldr	r0, .L130+4
 1671              	.LVL173:
 1672 004a FFF7FEFF 		bl	HAL_GPIO_Init
 1673              	.LVL174:
2727:application-library/usb-cdc-device.c **** 
 1674              		.loc 1 2727 0
 1675 004e 636B     		ldr	r3, [r4, #52]
 1676 0050 43F08003 		orr	r3, r3, #128
 1677 0054 6363     		str	r3, [r4, #52]
 1678              	.LBB15:
 1679 0056 0295     		str	r5, [sp, #8]
 1680 0058 636C     		ldr	r3, [r4, #68]
 1681 005a 43F48043 		orr	r3, r3, #16384
 1682 005e 6364     		str	r3, [r4, #68]
 1683 0060 636C     		ldr	r3, [r4, #68]
 1684 0062 03F48043 		and	r3, r3, #16384
 1685 0066 0293     		str	r3, [sp, #8]
 1686 0068 029B     		ldr	r3, [sp, #8]
 1687              	.LBE15:
2730:application-library/usb-cdc-device.c ****     HAL_NVIC_EnableIRQ(OTG_FS_IRQn);
 1688              		.loc 1 2730 0
 1689 006a 2A46     		mov	r2, r5
 1690 006c 2946     		mov	r1, r5
 1691 006e 4320     		movs	r0, #67
 1692 0070 FFF7FEFF 		bl	HAL_NVIC_SetPriority
 1693              	.LVL175:
2731:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspInit 1 */
 1694              		.loc 1 2731 0
 1695 0074 4320     		movs	r0, #67
 1696 0076 FFF7FEFF 		bl	HAL_NVIC_EnableIRQ
 1697              	.LVL176:
 1698              		.loc 1 2736 0
 1699 007a CDE7     		b	.L126
 1700              	.L131:
 1701              		.align	2
 1702              	.L130:
 1703 007c 00380240 		.word	1073887232
 1704 0080 00000240 		.word	1073872896
ARM GAS  /tmp/ccgHoJ4C.s 			page 87


 1705              		.cfi_endproc
 1706              	.LFE198:
 1708              		.section	.text.HAL_PCD_MspDeInit,"ax",%progbits
 1709              		.align	1
 1710              		.global	HAL_PCD_MspDeInit
 1711              		.syntax unified
 1712              		.thumb
 1713              		.thumb_func
 1714              		.fpu fpv4-sp-d16
 1716              	HAL_PCD_MspDeInit:
 1717              	.LFB199:
2737:application-library/usb-cdc-device.c **** 
2738:application-library/usb-cdc-device.c **** void HAL_PCD_MspDeInit(PCD_HandleTypeDef* pcdHandle)
2739:application-library/usb-cdc-device.c **** {
 1718              		.loc 1 2739 0
 1719              		.cfi_startproc
 1720              		@ args = 0, pretend = 0, frame = 0
 1721              		@ frame_needed = 0, uses_anonymous_args = 0
 1722              	.LVL177:
 1723 0000 08B5     		push	{r3, lr}
 1724              	.LCFI27:
 1725              		.cfi_def_cfa_offset 8
 1726              		.cfi_offset 3, -8
 1727              		.cfi_offset 14, -4
2740:application-library/usb-cdc-device.c ****   if(pcdHandle->Instance==USB_OTG_FS)
 1728              		.loc 1 2740 0
 1729 0002 0368     		ldr	r3, [r0]
 1730 0004 B3F1A04F 		cmp	r3, #1342177280
 1731 0008 00D0     		beq	.L135
 1732              	.LVL178:
 1733              	.L132:
 1734 000a 08BD     		pop	{r3, pc}
 1735              	.LVL179:
 1736              	.L135:
2741:application-library/usb-cdc-device.c ****   {
2742:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspDeInit 0 */
2743:application-library/usb-cdc-device.c **** 
2744:application-library/usb-cdc-device.c ****   /* USER CODE END USB_OTG_FS_MspDeInit 0 */
2745:application-library/usb-cdc-device.c ****     /* Peripheral clock disable */
2746:application-library/usb-cdc-device.c ****     __HAL_RCC_USB_OTG_FS_CLK_DISABLE();
 1737              		.loc 1 2746 0
 1738 000c 064A     		ldr	r2, .L136
 1739 000e 536B     		ldr	r3, [r2, #52]
 1740 0010 23F08003 		bic	r3, r3, #128
 1741 0014 5363     		str	r3, [r2, #52]
2747:application-library/usb-cdc-device.c **** 
2748:application-library/usb-cdc-device.c ****     /**USB_OTG_FS GPIO Configuration
2749:application-library/usb-cdc-device.c ****     PA11     ------> USB_OTG_FS_DM
2750:application-library/usb-cdc-device.c ****     PA12     ------> USB_OTG_FS_DP
2751:application-library/usb-cdc-device.c ****     */
2752:application-library/usb-cdc-device.c ****     HAL_GPIO_DeInit(GPIOA, GPIO_PIN_11|GPIO_PIN_12);
 1742              		.loc 1 2752 0
 1743 0016 4FF4C051 		mov	r1, #6144
 1744 001a 0448     		ldr	r0, .L136+4
 1745              	.LVL180:
 1746 001c FFF7FEFF 		bl	HAL_GPIO_DeInit
 1747              	.LVL181:
ARM GAS  /tmp/ccgHoJ4C.s 			page 88


2753:application-library/usb-cdc-device.c **** 
2754:application-library/usb-cdc-device.c ****     /* Peripheral interrupt Deinit*/
2755:application-library/usb-cdc-device.c ****     HAL_NVIC_DisableIRQ(OTG_FS_IRQn);
 1748              		.loc 1 2755 0
 1749 0020 4320     		movs	r0, #67
 1750 0022 FFF7FEFF 		bl	HAL_NVIC_DisableIRQ
 1751              	.LVL182:
2756:application-library/usb-cdc-device.c **** 
2757:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN USB_OTG_FS_MspDeInit 1 */
2758:application-library/usb-cdc-device.c **** 
2759:application-library/usb-cdc-device.c ****   /* USER CODE END USB_OTG_FS_MspDeInit 1 */
2760:application-library/usb-cdc-device.c ****   }
2761:application-library/usb-cdc-device.c **** }
 1752              		.loc 1 2761 0
 1753 0026 F0E7     		b	.L132
 1754              	.L137:
 1755              		.align	2
 1756              	.L136:
 1757 0028 00380240 		.word	1073887232
 1758 002c 00000240 		.word	1073872896
 1759              		.cfi_endproc
 1760              	.LFE199:
 1762              		.section	.text.HAL_PCD_SOFCallback,"ax",%progbits
 1763              		.align	1
 1764              		.global	HAL_PCD_SOFCallback
 1765              		.syntax unified
 1766              		.thumb
 1767              		.thumb_func
 1768              		.fpu fpv4-sp-d16
 1770              	HAL_PCD_SOFCallback:
 1771              	.LFB203:
2762:application-library/usb-cdc-device.c **** 
2763:application-library/usb-cdc-device.c **** /**
2764:application-library/usb-cdc-device.c ****   * @brief  Setup stage callback
2765:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2766:application-library/usb-cdc-device.c ****   * @retval None
2767:application-library/usb-cdc-device.c ****   */
2768:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2769:application-library/usb-cdc-device.c **** static void PCD_SetupStageCallback(PCD_HandleTypeDef *hpcd)
2770:application-library/usb-cdc-device.c **** #else
2771:application-library/usb-cdc-device.c **** void HAL_PCD_SetupStageCallback(PCD_HandleTypeDef *hpcd)
2772:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2773:application-library/usb-cdc-device.c **** {
2774:application-library/usb-cdc-device.c ****   USBD_LL_SetupStage((USBD_HandleTypeDef*)hpcd->pData, (uint8_t *)hpcd->Setup);
2775:application-library/usb-cdc-device.c **** }
2776:application-library/usb-cdc-device.c **** 
2777:application-library/usb-cdc-device.c **** /**
2778:application-library/usb-cdc-device.c ****   * @brief  Data Out stage callback.
2779:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2780:application-library/usb-cdc-device.c ****   * @param  epnum: Endpoint number
2781:application-library/usb-cdc-device.c ****   * @retval None
2782:application-library/usb-cdc-device.c ****   */
2783:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2784:application-library/usb-cdc-device.c **** static void PCD_DataOutStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2785:application-library/usb-cdc-device.c **** #else
2786:application-library/usb-cdc-device.c **** void HAL_PCD_DataOutStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2787:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
ARM GAS  /tmp/ccgHoJ4C.s 			page 89


2788:application-library/usb-cdc-device.c **** {
2789:application-library/usb-cdc-device.c ****   USBD_LL_DataOutStage((USBD_HandleTypeDef*)hpcd->pData, epnum, hpcd->OUT_ep[epnum].xfer_buff);
2790:application-library/usb-cdc-device.c **** }
2791:application-library/usb-cdc-device.c **** 
2792:application-library/usb-cdc-device.c **** /**
2793:application-library/usb-cdc-device.c ****   * @brief  Data In stage callback.
2794:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2795:application-library/usb-cdc-device.c ****   * @param  epnum: Endpoint number
2796:application-library/usb-cdc-device.c ****   * @retval None
2797:application-library/usb-cdc-device.c ****   */
2798:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2799:application-library/usb-cdc-device.c **** static void PCD_DataInStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2800:application-library/usb-cdc-device.c **** #else
2801:application-library/usb-cdc-device.c **** void HAL_PCD_DataInStageCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2802:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2803:application-library/usb-cdc-device.c **** {
2804:application-library/usb-cdc-device.c ****   USBD_LL_DataInStage((USBD_HandleTypeDef*)hpcd->pData, epnum, hpcd->IN_ep[epnum].xfer_buff);
2805:application-library/usb-cdc-device.c **** }
2806:application-library/usb-cdc-device.c **** 
2807:application-library/usb-cdc-device.c **** /**
2808:application-library/usb-cdc-device.c ****   * @brief  SOF callback.
2809:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2810:application-library/usb-cdc-device.c ****   * @retval None
2811:application-library/usb-cdc-device.c ****   */
2812:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2813:application-library/usb-cdc-device.c **** static void PCD_SOFCallback(PCD_HandleTypeDef *hpcd)
2814:application-library/usb-cdc-device.c **** #else
2815:application-library/usb-cdc-device.c **** void HAL_PCD_SOFCallback(PCD_HandleTypeDef *hpcd)
2816:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2817:application-library/usb-cdc-device.c **** {
 1772              		.loc 1 2817 0
 1773              		.cfi_startproc
 1774              		@ args = 0, pretend = 0, frame = 0
 1775              		@ frame_needed = 0, uses_anonymous_args = 0
 1776              	.LVL183:
 1777 0000 08B5     		push	{r3, lr}
 1778              	.LCFI28:
 1779              		.cfi_def_cfa_offset 8
 1780              		.cfi_offset 3, -8
 1781              		.cfi_offset 14, -4
2818:application-library/usb-cdc-device.c ****   USBD_LL_SOF((USBD_HandleTypeDef*)hpcd->pData);
 1782              		.loc 1 2818 0
 1783 0002 D0F80805 		ldr	r0, [r0, #1288]
 1784              	.LVL184:
 1785 0006 FFF7FEFF 		bl	USBD_LL_SOF
 1786              	.LVL185:
 1787 000a 08BD     		pop	{r3, pc}
 1788              		.cfi_endproc
 1789              	.LFE203:
 1791              		.section	.text.HAL_PCD_SuspendCallback,"ax",%progbits
 1792              		.align	1
 1793              		.global	HAL_PCD_SuspendCallback
 1794              		.syntax unified
 1795              		.thumb
 1796              		.thumb_func
 1797              		.fpu fpv4-sp-d16
 1799              	HAL_PCD_SuspendCallback:
ARM GAS  /tmp/ccgHoJ4C.s 			page 90


 1800              	.LFB205:
2819:application-library/usb-cdc-device.c **** }
2820:application-library/usb-cdc-device.c **** 
2821:application-library/usb-cdc-device.c **** /**
2822:application-library/usb-cdc-device.c ****   * @brief  Reset callback.
2823:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2824:application-library/usb-cdc-device.c ****   * @retval None
2825:application-library/usb-cdc-device.c ****   */
2826:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2827:application-library/usb-cdc-device.c **** static void PCD_ResetCallback(PCD_HandleTypeDef *hpcd)
2828:application-library/usb-cdc-device.c **** #else
2829:application-library/usb-cdc-device.c **** void HAL_PCD_ResetCallback(PCD_HandleTypeDef *hpcd)
2830:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2831:application-library/usb-cdc-device.c **** {
2832:application-library/usb-cdc-device.c ****   USBD_SpeedTypeDef speed = USBD_SPEED_FULL;
2833:application-library/usb-cdc-device.c **** 
2834:application-library/usb-cdc-device.c ****   if ( hpcd->Init.speed == PCD_SPEED_HIGH)
2835:application-library/usb-cdc-device.c ****   {
2836:application-library/usb-cdc-device.c ****     speed = USBD_SPEED_HIGH;
2837:application-library/usb-cdc-device.c ****   }
2838:application-library/usb-cdc-device.c ****   else if ( hpcd->Init.speed == PCD_SPEED_FULL)
2839:application-library/usb-cdc-device.c ****   {
2840:application-library/usb-cdc-device.c ****     speed = USBD_SPEED_FULL;
2841:application-library/usb-cdc-device.c ****   }
2842:application-library/usb-cdc-device.c ****   else
2843:application-library/usb-cdc-device.c ****   {
2844:application-library/usb-cdc-device.c ****     Error_Handler();
2845:application-library/usb-cdc-device.c ****   }
2846:application-library/usb-cdc-device.c ****     /* Set Speed. */
2847:application-library/usb-cdc-device.c ****   USBD_LL_SetSpeed((USBD_HandleTypeDef*)hpcd->pData, speed);
2848:application-library/usb-cdc-device.c **** 
2849:application-library/usb-cdc-device.c ****   /* Reset Device. */
2850:application-library/usb-cdc-device.c ****   USBD_LL_Reset((USBD_HandleTypeDef*)hpcd->pData);
2851:application-library/usb-cdc-device.c **** }
2852:application-library/usb-cdc-device.c **** 
2853:application-library/usb-cdc-device.c **** /**
2854:application-library/usb-cdc-device.c ****   * @brief  Suspend callback.
2855:application-library/usb-cdc-device.c ****   * When Low power mode is enabled the debug cannot be used (IAR, Keil doesn't support it)
2856:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2857:application-library/usb-cdc-device.c ****   * @retval None
2858:application-library/usb-cdc-device.c ****   */
2859:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2860:application-library/usb-cdc-device.c **** static void PCD_SuspendCallback(PCD_HandleTypeDef *hpcd)
2861:application-library/usb-cdc-device.c **** #else
2862:application-library/usb-cdc-device.c **** void HAL_PCD_SuspendCallback(PCD_HandleTypeDef *hpcd)
2863:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2864:application-library/usb-cdc-device.c **** {
 1801              		.loc 1 2864 0
 1802              		.cfi_startproc
 1803              		@ args = 0, pretend = 0, frame = 0
 1804              		@ frame_needed = 0, uses_anonymous_args = 0
 1805              	.LVL186:
 1806 0000 10B5     		push	{r4, lr}
 1807              	.LCFI29:
 1808              		.cfi_def_cfa_offset 8
 1809              		.cfi_offset 4, -8
 1810              		.cfi_offset 14, -4
ARM GAS  /tmp/ccgHoJ4C.s 			page 91


 1811 0002 0446     		mov	r4, r0
2865:application-library/usb-cdc-device.c ****   /* Inform USB library that core enters in suspend Mode. */
2866:application-library/usb-cdc-device.c ****   USBD_LL_Suspend((USBD_HandleTypeDef*)hpcd->pData);
 1812              		.loc 1 2866 0
 1813 0004 D0F80805 		ldr	r0, [r0, #1288]
 1814              	.LVL187:
 1815 0008 FFF7FEFF 		bl	USBD_LL_Suspend
 1816              	.LVL188:
2867:application-library/usb-cdc-device.c ****   __HAL_PCD_GATE_PHYCLOCK(hpcd);
 1817              		.loc 1 2867 0
 1818 000c 2268     		ldr	r2, [r4]
 1819 000e D2F8003E 		ldr	r3, [r2, #3584]
 1820 0012 43F00103 		orr	r3, r3, #1
 1821 0016 C2F8003E 		str	r3, [r2, #3584]
2868:application-library/usb-cdc-device.c ****   /* Enter in STOP mode. */
2869:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 2 */
2870:application-library/usb-cdc-device.c ****   if (hpcd->Init.low_power_enable)
 1822              		.loc 1 2870 0
 1823 001a 236A     		ldr	r3, [r4, #32]
 1824 001c 23B1     		cbz	r3, .L140
2871:application-library/usb-cdc-device.c ****   {
2872:application-library/usb-cdc-device.c ****     /* Set SLEEPDEEP bit and SleepOnExit of Cortex System Control Register. */
2873:application-library/usb-cdc-device.c ****     SCB->SCR |= (uint32_t)((uint32_t)(SCB_SCR_SLEEPDEEP_Msk | SCB_SCR_SLEEPONEXIT_Msk));
 1825              		.loc 1 2873 0
 1826 001e 034A     		ldr	r2, .L143
 1827 0020 1369     		ldr	r3, [r2, #16]
 1828 0022 43F00603 		orr	r3, r3, #6
 1829 0026 1361     		str	r3, [r2, #16]
 1830              	.L140:
 1831 0028 10BD     		pop	{r4, pc}
 1832              	.LVL189:
 1833              	.L144:
 1834 002a 00BF     		.align	2
 1835              	.L143:
 1836 002c 00ED00E0 		.word	-536810240
 1837              		.cfi_endproc
 1838              	.LFE205:
 1840              		.section	.text.HAL_PCD_ResumeCallback,"ax",%progbits
 1841              		.align	1
 1842              		.global	HAL_PCD_ResumeCallback
 1843              		.syntax unified
 1844              		.thumb
 1845              		.thumb_func
 1846              		.fpu fpv4-sp-d16
 1848              	HAL_PCD_ResumeCallback:
 1849              	.LFB206:
2874:application-library/usb-cdc-device.c ****   }
2875:application-library/usb-cdc-device.c ****   /* USER CODE END 2 */
2876:application-library/usb-cdc-device.c **** }
2877:application-library/usb-cdc-device.c **** 
2878:application-library/usb-cdc-device.c **** /**
2879:application-library/usb-cdc-device.c ****   * @brief  Resume callback.
2880:application-library/usb-cdc-device.c ****   * When Low power mode is enabled the debug cannot be used (IAR, Keil doesn't support it)
2881:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2882:application-library/usb-cdc-device.c ****   * @retval None
2883:application-library/usb-cdc-device.c ****   */
2884:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
ARM GAS  /tmp/ccgHoJ4C.s 			page 92


2885:application-library/usb-cdc-device.c **** static void PCD_ResumeCallback(PCD_HandleTypeDef *hpcd)
2886:application-library/usb-cdc-device.c **** #else
2887:application-library/usb-cdc-device.c **** void HAL_PCD_ResumeCallback(PCD_HandleTypeDef *hpcd)
2888:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2889:application-library/usb-cdc-device.c **** {
 1850              		.loc 1 2889 0
 1851              		.cfi_startproc
 1852              		@ args = 0, pretend = 0, frame = 0
 1853              		@ frame_needed = 0, uses_anonymous_args = 0
 1854              	.LVL190:
 1855 0000 08B5     		push	{r3, lr}
 1856              	.LCFI30:
 1857              		.cfi_def_cfa_offset 8
 1858              		.cfi_offset 3, -8
 1859              		.cfi_offset 14, -4
2890:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
2891:application-library/usb-cdc-device.c **** 
2892:application-library/usb-cdc-device.c ****   /* USER CODE END 3 */
2893:application-library/usb-cdc-device.c ****   USBD_LL_Resume((USBD_HandleTypeDef*)hpcd->pData);
 1860              		.loc 1 2893 0
 1861 0002 D0F80805 		ldr	r0, [r0, #1288]
 1862              	.LVL191:
 1863 0006 FFF7FEFF 		bl	USBD_LL_Resume
 1864              	.LVL192:
 1865 000a 08BD     		pop	{r3, pc}
 1866              		.cfi_endproc
 1867              	.LFE206:
 1869              		.section	.text.HAL_PCD_ISOOUTIncompleteCallback,"ax",%progbits
 1870              		.align	1
 1871              		.global	HAL_PCD_ISOOUTIncompleteCallback
 1872              		.syntax unified
 1873              		.thumb
 1874              		.thumb_func
 1875              		.fpu fpv4-sp-d16
 1877              	HAL_PCD_ISOOUTIncompleteCallback:
 1878              	.LFB207:
2894:application-library/usb-cdc-device.c **** }
2895:application-library/usb-cdc-device.c **** 
2896:application-library/usb-cdc-device.c **** /**
2897:application-library/usb-cdc-device.c ****   * @brief  ISOOUTIncomplete callback.
2898:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2899:application-library/usb-cdc-device.c ****   * @param  epnum: Endpoint number
2900:application-library/usb-cdc-device.c ****   * @retval None
2901:application-library/usb-cdc-device.c ****   */
2902:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2903:application-library/usb-cdc-device.c **** static void PCD_ISOOUTIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2904:application-library/usb-cdc-device.c **** #else
2905:application-library/usb-cdc-device.c **** void HAL_PCD_ISOOUTIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2906:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2907:application-library/usb-cdc-device.c **** {
 1879              		.loc 1 2907 0
 1880              		.cfi_startproc
 1881              		@ args = 0, pretend = 0, frame = 0
 1882              		@ frame_needed = 0, uses_anonymous_args = 0
 1883              	.LVL193:
 1884 0000 08B5     		push	{r3, lr}
 1885              	.LCFI31:
ARM GAS  /tmp/ccgHoJ4C.s 			page 93


 1886              		.cfi_def_cfa_offset 8
 1887              		.cfi_offset 3, -8
 1888              		.cfi_offset 14, -4
2908:application-library/usb-cdc-device.c ****   USBD_LL_IsoOUTIncomplete((USBD_HandleTypeDef*)hpcd->pData, epnum);
 1889              		.loc 1 2908 0
 1890 0002 D0F80805 		ldr	r0, [r0, #1288]
 1891              	.LVL194:
 1892 0006 FFF7FEFF 		bl	USBD_LL_IsoOUTIncomplete
 1893              	.LVL195:
 1894 000a 08BD     		pop	{r3, pc}
 1895              		.cfi_endproc
 1896              	.LFE207:
 1898              		.section	.text.HAL_PCD_ISOINIncompleteCallback,"ax",%progbits
 1899              		.align	1
 1900              		.global	HAL_PCD_ISOINIncompleteCallback
 1901              		.syntax unified
 1902              		.thumb
 1903              		.thumb_func
 1904              		.fpu fpv4-sp-d16
 1906              	HAL_PCD_ISOINIncompleteCallback:
 1907              	.LFB208:
2909:application-library/usb-cdc-device.c **** }
2910:application-library/usb-cdc-device.c **** 
2911:application-library/usb-cdc-device.c **** /**
2912:application-library/usb-cdc-device.c ****   * @brief  ISOINIncomplete callback.
2913:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2914:application-library/usb-cdc-device.c ****   * @param  epnum: Endpoint number
2915:application-library/usb-cdc-device.c ****   * @retval None
2916:application-library/usb-cdc-device.c ****   */
2917:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2918:application-library/usb-cdc-device.c **** static void PCD_ISOINIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2919:application-library/usb-cdc-device.c **** #else
2920:application-library/usb-cdc-device.c **** void HAL_PCD_ISOINIncompleteCallback(PCD_HandleTypeDef *hpcd, uint8_t epnum)
2921:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2922:application-library/usb-cdc-device.c **** {
 1908              		.loc 1 2922 0
 1909              		.cfi_startproc
 1910              		@ args = 0, pretend = 0, frame = 0
 1911              		@ frame_needed = 0, uses_anonymous_args = 0
 1912              	.LVL196:
 1913 0000 08B5     		push	{r3, lr}
 1914              	.LCFI32:
 1915              		.cfi_def_cfa_offset 8
 1916              		.cfi_offset 3, -8
 1917              		.cfi_offset 14, -4
2923:application-library/usb-cdc-device.c ****   USBD_LL_IsoINIncomplete((USBD_HandleTypeDef*)hpcd->pData, epnum);
 1918              		.loc 1 2923 0
 1919 0002 D0F80805 		ldr	r0, [r0, #1288]
 1920              	.LVL197:
 1921 0006 FFF7FEFF 		bl	USBD_LL_IsoINIncomplete
 1922              	.LVL198:
 1923 000a 08BD     		pop	{r3, pc}
 1924              		.cfi_endproc
 1925              	.LFE208:
 1927              		.section	.text.HAL_PCD_ConnectCallback,"ax",%progbits
 1928              		.align	1
 1929              		.global	HAL_PCD_ConnectCallback
ARM GAS  /tmp/ccgHoJ4C.s 			page 94


 1930              		.syntax unified
 1931              		.thumb
 1932              		.thumb_func
 1933              		.fpu fpv4-sp-d16
 1935              	HAL_PCD_ConnectCallback:
 1936              	.LFB209:
2924:application-library/usb-cdc-device.c **** }
2925:application-library/usb-cdc-device.c **** 
2926:application-library/usb-cdc-device.c **** /**
2927:application-library/usb-cdc-device.c ****   * @brief  Connect callback.
2928:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2929:application-library/usb-cdc-device.c ****   * @retval None
2930:application-library/usb-cdc-device.c ****   */
2931:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2932:application-library/usb-cdc-device.c **** static void PCD_ConnectCallback(PCD_HandleTypeDef *hpcd)
2933:application-library/usb-cdc-device.c **** #else
2934:application-library/usb-cdc-device.c **** void HAL_PCD_ConnectCallback(PCD_HandleTypeDef *hpcd)
2935:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2936:application-library/usb-cdc-device.c **** {
 1937              		.loc 1 2936 0
 1938              		.cfi_startproc
 1939              		@ args = 0, pretend = 0, frame = 0
 1940              		@ frame_needed = 0, uses_anonymous_args = 0
 1941              		@ link register save eliminated.
 1942              	.LVL199:
 1943 0000 7047     		bx	lr
 1944              		.cfi_endproc
 1945              	.LFE209:
 1947              		.section	.text.HAL_PCD_DisconnectCallback,"ax",%progbits
 1948              		.align	1
 1949              		.global	HAL_PCD_DisconnectCallback
 1950              		.syntax unified
 1951              		.thumb
 1952              		.thumb_func
 1953              		.fpu fpv4-sp-d16
 1955              	HAL_PCD_DisconnectCallback:
 1956              	.LFB210:
2937:application-library/usb-cdc-device.c ****   USBD_LL_DevConnected((USBD_HandleTypeDef*)hpcd->pData);
2938:application-library/usb-cdc-device.c **** }
2939:application-library/usb-cdc-device.c **** 
2940:application-library/usb-cdc-device.c **** /**
2941:application-library/usb-cdc-device.c ****   * @brief  Disconnect callback.
2942:application-library/usb-cdc-device.c ****   * @param  hpcd: PCD handle
2943:application-library/usb-cdc-device.c ****   * @retval None
2944:application-library/usb-cdc-device.c ****   */
2945:application-library/usb-cdc-device.c **** #if (USE_HAL_PCD_REGISTER_CALLBACKS == 1U)
2946:application-library/usb-cdc-device.c **** static void PCD_DisconnectCallback(PCD_HandleTypeDef *hpcd)
2947:application-library/usb-cdc-device.c **** #else
2948:application-library/usb-cdc-device.c **** void HAL_PCD_DisconnectCallback(PCD_HandleTypeDef *hpcd)
2949:application-library/usb-cdc-device.c **** #endif /* USE_HAL_PCD_REGISTER_CALLBACKS */
2950:application-library/usb-cdc-device.c **** {
 1957              		.loc 1 2950 0
 1958              		.cfi_startproc
 1959              		@ args = 0, pretend = 0, frame = 0
 1960              		@ frame_needed = 0, uses_anonymous_args = 0
 1961              	.LVL200:
 1962              		.loc 1 2950 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 95


 1963 0000 08B5     		push	{r3, lr}
 1964              	.LCFI33:
 1965              		.cfi_def_cfa_offset 8
 1966              		.cfi_offset 3, -8
 1967              		.cfi_offset 14, -4
2951:application-library/usb-cdc-device.c ****   USBD_LL_DevDisconnected((USBD_HandleTypeDef*)hpcd->pData);
 1968              		.loc 1 2951 0
 1969 0002 D0F80805 		ldr	r0, [r0, #1288]
 1970              	.LVL201:
 1971 0006 FFF7FEFF 		bl	USBD_LL_DevDisconnected
 1972              	.LVL202:
 1973 000a 08BD     		pop	{r3, pc}
 1974              		.cfi_endproc
 1975              	.LFE210:
 1977              		.section	.text.USBD_LL_Init,"ax",%progbits
 1978              		.align	1
 1979              		.global	USBD_LL_Init
 1980              		.syntax unified
 1981              		.thumb
 1982              		.thumb_func
 1983              		.fpu fpv4-sp-d16
 1985              	USBD_LL_Init:
 1986              	.LFB211:
2952:application-library/usb-cdc-device.c **** }
2953:application-library/usb-cdc-device.c **** 
2954:application-library/usb-cdc-device.c **** /*******************************************************************************
2955:application-library/usb-cdc-device.c ****                        LL Driver Interface (USB Device Library --> PCD)
2956:application-library/usb-cdc-device.c **** *******************************************************************************/
2957:application-library/usb-cdc-device.c **** 
2958:application-library/usb-cdc-device.c **** /**
2959:application-library/usb-cdc-device.c ****   * @brief  Initializes the low level portion of the device driver.
2960:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
2961:application-library/usb-cdc-device.c ****   * @retval USBD status
2962:application-library/usb-cdc-device.c ****   */
2963:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Init(USBD_HandleTypeDef *pdev)
2964:application-library/usb-cdc-device.c **** {
 1987              		.loc 1 2964 0
 1988              		.cfi_startproc
 1989              		@ args = 0, pretend = 0, frame = 0
 1990              		@ frame_needed = 0, uses_anonymous_args = 0
 1991              	.LVL203:
2965:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
2966:application-library/usb-cdc-device.c ****   if (pdev->id == DEVICE_FS) {
 1992              		.loc 1 2966 0
 1993 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 1994 0002 0BB1     		cbz	r3, .L161
2967:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
2968:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.pData = pdev;
2969:application-library/usb-cdc-device.c ****   pdev->pData = &hpcd_USB_OTG_FS;
2970:application-library/usb-cdc-device.c **** 
2971:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Instance = USB_OTG_FS;
2972:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
2973:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
2974:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
2975:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
2976:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
2977:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
ARM GAS  /tmp/ccgHoJ4C.s 			page 96


2978:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
2979:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
2980:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
2981:application-library/usb-cdc-device.c **** 
2982:application-library/usb-cdc-device.c ****   /* Initialize the hardware. */
2983:application-library/usb-cdc-device.c ****   if (HAL_PCD_Init(&hpcd_USB_OTG_FS) != HAL_OK)
2984:application-library/usb-cdc-device.c ****   {
2985:application-library/usb-cdc-device.c ****     Error_Handler( );
2986:application-library/usb-cdc-device.c ****   }
2987:application-library/usb-cdc-device.c **** 
2988:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
2989:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetRxFiFo(&hpcd_USB_OTG_FS, 0x80);    /* set RX FIFO size 0x80*/
2990:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
2991:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
2992:application-library/usb-cdc-device.c ****   }
2993:application-library/usb-cdc-device.c ****   return USBD_OK;
2994:application-library/usb-cdc-device.c **** }
 1995              		.loc 1 2994 0
 1996 0004 0020     		movs	r0, #0
 1997              	.LVL204:
 1998 0006 7047     		bx	lr
 1999              	.LVL205:
 2000              	.L161:
2964:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
 2001              		.loc 1 2964 0
 2002 0008 10B5     		push	{r4, lr}
 2003              	.LCFI34:
 2004              		.cfi_def_cfa_offset 8
 2005              		.cfi_offset 4, -8
 2006              		.cfi_offset 14, -4
 2007 000a 0346     		mov	r3, r0
2968:application-library/usb-cdc-device.c ****   pdev->pData = &hpcd_USB_OTG_FS;
 2008              		.loc 1 2968 0
 2009 000c 1548     		ldr	r0, .L163
 2010              	.LVL206:
 2011 000e C0F80835 		str	r3, [r0, #1288]
2969:application-library/usb-cdc-device.c **** 
 2012              		.loc 1 2969 0
 2013 0012 C3F8C802 		str	r0, [r3, #712]
2971:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 2014              		.loc 1 2971 0
 2015 0016 4FF0A043 		mov	r3, #1342177280
 2016              	.LVL207:
 2017 001a 0360     		str	r3, [r0]
2972:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 2018              		.loc 1 2972 0
 2019 001c 0423     		movs	r3, #4
 2020 001e 4360     		str	r3, [r0, #4]
2973:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
 2021              		.loc 1 2973 0
 2022 0020 0222     		movs	r2, #2
 2023 0022 C260     		str	r2, [r0, #12]
2974:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
 2024              		.loc 1 2974 0
 2025 0024 0023     		movs	r3, #0
 2026 0026 0361     		str	r3, [r0, #16]
2975:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
ARM GAS  /tmp/ccgHoJ4C.s 			page 97


 2027              		.loc 1 2975 0
 2028 0028 8261     		str	r2, [r0, #24]
2976:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 2029              		.loc 1 2976 0
 2030 002a C361     		str	r3, [r0, #28]
2977:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 2031              		.loc 1 2977 0
 2032 002c 0362     		str	r3, [r0, #32]
2978:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 2033              		.loc 1 2978 0
 2034 002e 4362     		str	r3, [r0, #36]
2979:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
 2035              		.loc 1 2979 0
 2036 0030 C362     		str	r3, [r0, #44]
2980:application-library/usb-cdc-device.c **** 
 2037              		.loc 1 2980 0
 2038 0032 0363     		str	r3, [r0, #48]
2983:application-library/usb-cdc-device.c ****   {
 2039              		.loc 1 2983 0
 2040 0034 FFF7FEFF 		bl	HAL_PCD_Init
 2041              	.LVL208:
 2042 0038 80B9     		cbnz	r0, .L162
 2043              	.L156:
2989:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 2044              		.loc 1 2989 0
 2045 003a 0A4C     		ldr	r4, .L163
 2046 003c 8021     		movs	r1, #128
 2047 003e 2046     		mov	r0, r4
 2048 0040 FFF7FEFF 		bl	HAL_PCDEx_SetRxFiFo
 2049              	.LVL209:
2990:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 2050              		.loc 1 2990 0
 2051 0044 4022     		movs	r2, #64
 2052 0046 0021     		movs	r1, #0
 2053 0048 2046     		mov	r0, r4
 2054 004a FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 2055              	.LVL210:
2991:application-library/usb-cdc-device.c ****   }
 2056              		.loc 1 2991 0
 2057 004e 8022     		movs	r2, #128
 2058 0050 0121     		movs	r1, #1
 2059 0052 2046     		mov	r0, r4
 2060 0054 FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 2061              	.LVL211:
 2062              		.loc 1 2994 0
 2063 0058 0020     		movs	r0, #0
 2064 005a 10BD     		pop	{r4, pc}
 2065              	.L162:
2985:application-library/usb-cdc-device.c ****   }
 2066              		.loc 1 2985 0
 2067 005c FFF7FEFF 		bl	Error_Handler
 2068              	.LVL212:
 2069 0060 EBE7     		b	.L156
 2070              	.L164:
 2071 0062 00BF     		.align	2
 2072              	.L163:
 2073 0064 00000000 		.word	hpcd_USB_OTG_FS
ARM GAS  /tmp/ccgHoJ4C.s 			page 98


 2074              		.cfi_endproc
 2075              	.LFE211:
 2077              		.section	.text.USBD_Init,"ax",%progbits
 2078              		.align	1
 2079              		.global	USBD_Init
 2080              		.syntax unified
 2081              		.thumb
 2082              		.thumb_func
 2083              		.fpu fpv4-sp-d16
 2085              	USBD_Init:
 2086              	.LFB154:
 995:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 2087              		.loc 1 995 0
 2088              		.cfi_startproc
 2089              		@ args = 0, pretend = 0, frame = 0
 2090              		@ frame_needed = 0, uses_anonymous_args = 0
 2091              	.LVL213:
 998:application-library/usb-cdc-device.c ****   {
 2092              		.loc 1 998 0
 2093 0000 98B1     		cbz	r0, .L168
 995:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 2094              		.loc 1 995 0
 2095 0002 08B5     		push	{r3, lr}
 2096              	.LCFI35:
 2097              		.cfi_def_cfa_offset 8
 2098              		.cfi_offset 3, -8
 2099              		.cfi_offset 14, -4
 2100 0004 0346     		mov	r3, r0
1003:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
 2101              		.loc 1 1003 0
 2102 0006 0020     		movs	r0, #0
 2103              	.LVL214:
 2104 0008 C3F8B802 		str	r0, [r3, #696]
1004:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
 2105              		.loc 1 1004 0
 2106 000c C3F8C402 		str	r0, [r3, #708]
1005:application-library/usb-cdc-device.c **** 
 2107              		.loc 1 1005 0
 2108 0010 C3F8D002 		str	r0, [r3, #720]
1008:application-library/usb-cdc-device.c ****   {
 2109              		.loc 1 1008 0
 2110 0014 09B1     		cbz	r1, .L167
1010:application-library/usb-cdc-device.c ****   }
 2111              		.loc 1 1010 0
 2112 0016 C3F8B412 		str	r1, [r3, #692]
 2113              	.L167:
 2114 001a 1846     		mov	r0, r3
1013:application-library/usb-cdc-device.c ****   pdev->id = id; // DEVICE_FS (0)
 2115              		.loc 1 1013 0
 2116 001c 0123     		movs	r3, #1
 2117              	.LVL215:
 2118 001e 80F89C32 		strb	r3, [r0, #668]
1014:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
 2119              		.loc 1 1014 0
 2120 0022 0270     		strb	r2, [r0]
1016:application-library/usb-cdc-device.c **** 
 2121              		.loc 1 1016 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 99


 2122 0024 FFF7FEFF 		bl	USBD_LL_Init
 2123              	.LVL216:
1018:application-library/usb-cdc-device.c **** }
 2124              		.loc 1 1018 0
 2125 0028 08BD     		pop	{r3, pc}
 2126              	.LVL217:
 2127              	.L168:
 2128              	.LCFI36:
 2129              		.cfi_def_cfa_offset 0
 2130              		.cfi_restore 3
 2131              		.cfi_restore 14
1000:application-library/usb-cdc-device.c ****   }
 2132              		.loc 1 1000 0
 2133 002a 0320     		movs	r0, #3
 2134              	.LVL218:
 2135 002c 7047     		bx	lr
 2136              		.cfi_endproc
 2137              	.LFE154:
 2139              		.section	.text.USBD_LL_IsStallEP,"ax",%progbits
 2140              		.align	1
 2141              		.global	USBD_LL_IsStallEP
 2142              		.syntax unified
 2143              		.thumb
 2144              		.thumb_func
 2145              		.fpu fpv4-sp-d16
 2147              	USBD_LL_IsStallEP:
 2148              	.LFB220:
2995:application-library/usb-cdc-device.c **** 
2996:application-library/usb-cdc-device.c **** /**
2997:application-library/usb-cdc-device.c ****   * @brief  De-Initializes the low level portion of the device driver.
2998:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
2999:application-library/usb-cdc-device.c ****   * @retval USBD status
3000:application-library/usb-cdc-device.c ****   */
3001:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DeInit(USBD_HandleTypeDef *pdev)
3002:application-library/usb-cdc-device.c **** {
3003:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3004:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3005:application-library/usb-cdc-device.c **** 
3006:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_DeInit(pdev->pData);
3007:application-library/usb-cdc-device.c **** 
3008:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3009:application-library/usb-cdc-device.c **** 
3010:application-library/usb-cdc-device.c ****   return usb_status;
3011:application-library/usb-cdc-device.c **** }
3012:application-library/usb-cdc-device.c **** 
3013:application-library/usb-cdc-device.c **** /**
3014:application-library/usb-cdc-device.c ****   * @brief  Starts the low level portion of the device driver.
3015:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3016:application-library/usb-cdc-device.c ****   * @retval USBD status
3017:application-library/usb-cdc-device.c ****   */
3018:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Start(USBD_HandleTypeDef *pdev)
3019:application-library/usb-cdc-device.c **** {
3020:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3021:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3022:application-library/usb-cdc-device.c **** 
3023:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Start(pdev->pData);
3024:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 100


3025:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3026:application-library/usb-cdc-device.c **** 
3027:application-library/usb-cdc-device.c ****   return usb_status;
3028:application-library/usb-cdc-device.c **** }
3029:application-library/usb-cdc-device.c **** 
3030:application-library/usb-cdc-device.c **** /**
3031:application-library/usb-cdc-device.c ****   * @brief  Stops the low level portion of the device driver.
3032:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3033:application-library/usb-cdc-device.c ****   * @retval USBD status
3034:application-library/usb-cdc-device.c ****   */
3035:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Stop(USBD_HandleTypeDef *pdev)
3036:application-library/usb-cdc-device.c **** {
3037:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3038:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3039:application-library/usb-cdc-device.c **** 
3040:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Stop(pdev->pData);
3041:application-library/usb-cdc-device.c **** 
3042:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3043:application-library/usb-cdc-device.c **** 
3044:application-library/usb-cdc-device.c ****   return usb_status;
3045:application-library/usb-cdc-device.c **** }
3046:application-library/usb-cdc-device.c **** 
3047:application-library/usb-cdc-device.c **** /**
3048:application-library/usb-cdc-device.c ****   * @brief  Opens an endpoint of the low level driver.
3049:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3050:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3051:application-library/usb-cdc-device.c ****   * @param  ep_type: Endpoint type
3052:application-library/usb-cdc-device.c ****   * @param  ep_mps: Endpoint max packet size
3053:application-library/usb-cdc-device.c ****   * @retval USBD status
3054:application-library/usb-cdc-device.c ****   */
3055:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_OpenEP(USBD_HandleTypeDef *pdev, uint8_t ep_addr, uint8_t ep_type, uint1
3056:application-library/usb-cdc-device.c **** {
3057:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3058:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3059:application-library/usb-cdc-device.c **** 
3060:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_Open(pdev->pData, ep_addr, ep_mps, ep_type);
3061:application-library/usb-cdc-device.c **** 
3062:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3063:application-library/usb-cdc-device.c **** 
3064:application-library/usb-cdc-device.c ****   return usb_status;
3065:application-library/usb-cdc-device.c **** }
3066:application-library/usb-cdc-device.c **** 
3067:application-library/usb-cdc-device.c **** /**
3068:application-library/usb-cdc-device.c ****   * @brief  Closes an endpoint of the low level driver.
3069:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3070:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3071:application-library/usb-cdc-device.c ****   * @retval USBD status
3072:application-library/usb-cdc-device.c ****   */
3073:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_CloseEP(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
3074:application-library/usb-cdc-device.c **** {
3075:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3076:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3077:application-library/usb-cdc-device.c **** 
3078:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_Close(pdev->pData, ep_addr);
3079:application-library/usb-cdc-device.c **** 
3080:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3081:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 101


3082:application-library/usb-cdc-device.c ****   return usb_status;
3083:application-library/usb-cdc-device.c **** }
3084:application-library/usb-cdc-device.c **** 
3085:application-library/usb-cdc-device.c **** /**
3086:application-library/usb-cdc-device.c ****   * @brief  Flushes an endpoint of the Low Level Driver.
3087:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3088:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3089:application-library/usb-cdc-device.c ****   * @retval USBD status
3090:application-library/usb-cdc-device.c ****   */
3091:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_FlushEP(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
3092:application-library/usb-cdc-device.c **** {
3093:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3094:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3095:application-library/usb-cdc-device.c **** 
3096:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_Flush(pdev->pData, ep_addr);
3097:application-library/usb-cdc-device.c **** 
3098:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3099:application-library/usb-cdc-device.c **** 
3100:application-library/usb-cdc-device.c ****   return usb_status;
3101:application-library/usb-cdc-device.c **** }
3102:application-library/usb-cdc-device.c **** 
3103:application-library/usb-cdc-device.c **** /**
3104:application-library/usb-cdc-device.c ****   * @brief  Sets a Stall condition on an endpoint of the Low Level Driver.
3105:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3106:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3107:application-library/usb-cdc-device.c ****   * @retval USBD status
3108:application-library/usb-cdc-device.c ****   */
3109:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_StallEP(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
3110:application-library/usb-cdc-device.c **** {
3111:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3112:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3113:application-library/usb-cdc-device.c **** 
3114:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_SetStall(pdev->pData, ep_addr);
3115:application-library/usb-cdc-device.c **** 
3116:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3117:application-library/usb-cdc-device.c **** 
3118:application-library/usb-cdc-device.c ****   return usb_status;
3119:application-library/usb-cdc-device.c **** }
3120:application-library/usb-cdc-device.c **** 
3121:application-library/usb-cdc-device.c **** /**
3122:application-library/usb-cdc-device.c ****   * @brief  Clears a Stall condition on an endpoint of the Low Level Driver.
3123:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3124:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3125:application-library/usb-cdc-device.c ****   * @retval USBD status
3126:application-library/usb-cdc-device.c ****   */
3127:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_ClearStallEP(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
3128:application-library/usb-cdc-device.c **** {
3129:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3130:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3131:application-library/usb-cdc-device.c **** 
3132:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_ClrStall(pdev->pData, ep_addr);
3133:application-library/usb-cdc-device.c **** 
3134:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3135:application-library/usb-cdc-device.c **** 
3136:application-library/usb-cdc-device.c ****   return usb_status;
3137:application-library/usb-cdc-device.c **** }
3138:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 102


3139:application-library/usb-cdc-device.c **** /**
3140:application-library/usb-cdc-device.c ****   * @brief  Returns Stall condition.
3141:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3142:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3143:application-library/usb-cdc-device.c ****   * @retval Stall (1: Yes, 0: No)
3144:application-library/usb-cdc-device.c ****   */
3145:application-library/usb-cdc-device.c **** uint8_t USBD_LL_IsStallEP(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
3146:application-library/usb-cdc-device.c **** {
 2149              		.loc 1 3146 0
 2150              		.cfi_startproc
 2151              		@ args = 0, pretend = 0, frame = 0
 2152              		@ frame_needed = 0, uses_anonymous_args = 0
 2153              		@ link register save eliminated.
 2154              	.LVL219:
3147:application-library/usb-cdc-device.c ****   PCD_HandleTypeDef *hpcd = (PCD_HandleTypeDef*) pdev->pData;
 2155              		.loc 1 3147 0
 2156 0000 D0F8C832 		ldr	r3, [r0, #712]
 2157              	.LVL220:
3148:application-library/usb-cdc-device.c **** 
3149:application-library/usb-cdc-device.c ****   if((ep_addr & 0x80) == 0x80)
 2158              		.loc 1 3149 0
 2159 0004 11F0800F 		tst	r1, #128
 2160 0008 08D1     		bne	.L176
3150:application-library/usb-cdc-device.c ****   {
3151:application-library/usb-cdc-device.c ****     return hpcd->IN_ep[ep_addr & 0x7F].is_stall;
3152:application-library/usb-cdc-device.c ****   }
3153:application-library/usb-cdc-device.c ****   else
3154:application-library/usb-cdc-device.c ****   {
3155:application-library/usb-cdc-device.c ****     return hpcd->OUT_ep[ep_addr & 0x7F].is_stall;
 2161              		.loc 1 3155 0
 2162 000a 01F07F01 		and	r1, r1, #127
 2163              	.LVL221:
 2164 000e 01EBC101 		add	r1, r1, r1, lsl #3
 2165 0012 8A00     		lsls	r2, r1, #2
 2166 0014 1344     		add	r3, r3, r2
 2167              	.LVL222:
 2168 0016 93F87E02 		ldrb	r0, [r3, #638]	@ zero_extendqisi2
 2169              	.LVL223:
3156:application-library/usb-cdc-device.c ****   }
3157:application-library/usb-cdc-device.c **** }
 2170              		.loc 1 3157 0
 2171 001a 7047     		bx	lr
 2172              	.LVL224:
 2173              	.L176:
3151:application-library/usb-cdc-device.c ****   }
 2174              		.loc 1 3151 0
 2175 001c 01F07F01 		and	r1, r1, #127
 2176              	.LVL225:
 2177 0020 01EBC101 		add	r1, r1, r1, lsl #3
 2178 0024 8A00     		lsls	r2, r1, #2
 2179 0026 1344     		add	r3, r3, r2
 2180              	.LVL226:
 2181 0028 93F83E00 		ldrb	r0, [r3, #62]	@ zero_extendqisi2
 2182              	.LVL227:
 2183 002c 7047     		bx	lr
 2184              		.cfi_endproc
 2185              	.LFE220:
ARM GAS  /tmp/ccgHoJ4C.s 			page 103


 2187              		.section	.text.USBD_LL_GetRxDataSize,"ax",%progbits
 2188              		.align	1
 2189              		.global	USBD_LL_GetRxDataSize
 2190              		.syntax unified
 2191              		.thumb
 2192              		.thumb_func
 2193              		.fpu fpv4-sp-d16
 2195              	USBD_LL_GetRxDataSize:
 2196              	.LFB224:
3158:application-library/usb-cdc-device.c **** 
3159:application-library/usb-cdc-device.c **** /**
3160:application-library/usb-cdc-device.c ****   * @brief  Assigns a USB address to the device.
3161:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3162:application-library/usb-cdc-device.c ****   * @param  dev_addr: Device address
3163:application-library/usb-cdc-device.c ****   * @retval USBD status
3164:application-library/usb-cdc-device.c ****   */
3165:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SetUSBAddress(USBD_HandleTypeDef *pdev, uint8_t dev_addr)
3166:application-library/usb-cdc-device.c **** {
3167:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3168:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3169:application-library/usb-cdc-device.c **** 
3170:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_SetAddress(pdev->pData, dev_addr);
3171:application-library/usb-cdc-device.c **** 
3172:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3173:application-library/usb-cdc-device.c **** 
3174:application-library/usb-cdc-device.c ****   return usb_status;
3175:application-library/usb-cdc-device.c **** }
3176:application-library/usb-cdc-device.c **** 
3177:application-library/usb-cdc-device.c **** /**
3178:application-library/usb-cdc-device.c ****   * @brief  Transmits data over an endpoint.
3179:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3180:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3181:application-library/usb-cdc-device.c ****   * @param  pbuf: Pointer to data to be sent
3182:application-library/usb-cdc-device.c ****   * @param  size: Data size
3183:application-library/usb-cdc-device.c ****   * @retval USBD status
3184:application-library/usb-cdc-device.c ****   */
3185:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Transmit(USBD_HandleTypeDef *pdev, uint8_t ep_addr, uint8_t *pbuf, uint3
3186:application-library/usb-cdc-device.c **** {
3187:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3188:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3189:application-library/usb-cdc-device.c **** 
3190:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_Transmit(pdev->pData, ep_addr, pbuf, size);
3191:application-library/usb-cdc-device.c **** 
3192:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3193:application-library/usb-cdc-device.c **** 
3194:application-library/usb-cdc-device.c ****   return usb_status;
3195:application-library/usb-cdc-device.c **** }
3196:application-library/usb-cdc-device.c **** 
3197:application-library/usb-cdc-device.c **** /**
3198:application-library/usb-cdc-device.c ****   * @brief  Prepares an endpoint for reception.
3199:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3200:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3201:application-library/usb-cdc-device.c ****   * @param  pbuf: Pointer to data to be received
3202:application-library/usb-cdc-device.c ****   * @param  size: Data size
3203:application-library/usb-cdc-device.c ****   * @retval USBD status
3204:application-library/usb-cdc-device.c ****   */
3205:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_PrepareReceive(USBD_HandleTypeDef *pdev, uint8_t ep_addr, uint8_t *pbuf,
ARM GAS  /tmp/ccgHoJ4C.s 			page 104


3206:application-library/usb-cdc-device.c **** {
3207:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
3208:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3209:application-library/usb-cdc-device.c **** 
3210:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_EP_Receive(pdev->pData, ep_addr, pbuf, size);
3211:application-library/usb-cdc-device.c **** 
3212:application-library/usb-cdc-device.c ****   usb_status =  USBD_Get_USB_Status(hal_status);
3213:application-library/usb-cdc-device.c **** 
3214:application-library/usb-cdc-device.c ****   return usb_status;
3215:application-library/usb-cdc-device.c **** }
3216:application-library/usb-cdc-device.c **** 
3217:application-library/usb-cdc-device.c **** /**
3218:application-library/usb-cdc-device.c ****   * @brief  Returns the last transferred packet size.
3219:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3220:application-library/usb-cdc-device.c ****   * @param  ep_addr: Endpoint number
3221:application-library/usb-cdc-device.c ****   * @retval Received Data Size
3222:application-library/usb-cdc-device.c ****   */
3223:application-library/usb-cdc-device.c **** uint32_t USBD_LL_GetRxDataSize(USBD_HandleTypeDef *pdev, uint8_t ep_addr)
3224:application-library/usb-cdc-device.c **** {
 2197              		.loc 1 3224 0
 2198              		.cfi_startproc
 2199              		@ args = 0, pretend = 0, frame = 0
 2200              		@ frame_needed = 0, uses_anonymous_args = 0
 2201              	.LVL228:
 2202 0000 08B5     		push	{r3, lr}
 2203              	.LCFI37:
 2204              		.cfi_def_cfa_offset 8
 2205              		.cfi_offset 3, -8
 2206              		.cfi_offset 14, -4
3225:application-library/usb-cdc-device.c ****   return HAL_PCD_EP_GetRxCount((PCD_HandleTypeDef*) pdev->pData, ep_addr);
 2207              		.loc 1 3225 0
 2208 0002 D0F8C802 		ldr	r0, [r0, #712]
 2209              	.LVL229:
 2210 0006 FFF7FEFF 		bl	HAL_PCD_EP_GetRxCount
 2211              	.LVL230:
3226:application-library/usb-cdc-device.c **** }
 2212              		.loc 1 3226 0
 2213 000a 08BD     		pop	{r3, pc}
 2214              		.cfi_endproc
 2215              	.LFE224:
 2217              		.section	.text.USBD_CDC_DataOut,"ax",%progbits
 2218              		.align	1
 2219              		.global	USBD_CDC_DataOut
 2220              		.syntax unified
 2221              		.thumb
 2222              		.thumb_func
 2223              		.fpu fpv4-sp-d16
 2225              	USBD_CDC_DataOut:
 2226              	.LFB143:
 708:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 2227              		.loc 1 708 0
 2228              		.cfi_startproc
 2229              		@ args = 0, pretend = 0, frame = 0
 2230              		@ frame_needed = 0, uses_anonymous_args = 0
 2231              	.LVL231:
 2232 0000 38B5     		push	{r3, r4, r5, lr}
 2233              	.LCFI38:
ARM GAS  /tmp/ccgHoJ4C.s 			page 105


 2234              		.cfi_def_cfa_offset 16
 2235              		.cfi_offset 3, -16
 2236              		.cfi_offset 4, -12
 2237              		.cfi_offset 5, -8
 2238              		.cfi_offset 14, -4
 709:application-library/usb-cdc-device.c **** 
 2239              		.loc 1 709 0
 2240 0002 D0F8D432 		ldr	r3, [r0, #724]
 2241 0006 B033     		adds	r3, r3, #176
 2242 0008 50F82350 		ldr	r5, [r0, r3, lsl #2]
 2243              	.LVL232:
 711:application-library/usb-cdc-device.c ****   {
 2244              		.loc 1 711 0
 2245 000c 95B1     		cbz	r5, .L181
 2246 000e 0446     		mov	r4, r0
 717:application-library/usb-cdc-device.c **** 
 2247              		.loc 1 717 0
 2248 0010 FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 2249              	.LVL233:
 2250 0014 C5F80C02 		str	r0, [r5, #524]
 722:application-library/usb-cdc-device.c **** 
 2251              		.loc 1 722 0
 2252 0018 D4F8D402 		ldr	r0, [r4, #724]
 2253 001c B030     		adds	r0, r0, #176
 2254 001e 04EB8000 		add	r0, r4, r0, lsl #2
 2255 0022 4368     		ldr	r3, [r0, #4]
 2256 0024 DB68     		ldr	r3, [r3, #12]
 2257 0026 05F50371 		add	r1, r5, #524
 2258 002a D5F80402 		ldr	r0, [r5, #516]
 2259 002e 9847     		blx	r3
 2260              	.LVL234:
 724:application-library/usb-cdc-device.c **** }
 2261              		.loc 1 724 0
 2262 0030 0020     		movs	r0, #0
 2263 0032 38BD     		pop	{r3, r4, r5, pc}
 2264              	.LVL235:
 2265              	.L181:
 713:application-library/usb-cdc-device.c ****   }
 2266              		.loc 1 713 0
 2267 0034 0320     		movs	r0, #3
 2268              	.LVL236:
 725:application-library/usb-cdc-device.c **** 
 2269              		.loc 1 725 0
 2270 0036 38BD     		pop	{r3, r4, r5, pc}
 2271              		.cfi_endproc
 2272              	.LFE143:
 2274              		.section	.text.USBD_GetRxCount,"ax",%progbits
 2275              		.align	1
 2276              		.global	USBD_GetRxCount
 2277              		.syntax unified
 2278              		.thumb
 2279              		.thumb_func
 2280              		.fpu fpv4-sp-d16
 2282              	USBD_GetRxCount:
 2283              	.LFB197:
2686:application-library/usb-cdc-device.c ****   return USBD_LL_GetRxDataSize(pdev, ep_addr);
 2284              		.loc 1 2686 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 106


 2285              		.cfi_startproc
 2286              		@ args = 0, pretend = 0, frame = 0
 2287              		@ frame_needed = 0, uses_anonymous_args = 0
 2288              	.LVL237:
 2289 0000 08B5     		push	{r3, lr}
 2290              	.LCFI39:
 2291              		.cfi_def_cfa_offset 8
 2292              		.cfi_offset 3, -8
 2293              		.cfi_offset 14, -4
2687:application-library/usb-cdc-device.c **** }
 2294              		.loc 1 2687 0
 2295 0002 FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 2296              	.LVL238:
2688:application-library/usb-cdc-device.c **** 
 2297              		.loc 1 2688 0
 2298 0006 08BD     		pop	{r3, pc}
 2299              		.cfi_endproc
 2300              	.LFE197:
 2302              		.section	.text.USBD_static_malloc,"ax",%progbits
 2303              		.align	1
 2304              		.global	USBD_static_malloc
 2305              		.syntax unified
 2306              		.thumb
 2307              		.thumb_func
 2308              		.fpu fpv4-sp-d16
 2310              	USBD_static_malloc:
 2311              	.LFB225:
3227:application-library/usb-cdc-device.c **** 
3228:application-library/usb-cdc-device.c **** #ifdef USBD_HS_TESTMODE_ENABLE
3229:application-library/usb-cdc-device.c **** /**
3230:application-library/usb-cdc-device.c ****   * @brief  Set High speed Test mode.
3231:application-library/usb-cdc-device.c ****   * @param  pdev: Device handle
3232:application-library/usb-cdc-device.c ****   * @param  testmode: test mode
3233:application-library/usb-cdc-device.c ****   * @retval USBD Status
3234:application-library/usb-cdc-device.c ****   */
3235:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SetTestMode(USBD_HandleTypeDef *pdev, uint8_t testmode)
3236:application-library/usb-cdc-device.c **** {
3237:application-library/usb-cdc-device.c ****   UNUSED(pdev);
3238:application-library/usb-cdc-device.c ****   UNUSED(testmode);
3239:application-library/usb-cdc-device.c **** 
3240:application-library/usb-cdc-device.c ****   return USBD_OK;
3241:application-library/usb-cdc-device.c **** }
3242:application-library/usb-cdc-device.c **** #endif /* USBD_HS_TESTMODE_ENABLE */
3243:application-library/usb-cdc-device.c **** 
3244:application-library/usb-cdc-device.c **** /**
3245:application-library/usb-cdc-device.c ****   * @brief  Static single allocation.
3246:application-library/usb-cdc-device.c ****   * @param  size: Size of allocated memory
3247:application-library/usb-cdc-device.c ****   * @retval None
3248:application-library/usb-cdc-device.c ****   */
3249:application-library/usb-cdc-device.c **** void *USBD_static_malloc(uint32_t size)
3250:application-library/usb-cdc-device.c **** {
 2312              		.loc 1 3250 0
 2313              		.cfi_startproc
 2314              		@ args = 0, pretend = 0, frame = 0
 2315              		@ frame_needed = 0, uses_anonymous_args = 0
 2316              		@ link register save eliminated.
 2317              	.LVL239:
ARM GAS  /tmp/ccgHoJ4C.s 			page 107


3251:application-library/usb-cdc-device.c ****   static uint32_t mem[(sizeof(USBD_CDC_HandleTypeDef)/4)+1];/* On 32-bit boundary */
3252:application-library/usb-cdc-device.c ****   return mem;
3253:application-library/usb-cdc-device.c **** }
 2318              		.loc 1 3253 0
 2319 0000 0048     		ldr	r0, .L186
 2320              	.LVL240:
 2321 0002 7047     		bx	lr
 2322              	.L187:
 2323              		.align	2
 2324              	.L186:
 2325 0004 00000000 		.word	.LANCHOR5
 2326              		.cfi_endproc
 2327              	.LFE225:
 2329              		.section	.text.USBD_static_free,"ax",%progbits
 2330              		.align	1
 2331              		.global	USBD_static_free
 2332              		.syntax unified
 2333              		.thumb
 2334              		.thumb_func
 2335              		.fpu fpv4-sp-d16
 2337              	USBD_static_free:
 2338              	.LFB226:
3254:application-library/usb-cdc-device.c **** 
3255:application-library/usb-cdc-device.c **** /**
3256:application-library/usb-cdc-device.c ****   * @brief  Dummy memory free
3257:application-library/usb-cdc-device.c ****   * @param  p: Pointer to allocated  memory address
3258:application-library/usb-cdc-device.c ****   * @retval None
3259:application-library/usb-cdc-device.c ****   */
3260:application-library/usb-cdc-device.c **** void USBD_static_free(void *p)
3261:application-library/usb-cdc-device.c **** {
 2339              		.loc 1 3261 0
 2340              		.cfi_startproc
 2341              		@ args = 0, pretend = 0, frame = 0
 2342              		@ frame_needed = 0, uses_anonymous_args = 0
 2343              		@ link register save eliminated.
 2344              	.LVL241:
 2345 0000 7047     		bx	lr
 2346              		.cfi_endproc
 2347              	.LFE226:
 2349              		.section	.text.USBD_LL_Delay,"ax",%progbits
 2350              		.align	1
 2351              		.global	USBD_LL_Delay
 2352              		.syntax unified
 2353              		.thumb
 2354              		.thumb_func
 2355              		.fpu fpv4-sp-d16
 2357              	USBD_LL_Delay:
 2358              	.LFB227:
3262:application-library/usb-cdc-device.c **** 
3263:application-library/usb-cdc-device.c **** }
3264:application-library/usb-cdc-device.c **** 
3265:application-library/usb-cdc-device.c **** /**
3266:application-library/usb-cdc-device.c ****   * @brief  Delays routine for the USB Device Library.
3267:application-library/usb-cdc-device.c ****   * @param  Delay: Delay in ms
3268:application-library/usb-cdc-device.c ****   * @retval None
3269:application-library/usb-cdc-device.c ****   */
3270:application-library/usb-cdc-device.c **** void USBD_LL_Delay(uint32_t Delay)
ARM GAS  /tmp/ccgHoJ4C.s 			page 108


3271:application-library/usb-cdc-device.c **** {
 2359              		.loc 1 3271 0
 2360              		.cfi_startproc
 2361              		@ args = 0, pretend = 0, frame = 0
 2362              		@ frame_needed = 0, uses_anonymous_args = 0
 2363              	.LVL242:
 2364              		.loc 1 3271 0
 2365 0000 08B5     		push	{r3, lr}
 2366              	.LCFI40:
 2367              		.cfi_def_cfa_offset 8
 2368              		.cfi_offset 3, -8
 2369              		.cfi_offset 14, -4
3272:application-library/usb-cdc-device.c ****   HAL_Delay(Delay);
 2370              		.loc 1 3272 0
 2371 0002 FFF7FEFF 		bl	HAL_Delay
 2372              	.LVL243:
 2373 0006 08BD     		pop	{r3, pc}
 2374              		.cfi_endproc
 2375              	.LFE227:
 2377              		.section	.text.USBD_Get_USB_Status,"ax",%progbits
 2378              		.align	1
 2379              		.global	USBD_Get_USB_Status
 2380              		.syntax unified
 2381              		.thumb
 2382              		.thumb_func
 2383              		.fpu fpv4-sp-d16
 2385              	USBD_Get_USB_Status:
 2386              	.LFB228:
3273:application-library/usb-cdc-device.c **** }
3274:application-library/usb-cdc-device.c **** 
3275:application-library/usb-cdc-device.c **** /**
3276:application-library/usb-cdc-device.c ****   * @brief  Returns the USB status depending on the HAL status:
3277:application-library/usb-cdc-device.c ****   * @param  hal_status: HAL status
3278:application-library/usb-cdc-device.c ****   * @retval USB status
3279:application-library/usb-cdc-device.c ****   */
3280:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Get_USB_Status(HAL_StatusTypeDef hal_status)
3281:application-library/usb-cdc-device.c **** {
 2387              		.loc 1 3281 0
 2388              		.cfi_startproc
 2389              		@ args = 0, pretend = 0, frame = 0
 2390              		@ frame_needed = 0, uses_anonymous_args = 0
 2391              		@ link register save eliminated.
 2392              	.LVL244:
3282:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
3283:application-library/usb-cdc-device.c **** 
3284:application-library/usb-cdc-device.c ****   switch (hal_status)
 2393              		.loc 1 3284 0
 2394 0000 18B1     		cbz	r0, .L193
 2395 0002 0228     		cmp	r0, #2
 2396 0004 03D0     		beq	.L194
3285:application-library/usb-cdc-device.c ****   {
3286:application-library/usb-cdc-device.c ****     case HAL_OK :
3287:application-library/usb-cdc-device.c ****       usb_status = USBD_OK;
3288:application-library/usb-cdc-device.c ****     break;
3289:application-library/usb-cdc-device.c ****     case HAL_ERROR :
3290:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
 2397              		.loc 1 3290 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 109


 2398 0006 0320     		movs	r0, #3
 2399              	.LVL245:
3291:application-library/usb-cdc-device.c ****     break;
3292:application-library/usb-cdc-device.c ****     case HAL_BUSY :
3293:application-library/usb-cdc-device.c ****       usb_status = USBD_BUSY;
3294:application-library/usb-cdc-device.c ****     break;
3295:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
3296:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
3297:application-library/usb-cdc-device.c ****     break;
3298:application-library/usb-cdc-device.c ****     default :
3299:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
3300:application-library/usb-cdc-device.c ****     break;
3301:application-library/usb-cdc-device.c ****   }
3302:application-library/usb-cdc-device.c ****   return usb_status;
3303:application-library/usb-cdc-device.c **** }
 2400              		.loc 1 3303 0
 2401 0008 7047     		bx	lr
 2402              	.LVL246:
 2403              	.L193:
3287:application-library/usb-cdc-device.c ****     break;
 2404              		.loc 1 3287 0
 2405 000a 0020     		movs	r0, #0
 2406              	.LVL247:
 2407 000c 7047     		bx	lr
 2408              	.LVL248:
 2409              	.L194:
3293:application-library/usb-cdc-device.c ****     break;
 2410              		.loc 1 3293 0
 2411 000e 0120     		movs	r0, #1
 2412              	.LVL249:
3294:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
 2413              		.loc 1 3294 0
 2414 0010 7047     		bx	lr
 2415              		.cfi_endproc
 2416              	.LFE228:
 2418              		.section	.text.USBD_LL_DeInit,"ax",%progbits
 2419              		.align	1
 2420              		.global	USBD_LL_DeInit
 2421              		.syntax unified
 2422              		.thumb
 2423              		.thumb_func
 2424              		.fpu fpv4-sp-d16
 2426              	USBD_LL_DeInit:
 2427              	.LFB212:
3002:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2428              		.loc 1 3002 0
 2429              		.cfi_startproc
 2430              		@ args = 0, pretend = 0, frame = 0
 2431              		@ frame_needed = 0, uses_anonymous_args = 0
 2432              	.LVL250:
 2433 0000 08B5     		push	{r3, lr}
 2434              	.LCFI41:
 2435              		.cfi_def_cfa_offset 8
 2436              		.cfi_offset 3, -8
 2437              		.cfi_offset 14, -4
 2438              	.LVL251:
3006:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 110


 2439              		.loc 1 3006 0
 2440 0002 D0F8C802 		ldr	r0, [r0, #712]
 2441              	.LVL252:
 2442 0006 FFF7FEFF 		bl	HAL_PCD_DeInit
 2443              	.LVL253:
3008:application-library/usb-cdc-device.c **** 
 2444              		.loc 1 3008 0
 2445 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 2446              	.LVL254:
3011:application-library/usb-cdc-device.c **** 
 2447              		.loc 1 3011 0
 2448 000e 08BD     		pop	{r3, pc}
 2449              		.cfi_endproc
 2450              	.LFE212:
 2452              		.section	.text.USBD_LL_Start,"ax",%progbits
 2453              		.align	1
 2454              		.global	USBD_LL_Start
 2455              		.syntax unified
 2456              		.thumb
 2457              		.thumb_func
 2458              		.fpu fpv4-sp-d16
 2460              	USBD_LL_Start:
 2461              	.LFB213:
3019:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2462              		.loc 1 3019 0
 2463              		.cfi_startproc
 2464              		@ args = 0, pretend = 0, frame = 0
 2465              		@ frame_needed = 0, uses_anonymous_args = 0
 2466              	.LVL255:
 2467 0000 08B5     		push	{r3, lr}
 2468              	.LCFI42:
 2469              		.cfi_def_cfa_offset 8
 2470              		.cfi_offset 3, -8
 2471              		.cfi_offset 14, -4
 2472              	.LVL256:
3023:application-library/usb-cdc-device.c **** 
 2473              		.loc 1 3023 0
 2474 0002 D0F8C802 		ldr	r0, [r0, #712]
 2475              	.LVL257:
 2476 0006 FFF7FEFF 		bl	HAL_PCD_Start
 2477              	.LVL258:
3025:application-library/usb-cdc-device.c **** 
 2478              		.loc 1 3025 0
 2479 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 2480              	.LVL259:
3028:application-library/usb-cdc-device.c **** 
 2481              		.loc 1 3028 0
 2482 000e 08BD     		pop	{r3, pc}
 2483              		.cfi_endproc
 2484              	.LFE213:
 2486              		.section	.text.USBD_LL_Stop,"ax",%progbits
 2487              		.align	1
 2488              		.global	USBD_LL_Stop
 2489              		.syntax unified
 2490              		.thumb
 2491              		.thumb_func
 2492              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccgHoJ4C.s 			page 111


 2494              	USBD_LL_Stop:
 2495              	.LFB214:
3036:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2496              		.loc 1 3036 0
 2497              		.cfi_startproc
 2498              		@ args = 0, pretend = 0, frame = 0
 2499              		@ frame_needed = 0, uses_anonymous_args = 0
 2500              	.LVL260:
 2501 0000 08B5     		push	{r3, lr}
 2502              	.LCFI43:
 2503              		.cfi_def_cfa_offset 8
 2504              		.cfi_offset 3, -8
 2505              		.cfi_offset 14, -4
 2506              	.LVL261:
3040:application-library/usb-cdc-device.c **** 
 2507              		.loc 1 3040 0
 2508 0002 D0F8C802 		ldr	r0, [r0, #712]
 2509              	.LVL262:
 2510 0006 FFF7FEFF 		bl	HAL_PCD_Stop
 2511              	.LVL263:
3042:application-library/usb-cdc-device.c **** 
 2512              		.loc 1 3042 0
 2513 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 2514              	.LVL264:
3045:application-library/usb-cdc-device.c **** 
 2515              		.loc 1 3045 0
 2516 000e 08BD     		pop	{r3, pc}
 2517              		.cfi_endproc
 2518              	.LFE214:
 2520              		.section	.text.USBD_DeInit,"ax",%progbits
 2521              		.align	1
 2522              		.global	USBD_DeInit
 2523              		.syntax unified
 2524              		.thumb
 2525              		.thumb_func
 2526              		.fpu fpv4-sp-d16
 2528              	USBD_DeInit:
 2529              	.LFB155:
1028:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 2530              		.loc 1 1028 0
 2531              		.cfi_startproc
 2532              		@ args = 0, pretend = 0, frame = 0
 2533              		@ frame_needed = 0, uses_anonymous_args = 0
 2534              	.LVL265:
 2535 0000 10B5     		push	{r4, lr}
 2536              	.LCFI44:
 2537              		.cfi_def_cfa_offset 8
 2538              		.cfi_offset 4, -8
 2539              		.cfi_offset 14, -4
 2540 0002 0446     		mov	r4, r0
1032:application-library/usb-cdc-device.c **** 
 2541              		.loc 1 1032 0
 2542 0004 FFF7FEFF 		bl	USBD_LL_Stop
 2543              	.LVL266:
1035:application-library/usb-cdc-device.c **** 
 2544              		.loc 1 1035 0
 2545 0008 0123     		movs	r3, #1
ARM GAS  /tmp/ccgHoJ4C.s 			page 112


 2546 000a 84F89C32 		strb	r3, [r4, #668]
1038:application-library/usb-cdc-device.c ****   {
 2547              		.loc 1 1038 0
 2548 000e D4F8B832 		ldr	r3, [r4, #696]
 2549 0012 1BB1     		cbz	r3, .L204
1040:application-library/usb-cdc-device.c ****   }
 2550              		.loc 1 1040 0
 2551 0014 5B68     		ldr	r3, [r3, #4]
 2552 0016 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 2553 0018 2046     		mov	r0, r4
 2554 001a 9847     		blx	r3
 2555              	.LVL267:
 2556              	.L204:
1043:application-library/usb-cdc-device.c **** 
 2557              		.loc 1 1043 0
 2558 001c 0023     		movs	r3, #0
 2559 001e C4F8C432 		str	r3, [r4, #708]
1046:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
 2560              		.loc 1 1046 0
 2561 0022 C4F8B432 		str	r3, [r4, #692]
1047:application-library/usb-cdc-device.c **** 
 2562              		.loc 1 1047 0
 2563 0026 C4F8D032 		str	r3, [r4, #720]
1050:application-library/usb-cdc-device.c **** 
 2564              		.loc 1 1050 0
 2565 002a 2046     		mov	r0, r4
 2566 002c FFF7FEFF 		bl	USBD_LL_DeInit
 2567              	.LVL268:
1053:application-library/usb-cdc-device.c **** 
 2568              		.loc 1 1053 0
 2569 0030 10BD     		pop	{r4, pc}
 2570              		.cfi_endproc
 2571              	.LFE155:
 2573              		.section	.text.USBD_Stop,"ax",%progbits
 2574              		.align	1
 2575              		.global	USBD_Stop
 2576              		.syntax unified
 2577              		.thumb
 2578              		.thumb_func
 2579              		.fpu fpv4-sp-d16
 2581              	USBD_Stop:
 2582              	.LFB158:
1131:application-library/usb-cdc-device.c ****   /* Disconnect USB Device */
 2583              		.loc 1 1131 0
 2584              		.cfi_startproc
 2585              		@ args = 0, pretend = 0, frame = 0
 2586              		@ frame_needed = 0, uses_anonymous_args = 0
 2587              	.LVL269:
 2588 0000 10B5     		push	{r4, lr}
 2589              	.LCFI45:
 2590              		.cfi_def_cfa_offset 8
 2591              		.cfi_offset 4, -8
 2592              		.cfi_offset 14, -4
 2593 0002 0446     		mov	r4, r0
1133:application-library/usb-cdc-device.c **** 
 2594              		.loc 1 1133 0
 2595 0004 FFF7FEFF 		bl	USBD_LL_Stop
ARM GAS  /tmp/ccgHoJ4C.s 			page 113


 2596              	.LVL270:
1136:application-library/usb-cdc-device.c ****   {
 2597              		.loc 1 1136 0
 2598 0008 D4F8B832 		ldr	r3, [r4, #696]
 2599 000c 1BB1     		cbz	r3, .L207
1138:application-library/usb-cdc-device.c ****   }
 2600              		.loc 1 1138 0
 2601 000e 5B68     		ldr	r3, [r3, #4]
 2602 0010 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 2603 0012 2046     		mov	r0, r4
 2604 0014 9847     		blx	r3
 2605              	.LVL271:
 2606              	.L207:
1142:application-library/usb-cdc-device.c **** 
 2607              		.loc 1 1142 0
 2608 0016 0020     		movs	r0, #0
 2609 0018 10BD     		pop	{r4, pc}
 2610              		.cfi_endproc
 2611              	.LFE158:
 2613              		.section	.text.USBD_LL_OpenEP,"ax",%progbits
 2614              		.align	1
 2615              		.global	USBD_LL_OpenEP
 2616              		.syntax unified
 2617              		.thumb
 2618              		.thumb_func
 2619              		.fpu fpv4-sp-d16
 2621              	USBD_LL_OpenEP:
 2622              	.LFB215:
3056:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2623              		.loc 1 3056 0
 2624              		.cfi_startproc
 2625              		@ args = 0, pretend = 0, frame = 0
 2626              		@ frame_needed = 0, uses_anonymous_args = 0
 2627              	.LVL272:
 2628 0000 10B5     		push	{r4, lr}
 2629              	.LCFI46:
 2630              		.cfi_def_cfa_offset 8
 2631              		.cfi_offset 4, -8
 2632              		.cfi_offset 14, -4
 2633 0002 1C46     		mov	r4, r3
 2634              	.LVL273:
3060:application-library/usb-cdc-device.c **** 
 2635              		.loc 1 3060 0
 2636 0004 1346     		mov	r3, r2
 2637              	.LVL274:
 2638 0006 2246     		mov	r2, r4
 2639              	.LVL275:
 2640 0008 D0F8C802 		ldr	r0, [r0, #712]
 2641              	.LVL276:
 2642 000c FFF7FEFF 		bl	HAL_PCD_EP_Open
 2643              	.LVL277:
3062:application-library/usb-cdc-device.c **** 
 2644              		.loc 1 3062 0
 2645 0010 FFF7FEFF 		bl	USBD_Get_USB_Status
 2646              	.LVL278:
3065:application-library/usb-cdc-device.c **** 
 2647              		.loc 1 3065 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 114


 2648 0014 10BD     		pop	{r4, pc}
 2649              		.cfi_endproc
 2650              	.LFE215:
 2652              		.section	.text.USBD_LL_Reset,"ax",%progbits
 2653              		.align	1
 2654              		.global	USBD_LL_Reset
 2655              		.syntax unified
 2656              		.thumb
 2657              		.thumb_func
 2658              		.fpu fpv4-sp-d16
 2660              	USBD_LL_Reset:
 2661              	.LFB165:
1434:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 2662              		.loc 1 1434 0
 2663              		.cfi_startproc
 2664              		@ args = 0, pretend = 0, frame = 0
 2665              		@ frame_needed = 0, uses_anonymous_args = 0
 2666              	.LVL279:
 2667 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2668              	.LCFI47:
 2669              		.cfi_def_cfa_offset 24
 2670              		.cfi_offset 3, -24
 2671              		.cfi_offset 4, -20
 2672              		.cfi_offset 5, -16
 2673              		.cfi_offset 6, -12
 2674              		.cfi_offset 7, -8
 2675              		.cfi_offset 14, -4
 2676 0002 0446     		mov	r4, r0
 2677              	.LVL280:
1438:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_IDLE;
 2678              		.loc 1 1438 0
 2679 0004 0123     		movs	r3, #1
 2680 0006 80F89C32 		strb	r3, [r0, #668]
1439:application-library/usb-cdc-device.c ****   pdev->dev_config = 0U;
 2681              		.loc 1 1439 0
 2682 000a 0023     		movs	r3, #0
 2683 000c C0F89432 		str	r3, [r0, #660]
1440:application-library/usb-cdc-device.c ****   pdev->dev_remote_wakeup = 0U;
 2684              		.loc 1 1440 0
 2685 0010 4360     		str	r3, [r0, #4]
1441:application-library/usb-cdc-device.c ****   pdev->dev_test_mode = 0U;
 2686              		.loc 1 1441 0
 2687 0012 C0F8A432 		str	r3, [r0, #676]
1442:application-library/usb-cdc-device.c **** 
 2688              		.loc 1 1442 0
 2689 0016 80F8A032 		strb	r3, [r0, #672]
1445:application-library/usb-cdc-device.c ****   {
 2690              		.loc 1 1445 0
 2691 001a D0F8B832 		ldr	r3, [r0, #696]
 2692 001e EBB1     		cbz	r3, .L213
1447:application-library/usb-cdc-device.c ****     {
 2693              		.loc 1 1447 0
 2694 0020 5B68     		ldr	r3, [r3, #4]
 2695 0022 EBB1     		cbz	r3, .L214
1449:application-library/usb-cdc-device.c ****       {
 2696              		.loc 1 1449 0
 2697 0024 0021     		movs	r1, #0
ARM GAS  /tmp/ccgHoJ4C.s 			page 115


 2698 0026 9847     		blx	r3
 2699              	.LVL281:
 2700 0028 B0B1     		cbz	r0, .L217
1451:application-library/usb-cdc-device.c ****       }
 2701              		.loc 1 1451 0
 2702 002a 0327     		movs	r7, #3
 2703              	.L212:
 2704              	.LVL282:
1457:application-library/usb-cdc-device.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
 2705              		.loc 1 1457 0
 2706 002c 4023     		movs	r3, #64
 2707 002e 0022     		movs	r2, #0
 2708 0030 1146     		mov	r1, r2
 2709 0032 2046     		mov	r0, r4
 2710 0034 FFF7FEFF 		bl	USBD_LL_OpenEP
 2711              	.LVL283:
1458:application-library/usb-cdc-device.c **** 
 2712              		.loc 1 1458 0
 2713 0038 0126     		movs	r6, #1
 2714 003a A4F86461 		strh	r6, [r4, #356]	@ movhi
1460:application-library/usb-cdc-device.c **** 
 2715              		.loc 1 1460 0
 2716 003e 4025     		movs	r5, #64
 2717 0040 C4F86051 		str	r5, [r4, #352]
1463:application-library/usb-cdc-device.c ****   pdev->ep_in[0x80U & 0xFU].is_used = 1U;
 2718              		.loc 1 1463 0
 2719 0044 2B46     		mov	r3, r5
 2720 0046 0022     		movs	r2, #0
 2721 0048 8021     		movs	r1, #128
 2722 004a 2046     		mov	r0, r4
 2723 004c FFF7FEFF 		bl	USBD_LL_OpenEP
 2724              	.LVL284:
1464:application-library/usb-cdc-device.c **** 
 2725              		.loc 1 1464 0
 2726 0050 A684     		strh	r6, [r4, #36]	@ movhi
1466:application-library/usb-cdc-device.c **** 
 2727              		.loc 1 1466 0
 2728 0052 2562     		str	r5, [r4, #32]
1469:application-library/usb-cdc-device.c **** 
 2729              		.loc 1 1469 0
 2730 0054 3846     		mov	r0, r7
 2731 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2732              	.LVL285:
 2733              	.L217:
1435:application-library/usb-cdc-device.c **** 
 2734              		.loc 1 1435 0
 2735 0058 0027     		movs	r7, #0
 2736 005a E7E7     		b	.L212
 2737              	.LVL286:
 2738              	.L213:
 2739 005c 0027     		movs	r7, #0
 2740 005e E5E7     		b	.L212
 2741              	.L214:
 2742 0060 0027     		movs	r7, #0
 2743 0062 E3E7     		b	.L212
 2744              		.cfi_endproc
 2745              	.LFE165:
ARM GAS  /tmp/ccgHoJ4C.s 			page 116


 2747              		.section	.text.HAL_PCD_ResetCallback,"ax",%progbits
 2748              		.align	1
 2749              		.global	HAL_PCD_ResetCallback
 2750              		.syntax unified
 2751              		.thumb
 2752              		.thumb_func
 2753              		.fpu fpv4-sp-d16
 2755              	HAL_PCD_ResetCallback:
 2756              	.LFB204:
2831:application-library/usb-cdc-device.c ****   USBD_SpeedTypeDef speed = USBD_SPEED_FULL;
 2757              		.loc 1 2831 0
 2758              		.cfi_startproc
 2759              		@ args = 0, pretend = 0, frame = 0
 2760              		@ frame_needed = 0, uses_anonymous_args = 0
 2761              	.LVL287:
 2762 0000 10B5     		push	{r4, lr}
 2763              	.LCFI48:
 2764              		.cfi_def_cfa_offset 8
 2765              		.cfi_offset 4, -8
 2766              		.cfi_offset 14, -4
 2767 0002 0446     		mov	r4, r0
 2768              	.LVL288:
2834:application-library/usb-cdc-device.c ****   {
 2769              		.loc 1 2834 0
 2770 0004 C368     		ldr	r3, [r0, #12]
 2771 0006 2BB1     		cbz	r3, .L220
2838:application-library/usb-cdc-device.c ****   {
 2772              		.loc 1 2838 0
 2773 0008 022B     		cmp	r3, #2
 2774 000a 0DD0     		beq	.L221
2844:application-library/usb-cdc-device.c ****   }
 2775              		.loc 1 2844 0
 2776 000c FFF7FEFF 		bl	Error_Handler
 2777              	.LVL289:
2832:application-library/usb-cdc-device.c **** 
 2778              		.loc 1 2832 0
 2779 0010 0121     		movs	r1, #1
 2780 0012 00E0     		b	.L219
 2781              	.LVL290:
 2782              	.L220:
2836:application-library/usb-cdc-device.c ****   }
 2783              		.loc 1 2836 0
 2784 0014 0021     		movs	r1, #0
 2785              	.LVL291:
 2786              	.L219:
2847:application-library/usb-cdc-device.c **** 
 2787              		.loc 1 2847 0
 2788 0016 D4F80805 		ldr	r0, [r4, #1288]
 2789 001a FFF7FEFF 		bl	USBD_LL_SetSpeed
 2790              	.LVL292:
2850:application-library/usb-cdc-device.c **** }
 2791              		.loc 1 2850 0
 2792 001e D4F80805 		ldr	r0, [r4, #1288]
 2793 0022 FFF7FEFF 		bl	USBD_LL_Reset
 2794              	.LVL293:
 2795 0026 10BD     		pop	{r4, pc}
 2796              	.LVL294:
ARM GAS  /tmp/ccgHoJ4C.s 			page 117


 2797              	.L221:
2840:application-library/usb-cdc-device.c ****   }
 2798              		.loc 1 2840 0
 2799 0028 0121     		movs	r1, #1
 2800 002a F4E7     		b	.L219
 2801              		.cfi_endproc
 2802              	.LFE204:
 2804              		.section	.text.USBD_LL_CloseEP,"ax",%progbits
 2805              		.align	1
 2806              		.global	USBD_LL_CloseEP
 2807              		.syntax unified
 2808              		.thumb
 2809              		.thumb_func
 2810              		.fpu fpv4-sp-d16
 2812              	USBD_LL_CloseEP:
 2813              	.LFB216:
3074:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2814              		.loc 1 3074 0
 2815              		.cfi_startproc
 2816              		@ args = 0, pretend = 0, frame = 0
 2817              		@ frame_needed = 0, uses_anonymous_args = 0
 2818              	.LVL295:
 2819 0000 08B5     		push	{r3, lr}
 2820              	.LCFI49:
 2821              		.cfi_def_cfa_offset 8
 2822              		.cfi_offset 3, -8
 2823              		.cfi_offset 14, -4
 2824              	.LVL296:
3078:application-library/usb-cdc-device.c **** 
 2825              		.loc 1 3078 0
 2826 0002 D0F8C802 		ldr	r0, [r0, #712]
 2827              	.LVL297:
 2828 0006 FFF7FEFF 		bl	HAL_PCD_EP_Close
 2829              	.LVL298:
3080:application-library/usb-cdc-device.c **** 
 2830              		.loc 1 3080 0
 2831 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 2832              	.LVL299:
3083:application-library/usb-cdc-device.c **** 
 2833              		.loc 1 3083 0
 2834 000e 08BD     		pop	{r3, pc}
 2835              		.cfi_endproc
 2836              	.LFE216:
 2838              		.section	.text.USBD_CDC_DeInit,"ax",%progbits
 2839              		.align	1
 2840              		.global	USBD_CDC_DeInit
 2841              		.syntax unified
 2842              		.thumb
 2843              		.thumb_func
 2844              		.fpu fpv4-sp-d16
 2846              	USBD_CDC_DeInit:
 2847              	.LFB140:
 524:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 2848              		.loc 1 524 0
 2849              		.cfi_startproc
 2850              		@ args = 0, pretend = 0, frame = 0
 2851              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 118


 2852              	.LVL300:
 2853 0000 38B5     		push	{r3, r4, r5, lr}
 2854              	.LCFI50:
 2855              		.cfi_def_cfa_offset 16
 2856              		.cfi_offset 3, -16
 2857              		.cfi_offset 4, -12
 2858              		.cfi_offset 5, -8
 2859              		.cfi_offset 14, -4
 2860 0002 0446     		mov	r4, r0
 528:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 2861              		.loc 1 528 0
 2862 0004 8121     		movs	r1, #129
 2863              	.LVL301:
 2864 0006 FFF7FEFF 		bl	USBD_LL_CloseEP
 2865              	.LVL302:
 529:application-library/usb-cdc-device.c **** 
 2866              		.loc 1 529 0
 2867 000a 0025     		movs	r5, #0
 2868 000c 2587     		strh	r5, [r4, #56]	@ movhi
 532:application-library/usb-cdc-device.c ****   pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 2869              		.loc 1 532 0
 2870 000e 0121     		movs	r1, #1
 2871 0010 2046     		mov	r0, r4
 2872 0012 FFF7FEFF 		bl	USBD_LL_CloseEP
 2873              	.LVL303:
 533:application-library/usb-cdc-device.c **** 
 2874              		.loc 1 533 0
 2875 0016 A4F87851 		strh	r5, [r4, #376]	@ movhi
 536:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 2876              		.loc 1 536 0
 2877 001a 8221     		movs	r1, #130
 2878 001c 2046     		mov	r0, r4
 2879 001e FFF7FEFF 		bl	USBD_LL_CloseEP
 2880              	.LVL304:
 537:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 2881              		.loc 1 537 0
 2882 0022 A4F84C50 		strh	r5, [r4, #76]	@ movhi
 538:application-library/usb-cdc-device.c **** 
 2883              		.loc 1 538 0
 2884 0026 A4F84E50 		strh	r5, [r4, #78]	@ movhi
 541:application-library/usb-cdc-device.c ****   {
 2885              		.loc 1 541 0
 2886 002a D4F8D432 		ldr	r3, [r4, #724]
 2887 002e 03F1B002 		add	r2, r3, #176
 2888 0032 54F82220 		ldr	r2, [r4, r2, lsl #2]
 2889 0036 62B1     		cbz	r2, .L226
 543:application-library/usb-cdc-device.c ****     (void)USBD_free(pdev->pClassDataCmsit[pdev->classId]);
 2890              		.loc 1 543 0
 2891 0038 B033     		adds	r3, r3, #176
 2892 003a 04EB8303 		add	r3, r4, r3, lsl #2
 2893 003e 5B68     		ldr	r3, [r3, #4]
 2894 0040 5B68     		ldr	r3, [r3, #4]
 2895 0042 9847     		blx	r3
 2896              	.LVL305:
 544:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 2897              		.loc 1 544 0
 2898 0044 D4F8D432 		ldr	r3, [r4, #724]
ARM GAS  /tmp/ccgHoJ4C.s 			page 119


 545:application-library/usb-cdc-device.c ****     pdev->pClassData = NULL;
 2899              		.loc 1 545 0
 2900 0048 B033     		adds	r3, r3, #176
 2901 004a 44F82350 		str	r5, [r4, r3, lsl #2]
 546:application-library/usb-cdc-device.c ****   }
 2902              		.loc 1 546 0
 2903 004e C4F8BC52 		str	r5, [r4, #700]
 2904              	.L226:
 550:application-library/usb-cdc-device.c **** 
 2905              		.loc 1 550 0
 2906 0052 0020     		movs	r0, #0
 2907 0054 38BD     		pop	{r3, r4, r5, pc}
 2908              		.cfi_endproc
 2909              	.LFE140:
 2911              		.section	.text.USBD_LL_FlushEP,"ax",%progbits
 2912              		.align	1
 2913              		.global	USBD_LL_FlushEP
 2914              		.syntax unified
 2915              		.thumb
 2916              		.thumb_func
 2917              		.fpu fpv4-sp-d16
 2919              	USBD_LL_FlushEP:
 2920              	.LFB217:
3092:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2921              		.loc 1 3092 0
 2922              		.cfi_startproc
 2923              		@ args = 0, pretend = 0, frame = 0
 2924              		@ frame_needed = 0, uses_anonymous_args = 0
 2925              	.LVL306:
 2926 0000 08B5     		push	{r3, lr}
 2927              	.LCFI51:
 2928              		.cfi_def_cfa_offset 8
 2929              		.cfi_offset 3, -8
 2930              		.cfi_offset 14, -4
 2931              	.LVL307:
3096:application-library/usb-cdc-device.c **** 
 2932              		.loc 1 3096 0
 2933 0002 D0F8C802 		ldr	r0, [r0, #712]
 2934              	.LVL308:
 2935 0006 FFF7FEFF 		bl	HAL_PCD_EP_Flush
 2936              	.LVL309:
3098:application-library/usb-cdc-device.c **** 
 2937              		.loc 1 3098 0
 2938 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 2939              	.LVL310:
3101:application-library/usb-cdc-device.c **** 
 2940              		.loc 1 3101 0
 2941 000e 08BD     		pop	{r3, pc}
 2942              		.cfi_endproc
 2943              	.LFE217:
 2945              		.section	.text.USBD_LL_StallEP,"ax",%progbits
 2946              		.align	1
 2947              		.global	USBD_LL_StallEP
 2948              		.syntax unified
 2949              		.thumb
 2950              		.thumb_func
 2951              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccgHoJ4C.s 			page 120


 2953              	USBD_LL_StallEP:
 2954              	.LFB218:
3110:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 2955              		.loc 1 3110 0
 2956              		.cfi_startproc
 2957              		@ args = 0, pretend = 0, frame = 0
 2958              		@ frame_needed = 0, uses_anonymous_args = 0
 2959              	.LVL311:
 2960 0000 08B5     		push	{r3, lr}
 2961              	.LCFI52:
 2962              		.cfi_def_cfa_offset 8
 2963              		.cfi_offset 3, -8
 2964              		.cfi_offset 14, -4
 2965              	.LVL312:
3114:application-library/usb-cdc-device.c **** 
 2966              		.loc 1 3114 0
 2967 0002 D0F8C802 		ldr	r0, [r0, #712]
 2968              	.LVL313:
 2969 0006 FFF7FEFF 		bl	HAL_PCD_EP_SetStall
 2970              	.LVL314:
3116:application-library/usb-cdc-device.c **** 
 2971              		.loc 1 3116 0
 2972 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 2973              	.LVL315:
3119:application-library/usb-cdc-device.c **** 
 2974              		.loc 1 3119 0
 2975 000e 08BD     		pop	{r3, pc}
 2976              		.cfi_endproc
 2977              	.LFE218:
 2979              		.section	.text.USBD_CtlError,"ax",%progbits
 2980              		.align	1
 2981              		.global	USBD_CtlError
 2982              		.syntax unified
 2983              		.thumb
 2984              		.thumb_func
 2985              		.fpu fpv4-sp-d16
 2987              	USBD_CtlError:
 2988              	.LFB188:
2488:application-library/usb-cdc-device.c ****   UNUSED(req);
 2989              		.loc 1 2488 0
 2990              		.cfi_startproc
 2991              		@ args = 0, pretend = 0, frame = 0
 2992              		@ frame_needed = 0, uses_anonymous_args = 0
 2993              	.LVL316:
 2994 0000 10B5     		push	{r4, lr}
 2995              	.LCFI53:
 2996              		.cfi_def_cfa_offset 8
 2997              		.cfi_offset 4, -8
 2998              		.cfi_offset 14, -4
 2999 0002 0446     		mov	r4, r0
2491:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0U);
 3000              		.loc 1 2491 0
 3001 0004 8021     		movs	r1, #128
 3002              	.LVL317:
 3003 0006 FFF7FEFF 		bl	USBD_LL_StallEP
 3004              	.LVL318:
2492:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccgHoJ4C.s 			page 121


 3005              		.loc 1 2492 0
 3006 000a 0021     		movs	r1, #0
 3007 000c 2046     		mov	r0, r4
 3008 000e FFF7FEFF 		bl	USBD_LL_StallEP
 3009              	.LVL319:
 3010 0012 10BD     		pop	{r4, pc}
 3011              		.cfi_endproc
 3012              	.LFE188:
 3014              		.section	.text.USBD_LL_ClearStallEP,"ax",%progbits
 3015              		.align	1
 3016              		.global	USBD_LL_ClearStallEP
 3017              		.syntax unified
 3018              		.thumb
 3019              		.thumb_func
 3020              		.fpu fpv4-sp-d16
 3022              	USBD_LL_ClearStallEP:
 3023              	.LFB219:
3128:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 3024              		.loc 1 3128 0
 3025              		.cfi_startproc
 3026              		@ args = 0, pretend = 0, frame = 0
 3027              		@ frame_needed = 0, uses_anonymous_args = 0
 3028              	.LVL320:
 3029 0000 08B5     		push	{r3, lr}
 3030              	.LCFI54:
 3031              		.cfi_def_cfa_offset 8
 3032              		.cfi_offset 3, -8
 3033              		.cfi_offset 14, -4
 3034              	.LVL321:
3132:application-library/usb-cdc-device.c **** 
 3035              		.loc 1 3132 0
 3036 0002 D0F8C802 		ldr	r0, [r0, #712]
 3037              	.LVL322:
 3038 0006 FFF7FEFF 		bl	HAL_PCD_EP_ClrStall
 3039              	.LVL323:
3134:application-library/usb-cdc-device.c **** 
 3040              		.loc 1 3134 0
 3041 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 3042              	.LVL324:
3137:application-library/usb-cdc-device.c **** 
 3043              		.loc 1 3137 0
 3044 000e 08BD     		pop	{r3, pc}
 3045              		.cfi_endproc
 3046              	.LFE219:
 3048              		.section	.text.USBD_LL_SetUSBAddress,"ax",%progbits
 3049              		.align	1
 3050              		.global	USBD_LL_SetUSBAddress
 3051              		.syntax unified
 3052              		.thumb
 3053              		.thumb_func
 3054              		.fpu fpv4-sp-d16
 3056              	USBD_LL_SetUSBAddress:
 3057              	.LFB221:
3166:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 3058              		.loc 1 3166 0
 3059              		.cfi_startproc
 3060              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 122


 3061              		@ frame_needed = 0, uses_anonymous_args = 0
 3062              	.LVL325:
 3063 0000 08B5     		push	{r3, lr}
 3064              	.LCFI55:
 3065              		.cfi_def_cfa_offset 8
 3066              		.cfi_offset 3, -8
 3067              		.cfi_offset 14, -4
 3068              	.LVL326:
3170:application-library/usb-cdc-device.c **** 
 3069              		.loc 1 3170 0
 3070 0002 D0F8C802 		ldr	r0, [r0, #712]
 3071              	.LVL327:
 3072 0006 FFF7FEFF 		bl	HAL_PCD_SetAddress
 3073              	.LVL328:
3172:application-library/usb-cdc-device.c **** 
 3074              		.loc 1 3172 0
 3075 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 3076              	.LVL329:
3175:application-library/usb-cdc-device.c **** 
 3077              		.loc 1 3175 0
 3078 000e 08BD     		pop	{r3, pc}
 3079              		.cfi_endproc
 3080              	.LFE221:
 3082              		.section	.text.USBD_LL_Transmit,"ax",%progbits
 3083              		.align	1
 3084              		.global	USBD_LL_Transmit
 3085              		.syntax unified
 3086              		.thumb
 3087              		.thumb_func
 3088              		.fpu fpv4-sp-d16
 3090              	USBD_LL_Transmit:
 3091              	.LFB222:
3186:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 3092              		.loc 1 3186 0
 3093              		.cfi_startproc
 3094              		@ args = 0, pretend = 0, frame = 0
 3095              		@ frame_needed = 0, uses_anonymous_args = 0
 3096              	.LVL330:
 3097 0000 08B5     		push	{r3, lr}
 3098              	.LCFI56:
 3099              		.cfi_def_cfa_offset 8
 3100              		.cfi_offset 3, -8
 3101              		.cfi_offset 14, -4
 3102              	.LVL331:
3190:application-library/usb-cdc-device.c **** 
 3103              		.loc 1 3190 0
 3104 0002 D0F8C802 		ldr	r0, [r0, #712]
 3105              	.LVL332:
 3106 0006 FFF7FEFF 		bl	HAL_PCD_EP_Transmit
 3107              	.LVL333:
3192:application-library/usb-cdc-device.c **** 
 3108              		.loc 1 3192 0
 3109 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 3110              	.LVL334:
3195:application-library/usb-cdc-device.c **** 
 3111              		.loc 1 3195 0
 3112 000e 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccgHoJ4C.s 			page 123


 3113              		.cfi_endproc
 3114              	.LFE222:
 3116              		.section	.text.USBD_CDC_DataIn,"ax",%progbits
 3117              		.align	1
 3118              		.global	USBD_CDC_DataIn
 3119              		.syntax unified
 3120              		.thumb
 3121              		.thumb_func
 3122              		.fpu fpv4-sp-d16
 3124              	USBD_CDC_DataIn:
 3125              	.LFB142:
 665:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 3126              		.loc 1 665 0
 3127              		.cfi_startproc
 3128              		@ args = 0, pretend = 0, frame = 0
 3129              		@ frame_needed = 0, uses_anonymous_args = 0
 3130              	.LVL335:
 3131 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3132              	.LCFI57:
 3133              		.cfi_def_cfa_offset 24
 3134              		.cfi_offset 3, -24
 3135              		.cfi_offset 4, -20
 3136              		.cfi_offset 5, -16
 3137              		.cfi_offset 6, -12
 3138              		.cfi_offset 7, -8
 3139              		.cfi_offset 14, -4
 667:application-library/usb-cdc-device.c **** 
 3140              		.loc 1 667 0
 3141 0002 D0F8C862 		ldr	r6, [r0, #712]
 3142              	.LVL336:
 669:application-library/usb-cdc-device.c ****   {
 3143              		.loc 1 669 0
 3144 0006 D0F8D432 		ldr	r3, [r0, #724]
 3145 000a B033     		adds	r3, r3, #176
 3146 000c 50F82330 		ldr	r3, [r0, r3, lsl #2]
 3147 0010 83B3     		cbz	r3, .L243
 3148              	.LVL337:
 676:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 3149              		.loc 1 676 0
 3150 0012 01F00F04 		and	r4, r1, #15
 3151 0016 04EB8405 		add	r5, r4, r4, lsl #2
 3152 001a AA00     		lsls	r2, r5, #2
 3153 001c 0244     		add	r2, r2, r0
 3154 001e 9269     		ldr	r2, [r2, #24]
 3155 0020 4AB1     		cbz	r2, .L242
 677:application-library/usb-cdc-device.c ****   {
 3156              		.loc 1 677 0 discriminator 1
 3157 0022 04EBC407 		add	r7, r4, r4, lsl #3
 3158 0026 BD00     		lsls	r5, r7, #2
 3159 0028 2E44     		add	r6, r6, r5
 3160              	.LVL338:
 3161 002a B66C     		ldr	r6, [r6, #72]
 3162 002c B2FBF6F5 		udiv	r5, r2, r6
 3163 0030 06FB1522 		mls	r2, r6, r5, r2
 676:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 3164              		.loc 1 676 0 discriminator 1
 3165 0034 92B1     		cbz	r2, .L246
ARM GAS  /tmp/ccgHoJ4C.s 			page 124


 3166              	.L242:
 687:application-library/usb-cdc-device.c **** 
 3167              		.loc 1 687 0
 3168 0036 0022     		movs	r2, #0
 3169 0038 C3F81422 		str	r2, [r3, #532]
 3170              	.LVL339:
 689:application-library/usb-cdc-device.c ****     {
 3171              		.loc 1 689 0
 3172 003c D0F8D422 		ldr	r2, [r0, #724]
 3173 0040 B032     		adds	r2, r2, #176
 3174 0042 00EB8200 		add	r0, r0, r2, lsl #2
 3175              	.LVL340:
 3176 0046 4268     		ldr	r2, [r0, #4]
 3177 0048 1469     		ldr	r4, [r2, #16]
 3178 004a ACB1     		cbz	r4, .L244
 691:application-library/usb-cdc-device.c ****     }
 3179              		.loc 1 691 0
 3180 004c 0A46     		mov	r2, r1
 3181 004e 03F50471 		add	r1, r3, #528
 3182              	.LVL341:
 3183 0052 D3F80802 		ldr	r0, [r3, #520]
 3184 0056 A047     		blx	r4
 3185              	.LVL342:
 695:application-library/usb-cdc-device.c **** }
 3186              		.loc 1 695 0
 3187 0058 0020     		movs	r0, #0
 3188 005a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3189              	.LVL343:
 3190              	.L246:
 680:application-library/usb-cdc-device.c **** 
 3191              		.loc 1 680 0
 3192 005c 04EB8404 		add	r4, r4, r4, lsl #2
 3193 0060 A300     		lsls	r3, r4, #2
 3194              	.LVL344:
 3195 0062 0344     		add	r3, r3, r0
 3196 0064 0024     		movs	r4, #0
 3197 0066 9C61     		str	r4, [r3, #24]
 3198              	.LVL345:
 683:application-library/usb-cdc-device.c ****   }
 3199              		.loc 1 683 0
 3200 0068 2346     		mov	r3, r4
 3201 006a 2246     		mov	r2, r4
 3202 006c FFF7FEFF 		bl	USBD_LL_Transmit
 3203              	.LVL346:
 695:application-library/usb-cdc-device.c **** }
 3204              		.loc 1 695 0
 3205 0070 2046     		mov	r0, r4
 683:application-library/usb-cdc-device.c ****   }
 3206              		.loc 1 683 0
 3207 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3208              	.LVL347:
 3209              	.L243:
 671:application-library/usb-cdc-device.c ****   }
 3210              		.loc 1 671 0
 3211 0074 0320     		movs	r0, #3
 3212              	.LVL348:
 3213 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
ARM GAS  /tmp/ccgHoJ4C.s 			page 125


 3214              	.LVL349:
 3215              	.L244:
 695:application-library/usb-cdc-device.c **** }
 3216              		.loc 1 695 0
 3217 0078 0020     		movs	r0, #0
 696:application-library/usb-cdc-device.c **** 
 3218              		.loc 1 696 0
 3219 007a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3220              		.cfi_endproc
 3221              	.LFE142:
 3223              		.section	.text.USBD_CDC_TransmitPacket,"ax",%progbits
 3224              		.align	1
 3225              		.global	USBD_CDC_TransmitPacket
 3226              		.syntax unified
 3227              		.thumb
 3228              		.thumb_func
 3229              		.fpu fpv4-sp-d16
 3231              	USBD_CDC_TransmitPacket:
 3232              	.LFB152:
 925:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 3233              		.loc 1 925 0
 3234              		.cfi_startproc
 3235              		@ args = 0, pretend = 0, frame = 0
 3236              		@ frame_needed = 0, uses_anonymous_args = 0
 3237              	.LVL350:
 3238 0000 08B5     		push	{r3, lr}
 3239              	.LCFI58:
 3240              		.cfi_def_cfa_offset 8
 3241              		.cfi_offset 3, -8
 3242              		.cfi_offset 14, -4
 926:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_BUSY;
 3243              		.loc 1 926 0
 3244 0002 D0F8D432 		ldr	r3, [r0, #724]
 3245 0006 B033     		adds	r3, r3, #176
 3246 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 3247              	.LVL351:
 929:application-library/usb-cdc-device.c ****   {
 3248              		.loc 1 929 0
 3249 000c 9AB1     		cbz	r2, .L249
 934:application-library/usb-cdc-device.c ****   {
 3250              		.loc 1 934 0
 3251 000e D2F81432 		ldr	r3, [r2, #532]
 3252 0012 0BB1     		cbz	r3, .L252
 927:application-library/usb-cdc-device.c **** 
 3253              		.loc 1 927 0
 3254 0014 0120     		movs	r0, #1
 3255              	.LVL352:
 949:application-library/usb-cdc-device.c **** 
 3256              		.loc 1 949 0
 3257 0016 08BD     		pop	{r3, pc}
 3258              	.LVL353:
 3259              	.L252:
 937:application-library/usb-cdc-device.c **** 
 3260              		.loc 1 937 0
 3261 0018 0123     		movs	r3, #1
 3262 001a C2F81432 		str	r3, [r2, #532]
 940:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 126


 3263              		.loc 1 940 0
 3264 001e D2F81032 		ldr	r3, [r2, #528]
 3265 0022 C362     		str	r3, [r0, #44]
 943:application-library/usb-cdc-device.c **** 
 3266              		.loc 1 943 0
 3267 0024 D2F81032 		ldr	r3, [r2, #528]
 3268 0028 D2F80822 		ldr	r2, [r2, #520]
 3269              	.LVL354:
 3270 002c 8121     		movs	r1, #129
 3271 002e FFF7FEFF 		bl	USBD_LL_Transmit
 3272              	.LVL355:
 945:application-library/usb-cdc-device.c ****   }
 3273              		.loc 1 945 0
 3274 0032 0020     		movs	r0, #0
 3275 0034 08BD     		pop	{r3, pc}
 3276              	.LVL356:
 3277              	.L249:
 931:application-library/usb-cdc-device.c ****   }
 3278              		.loc 1 931 0
 3279 0036 0320     		movs	r0, #3
 3280              	.LVL357:
 3281 0038 08BD     		pop	{r3, pc}
 3282              		.cfi_endproc
 3283              	.LFE152:
 3285              		.section	.text.CDC_Transmit_FS,"ax",%progbits
 3286              		.align	1
 3287              		.global	CDC_Transmit_FS
 3288              		.syntax unified
 3289              		.thumb
 3290              		.thumb_func
 3291              		.fpu fpv4-sp-d16
 3293              	CDC_Transmit_FS:
 3294              	.LFB136:
 296:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 3295              		.loc 1 296 0
 3296              		.cfi_startproc
 3297              		@ args = 0, pretend = 0, frame = 0
 3298              		@ frame_needed = 0, uses_anonymous_args = 0
 3299              	.LVL358:
 299:application-library/usb-cdc-device.c **** 
 3300              		.loc 1 299 0
 3301 0000 094B     		ldr	r3, .L261
 3302 0002 D3F8BC32 		ldr	r3, [r3, #700]
 3303              	.LVL359:
 301:application-library/usb-cdc-device.c ****     return USBD_BUSY;
 3304              		.loc 1 301 0
 3305 0006 D3F81432 		ldr	r3, [r3, #532]
 3306              	.LVL360:
 3307 000a 0BB1     		cbz	r3, .L260
 302:application-library/usb-cdc-device.c ****   }
 3308              		.loc 1 302 0
 3309 000c 0120     		movs	r0, #1
 3310              	.LVL361:
 3311 000e 7047     		bx	lr
 3312              	.LVL362:
 3313              	.L260:
 296:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
ARM GAS  /tmp/ccgHoJ4C.s 			page 127


 3314              		.loc 1 296 0
 3315 0010 10B5     		push	{r4, lr}
 3316              	.LCFI59:
 3317              		.cfi_def_cfa_offset 8
 3318              		.cfi_offset 4, -8
 3319              		.cfi_offset 14, -4
 3320 0012 0A46     		mov	r2, r1
 3321 0014 0146     		mov	r1, r0
 3322              	.LVL363:
 304:application-library/usb-cdc-device.c ****   result = USBD_CDC_TransmitPacket(&hUsbDeviceFS);
 3323              		.loc 1 304 0
 3324 0016 044C     		ldr	r4, .L261
 3325 0018 2046     		mov	r0, r4
 3326              	.LVL364:
 3327 001a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 3328              	.LVL365:
 305:application-library/usb-cdc-device.c ****   /* USER CODE END 7 */
 3329              		.loc 1 305 0
 3330 001e 2046     		mov	r0, r4
 3331 0020 FFF7FEFF 		bl	USBD_CDC_TransmitPacket
 3332              	.LVL366:
 307:application-library/usb-cdc-device.c **** }
 3333              		.loc 1 307 0
 3334 0024 10BD     		pop	{r4, pc}
 3335              	.L262:
 3336 0026 00BF     		.align	2
 3337              	.L261:
 3338 0028 00000000 		.word	hUsbDeviceFS
 3339              		.cfi_endproc
 3340              	.LFE136:
 3342              		.section	.text.USBD_CtlSendData,"ax",%progbits
 3343              		.align	1
 3344              		.global	USBD_CtlSendData
 3345              		.syntax unified
 3346              		.thumb
 3347              		.thumb_func
 3348              		.fpu fpv4-sp-d16
 3350              	USBD_CtlSendData:
 3351              	.LFB191:
2567:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 3352              		.loc 1 2567 0
 3353              		.cfi_startproc
 3354              		@ args = 0, pretend = 0, frame = 0
 3355              		@ frame_needed = 0, uses_anonymous_args = 0
 3356              	.LVL367:
 3357 0000 10B5     		push	{r4, lr}
 3358              	.LCFI60:
 3359              		.cfi_def_cfa_offset 8
 3360              		.cfi_offset 4, -8
 3361              		.cfi_offset 14, -4
 3362 0002 1346     		mov	r3, r2
2569:application-library/usb-cdc-device.c ****   pdev->ep_in[0].total_length = len;
 3363              		.loc 1 2569 0
 3364 0004 0222     		movs	r2, #2
 3365              	.LVL368:
 3366 0006 C0F89422 		str	r2, [r0, #660]
2570:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 128


 3367              		.loc 1 2570 0
 3368 000a 8361     		str	r3, [r0, #24]
2575:application-library/usb-cdc-device.c **** #endif /* USBD_AVOID_PACKET_SPLIT_MPS */
 3369              		.loc 1 2575 0
 3370 000c C361     		str	r3, [r0, #28]
2579:application-library/usb-cdc-device.c **** 
 3371              		.loc 1 2579 0
 3372 000e 0A46     		mov	r2, r1
 3373 0010 0021     		movs	r1, #0
 3374              	.LVL369:
 3375 0012 FFF7FEFF 		bl	USBD_LL_Transmit
 3376              	.LVL370:
2582:application-library/usb-cdc-device.c **** 
 3377              		.loc 1 2582 0
 3378 0016 0020     		movs	r0, #0
 3379 0018 10BD     		pop	{r4, pc}
 3380              		.cfi_endproc
 3381              	.LFE191:
 3383              		.section	.text.USBD_GetConfig,"ax",%progbits
 3384              		.align	1
 3385              		.global	USBD_GetConfig
 3386              		.syntax unified
 3387              		.thumb
 3388              		.thumb_func
 3389              		.fpu fpv4-sp-d16
 3391              	USBD_GetConfig:
 3392              	.LFB183:
2331:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
 3393              		.loc 1 2331 0
 3394              		.cfi_startproc
 3395              		@ args = 0, pretend = 0, frame = 0
 3396              		@ frame_needed = 0, uses_anonymous_args = 0
 3397              	.LVL371:
 3398 0000 08B5     		push	{r3, lr}
 3399              	.LCFI61:
 3400              		.cfi_def_cfa_offset 8
 3401              		.cfi_offset 3, -8
 3402              		.cfi_offset 14, -4
2332:application-library/usb-cdc-device.c ****   {
 3403              		.loc 1 2332 0
 3404 0002 CB88     		ldrh	r3, [r1, #6]
 3405 0004 012B     		cmp	r3, #1
 3406 0006 0DD1     		bne	.L272
2338:application-library/usb-cdc-device.c ****     {
 3407              		.loc 1 2338 0
 3408 0008 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3409 000c 03F0FF02 		and	r2, r3, #255
 3410 0010 9BB1     		cbz	r3, .L268
 3411 0012 022A     		cmp	r2, #2
 3412 0014 09D9     		bls	.L269
 3413 0016 032A     		cmp	r2, #3
 3414 0018 0FD1     		bne	.L268
2347:application-library/usb-cdc-device.c ****         break;
 3415              		.loc 1 2347 0
 3416 001a 0122     		movs	r2, #1
 3417 001c 011D     		adds	r1, r0, #4
 3418              	.LVL372:
ARM GAS  /tmp/ccgHoJ4C.s 			page 129


 3419 001e FFF7FEFF 		bl	USBD_CtlSendData
 3420              	.LVL373:
2348:application-library/usb-cdc-device.c **** 
 3421              		.loc 1 2348 0
 3422 0022 08BD     		pop	{r3, pc}
 3423              	.LVL374:
 3424              	.L272:
2334:application-library/usb-cdc-device.c ****   }
 3425              		.loc 1 2334 0
 3426 0024 FFF7FEFF 		bl	USBD_CtlError
 3427              	.LVL375:
 3428 0028 08BD     		pop	{r3, pc}
 3429              	.LVL376:
 3430              	.L269:
2342:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_default_config, 1U);
 3431              		.loc 1 2342 0
 3432 002a 0146     		mov	r1, r0
 3433              	.LVL377:
 3434 002c 0023     		movs	r3, #0
 3435 002e 41F8083F 		str	r3, [r1, #8]!
2343:application-library/usb-cdc-device.c ****         break;
 3436              		.loc 1 2343 0
 3437 0032 0122     		movs	r2, #1
 3438 0034 FFF7FEFF 		bl	USBD_CtlSendData
 3439              	.LVL378:
2344:application-library/usb-cdc-device.c **** 
 3440              		.loc 1 2344 0
 3441 0038 08BD     		pop	{r3, pc}
 3442              	.LVL379:
 3443              	.L268:
2351:application-library/usb-cdc-device.c ****         break;
 3444              		.loc 1 2351 0
 3445 003a FFF7FEFF 		bl	USBD_CtlError
 3446              	.LVL380:
 3447 003e 08BD     		pop	{r3, pc}
 3448              		.cfi_endproc
 3449              	.LFE183:
 3451              		.section	.text.USBD_GetStatus,"ax",%progbits
 3452              		.align	1
 3453              		.global	USBD_GetStatus
 3454              		.syntax unified
 3455              		.thumb
 3456              		.thumb_func
 3457              		.fpu fpv4-sp-d16
 3459              	USBD_GetStatus:
 3460              	.LFB184:
2365:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
 3461              		.loc 1 2365 0
 3462              		.cfi_startproc
 3463              		@ args = 0, pretend = 0, frame = 0
 3464              		@ frame_needed = 0, uses_anonymous_args = 0
 3465              	.LVL381:
 3466 0000 08B5     		push	{r3, lr}
 3467              	.LCFI62:
 3468              		.cfi_def_cfa_offset 8
 3469              		.cfi_offset 3, -8
 3470              		.cfi_offset 14, -4
ARM GAS  /tmp/ccgHoJ4C.s 			page 130


2366:application-library/usb-cdc-device.c ****   {
 3471              		.loc 1 2366 0
 3472 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3473 0006 013B     		subs	r3, r3, #1
 3474 0008 022B     		cmp	r3, #2
 3475 000a 12D8     		bhi	.L274
2371:application-library/usb-cdc-device.c ****       {
 3476              		.loc 1 2371 0
 3477 000c CB88     		ldrh	r3, [r1, #6]
 3478 000e 022B     		cmp	r3, #2
 3479 0010 0CD1     		bne	.L280
2378:application-library/usb-cdc-device.c **** #else
 3480              		.loc 1 2378 0
 3481 0012 0123     		movs	r3, #1
 3482 0014 C360     		str	r3, [r0, #12]
2383:application-library/usb-cdc-device.c ****       {
 3483              		.loc 1 2383 0
 3484 0016 D0F8A432 		ldr	r3, [r0, #676]
 3485 001a 0BB1     		cbz	r3, .L278
2385:application-library/usb-cdc-device.c ****       }
 3486              		.loc 1 2385 0
 3487 001c 0323     		movs	r3, #3
 3488 001e C360     		str	r3, [r0, #12]
 3489              	.L278:
2388:application-library/usb-cdc-device.c ****       break;
 3490              		.loc 1 2388 0
 3491 0020 0222     		movs	r2, #2
 3492 0022 00F10C01 		add	r1, r0, #12
 3493              	.LVL382:
 3494 0026 FFF7FEFF 		bl	USBD_CtlSendData
 3495              	.LVL383:
2389:application-library/usb-cdc-device.c **** 
 3496              		.loc 1 2389 0
 3497 002a 08BD     		pop	{r3, pc}
 3498              	.LVL384:
 3499              	.L280:
2373:application-library/usb-cdc-device.c ****         break;
 3500              		.loc 1 2373 0
 3501 002c FFF7FEFF 		bl	USBD_CtlError
 3502              	.LVL385:
2374:application-library/usb-cdc-device.c ****       }
 3503              		.loc 1 2374 0
 3504 0030 08BD     		pop	{r3, pc}
 3505              	.LVL386:
 3506              	.L274:
2392:application-library/usb-cdc-device.c ****       break;
 3507              		.loc 1 2392 0
 3508 0032 FFF7FEFF 		bl	USBD_CtlError
 3509              	.LVL387:
 3510 0036 08BD     		pop	{r3, pc}
 3511              		.cfi_endproc
 3512              	.LFE184:
 3514              		.section	.text.USBD_CtlContinueSendData,"ax",%progbits
 3515              		.align	1
 3516              		.global	USBD_CtlContinueSendData
 3517              		.syntax unified
 3518              		.thumb
ARM GAS  /tmp/ccgHoJ4C.s 			page 131


 3519              		.thumb_func
 3520              		.fpu fpv4-sp-d16
 3522              	USBD_CtlContinueSendData:
 3523              	.LFB192:
2594:application-library/usb-cdc-device.c ****   /* Start the next transfer */
 3524              		.loc 1 2594 0
 3525              		.cfi_startproc
 3526              		@ args = 0, pretend = 0, frame = 0
 3527              		@ frame_needed = 0, uses_anonymous_args = 0
 3528              	.LVL388:
 3529 0000 08B5     		push	{r3, lr}
 3530              	.LCFI63:
 3531              		.cfi_def_cfa_offset 8
 3532              		.cfi_offset 3, -8
 3533              		.cfi_offset 14, -4
2596:application-library/usb-cdc-device.c **** 
 3534              		.loc 1 2596 0
 3535 0002 1346     		mov	r3, r2
 3536 0004 0A46     		mov	r2, r1
 3537              	.LVL389:
 3538 0006 0021     		movs	r1, #0
 3539              	.LVL390:
 3540 0008 FFF7FEFF 		bl	USBD_LL_Transmit
 3541              	.LVL391:
2599:application-library/usb-cdc-device.c **** 
 3542              		.loc 1 2599 0
 3543 000c 0020     		movs	r0, #0
 3544 000e 08BD     		pop	{r3, pc}
 3545              		.cfi_endproc
 3546              	.LFE192:
 3548              		.section	.text.USBD_CtlSendStatus,"ax",%progbits
 3549              		.align	1
 3550              		.global	USBD_CtlSendStatus
 3551              		.syntax unified
 3552              		.thumb
 3553              		.thumb_func
 3554              		.fpu fpv4-sp-d16
 3556              	USBD_CtlSendStatus:
 3557              	.LFB195:
2651:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 3558              		.loc 1 2651 0
 3559              		.cfi_startproc
 3560              		@ args = 0, pretend = 0, frame = 0
 3561              		@ frame_needed = 0, uses_anonymous_args = 0
 3562              	.LVL392:
 3563 0000 08B5     		push	{r3, lr}
 3564              	.LCFI64:
 3565              		.cfi_def_cfa_offset 8
 3566              		.cfi_offset 3, -8
 3567              		.cfi_offset 14, -4
2653:application-library/usb-cdc-device.c **** 
 3568              		.loc 1 2653 0
 3569 0002 0422     		movs	r2, #4
 3570 0004 C0F89422 		str	r2, [r0, #660]
2656:application-library/usb-cdc-device.c **** 
 3571              		.loc 1 2656 0
 3572 0008 0023     		movs	r3, #0
ARM GAS  /tmp/ccgHoJ4C.s 			page 132


 3573 000a 1A46     		mov	r2, r3
 3574 000c 1946     		mov	r1, r3
 3575 000e FFF7FEFF 		bl	USBD_LL_Transmit
 3576              	.LVL393:
2659:application-library/usb-cdc-device.c **** 
 3577              		.loc 1 2659 0
 3578 0012 0020     		movs	r0, #0
 3579 0014 08BD     		pop	{r3, pc}
 3580              		.cfi_endproc
 3581              	.LFE195:
 3583              		.section	.text.USBD_StdItfReq,"ax",%progbits
 3584              		.align	1
 3585              		.global	USBD_StdItfReq
 3586              		.syntax unified
 3587              		.thumb
 3588              		.thumb_func
 3589              		.fpu fpv4-sp-d16
 3591              	USBD_StdItfReq:
 3592              	.LFB178:
1770:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 3593              		.loc 1 1770 0
 3594              		.cfi_startproc
 3595              		@ args = 0, pretend = 0, frame = 0
 3596              		@ frame_needed = 0, uses_anonymous_args = 0
 3597              	.LVL394:
 3598 0000 70B5     		push	{r4, r5, r6, lr}
 3599              	.LCFI65:
 3600              		.cfi_def_cfa_offset 16
 3601              		.cfi_offset 4, -16
 3602              		.cfi_offset 5, -12
 3603              		.cfi_offset 6, -8
 3604              		.cfi_offset 14, -4
 3605 0002 0546     		mov	r5, r0
 3606 0004 0C46     		mov	r4, r1
 3607              	.LVL395:
1774:application-library/usb-cdc-device.c ****   {
 3608              		.loc 1 1774 0
 3609 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 3610 0008 03F06003 		and	r3, r3, #96
 3611 000c 202B     		cmp	r3, #32
 3612 000e 07D0     		beq	.L287
 3613 0010 402B     		cmp	r3, #64
 3614 0012 05D0     		beq	.L287
 3615 0014 23B1     		cbz	r3, .L287
1827:application-library/usb-cdc-device.c ****       break;
 3616              		.loc 1 1827 0
 3617 0016 FFF7FEFF 		bl	USBD_CtlError
 3618              	.LVL396:
1771:application-library/usb-cdc-device.c ****   uint8_t idx;
 3619              		.loc 1 1771 0
 3620 001a 0026     		movs	r6, #0
 3621              	.LVL397:
 3622              	.L292:
1832:application-library/usb-cdc-device.c **** 
 3623              		.loc 1 1832 0
 3624 001c 3046     		mov	r0, r6
 3625 001e 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccgHoJ4C.s 			page 133


 3626              	.LVL398:
 3627              	.L287:
1779:application-library/usb-cdc-device.c ****       {
 3628              		.loc 1 1779 0
 3629 0020 95F89C32 		ldrb	r3, [r5, #668]	@ zero_extendqisi2
 3630 0024 013B     		subs	r3, r3, #1
 3631 0026 022B     		cmp	r3, #2
 3632 0028 1FD8     		bhi	.L288
1785:application-library/usb-cdc-device.c ****           {
 3633              		.loc 1 1785 0
 3634 002a 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 3635 002c 012B     		cmp	r3, #1
 3636 002e 16D8     		bhi	.L290
 3637              	.LVL399:
1792:application-library/usb-cdc-device.c ****               {
 3638              		.loc 1 1792 0
 3639 0030 D5F8B832 		ldr	r3, [r5, #696]
 3640 0034 9A68     		ldr	r2, [r3, #8]
 3641 0036 82B1     		cbz	r2, .L293
1794:application-library/usb-cdc-device.c ****                 ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
 3642              		.loc 1 1794 0
 3643 0038 0022     		movs	r2, #0
 3644 003a C5F8D422 		str	r2, [r5, #724]
1795:application-library/usb-cdc-device.c ****               }
 3645              		.loc 1 1795 0
 3646 003e 9B68     		ldr	r3, [r3, #8]
 3647 0040 2146     		mov	r1, r4
 3648              	.LVL400:
 3649 0042 2846     		mov	r0, r5
 3650              	.LVL401:
 3651 0044 9847     		blx	r3
 3652              	.LVL402:
 3653 0046 0646     		mov	r6, r0
 3654              	.LVL403:
 3655              	.L291:
1809:application-library/usb-cdc-device.c ****             {
 3656              		.loc 1 1809 0
 3657 0048 E388     		ldrh	r3, [r4, #6]
 3658 004a 002B     		cmp	r3, #0
 3659 004c E6D1     		bne	.L292
1809:application-library/usb-cdc-device.c ****             {
 3660              		.loc 1 1809 0 is_stmt 0 discriminator 1
 3661 004e 002E     		cmp	r6, #0
 3662 0050 E4D1     		bne	.L292
1811:application-library/usb-cdc-device.c ****             }
 3663              		.loc 1 1811 0 is_stmt 1
 3664 0052 2846     		mov	r0, r5
 3665 0054 FFF7FEFF 		bl	USBD_CtlSendStatus
 3666              	.LVL404:
 3667 0058 E0E7     		b	.L292
 3668              	.LVL405:
 3669              	.L293:
1800:application-library/usb-cdc-device.c ****               }
 3670              		.loc 1 1800 0
 3671 005a 0326     		movs	r6, #3
 3672 005c F4E7     		b	.L291
 3673              	.LVL406:
ARM GAS  /tmp/ccgHoJ4C.s 			page 134


 3674              	.L290:
1816:application-library/usb-cdc-device.c ****           }
 3675              		.loc 1 1816 0
 3676 005e 2146     		mov	r1, r4
 3677              	.LVL407:
 3678 0060 2846     		mov	r0, r5
 3679              	.LVL408:
 3680 0062 FFF7FEFF 		bl	USBD_CtlError
 3681              	.LVL409:
1771:application-library/usb-cdc-device.c ****   uint8_t idx;
 3682              		.loc 1 1771 0
 3683 0066 0026     		movs	r6, #0
 3684 0068 D8E7     		b	.L292
 3685              	.LVL410:
 3686              	.L288:
1821:application-library/usb-cdc-device.c ****           break;
 3687              		.loc 1 1821 0
 3688 006a 2146     		mov	r1, r4
 3689              	.LVL411:
 3690 006c 2846     		mov	r0, r5
 3691              	.LVL412:
 3692 006e FFF7FEFF 		bl	USBD_CtlError
 3693              	.LVL413:
1771:application-library/usb-cdc-device.c ****   uint8_t idx;
 3694              		.loc 1 1771 0
 3695 0072 0026     		movs	r6, #0
1822:application-library/usb-cdc-device.c ****       }
 3696              		.loc 1 1822 0
 3697 0074 D2E7     		b	.L292
 3698              		.cfi_endproc
 3699              	.LFE178:
 3701              		.section	.text.USBD_StdEPReq,"ax",%progbits
 3702              		.align	1
 3703              		.global	USBD_StdEPReq
 3704              		.syntax unified
 3705              		.thumb
 3706              		.thumb_func
 3707              		.fpu fpv4-sp-d16
 3709              	USBD_StdEPReq:
 3710              	.LFB179:
1842:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 3711              		.loc 1 1842 0
 3712              		.cfi_startproc
 3713              		@ args = 0, pretend = 0, frame = 0
 3714              		@ frame_needed = 0, uses_anonymous_args = 0
 3715              	.LVL414:
 3716 0000 70B5     		push	{r4, r5, r6, lr}
 3717              	.LCFI66:
 3718              		.cfi_def_cfa_offset 16
 3719              		.cfi_offset 4, -16
 3720              		.cfi_offset 5, -12
 3721              		.cfi_offset 6, -8
 3722              		.cfi_offset 14, -4
 3723 0002 0546     		mov	r5, r0
 3724 0004 0C46     		mov	r4, r1
 3725              	.LVL415:
1848:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 135


 3726              		.loc 1 1848 0
 3727 0006 8A88     		ldrh	r2, [r1, #4]
 3728 0008 D6B2     		uxtb	r6, r2
 3729              	.LVL416:
1850:application-library/usb-cdc-device.c ****   {
 3730              		.loc 1 1850 0
 3731 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 3732 000c 03F06003 		and	r3, r3, #96
 3733 0010 202B     		cmp	r3, #32
 3734 0012 06D0     		beq	.L298
 3735 0014 402B     		cmp	r3, #64
 3736 0016 04D0     		beq	.L298
 3737 0018 C3B1     		cbz	r3, .L340
2015:application-library/usb-cdc-device.c ****       break;
 3738              		.loc 1 2015 0
 3739 001a FFF7FEFF 		bl	USBD_CtlError
 3740              	.LVL417:
1846:application-library/usb-cdc-device.c **** 
 3741              		.loc 1 1846 0
 3742 001e 0020     		movs	r0, #0
2016:application-library/usb-cdc-device.c ****   }
 3743              		.loc 1 2016 0
 3744 0020 70BD     		pop	{r4, r5, r6, pc}
 3745              	.LVL418:
 3746              	.L298:
1855:application-library/usb-cdc-device.c ****       if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
 3747              		.loc 1 1855 0
 3748 0022 3146     		mov	r1, r6
 3749              	.LVL419:
 3750 0024 2846     		mov	r0, r5
 3751              	.LVL420:
 3752 0026 FFF7FEFF 		bl	USBD_CoreFindEP
 3753              	.LVL421:
1856:application-library/usb-cdc-device.c ****       {
 3754              		.loc 1 1856 0
 3755 002a 0028     		cmp	r0, #0
 3756 002c 40F00281 		bne	.L329
1858:application-library/usb-cdc-device.c ****         /* Call the class data out function to manage the request */
 3757              		.loc 1 1858 0
 3758 0030 C5F8D402 		str	r0, [r5, #724]
1860:application-library/usb-cdc-device.c ****         {
 3759              		.loc 1 1860 0
 3760 0034 00F1AE02 		add	r2, r0, #174
 3761 0038 55F82220 		ldr	r2, [r5, r2, lsl #2]
 3762 003c 9268     		ldr	r2, [r2, #8]
 3763 003e 002A     		cmp	r2, #0
 3764 0040 00F0FA80 		beq	.L330
1862:application-library/usb-cdc-device.c ****         }
 3765              		.loc 1 1862 0
 3766 0044 2146     		mov	r1, r4
 3767 0046 2846     		mov	r0, r5
 3768              	.LVL422:
 3769 0048 9047     		blx	r2
 3770              	.LVL423:
 3771 004a 70BD     		pop	{r4, r5, r6, pc}
 3772              	.LVL424:
 3773              	.L340:
ARM GAS  /tmp/ccgHoJ4C.s 			page 136


1868:application-library/usb-cdc-device.c ****       {
 3774              		.loc 1 1868 0
 3775 004c 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 3776 004e 012B     		cmp	r3, #1
 3777 0050 31D0     		beq	.L302
 3778 0052 002B     		cmp	r3, #0
 3779 0054 6FD0     		beq	.L303
 3780 0056 032B     		cmp	r3, #3
 3781 0058 40F0E880 		bne	.L335
1871:application-library/usb-cdc-device.c ****           {
 3782              		.loc 1 1871 0
 3783 005c 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3784 0060 DBB2     		uxtb	r3, r3
 3785 0062 022B     		cmp	r3, #2
 3786 0064 05D0     		beq	.L306
 3787 0066 032B     		cmp	r3, #3
 3788 0068 15D0     		beq	.L307
1898:application-library/usb-cdc-device.c ****               break;
 3789              		.loc 1 1898 0
 3790 006a FFF7FEFF 		bl	USBD_CtlError
 3791              	.LVL425:
1846:application-library/usb-cdc-device.c **** 
 3792              		.loc 1 1846 0
 3793 006e 0020     		movs	r0, #0
1899:application-library/usb-cdc-device.c ****           }
 3794              		.loc 1 1899 0
 3795 0070 70BD     		pop	{r4, r5, r6, pc}
 3796              	.LVL426:
 3797              	.L306:
1874:application-library/usb-cdc-device.c ****               {
 3798              		.loc 1 1874 0
 3799 0072 56B1     		cbz	r6, .L308
1874:application-library/usb-cdc-device.c ****               {
 3800              		.loc 1 1874 0 is_stmt 0 discriminator 1
 3801 0074 802E     		cmp	r6, #128
 3802 0076 08D0     		beq	.L308
1876:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
 3803              		.loc 1 1876 0 is_stmt 1
 3804 0078 3146     		mov	r1, r6
 3805              	.LVL427:
 3806 007a FFF7FEFF 		bl	USBD_LL_StallEP
 3807              	.LVL428:
1877:application-library/usb-cdc-device.c ****               }
 3808              		.loc 1 1877 0
 3809 007e 8021     		movs	r1, #128
 3810 0080 2846     		mov	r0, r5
 3811 0082 FFF7FEFF 		bl	USBD_LL_StallEP
 3812              	.LVL429:
1846:application-library/usb-cdc-device.c **** 
 3813              		.loc 1 1846 0
 3814 0086 0020     		movs	r0, #0
1877:application-library/usb-cdc-device.c ****               }
 3815              		.loc 1 1877 0
 3816 0088 70BD     		pop	{r4, r5, r6, pc}
 3817              	.LVL430:
 3818              	.L308:
1881:application-library/usb-cdc-device.c ****               }
ARM GAS  /tmp/ccgHoJ4C.s 			page 137


 3819              		.loc 1 1881 0
 3820 008a 2146     		mov	r1, r4
 3821              	.LVL431:
 3822 008c 2846     		mov	r0, r5
 3823              	.LVL432:
 3824 008e FFF7FEFF 		bl	USBD_CtlError
 3825              	.LVL433:
1846:application-library/usb-cdc-device.c **** 
 3826              		.loc 1 1846 0
 3827 0092 0020     		movs	r0, #0
 3828 0094 70BD     		pop	{r4, r5, r6, pc}
 3829              	.LVL434:
 3830              	.L307:
1886:application-library/usb-cdc-device.c ****               {
 3831              		.loc 1 1886 0
 3832 0096 4B88     		ldrh	r3, [r1, #2]
 3833 0098 23B9     		cbnz	r3, .L309
1888:application-library/usb-cdc-device.c ****                 {
 3834              		.loc 1 1888 0
 3835 009a 1EB1     		cbz	r6, .L309
1888:application-library/usb-cdc-device.c ****                 {
 3836              		.loc 1 1888 0 is_stmt 0 discriminator 1
 3837 009c 802E     		cmp	r6, #128
 3838 009e 01D0     		beq	.L309
1888:application-library/usb-cdc-device.c ****                 {
 3839              		.loc 1 1888 0 discriminator 2
 3840 00a0 CB88     		ldrh	r3, [r1, #6]
 3841 00a2 23B1     		cbz	r3, .L341
 3842              	.LVL435:
 3843              	.L309:
1893:application-library/usb-cdc-device.c **** 
 3844              		.loc 1 1893 0 is_stmt 1
 3845 00a4 2846     		mov	r0, r5
 3846 00a6 FFF7FEFF 		bl	USBD_CtlSendStatus
 3847              	.LVL436:
1846:application-library/usb-cdc-device.c **** 
 3848              		.loc 1 1846 0
 3849 00aa 0020     		movs	r0, #0
1895:application-library/usb-cdc-device.c **** 
 3850              		.loc 1 1895 0
 3851 00ac 70BD     		pop	{r4, r5, r6, pc}
 3852              	.LVL437:
 3853              	.L341:
1890:application-library/usb-cdc-device.c ****                 }
 3854              		.loc 1 1890 0
 3855 00ae 3146     		mov	r1, r6
 3856              	.LVL438:
 3857 00b0 FFF7FEFF 		bl	USBD_LL_StallEP
 3858              	.LVL439:
 3859 00b4 F6E7     		b	.L309
 3860              	.LVL440:
 3861              	.L302:
1905:application-library/usb-cdc-device.c ****           {
 3862              		.loc 1 1905 0
 3863 00b6 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3864 00ba DBB2     		uxtb	r3, r3
 3865 00bc 022B     		cmp	r3, #2
ARM GAS  /tmp/ccgHoJ4C.s 			page 138


 3866 00be 05D0     		beq	.L311
 3867 00c0 032B     		cmp	r3, #3
 3868 00c2 15D0     		beq	.L312
1943:application-library/usb-cdc-device.c ****               break;
 3869              		.loc 1 1943 0
 3870 00c4 FFF7FEFF 		bl	USBD_CtlError
 3871              	.LVL441:
1846:application-library/usb-cdc-device.c **** 
 3872              		.loc 1 1846 0
 3873 00c8 0020     		movs	r0, #0
1944:application-library/usb-cdc-device.c ****           }
 3874              		.loc 1 1944 0
 3875 00ca 70BD     		pop	{r4, r5, r6, pc}
 3876              	.LVL442:
 3877              	.L311:
1908:application-library/usb-cdc-device.c ****               {
 3878              		.loc 1 1908 0
 3879 00cc 56B1     		cbz	r6, .L313
1908:application-library/usb-cdc-device.c ****               {
 3880              		.loc 1 1908 0 is_stmt 0 discriminator 1
 3881 00ce 802E     		cmp	r6, #128
 3882 00d0 08D0     		beq	.L313
1910:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
 3883              		.loc 1 1910 0 is_stmt 1
 3884 00d2 3146     		mov	r1, r6
 3885              	.LVL443:
 3886 00d4 FFF7FEFF 		bl	USBD_LL_StallEP
 3887              	.LVL444:
1911:application-library/usb-cdc-device.c ****               }
 3888              		.loc 1 1911 0
 3889 00d8 8021     		movs	r1, #128
 3890 00da 2846     		mov	r0, r5
 3891 00dc FFF7FEFF 		bl	USBD_LL_StallEP
 3892              	.LVL445:
1846:application-library/usb-cdc-device.c **** 
 3893              		.loc 1 1846 0
 3894 00e0 0020     		movs	r0, #0
1911:application-library/usb-cdc-device.c ****               }
 3895              		.loc 1 1911 0
 3896 00e2 70BD     		pop	{r4, r5, r6, pc}
 3897              	.LVL446:
 3898              	.L313:
1915:application-library/usb-cdc-device.c ****               }
 3899              		.loc 1 1915 0
 3900 00e4 2146     		mov	r1, r4
 3901              	.LVL447:
 3902 00e6 2846     		mov	r0, r5
 3903              	.LVL448:
 3904 00e8 FFF7FEFF 		bl	USBD_CtlError
 3905              	.LVL449:
1846:application-library/usb-cdc-device.c **** 
 3906              		.loc 1 1846 0
 3907 00ec 0020     		movs	r0, #0
 3908 00ee 70BD     		pop	{r4, r5, r6, pc}
 3909              	.LVL450:
 3910              	.L312:
1920:application-library/usb-cdc-device.c ****               {
ARM GAS  /tmp/ccgHoJ4C.s 			page 139


 3911              		.loc 1 1920 0
 3912 00f0 4B88     		ldrh	r3, [r1, #2]
 3913 00f2 002B     		cmp	r3, #0
 3914 00f4 40F0A280 		bne	.L331
1922:application-library/usb-cdc-device.c ****                 {
 3915              		.loc 1 1922 0
 3916 00f8 16F07F0F 		tst	r6, #127
 3917 00fc 17D1     		bne	.L342
 3918              	.LVL451:
 3919              	.L314:
1926:application-library/usb-cdc-device.c **** 
 3920              		.loc 1 1926 0
 3921 00fe 2846     		mov	r0, r5
 3922 0100 FFF7FEFF 		bl	USBD_CtlSendStatus
 3923              	.LVL452:
1929:application-library/usb-cdc-device.c ****                 if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
 3924              		.loc 1 1929 0
 3925 0104 3146     		mov	r1, r6
 3926 0106 2846     		mov	r0, r5
 3927 0108 FFF7FEFF 		bl	USBD_CoreFindEP
 3928              	.LVL453:
1930:application-library/usb-cdc-device.c ****                 {
 3929              		.loc 1 1930 0
 3930 010c 0346     		mov	r3, r0
 3931 010e 0028     		cmp	r0, #0
 3932 0110 40F09680 		bne	.L332
1932:application-library/usb-cdc-device.c ****                   /* Call the class data out function to manage the request */
 3933              		.loc 1 1932 0
 3934 0114 C5F8D402 		str	r0, [r5, #724]
1934:application-library/usb-cdc-device.c ****                   {
 3935              		.loc 1 1934 0
 3936 0118 AE33     		adds	r3, r3, #174
 3937 011a 55F82330 		ldr	r3, [r5, r3, lsl #2]
 3938 011e 9B68     		ldr	r3, [r3, #8]
 3939 0120 002B     		cmp	r3, #0
 3940 0122 00F08F80 		beq	.L333
1936:application-library/usb-cdc-device.c ****                   }
 3941              		.loc 1 1936 0
 3942 0126 2146     		mov	r1, r4
 3943 0128 2846     		mov	r0, r5
 3944              	.LVL454:
 3945 012a 9847     		blx	r3
 3946              	.LVL455:
 3947 012c 70BD     		pop	{r4, r5, r6, pc}
 3948              	.LVL456:
 3949              	.L342:
1924:application-library/usb-cdc-device.c ****                 }
 3950              		.loc 1 1924 0
 3951 012e 3146     		mov	r1, r6
 3952              	.LVL457:
 3953 0130 FFF7FEFF 		bl	USBD_LL_ClearStallEP
 3954              	.LVL458:
 3955 0134 E3E7     		b	.L314
 3956              	.LVL459:
 3957              	.L303:
1949:application-library/usb-cdc-device.c ****           {
 3958              		.loc 1 1949 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 140


 3959 0136 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3960 013a DBB2     		uxtb	r3, r3
 3961 013c 022B     		cmp	r3, #2
 3962 013e 05D0     		beq	.L316
 3963 0140 032B     		cmp	r3, #3
 3964 0142 28D0     		beq	.L317
2003:application-library/usb-cdc-device.c ****               break;
 3965              		.loc 1 2003 0
 3966 0144 FFF7FEFF 		bl	USBD_CtlError
 3967              	.LVL460:
1846:application-library/usb-cdc-device.c **** 
 3968              		.loc 1 1846 0
 3969 0148 0020     		movs	r0, #0
2004:application-library/usb-cdc-device.c ****           }
 3970              		.loc 1 2004 0
 3971 014a 70BD     		pop	{r4, r5, r6, pc}
 3972              	.LVL461:
 3973              	.L316:
1952:application-library/usb-cdc-device.c ****               {
 3974              		.loc 1 1952 0
 3975 014c 0EB1     		cbz	r6, .L318
1952:application-library/usb-cdc-device.c ****               {
 3976              		.loc 1 1952 0 is_stmt 0 discriminator 1
 3977 014e 802E     		cmp	r6, #128
 3978 0150 13D1     		bne	.L343
 3979              	.L318:
1957:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3980              		.loc 1 1957 0 is_stmt 1
 3981 0152 12F0800F 		tst	r2, #128
 3982 0156 14D1     		bne	.L344
1958:application-library/usb-cdc-device.c **** 
 3983              		.loc 1 1958 0 discriminator 2
 3984 0158 06F07F06 		and	r6, r6, #127
 3985              	.LVL462:
1957:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 3986              		.loc 1 1957 0 discriminator 2
 3987 015c 06EB8606 		add	r6, r6, r6, lsl #2
 3988 0160 B300     		lsls	r3, r6, #2
 3989 0162 03F5A871 		add	r1, r3, #336
 3990              	.LVL463:
 3991 0166 2944     		add	r1, r1, r5
 3992 0168 0431     		adds	r1, r1, #4
 3993              	.L320:
 3994              	.LVL464:
1960:application-library/usb-cdc-device.c **** 
 3995              		.loc 1 1960 0 discriminator 4
 3996 016a 0024     		movs	r4, #0
 3997              	.LVL465:
 3998 016c 0C60     		str	r4, [r1]
1962:application-library/usb-cdc-device.c ****               break;
 3999              		.loc 1 1962 0 discriminator 4
 4000 016e 0222     		movs	r2, #2
 4001              	.LVL466:
 4002 0170 2846     		mov	r0, r5
 4003              	.LVL467:
 4004 0172 FFF7FEFF 		bl	USBD_CtlSendData
 4005              	.LVL468:
ARM GAS  /tmp/ccgHoJ4C.s 			page 141


1846:application-library/usb-cdc-device.c **** 
 4006              		.loc 1 1846 0 discriminator 4
 4007 0176 2046     		mov	r0, r4
1963:application-library/usb-cdc-device.c **** 
 4008              		.loc 1 1963 0 discriminator 4
 4009 0178 70BD     		pop	{r4, r5, r6, pc}
 4010              	.LVL469:
 4011              	.L343:
1954:application-library/usb-cdc-device.c ****                 break;
 4012              		.loc 1 1954 0
 4013 017a FFF7FEFF 		bl	USBD_CtlError
 4014              	.LVL470:
1846:application-library/usb-cdc-device.c **** 
 4015              		.loc 1 1846 0
 4016 017e 0020     		movs	r0, #0
1955:application-library/usb-cdc-device.c ****               }
 4017              		.loc 1 1955 0
 4018 0180 70BD     		pop	{r4, r5, r6, pc}
 4019              	.LVL471:
 4020              	.L344:
1957:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4021              		.loc 1 1957 0 discriminator 1
 4022 0182 06F07F06 		and	r6, r6, #127
 4023              	.LVL472:
 4024 0186 06EB8606 		add	r6, r6, r6, lsl #2
 4025 018a B300     		lsls	r3, r6, #2
 4026 018c 03F11001 		add	r1, r3, #16
 4027              	.LVL473:
 4028 0190 2944     		add	r1, r1, r5
 4029 0192 0431     		adds	r1, r1, #4
 4030 0194 E9E7     		b	.L320
 4031              	.LVL474:
 4032              	.L317:
1966:application-library/usb-cdc-device.c ****               {
 4033              		.loc 1 1966 0
 4034 0196 52B2     		sxtb	r2, r2
 4035 0198 002A     		cmp	r2, #0
 4036 019a 1EDB     		blt	.L345
1976:application-library/usb-cdc-device.c ****                 {
 4037              		.loc 1 1976 0
 4038 019c 06F00F03 		and	r3, r6, #15
 4039 01a0 03EB8303 		add	r3, r3, r3, lsl #2
 4040 01a4 9900     		lsls	r1, r3, #2
 4041              	.LVL475:
 4042 01a6 0144     		add	r1, r1, r0
 4043 01a8 B1F86431 		ldrh	r3, [r1, #356]
 4044 01ac 1BB3     		cbz	r3, .L346
 4045              	.L322:
1983:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4046              		.loc 1 1983 0
 4047 01ae 002A     		cmp	r2, #0
 4048 01b0 26DB     		blt	.L347
1984:application-library/usb-cdc-device.c **** 
 4049              		.loc 1 1984 0 discriminator 2
 4050 01b2 06F07F02 		and	r2, r6, #127
1983:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4051              		.loc 1 1983 0 discriminator 2
ARM GAS  /tmp/ccgHoJ4C.s 			page 142


 4052 01b6 02EB8202 		add	r2, r2, r2, lsl #2
 4053 01ba 9300     		lsls	r3, r2, #2
 4054 01bc 03F5A874 		add	r4, r3, #336
 4055              	.LVL476:
 4056 01c0 2C44     		add	r4, r4, r5
 4057 01c2 0434     		adds	r4, r4, #4
 4058              	.L324:
 4059              	.LVL477:
1986:application-library/usb-cdc-device.c ****               {
 4060              		.loc 1 1986 0 discriminator 4
 4061 01c4 36B3     		cbz	r6, .L325
1986:application-library/usb-cdc-device.c ****               {
 4062              		.loc 1 1986 0 is_stmt 0 discriminator 1
 4063 01c6 802E     		cmp	r6, #128
 4064 01c8 24D0     		beq	.L325
1990:application-library/usb-cdc-device.c ****               {
 4065              		.loc 1 1990 0 is_stmt 1
 4066 01ca 3146     		mov	r1, r6
 4067 01cc 2846     		mov	r0, r5
 4068              	.LVL478:
 4069 01ce FFF7FEFF 		bl	USBD_LL_IsStallEP
 4070              	.LVL479:
 4071 01d2 40B3     		cbz	r0, .L328
1992:application-library/usb-cdc-device.c ****               }
 4072              		.loc 1 1992 0
 4073 01d4 0123     		movs	r3, #1
 4074 01d6 2360     		str	r3, [r4]
 4075 01d8 1EE0     		b	.L327
 4076              	.LVL480:
 4077              	.L345:
1968:application-library/usb-cdc-device.c ****                 {
 4078              		.loc 1 1968 0
 4079 01da 06F00F03 		and	r3, r6, #15
 4080 01de 03EB8303 		add	r3, r3, r3, lsl #2
 4081 01e2 9900     		lsls	r1, r3, #2
 4082              	.LVL481:
 4083 01e4 0144     		add	r1, r1, r0
 4084 01e6 8B8C     		ldrh	r3, [r1, #36]
 4085 01e8 002B     		cmp	r3, #0
 4086 01ea E0D1     		bne	.L322
1970:application-library/usb-cdc-device.c ****                   break;
 4087              		.loc 1 1970 0
 4088 01ec 2146     		mov	r1, r4
 4089 01ee FFF7FEFF 		bl	USBD_CtlError
 4090              	.LVL482:
1846:application-library/usb-cdc-device.c **** 
 4091              		.loc 1 1846 0
 4092 01f2 0020     		movs	r0, #0
1971:application-library/usb-cdc-device.c ****                 }
 4093              		.loc 1 1971 0
 4094 01f4 70BD     		pop	{r4, r5, r6, pc}
 4095              	.LVL483:
 4096              	.L346:
1978:application-library/usb-cdc-device.c ****                   break;
 4097              		.loc 1 1978 0
 4098 01f6 2146     		mov	r1, r4
 4099 01f8 FFF7FEFF 		bl	USBD_CtlError
ARM GAS  /tmp/ccgHoJ4C.s 			page 143


 4100              	.LVL484:
1846:application-library/usb-cdc-device.c **** 
 4101              		.loc 1 1846 0
 4102 01fc 0020     		movs	r0, #0
1979:application-library/usb-cdc-device.c ****                 }
 4103              		.loc 1 1979 0
 4104 01fe 70BD     		pop	{r4, r5, r6, pc}
 4105              	.LVL485:
 4106              	.L347:
1983:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4107              		.loc 1 1983 0 discriminator 1
 4108 0200 06F07F02 		and	r2, r6, #127
 4109 0204 02EB8202 		add	r2, r2, r2, lsl #2
 4110 0208 9300     		lsls	r3, r2, #2
 4111 020a 03F11004 		add	r4, r3, #16
 4112              	.LVL486:
 4113 020e 2C44     		add	r4, r4, r5
 4114 0210 0434     		adds	r4, r4, #4
 4115 0212 D7E7     		b	.L324
 4116              	.LVL487:
 4117              	.L325:
1988:application-library/usb-cdc-device.c ****               }
 4118              		.loc 1 1988 0
 4119 0214 0023     		movs	r3, #0
 4120 0216 2360     		str	r3, [r4]
 4121              	.LVL488:
 4122              	.L327:
1999:application-library/usb-cdc-device.c ****               break;
 4123              		.loc 1 1999 0
 4124 0218 0222     		movs	r2, #2
 4125 021a 2146     		mov	r1, r4
 4126 021c 2846     		mov	r0, r5
 4127 021e FFF7FEFF 		bl	USBD_CtlSendData
 4128              	.LVL489:
1846:application-library/usb-cdc-device.c **** 
 4129              		.loc 1 1846 0
 4130 0222 0020     		movs	r0, #0
2000:application-library/usb-cdc-device.c **** 
 4131              		.loc 1 2000 0
 4132 0224 70BD     		pop	{r4, r5, r6, pc}
 4133              	.LVL490:
 4134              	.L328:
1996:application-library/usb-cdc-device.c ****               }
 4135              		.loc 1 1996 0
 4136 0226 0023     		movs	r3, #0
 4137 0228 2360     		str	r3, [r4]
 4138 022a F5E7     		b	.L327
 4139              	.LVL491:
 4140              	.L335:
2009:application-library/usb-cdc-device.c ****           break;
 4141              		.loc 1 2009 0
 4142 022c FFF7FEFF 		bl	USBD_CtlError
 4143              	.LVL492:
1846:application-library/usb-cdc-device.c **** 
 4144              		.loc 1 1846 0
 4145 0230 0020     		movs	r0, #0
2010:application-library/usb-cdc-device.c ****       }
ARM GAS  /tmp/ccgHoJ4C.s 			page 144


 4146              		.loc 1 2010 0
 4147 0232 70BD     		pop	{r4, r5, r6, pc}
 4148              	.LVL493:
 4149              	.L329:
1846:application-library/usb-cdc-device.c **** 
 4150              		.loc 1 1846 0
 4151 0234 0020     		movs	r0, #0
 4152              	.LVL494:
 4153 0236 70BD     		pop	{r4, r5, r6, pc}
 4154              	.LVL495:
 4155              	.L330:
 4156 0238 0020     		movs	r0, #0
 4157              	.LVL496:
 4158 023a 70BD     		pop	{r4, r5, r6, pc}
 4159              	.LVL497:
 4160              	.L331:
 4161 023c 0020     		movs	r0, #0
 4162              	.LVL498:
 4163 023e 70BD     		pop	{r4, r5, r6, pc}
 4164              	.LVL499:
 4165              	.L332:
 4166 0240 0020     		movs	r0, #0
 4167              	.LVL500:
 4168 0242 70BD     		pop	{r4, r5, r6, pc}
 4169              	.LVL501:
 4170              	.L333:
 4171 0244 0020     		movs	r0, #0
 4172              	.LVL502:
2020:application-library/usb-cdc-device.c **** 
 4173              		.loc 1 2020 0
 4174 0246 70BD     		pop	{r4, r5, r6, pc}
 4175              		.cfi_endproc
 4176              	.LFE179:
 4178              		.section	.text.USBD_GetDescriptor,"ax",%progbits
 4179              		.align	1
 4180              		.global	USBD_GetDescriptor
 4181              		.syntax unified
 4182              		.thumb
 4183              		.thumb_func
 4184              		.fpu fpv4-sp-d16
 4186              	USBD_GetDescriptor:
 4187              	.LFB180:
2030:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 4188              		.loc 1 2030 0
 4189              		.cfi_startproc
 4190              		@ args = 0, pretend = 0, frame = 8
 4191              		@ frame_needed = 0, uses_anonymous_args = 0
 4192              	.LVL503:
 4193 0000 30B5     		push	{r4, r5, lr}
 4194              	.LCFI67:
 4195              		.cfi_def_cfa_offset 12
 4196              		.cfi_offset 4, -12
 4197              		.cfi_offset 5, -8
 4198              		.cfi_offset 14, -4
 4199 0002 83B0     		sub	sp, sp, #12
 4200              	.LCFI68:
 4201              		.cfi_def_cfa_offset 24
ARM GAS  /tmp/ccgHoJ4C.s 			page 145


 4202 0004 0446     		mov	r4, r0
 4203 0006 0D46     		mov	r5, r1
2031:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
 4204              		.loc 1 2031 0
 4205 0008 0023     		movs	r3, #0
 4206 000a ADF80630 		strh	r3, [sp, #6]	@ movhi
 4207              	.LVL504:
2035:application-library/usb-cdc-device.c ****   {
 4208              		.loc 1 2035 0
 4209 000e 4A88     		ldrh	r2, [r1, #2]
 4210 0010 130A     		lsrs	r3, r2, #8
 4211 0012 013B     		subs	r3, r3, #1
 4212 0014 062B     		cmp	r3, #6
 4213 0016 00F2C980 		bhi	.L349
 4214 001a DFE803F0 		tbb	[pc, r3]
 4215              	.LVL505:
 4216              	.L351:
 4217 001e 04       		.byte	(.L350-.L351)/2
 4218 001f 21       		.byte	(.L352-.L351)/2
 4219 0020 37       		.byte	(.L353-.L351)/2
 4220 0021 C7       		.byte	(.L349-.L351)/2
 4221 0022 C7       		.byte	(.L349-.L351)/2
 4222 0023 A5       		.byte	(.L354-.L351)/2
 4223 0024 B5       		.byte	(.L355-.L351)/2
 4224 0025 00       		.p2align 1
 4225              	.L350:
2038:application-library/usb-cdc-device.c ****       break;
 4226              		.loc 1 2038 0
 4227 0026 D0F8B432 		ldr	r3, [r0, #692]
 4228 002a 1B68     		ldr	r3, [r3]
 4229 002c 0DF10601 		add	r1, sp, #6
 4230 0030 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4231              	.LVL506:
 4232 0032 9847     		blx	r3
 4233              	.LVL507:
2033:application-library/usb-cdc-device.c **** 
 4234              		.loc 1 2033 0
 4235 0034 0023     		movs	r3, #0
 4236              	.LVL508:
 4237              	.L356:
2170:application-library/usb-cdc-device.c ****   {
 4238              		.loc 1 2170 0
 4239 0036 8BB9     		cbnz	r3, .L348
2175:application-library/usb-cdc-device.c ****   {
 4240              		.loc 1 2175 0
 4241 0038 EA88     		ldrh	r2, [r5, #6]
 4242 003a 002A     		cmp	r2, #0
 4243 003c 00F0C180 		beq	.L375
2177:application-library/usb-cdc-device.c ****     {
 4244              		.loc 1 2177 0
 4245 0040 BDF80630 		ldrh	r3, [sp, #6]
 4246              	.LVL509:
 4247 0044 002B     		cmp	r3, #0
 4248 0046 00F0B780 		beq	.L376
2179:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, pbuf, len);
 4249              		.loc 1 2179 0
 4250 004a 9A42     		cmp	r2, r3
ARM GAS  /tmp/ccgHoJ4C.s 			page 146


 4251 004c 28BF     		it	cs
 4252 004e 1A46     		movcs	r2, r3
 4253 0050 ADF80620 		strh	r2, [sp, #6]	@ movhi
2180:application-library/usb-cdc-device.c ****     }
 4254              		.loc 1 2180 0
 4255 0054 0146     		mov	r1, r0
 4256 0056 2046     		mov	r0, r4
 4257              	.LVL510:
 4258 0058 FFF7FEFF 		bl	USBD_CtlSendData
 4259              	.LVL511:
 4260              	.L348:
2191:application-library/usb-cdc-device.c **** 
 4261              		.loc 1 2191 0
 4262 005c 03B0     		add	sp, sp, #12
 4263              	.LCFI69:
 4264              		.cfi_remember_state
 4265              		.cfi_def_cfa_offset 12
 4266              		@ sp needed
 4267 005e 30BD     		pop	{r4, r5, pc}
 4268              	.LVL512:
 4269              	.L352:
 4270              	.LCFI70:
 4271              		.cfi_restore_state
2042:application-library/usb-cdc-device.c ****       {
 4272              		.loc 1 2042 0
 4273 0060 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4274 0062 4BB9     		cbnz	r3, .L357
2044:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 4275              		.loc 1 2044 0
 4276 0064 D0F8B832 		ldr	r3, [r0, #696]
 4277 0068 9B6A     		ldr	r3, [r3, #40]
 4278 006a 0DF10600 		add	r0, sp, #6
 4279              	.LVL513:
 4280 006e 9847     		blx	r3
 4281              	.LVL514:
2045:application-library/usb-cdc-device.c ****       }
 4282              		.loc 1 2045 0
 4283 0070 0223     		movs	r3, #2
 4284 0072 4370     		strb	r3, [r0, #1]
2033:application-library/usb-cdc-device.c **** 
 4285              		.loc 1 2033 0
 4286 0074 0023     		movs	r3, #0
 4287 0076 DEE7     		b	.L356
 4288              	.LVL515:
 4289              	.L357:
2049:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 4290              		.loc 1 2049 0
 4291 0078 D0F8B832 		ldr	r3, [r0, #696]
 4292 007c DB6A     		ldr	r3, [r3, #44]
 4293 007e 0DF10600 		add	r0, sp, #6
 4294              	.LVL516:
 4295 0082 9847     		blx	r3
 4296              	.LVL517:
2050:application-library/usb-cdc-device.c ****       }
 4297              		.loc 1 2050 0
 4298 0084 0223     		movs	r3, #2
 4299 0086 4370     		strb	r3, [r0, #1]
ARM GAS  /tmp/ccgHoJ4C.s 			page 147


2033:application-library/usb-cdc-device.c **** 
 4300              		.loc 1 2033 0
 4301 0088 0023     		movs	r3, #0
 4302 008a D4E7     		b	.L356
 4303              	.LVL518:
 4304              	.L353:
2055:application-library/usb-cdc-device.c ****       {
 4305              		.loc 1 2055 0
 4306 008c D2B2     		uxtb	r2, r2
 4307 008e 052A     		cmp	r2, #5
 4308 0090 64D8     		bhi	.L358
 4309 0092 DFE802F0 		tbb	[pc, r2]
 4310              	.L360:
 4311 0096 03       		.byte	(.L359-.L360)/2
 4312 0097 13       		.byte	(.L361-.L360)/2
 4313 0098 23       		.byte	(.L362-.L360)/2
 4314 0099 33       		.byte	(.L363-.L360)/2
 4315 009a 43       		.byte	(.L364-.L360)/2
 4316 009b 53       		.byte	(.L365-.L360)/2
 4317              		.p2align 1
 4318              	.L359:
2058:application-library/usb-cdc-device.c ****           {
 4319              		.loc 1 2058 0
 4320 009c D0F8B432 		ldr	r3, [r0, #692]
 4321 00a0 5B68     		ldr	r3, [r3, #4]
 4322 00a2 2BB1     		cbz	r3, .L366
2060:application-library/usb-cdc-device.c ****           }
 4323              		.loc 1 2060 0
 4324 00a4 0DF10601 		add	r1, sp, #6
 4325 00a8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4326              	.LVL519:
 4327 00aa 9847     		blx	r3
 4328              	.LVL520:
2033:application-library/usb-cdc-device.c **** 
 4329              		.loc 1 2033 0
 4330 00ac 0023     		movs	r3, #0
 4331 00ae C2E7     		b	.L356
 4332              	.LVL521:
 4333              	.L366:
2064:application-library/usb-cdc-device.c ****             err++;
 4334              		.loc 1 2064 0
 4335 00b0 2946     		mov	r1, r5
 4336 00b2 FFF7FEFF 		bl	USBD_CtlError
 4337              	.LVL522:
2065:application-library/usb-cdc-device.c ****           }
 4338              		.loc 1 2065 0
 4339 00b6 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4340              		.loc 1 2032 0
 4341 00b8 0020     		movs	r0, #0
 4342 00ba BCE7     		b	.L356
 4343              	.LVL523:
 4344              	.L361:
2070:application-library/usb-cdc-device.c ****           {
 4345              		.loc 1 2070 0
 4346 00bc D0F8B432 		ldr	r3, [r0, #692]
 4347 00c0 9B68     		ldr	r3, [r3, #8]
ARM GAS  /tmp/ccgHoJ4C.s 			page 148


 4348 00c2 2BB1     		cbz	r3, .L367
2072:application-library/usb-cdc-device.c ****           }
 4349              		.loc 1 2072 0
 4350 00c4 0DF10601 		add	r1, sp, #6
 4351 00c8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4352              	.LVL524:
 4353 00ca 9847     		blx	r3
 4354              	.LVL525:
2033:application-library/usb-cdc-device.c **** 
 4355              		.loc 1 2033 0
 4356 00cc 0023     		movs	r3, #0
 4357 00ce B2E7     		b	.L356
 4358              	.LVL526:
 4359              	.L367:
2076:application-library/usb-cdc-device.c ****             err++;
 4360              		.loc 1 2076 0
 4361 00d0 2946     		mov	r1, r5
 4362 00d2 FFF7FEFF 		bl	USBD_CtlError
 4363              	.LVL527:
2077:application-library/usb-cdc-device.c ****           }
 4364              		.loc 1 2077 0
 4365 00d6 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4366              		.loc 1 2032 0
 4367 00d8 0020     		movs	r0, #0
 4368 00da ACE7     		b	.L356
 4369              	.LVL528:
 4370              	.L362:
2082:application-library/usb-cdc-device.c ****           {
 4371              		.loc 1 2082 0
 4372 00dc D0F8B432 		ldr	r3, [r0, #692]
 4373 00e0 DB68     		ldr	r3, [r3, #12]
 4374 00e2 2BB1     		cbz	r3, .L368
2084:application-library/usb-cdc-device.c ****           }
 4375              		.loc 1 2084 0
 4376 00e4 0DF10601 		add	r1, sp, #6
 4377 00e8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4378              	.LVL529:
 4379 00ea 9847     		blx	r3
 4380              	.LVL530:
2033:application-library/usb-cdc-device.c **** 
 4381              		.loc 1 2033 0
 4382 00ec 0023     		movs	r3, #0
 4383 00ee A2E7     		b	.L356
 4384              	.LVL531:
 4385              	.L368:
2088:application-library/usb-cdc-device.c ****             err++;
 4386              		.loc 1 2088 0
 4387 00f0 2946     		mov	r1, r5
 4388 00f2 FFF7FEFF 		bl	USBD_CtlError
 4389              	.LVL532:
2089:application-library/usb-cdc-device.c ****           }
 4390              		.loc 1 2089 0
 4391 00f6 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4392              		.loc 1 2032 0
 4393 00f8 0020     		movs	r0, #0
ARM GAS  /tmp/ccgHoJ4C.s 			page 149


 4394 00fa 9CE7     		b	.L356
 4395              	.LVL533:
 4396              	.L363:
2094:application-library/usb-cdc-device.c ****           {
 4397              		.loc 1 2094 0
 4398 00fc D0F8B432 		ldr	r3, [r0, #692]
 4399 0100 1B69     		ldr	r3, [r3, #16]
 4400 0102 2BB1     		cbz	r3, .L369
2096:application-library/usb-cdc-device.c ****           }
 4401              		.loc 1 2096 0
 4402 0104 0DF10601 		add	r1, sp, #6
 4403 0108 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4404              	.LVL534:
 4405 010a 9847     		blx	r3
 4406              	.LVL535:
2033:application-library/usb-cdc-device.c **** 
 4407              		.loc 1 2033 0
 4408 010c 0023     		movs	r3, #0
 4409 010e 92E7     		b	.L356
 4410              	.LVL536:
 4411              	.L369:
2100:application-library/usb-cdc-device.c ****             err++;
 4412              		.loc 1 2100 0
 4413 0110 2946     		mov	r1, r5
 4414 0112 FFF7FEFF 		bl	USBD_CtlError
 4415              	.LVL537:
2101:application-library/usb-cdc-device.c ****           }
 4416              		.loc 1 2101 0
 4417 0116 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4418              		.loc 1 2032 0
 4419 0118 0020     		movs	r0, #0
 4420 011a 8CE7     		b	.L356
 4421              	.LVL538:
 4422              	.L364:
2106:application-library/usb-cdc-device.c ****           {
 4423              		.loc 1 2106 0
 4424 011c D0F8B432 		ldr	r3, [r0, #692]
 4425 0120 5B69     		ldr	r3, [r3, #20]
 4426 0122 2BB1     		cbz	r3, .L370
2108:application-library/usb-cdc-device.c ****           }
 4427              		.loc 1 2108 0
 4428 0124 0DF10601 		add	r1, sp, #6
 4429 0128 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4430              	.LVL539:
 4431 012a 9847     		blx	r3
 4432              	.LVL540:
2033:application-library/usb-cdc-device.c **** 
 4433              		.loc 1 2033 0
 4434 012c 0023     		movs	r3, #0
 4435 012e 82E7     		b	.L356
 4436              	.LVL541:
 4437              	.L370:
2112:application-library/usb-cdc-device.c ****             err++;
 4438              		.loc 1 2112 0
 4439 0130 2946     		mov	r1, r5
 4440 0132 FFF7FEFF 		bl	USBD_CtlError
ARM GAS  /tmp/ccgHoJ4C.s 			page 150


 4441              	.LVL542:
2113:application-library/usb-cdc-device.c ****           }
 4442              		.loc 1 2113 0
 4443 0136 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4444              		.loc 1 2032 0
 4445 0138 0020     		movs	r0, #0
 4446 013a 7CE7     		b	.L356
 4447              	.LVL543:
 4448              	.L365:
2118:application-library/usb-cdc-device.c ****           {
 4449              		.loc 1 2118 0
 4450 013c D0F8B432 		ldr	r3, [r0, #692]
 4451 0140 9B69     		ldr	r3, [r3, #24]
 4452 0142 2BB1     		cbz	r3, .L371
2120:application-library/usb-cdc-device.c ****           }
 4453              		.loc 1 2120 0
 4454 0144 0DF10601 		add	r1, sp, #6
 4455 0148 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 4456              	.LVL544:
 4457 014a 9847     		blx	r3
 4458              	.LVL545:
2033:application-library/usb-cdc-device.c **** 
 4459              		.loc 1 2033 0
 4460 014c 0023     		movs	r3, #0
 4461 014e 72E7     		b	.L356
 4462              	.LVL546:
 4463              	.L371:
2124:application-library/usb-cdc-device.c ****             err++;
 4464              		.loc 1 2124 0
 4465 0150 2946     		mov	r1, r5
 4466 0152 FFF7FEFF 		bl	USBD_CtlError
 4467              	.LVL547:
2125:application-library/usb-cdc-device.c ****           }
 4468              		.loc 1 2125 0
 4469 0156 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4470              		.loc 1 2032 0
 4471 0158 0020     		movs	r0, #0
 4472 015a 6CE7     		b	.L356
 4473              	.LVL548:
 4474              	.L358:
2132:application-library/usb-cdc-device.c ****           err++;
 4475              		.loc 1 2132 0
 4476 015c 2946     		mov	r1, r5
 4477 015e FFF7FEFF 		bl	USBD_CtlError
 4478              	.LVL549:
2133:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
 4479              		.loc 1 2133 0
 4480 0162 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4481              		.loc 1 2032 0
 4482 0164 0020     		movs	r0, #0
2135:application-library/usb-cdc-device.c ****       }
 4483              		.loc 1 2135 0
 4484 0166 66E7     		b	.L356
 4485              	.LVL550:
ARM GAS  /tmp/ccgHoJ4C.s 			page 151


 4486              	.L354:
2140:application-library/usb-cdc-device.c ****       {
 4487              		.loc 1 2140 0
 4488 0168 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4489 016a 3BB9     		cbnz	r3, .L372
2142:application-library/usb-cdc-device.c ****       }
 4490              		.loc 1 2142 0
 4491 016c D0F8B832 		ldr	r3, [r0, #696]
 4492 0170 5B6B     		ldr	r3, [r3, #52]
 4493 0172 0DF10600 		add	r0, sp, #6
 4494              	.LVL551:
 4495 0176 9847     		blx	r3
 4496              	.LVL552:
2033:application-library/usb-cdc-device.c **** 
 4497              		.loc 1 2033 0
 4498 0178 0023     		movs	r3, #0
 4499 017a 5CE7     		b	.L356
 4500              	.LVL553:
 4501              	.L372:
2146:application-library/usb-cdc-device.c ****         err++;
 4502              		.loc 1 2146 0
 4503 017c 2946     		mov	r1, r5
 4504 017e FFF7FEFF 		bl	USBD_CtlError
 4505              	.LVL554:
2147:application-library/usb-cdc-device.c ****       }
 4506              		.loc 1 2147 0
 4507 0182 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4508              		.loc 1 2032 0
 4509 0184 0020     		movs	r0, #0
 4510 0186 56E7     		b	.L356
 4511              	.LVL555:
 4512              	.L355:
2152:application-library/usb-cdc-device.c ****       {
 4513              		.loc 1 2152 0
 4514 0188 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 4515 018a 4BB9     		cbnz	r3, .L373
2154:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
 4516              		.loc 1 2154 0
 4517 018c D0F8B832 		ldr	r3, [r0, #696]
 4518 0190 1B6B     		ldr	r3, [r3, #48]
 4519 0192 0DF10600 		add	r0, sp, #6
 4520              	.LVL556:
 4521 0196 9847     		blx	r3
 4522              	.LVL557:
2155:application-library/usb-cdc-device.c ****       }
 4523              		.loc 1 2155 0
 4524 0198 0723     		movs	r3, #7
 4525 019a 4370     		strb	r3, [r0, #1]
2033:application-library/usb-cdc-device.c **** 
 4526              		.loc 1 2033 0
 4527 019c 0023     		movs	r3, #0
 4528 019e 4AE7     		b	.L356
 4529              	.LVL558:
 4530              	.L373:
2159:application-library/usb-cdc-device.c ****         err++;
 4531              		.loc 1 2159 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 152


 4532 01a0 2946     		mov	r1, r5
 4533 01a2 FFF7FEFF 		bl	USBD_CtlError
 4534              	.LVL559:
2160:application-library/usb-cdc-device.c ****       }
 4535              		.loc 1 2160 0
 4536 01a6 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4537              		.loc 1 2032 0
 4538 01a8 0020     		movs	r0, #0
 4539 01aa 44E7     		b	.L356
 4540              	.LVL560:
 4541              	.L349:
2165:application-library/usb-cdc-device.c ****       err++;
 4542              		.loc 1 2165 0
 4543 01ac 2946     		mov	r1, r5
 4544 01ae FFF7FEFF 		bl	USBD_CtlError
 4545              	.LVL561:
2166:application-library/usb-cdc-device.c ****       break;
 4546              		.loc 1 2166 0
 4547 01b2 0123     		movs	r3, #1
2032:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 4548              		.loc 1 2032 0
 4549 01b4 0020     		movs	r0, #0
2167:application-library/usb-cdc-device.c ****   }
 4550              		.loc 1 2167 0
 4551 01b6 3EE7     		b	.L356
 4552              	.LVL562:
 4553              	.L376:
2184:application-library/usb-cdc-device.c ****     }
 4554              		.loc 1 2184 0
 4555 01b8 2946     		mov	r1, r5
 4556 01ba 2046     		mov	r0, r4
 4557              	.LVL563:
 4558 01bc FFF7FEFF 		bl	USBD_CtlError
 4559              	.LVL564:
 4560 01c0 4CE7     		b	.L348
 4561              	.LVL565:
 4562              	.L375:
2189:application-library/usb-cdc-device.c ****   }
 4563              		.loc 1 2189 0
 4564 01c2 2046     		mov	r0, r4
 4565              	.LVL566:
 4566 01c4 FFF7FEFF 		bl	USBD_CtlSendStatus
 4567              	.LVL567:
 4568 01c8 48E7     		b	.L348
 4569              		.cfi_endproc
 4570              	.LFE180:
 4572              		.section	.text.USBD_SetAddress,"ax",%progbits
 4573              		.align	1
 4574              		.global	USBD_SetAddress
 4575              		.syntax unified
 4576              		.thumb
 4577              		.thumb_func
 4578              		.fpu fpv4-sp-d16
 4580              	USBD_SetAddress:
 4581              	.LFB181:
2201:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
ARM GAS  /tmp/ccgHoJ4C.s 			page 153


 4582              		.loc 1 2201 0
 4583              		.cfi_startproc
 4584              		@ args = 0, pretend = 0, frame = 0
 4585              		@ frame_needed = 0, uses_anonymous_args = 0
 4586              	.LVL568:
 4587 0000 38B5     		push	{r3, r4, r5, lr}
 4588              	.LCFI71:
 4589              		.cfi_def_cfa_offset 16
 4590              		.cfi_offset 3, -16
 4591              		.cfi_offset 4, -12
 4592              		.cfi_offset 5, -8
 4593              		.cfi_offset 14, -4
 4594 0002 0446     		mov	r4, r0
2204:application-library/usb-cdc-device.c ****   {
 4595              		.loc 1 2204 0
 4596 0004 8B88     		ldrh	r3, [r1, #4]
 4597 0006 FBB9     		cbnz	r3, .L381
2204:application-library/usb-cdc-device.c ****   {
 4598              		.loc 1 2204 0 is_stmt 0 discriminator 1
 4599 0008 CB88     		ldrh	r3, [r1, #6]
 4600 000a EBB9     		cbnz	r3, .L381
2204:application-library/usb-cdc-device.c ****   {
 4601              		.loc 1 2204 0 discriminator 2
 4602 000c 4B88     		ldrh	r3, [r1, #2]
 4603 000e 7F2B     		cmp	r3, #127
 4604 0010 1AD8     		bhi	.L381
2206:application-library/usb-cdc-device.c **** 
 4605              		.loc 1 2206 0 is_stmt 1
 4606 0012 03F07F05 		and	r5, r3, #127
 4607              	.LVL569:
2208:application-library/usb-cdc-device.c ****     {
 4608              		.loc 1 2208 0
 4609 0016 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4610 001a DBB2     		uxtb	r3, r3
 4611 001c 032B     		cmp	r3, #3
 4612 001e 0CD0     		beq	.L386
2214:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(pdev, dev_addr);
 4613              		.loc 1 2214 0
 4614 0020 80F89E52 		strb	r5, [r0, #670]
2215:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendStatus(pdev);
 4615              		.loc 1 2215 0
 4616 0024 2946     		mov	r1, r5
 4617              	.LVL570:
 4618 0026 FFF7FEFF 		bl	USBD_LL_SetUSBAddress
 4619              	.LVL571:
2216:application-library/usb-cdc-device.c **** 
 4620              		.loc 1 2216 0
 4621 002a 2046     		mov	r0, r4
 4622 002c FFF7FEFF 		bl	USBD_CtlSendStatus
 4623              	.LVL572:
2218:application-library/usb-cdc-device.c ****       {
 4624              		.loc 1 2218 0
 4625 0030 35B1     		cbz	r5, .L384
2220:application-library/usb-cdc-device.c ****       }
 4626              		.loc 1 2220 0
 4627 0032 0223     		movs	r3, #2
 4628 0034 84F89C32 		strb	r3, [r4, #668]
ARM GAS  /tmp/ccgHoJ4C.s 			page 154


 4629 0038 38BD     		pop	{r3, r4, r5, pc}
 4630              	.LVL573:
 4631              	.L386:
2210:application-library/usb-cdc-device.c ****     }
 4632              		.loc 1 2210 0
 4633 003a FFF7FEFF 		bl	USBD_CtlError
 4634              	.LVL574:
 4635 003e 38BD     		pop	{r3, r4, r5, pc}
 4636              	.LVL575:
 4637              	.L384:
2224:application-library/usb-cdc-device.c ****       }
 4638              		.loc 1 2224 0
 4639 0040 0123     		movs	r3, #1
 4640 0042 84F89C32 		strb	r3, [r4, #668]
 4641 0046 38BD     		pop	{r3, r4, r5, pc}
 4642              	.LVL576:
 4643              	.L381:
2230:application-library/usb-cdc-device.c ****   }
 4644              		.loc 1 2230 0
 4645 0048 2046     		mov	r0, r4
 4646              	.LVL577:
 4647 004a FFF7FEFF 		bl	USBD_CtlError
 4648              	.LVL578:
 4649 004e 38BD     		pop	{r3, r4, r5, pc}
 4650              		.cfi_endproc
 4651              	.LFE181:
 4653              		.section	.text.USBD_SetConfig,"ax",%progbits
 4654              		.align	1
 4655              		.global	USBD_SetConfig
 4656              		.syntax unified
 4657              		.thumb
 4658              		.thumb_func
 4659              		.fpu fpv4-sp-d16
 4661              	USBD_SetConfig:
 4662              	.LFB182:
2241:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4663              		.loc 1 2241 0
 4664              		.cfi_startproc
 4665              		@ args = 0, pretend = 0, frame = 0
 4666              		@ frame_needed = 0, uses_anonymous_args = 0
 4667              	.LVL579:
 4668 0000 70B5     		push	{r4, r5, r6, lr}
 4669              	.LCFI72:
 4670              		.cfi_def_cfa_offset 16
 4671              		.cfi_offset 4, -16
 4672              		.cfi_offset 5, -12
 4673              		.cfi_offset 6, -8
 4674              		.cfi_offset 14, -4
 4675 0002 0446     		mov	r4, r0
 4676 0004 0D46     		mov	r5, r1
 4677              	.LVL580:
2245:application-library/usb-cdc-device.c **** 
 4678              		.loc 1 2245 0
 4679 0006 8E78     		ldrb	r6, [r1, #2]	@ zero_extendqisi2
 4680              	.LVL581:
2247:application-library/usb-cdc-device.c ****   {
 4681              		.loc 1 2247 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 155


 4682 0008 012E     		cmp	r6, #1
 4683 000a 04D9     		bls	.L388
2249:application-library/usb-cdc-device.c ****     return USBD_FAIL;
 4684              		.loc 1 2249 0
 4685 000c FFF7FEFF 		bl	USBD_CtlError
 4686              	.LVL582:
2250:application-library/usb-cdc-device.c ****   }
 4687              		.loc 1 2250 0
 4688 0010 0326     		movs	r6, #3
 4689              	.LVL583:
 4690              	.L389:
2322:application-library/usb-cdc-device.c **** 
 4691              		.loc 1 2322 0
 4692 0012 3046     		mov	r0, r6
 4693 0014 70BD     		pop	{r4, r5, r6, pc}
 4694              	.LVL584:
 4695              	.L388:
2253:application-library/usb-cdc-device.c ****   {
 4696              		.loc 1 2253 0
 4697 0016 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4698 001a DBB2     		uxtb	r3, r3
 4699 001c 022B     		cmp	r3, #2
 4700 001e 09D0     		beq	.L391
 4701 0020 032B     		cmp	r3, #3
 4702 0022 21D0     		beq	.L392
2315:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(pdev, cfgidx);
 4703              		.loc 1 2315 0
 4704 0024 FFF7FEFF 		bl	USBD_CtlError
 4705              	.LVL585:
2316:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 4706              		.loc 1 2316 0
 4707 0028 3146     		mov	r1, r6
 4708 002a 2046     		mov	r0, r4
 4709 002c FFF7FEFF 		bl	USBD_ClrClassConfig
 4710              	.LVL586:
2317:application-library/usb-cdc-device.c ****       break;
 4711              		.loc 1 2317 0
 4712 0030 0326     		movs	r6, #3
 4713              	.LVL587:
2318:application-library/usb-cdc-device.c ****   }
 4714              		.loc 1 2318 0
 4715 0032 EEE7     		b	.L389
 4716              	.LVL588:
 4717              	.L391:
2256:application-library/usb-cdc-device.c ****       {
 4718              		.loc 1 2256 0
 4719 0034 A6B1     		cbz	r6, .L393
2258:application-library/usb-cdc-device.c **** 
 4720              		.loc 1 2258 0
 4721 0036 4660     		str	r6, [r0, #4]
2260:application-library/usb-cdc-device.c **** 
 4722              		.loc 1 2260 0
 4723 0038 3146     		mov	r1, r6
 4724              	.LVL589:
 4725 003a FFF7FEFF 		bl	USBD_SetClassConfig
 4726              	.LVL590:
2262:application-library/usb-cdc-device.c ****         {
ARM GAS  /tmp/ccgHoJ4C.s 			page 156


 4727              		.loc 1 2262 0
 4728 003e 0646     		mov	r6, r0
 4729              	.LVL591:
 4730 0040 38B1     		cbz	r0, .L394
2264:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
 4731              		.loc 1 2264 0
 4732 0042 2946     		mov	r1, r5
 4733 0044 2046     		mov	r0, r4
 4734              	.LVL592:
 4735 0046 FFF7FEFF 		bl	USBD_CtlError
 4736              	.LVL593:
2265:application-library/usb-cdc-device.c ****         }
 4737              		.loc 1 2265 0
 4738 004a 0223     		movs	r3, #2
 4739 004c 84F89C32 		strb	r3, [r4, #668]
 4740 0050 DFE7     		b	.L389
 4741              	.LVL594:
 4742              	.L394:
2269:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_CONFIGURED;
 4743              		.loc 1 2269 0
 4744 0052 2046     		mov	r0, r4
 4745              	.LVL595:
 4746 0054 FFF7FEFF 		bl	USBD_CtlSendStatus
 4747              	.LVL596:
2270:application-library/usb-cdc-device.c ****         }
 4748              		.loc 1 2270 0
 4749 0058 0323     		movs	r3, #3
 4750 005a 84F89C32 		strb	r3, [r4, #668]
 4751 005e D8E7     		b	.L389
 4752              	.LVL597:
 4753              	.L393:
2275:application-library/usb-cdc-device.c ****       }
 4754              		.loc 1 2275 0
 4755 0060 FFF7FEFF 		bl	USBD_CtlSendStatus
 4756              	.LVL598:
2242:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4757              		.loc 1 2242 0
 4758 0064 0026     		movs	r6, #0
 4759              	.LVL599:
 4760 0066 D4E7     		b	.L389
 4761              	.LVL600:
 4762              	.L392:
2280:application-library/usb-cdc-device.c ****       {
 4763              		.loc 1 2280 0
 4764 0068 C6B1     		cbz	r6, .L400
2287:application-library/usb-cdc-device.c ****       {
 4765              		.loc 1 2287 0
 4766 006a 4168     		ldr	r1, [r0, #4]
 4767              	.LVL601:
 4768 006c 8E42     		cmp	r6, r1
 4769 006e 24D0     		beq	.L396
2290:application-library/usb-cdc-device.c **** 
 4770              		.loc 1 2290 0
 4771 0070 C9B2     		uxtb	r1, r1
 4772 0072 FFF7FEFF 		bl	USBD_ClrClassConfig
 4773              	.LVL602:
2293:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccgHoJ4C.s 			page 157


 4774              		.loc 1 2293 0
 4775 0076 6660     		str	r6, [r4, #4]
2295:application-library/usb-cdc-device.c **** 
 4776              		.loc 1 2295 0
 4777 0078 3146     		mov	r1, r6
 4778 007a 2046     		mov	r0, r4
 4779 007c FFF7FEFF 		bl	USBD_SetClassConfig
 4780              	.LVL603:
2297:application-library/usb-cdc-device.c ****         {
 4781              		.loc 1 2297 0
 4782 0080 0646     		mov	r6, r0
 4783              	.LVL604:
 4784 0082 B0B1     		cbz	r0, .L397
2299:application-library/usb-cdc-device.c ****           (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
 4785              		.loc 1 2299 0
 4786 0084 2946     		mov	r1, r5
 4787 0086 2046     		mov	r0, r4
 4788              	.LVL605:
 4789 0088 FFF7FEFF 		bl	USBD_CtlError
 4790              	.LVL606:
2300:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
 4791              		.loc 1 2300 0
 4792 008c 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 4793 008e 2046     		mov	r0, r4
 4794 0090 FFF7FEFF 		bl	USBD_ClrClassConfig
 4795              	.LVL607:
2301:application-library/usb-cdc-device.c ****         }
 4796              		.loc 1 2301 0
 4797 0094 0223     		movs	r3, #2
 4798 0096 84F89C32 		strb	r3, [r4, #668]
 4799 009a BAE7     		b	.L389
 4800              	.LVL608:
 4801              	.L400:
2282:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
 4802              		.loc 1 2282 0
 4803 009c 0223     		movs	r3, #2
 4804 009e 80F89C32 		strb	r3, [r0, #668]
2283:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, cfgidx);
 4805              		.loc 1 2283 0
 4806 00a2 4660     		str	r6, [r0, #4]
2284:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
 4807              		.loc 1 2284 0
 4808 00a4 3146     		mov	r1, r6
 4809              	.LVL609:
 4810 00a6 FFF7FEFF 		bl	USBD_ClrClassConfig
 4811              	.LVL610:
2285:application-library/usb-cdc-device.c ****       }
 4812              		.loc 1 2285 0
 4813 00aa 2046     		mov	r0, r4
 4814 00ac FFF7FEFF 		bl	USBD_CtlSendStatus
 4815              	.LVL611:
 4816 00b0 AFE7     		b	.L389
 4817              	.LVL612:
 4818              	.L397:
2305:application-library/usb-cdc-device.c ****         }
 4819              		.loc 1 2305 0
 4820 00b2 2046     		mov	r0, r4
ARM GAS  /tmp/ccgHoJ4C.s 			page 158


 4821              	.LVL613:
 4822 00b4 FFF7FEFF 		bl	USBD_CtlSendStatus
 4823              	.LVL614:
 4824 00b8 ABE7     		b	.L389
 4825              	.LVL615:
 4826              	.L396:
2310:application-library/usb-cdc-device.c ****       }
 4827              		.loc 1 2310 0
 4828 00ba FFF7FEFF 		bl	USBD_CtlSendStatus
 4829              	.LVL616:
2242:application-library/usb-cdc-device.c ****   uint8_t cfgidx;
 4830              		.loc 1 2242 0
 4831 00be 0026     		movs	r6, #0
 4832              	.LVL617:
 4833 00c0 A7E7     		b	.L389
 4834              		.cfi_endproc
 4835              	.LFE182:
 4837              		.section	.text.USBD_SetFeature,"ax",%progbits
 4838              		.align	1
 4839              		.global	USBD_SetFeature
 4840              		.syntax unified
 4841              		.thumb
 4842              		.thumb_func
 4843              		.fpu fpv4-sp-d16
 4845              	USBD_SetFeature:
 4846              	.LFB185:
2406:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
 4847              		.loc 1 2406 0
 4848              		.cfi_startproc
 4849              		@ args = 0, pretend = 0, frame = 0
 4850              		@ frame_needed = 0, uses_anonymous_args = 0
 4851              	.LVL618:
 4852 0000 08B5     		push	{r3, lr}
 4853              	.LCFI73:
 4854              		.cfi_def_cfa_offset 8
 4855              		.cfi_offset 3, -8
 4856              		.cfi_offset 14, -4
2407:application-library/usb-cdc-device.c ****   {
 4857              		.loc 1 2407 0
 4858 0002 4B88     		ldrh	r3, [r1, #2]
 4859 0004 012B     		cmp	r3, #1
 4860 0006 04D0     		beq	.L406
2412:application-library/usb-cdc-device.c ****   {
 4861              		.loc 1 2412 0
 4862 0008 022B     		cmp	r3, #2
 4863 000a 07D0     		beq	.L407
2419:application-library/usb-cdc-device.c ****   }
 4864              		.loc 1 2419 0
 4865 000c FFF7FEFF 		bl	USBD_CtlError
 4866              	.LVL619:
 4867 0010 08BD     		pop	{r3, pc}
 4868              	.LVL620:
 4869              	.L406:
2409:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
 4870              		.loc 1 2409 0
 4871 0012 C0F8A432 		str	r3, [r0, #676]
2410:application-library/usb-cdc-device.c ****   }
ARM GAS  /tmp/ccgHoJ4C.s 			page 159


 4872              		.loc 1 2410 0
 4873 0016 FFF7FEFF 		bl	USBD_CtlSendStatus
 4874              	.LVL621:
 4875 001a 08BD     		pop	{r3, pc}
 4876              	.LVL622:
 4877              	.L407:
2414:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
 4878              		.loc 1 2414 0
 4879 001c 8B88     		ldrh	r3, [r1, #4]
 4880 001e 1B0A     		lsrs	r3, r3, #8
 4881 0020 80F8A032 		strb	r3, [r0, #672]
2415:application-library/usb-cdc-device.c ****   }
 4882              		.loc 1 2415 0
 4883 0024 FFF7FEFF 		bl	USBD_CtlSendStatus
 4884              	.LVL623:
 4885 0028 08BD     		pop	{r3, pc}
 4886              		.cfi_endproc
 4887              	.LFE185:
 4889              		.section	.text.USBD_ClrFeature,"ax",%progbits
 4890              		.align	1
 4891              		.global	USBD_ClrFeature
 4892              		.syntax unified
 4893              		.thumb
 4894              		.thumb_func
 4895              		.fpu fpv4-sp-d16
 4897              	USBD_ClrFeature:
 4898              	.LFB186:
2432:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
 4899              		.loc 1 2432 0
 4900              		.cfi_startproc
 4901              		@ args = 0, pretend = 0, frame = 0
 4902              		@ frame_needed = 0, uses_anonymous_args = 0
 4903              	.LVL624:
 4904 0000 08B5     		push	{r3, lr}
 4905              	.LCFI74:
 4906              		.cfi_def_cfa_offset 8
 4907              		.cfi_offset 3, -8
 4908              		.cfi_offset 14, -4
2433:application-library/usb-cdc-device.c ****   {
 4909              		.loc 1 2433 0
 4910 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4911 0006 013B     		subs	r3, r3, #1
 4912 0008 022B     		cmp	r3, #2
 4913 000a 09D8     		bhi	.L409
2438:application-library/usb-cdc-device.c ****       {
 4914              		.loc 1 2438 0
 4915 000c 4B88     		ldrh	r3, [r1, #2]
 4916 000e 012B     		cmp	r3, #1
 4917 0010 00D0     		beq	.L413
 4918              	.LVL625:
 4919              	.L408:
 4920 0012 08BD     		pop	{r3, pc}
 4921              	.LVL626:
 4922              	.L413:
2440:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
 4923              		.loc 1 2440 0
 4924 0014 0023     		movs	r3, #0
ARM GAS  /tmp/ccgHoJ4C.s 			page 160


 4925 0016 C0F8A432 		str	r3, [r0, #676]
2441:application-library/usb-cdc-device.c ****       }
 4926              		.loc 1 2441 0
 4927 001a FFF7FEFF 		bl	USBD_CtlSendStatus
 4928              	.LVL627:
 4929 001e 08BD     		pop	{r3, pc}
 4930              	.LVL628:
 4931              	.L409:
2446:application-library/usb-cdc-device.c ****       break;
 4932              		.loc 1 2446 0
 4933 0020 FFF7FEFF 		bl	USBD_CtlError
 4934              	.LVL629:
2449:application-library/usb-cdc-device.c **** 
 4935              		.loc 1 2449 0
 4936 0024 F5E7     		b	.L408
 4937              		.cfi_endproc
 4938              	.LFE186:
 4940              		.section	.text.USBD_StdDevReq,"ax",%progbits
 4941              		.align	1
 4942              		.global	USBD_StdDevReq
 4943              		.syntax unified
 4944              		.thumb
 4945              		.thumb_func
 4946              		.fpu fpv4-sp-d16
 4948              	USBD_StdDevReq:
 4949              	.LFB177:
1707:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4950              		.loc 1 1707 0
 4951              		.cfi_startproc
 4952              		@ args = 0, pretend = 0, frame = 0
 4953              		@ frame_needed = 0, uses_anonymous_args = 0
 4954              	.LVL630:
 4955 0000 08B5     		push	{r3, lr}
 4956              	.LCFI75:
 4957              		.cfi_def_cfa_offset 8
 4958              		.cfi_offset 3, -8
 4959              		.cfi_offset 14, -4
 4960              	.LVL631:
1710:application-library/usb-cdc-device.c ****   {
 4961              		.loc 1 1710 0
 4962 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 4963 0004 03F06003 		and	r3, r3, #96
 4964 0008 202B     		cmp	r3, #32
 4965 000a 06D0     		beq	.L416
 4966 000c 402B     		cmp	r3, #64
 4967 000e 04D0     		beq	.L416
 4968 0010 5BB1     		cbz	r3, .L430
1755:application-library/usb-cdc-device.c ****       break;
 4969              		.loc 1 1755 0
 4970 0012 FFF7FEFF 		bl	USBD_CtlError
 4971              	.LVL632:
1708:application-library/usb-cdc-device.c **** 
 4972              		.loc 1 1708 0
 4973 0016 0020     		movs	r0, #0
 4974              	.LVL633:
1760:application-library/usb-cdc-device.c **** 
 4975              		.loc 1 1760 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 161


 4976 0018 08BD     		pop	{r3, pc}
 4977              	.LVL634:
 4978              	.L416:
1714:application-library/usb-cdc-device.c ****       break;
 4979              		.loc 1 1714 0
 4980 001a D0F8D432 		ldr	r3, [r0, #724]
 4981 001e AE33     		adds	r3, r3, #174
 4982 0020 50F82330 		ldr	r3, [r0, r3, lsl #2]
 4983 0024 9B68     		ldr	r3, [r3, #8]
 4984 0026 9847     		blx	r3
 4985              	.LVL635:
1715:application-library/usb-cdc-device.c **** 
 4986              		.loc 1 1715 0
 4987 0028 08BD     		pop	{r3, pc}
 4988              	.LVL636:
 4989              	.L430:
1718:application-library/usb-cdc-device.c ****       {
 4990              		.loc 1 1718 0
 4991 002a 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4992 002c 092B     		cmp	r3, #9
 4993 002e 21D8     		bhi	.L419
 4994 0030 DFE803F0 		tbb	[pc, r3]
 4995              	.L421:
 4996 0034 14       		.byte	(.L420-.L421)/2
 4997 0035 1C       		.byte	(.L422-.L421)/2
 4998 0036 20       		.byte	(.L419-.L421)/2
 4999 0037 18       		.byte	(.L423-.L421)/2
 5000 0038 20       		.byte	(.L419-.L421)/2
 5001 0039 09       		.byte	(.L424-.L421)/2
 5002 003a 05       		.byte	(.L425-.L421)/2
 5003 003b 20       		.byte	(.L419-.L421)/2
 5004 003c 10       		.byte	(.L426-.L421)/2
 5005 003d 0D       		.byte	(.L427-.L421)/2
 5006              		.p2align 1
 5007              	.L425:
1721:application-library/usb-cdc-device.c ****           break;
 5008              		.loc 1 1721 0
 5009 003e FFF7FEFF 		bl	USBD_GetDescriptor
 5010              	.LVL637:
1708:application-library/usb-cdc-device.c **** 
 5011              		.loc 1 1708 0
 5012 0042 0020     		movs	r0, #0
1722:application-library/usb-cdc-device.c **** 
 5013              		.loc 1 1722 0
 5014 0044 08BD     		pop	{r3, pc}
 5015              	.LVL638:
 5016              	.L424:
1725:application-library/usb-cdc-device.c ****           break;
 5017              		.loc 1 1725 0
 5018 0046 FFF7FEFF 		bl	USBD_SetAddress
 5019              	.LVL639:
1708:application-library/usb-cdc-device.c **** 
 5020              		.loc 1 1708 0
 5021 004a 0020     		movs	r0, #0
1726:application-library/usb-cdc-device.c **** 
 5022              		.loc 1 1726 0
 5023 004c 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccgHoJ4C.s 			page 162


 5024              	.LVL640:
 5025              	.L427:
1729:application-library/usb-cdc-device.c ****           break;
 5026              		.loc 1 1729 0
 5027 004e FFF7FEFF 		bl	USBD_SetConfig
 5028              	.LVL641:
1730:application-library/usb-cdc-device.c **** 
 5029              		.loc 1 1730 0
 5030 0052 08BD     		pop	{r3, pc}
 5031              	.LVL642:
 5032              	.L426:
1733:application-library/usb-cdc-device.c ****           break;
 5033              		.loc 1 1733 0
 5034 0054 FFF7FEFF 		bl	USBD_GetConfig
 5035              	.LVL643:
1708:application-library/usb-cdc-device.c **** 
 5036              		.loc 1 1708 0
 5037 0058 0020     		movs	r0, #0
1734:application-library/usb-cdc-device.c **** 
 5038              		.loc 1 1734 0
 5039 005a 08BD     		pop	{r3, pc}
 5040              	.LVL644:
 5041              	.L420:
1737:application-library/usb-cdc-device.c ****           break;
 5042              		.loc 1 1737 0
 5043 005c FFF7FEFF 		bl	USBD_GetStatus
 5044              	.LVL645:
1708:application-library/usb-cdc-device.c **** 
 5045              		.loc 1 1708 0
 5046 0060 0020     		movs	r0, #0
1738:application-library/usb-cdc-device.c **** 
 5047              		.loc 1 1738 0
 5048 0062 08BD     		pop	{r3, pc}
 5049              	.LVL646:
 5050              	.L423:
1741:application-library/usb-cdc-device.c ****           break;
 5051              		.loc 1 1741 0
 5052 0064 FFF7FEFF 		bl	USBD_SetFeature
 5053              	.LVL647:
1708:application-library/usb-cdc-device.c **** 
 5054              		.loc 1 1708 0
 5055 0068 0020     		movs	r0, #0
1742:application-library/usb-cdc-device.c **** 
 5056              		.loc 1 1742 0
 5057 006a 08BD     		pop	{r3, pc}
 5058              	.LVL648:
 5059              	.L422:
1745:application-library/usb-cdc-device.c ****           break;
 5060              		.loc 1 1745 0
 5061 006c FFF7FEFF 		bl	USBD_ClrFeature
 5062              	.LVL649:
1708:application-library/usb-cdc-device.c **** 
 5063              		.loc 1 1708 0
 5064 0070 0020     		movs	r0, #0
1746:application-library/usb-cdc-device.c **** 
 5065              		.loc 1 1746 0
 5066 0072 08BD     		pop	{r3, pc}
ARM GAS  /tmp/ccgHoJ4C.s 			page 163


 5067              	.LVL650:
 5068              	.L419:
1749:application-library/usb-cdc-device.c ****           break;
 5069              		.loc 1 1749 0
 5070 0074 FFF7FEFF 		bl	USBD_CtlError
 5071              	.LVL651:
1708:application-library/usb-cdc-device.c **** 
 5072              		.loc 1 1708 0
 5073 0078 0020     		movs	r0, #0
1750:application-library/usb-cdc-device.c ****       }
 5074              		.loc 1 1750 0
 5075 007a 08BD     		pop	{r3, pc}
 5076              		.cfi_endproc
 5077              	.LFE177:
 5079              		.section	.text.USBD_LL_SetupStage,"ax",%progbits
 5080              		.align	1
 5081              		.global	USBD_LL_SetupStage
 5082              		.syntax unified
 5083              		.thumb
 5084              		.thumb_func
 5085              		.fpu fpv4-sp-d16
 5087              	USBD_LL_SetupStage:
 5088              	.LFB162:
1206:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 5089              		.loc 1 1206 0
 5090              		.cfi_startproc
 5091              		@ args = 0, pretend = 0, frame = 0
 5092              		@ frame_needed = 0, uses_anonymous_args = 0
 5093              	.LVL652:
 5094 0000 38B5     		push	{r3, r4, r5, lr}
 5095              	.LCFI76:
 5096              		.cfi_def_cfa_offset 16
 5097              		.cfi_offset 3, -16
 5098              		.cfi_offset 4, -12
 5099              		.cfi_offset 5, -8
 5100              		.cfi_offset 14, -4
 5101 0002 0446     		mov	r4, r0
1209:application-library/usb-cdc-device.c **** 
 5102              		.loc 1 1209 0
 5103 0004 00F2AA25 		addw	r5, r0, #682
 5104 0008 2846     		mov	r0, r5
 5105              	.LVL653:
 5106 000a FFF7FEFF 		bl	USBD_ParseSetupRequest
 5107              	.LVL654:
1211:application-library/usb-cdc-device.c **** 
 5108              		.loc 1 1211 0
 5109 000e 0123     		movs	r3, #1
 5110 0010 C4F89432 		str	r3, [r4, #660]
1213:application-library/usb-cdc-device.c **** 
 5111              		.loc 1 1213 0
 5112 0014 B4F8B032 		ldrh	r3, [r4, #688]
 5113 0018 C4F89832 		str	r3, [r4, #664]
1215:application-library/usb-cdc-device.c ****   {
 5114              		.loc 1 1215 0
 5115 001c 94F8AA12 		ldrb	r1, [r4, #682]	@ zero_extendqisi2
 5116 0020 01F01F03 		and	r3, r1, #31
 5117 0024 012B     		cmp	r3, #1
ARM GAS  /tmp/ccgHoJ4C.s 			page 164


 5118 0026 0DD0     		beq	.L433
 5119 0028 3BB1     		cbz	r3, .L434
 5120 002a 022B     		cmp	r3, #2
 5121 002c 0FD0     		beq	.L435
1230:application-library/usb-cdc-device.c ****       break;
 5122              		.loc 1 1230 0
 5123 002e 01F08001 		and	r1, r1, #128
 5124 0032 2046     		mov	r0, r4
 5125 0034 FFF7FEFF 		bl	USBD_LL_StallEP
 5126              	.LVL655:
1235:application-library/usb-cdc-device.c **** 
 5127              		.loc 1 1235 0
 5128 0038 38BD     		pop	{r3, r4, r5, pc}
 5129              	.LVL656:
 5130              	.L434:
1218:application-library/usb-cdc-device.c ****       break;
 5131              		.loc 1 1218 0
 5132 003a 2946     		mov	r1, r5
 5133 003c 2046     		mov	r0, r4
 5134 003e FFF7FEFF 		bl	USBD_StdDevReq
 5135              	.LVL657:
1219:application-library/usb-cdc-device.c **** 
 5136              		.loc 1 1219 0
 5137 0042 38BD     		pop	{r3, r4, r5, pc}
 5138              	.LVL658:
 5139              	.L433:
1222:application-library/usb-cdc-device.c ****       break;
 5140              		.loc 1 1222 0
 5141 0044 2946     		mov	r1, r5
 5142 0046 2046     		mov	r0, r4
 5143 0048 FFF7FEFF 		bl	USBD_StdItfReq
 5144              	.LVL659:
1223:application-library/usb-cdc-device.c **** 
 5145              		.loc 1 1223 0
 5146 004c 38BD     		pop	{r3, r4, r5, pc}
 5147              	.LVL660:
 5148              	.L435:
1226:application-library/usb-cdc-device.c ****       break;
 5149              		.loc 1 1226 0
 5150 004e 2946     		mov	r1, r5
 5151 0050 2046     		mov	r0, r4
 5152 0052 FFF7FEFF 		bl	USBD_StdEPReq
 5153              	.LVL661:
1227:application-library/usb-cdc-device.c **** 
 5154              		.loc 1 1227 0
 5155 0056 38BD     		pop	{r3, r4, r5, pc}
 5156              		.cfi_endproc
 5157              	.LFE162:
 5159              		.section	.text.HAL_PCD_SetupStageCallback,"ax",%progbits
 5160              		.align	1
 5161              		.global	HAL_PCD_SetupStageCallback
 5162              		.syntax unified
 5163              		.thumb
 5164              		.thumb_func
 5165              		.fpu fpv4-sp-d16
 5167              	HAL_PCD_SetupStageCallback:
 5168              	.LFB200:
ARM GAS  /tmp/ccgHoJ4C.s 			page 165


2773:application-library/usb-cdc-device.c ****   USBD_LL_SetupStage((USBD_HandleTypeDef*)hpcd->pData, (uint8_t *)hpcd->Setup);
 5169              		.loc 1 2773 0
 5170              		.cfi_startproc
 5171              		@ args = 0, pretend = 0, frame = 0
 5172              		@ frame_needed = 0, uses_anonymous_args = 0
 5173              	.LVL662:
 5174 0000 08B5     		push	{r3, lr}
 5175              	.LCFI77:
 5176              		.cfi_def_cfa_offset 8
 5177              		.cfi_offset 3, -8
 5178              		.cfi_offset 14, -4
2774:application-library/usb-cdc-device.c **** }
 5179              		.loc 1 2774 0
 5180 0002 00F2C441 		addw	r1, r0, #1220
 5181 0006 D0F80805 		ldr	r0, [r0, #1288]
 5182              	.LVL663:
 5183 000a FFF7FEFF 		bl	USBD_LL_SetupStage
 5184              	.LVL664:
 5185 000e 08BD     		pop	{r3, pc}
 5186              		.cfi_endproc
 5187              	.LFE200:
 5189              		.section	.text.USBD_LL_PrepareReceive,"ax",%progbits
 5190              		.align	1
 5191              		.global	USBD_LL_PrepareReceive
 5192              		.syntax unified
 5193              		.thumb
 5194              		.thumb_func
 5195              		.fpu fpv4-sp-d16
 5197              	USBD_LL_PrepareReceive:
 5198              	.LFB223:
3206:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
 5199              		.loc 1 3206 0
 5200              		.cfi_startproc
 5201              		@ args = 0, pretend = 0, frame = 0
 5202              		@ frame_needed = 0, uses_anonymous_args = 0
 5203              	.LVL665:
 5204 0000 08B5     		push	{r3, lr}
 5205              	.LCFI78:
 5206              		.cfi_def_cfa_offset 8
 5207              		.cfi_offset 3, -8
 5208              		.cfi_offset 14, -4
 5209              	.LVL666:
3210:application-library/usb-cdc-device.c **** 
 5210              		.loc 1 3210 0
 5211 0002 D0F8C802 		ldr	r0, [r0, #712]
 5212              	.LVL667:
 5213 0006 FFF7FEFF 		bl	HAL_PCD_EP_Receive
 5214              	.LVL668:
3212:application-library/usb-cdc-device.c **** 
 5215              		.loc 1 3212 0
 5216 000a FFF7FEFF 		bl	USBD_Get_USB_Status
 5217              	.LVL669:
3215:application-library/usb-cdc-device.c **** 
 5218              		.loc 1 3215 0
 5219 000e 08BD     		pop	{r3, pc}
 5220              		.cfi_endproc
 5221              	.LFE223:
ARM GAS  /tmp/ccgHoJ4C.s 			page 166


 5223              		.section	.text.USBD_CDC_Init,"ax",%progbits
 5224              		.align	1
 5225              		.global	USBD_CDC_Init
 5226              		.syntax unified
 5227              		.thumb
 5228              		.thumb_func
 5229              		.fpu fpv4-sp-d16
 5231              	USBD_CDC_Init:
 5232              	.LFB139:
 428:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 5233              		.loc 1 428 0
 5234              		.cfi_startproc
 5235              		@ args = 0, pretend = 0, frame = 0
 5236              		@ frame_needed = 0, uses_anonymous_args = 0
 5237              	.LVL670:
 5238 0000 70B5     		push	{r4, r5, r6, lr}
 5239              	.LCFI79:
 5240              		.cfi_def_cfa_offset 16
 5241              		.cfi_offset 4, -16
 5242              		.cfi_offset 5, -12
 5243              		.cfi_offset 6, -8
 5244              		.cfi_offset 14, -4
 5245 0002 0446     		mov	r4, r0
 432:application-library/usb-cdc-device.c **** 
 5246              		.loc 1 432 0
 5247 0004 4FF40770 		mov	r0, #540
 5248              	.LVL671:
 5249 0008 FFF7FEFF 		bl	USBD_static_malloc
 5250              	.LVL672:
 434:application-library/usb-cdc-device.c ****   {
 5251              		.loc 1 434 0
 5252 000c 0028     		cmp	r0, #0
 5253 000e 48D0     		beq	.L451
 5254 0010 0546     		mov	r5, r0
 440:application-library/usb-cdc-device.c **** 
 5255              		.loc 1 440 0
 5256 0012 4FF40772 		mov	r2, #540
 5257 0016 0021     		movs	r1, #0
 5258 0018 FFF7FEFF 		bl	memset
 5259              	.LVL673:
 442:application-library/usb-cdc-device.c ****   pdev->pClassData = pdev->pClassDataCmsit[pdev->classId];
 5260              		.loc 1 442 0
 5261 001c D4F8D432 		ldr	r3, [r4, #724]
 5262 0020 B033     		adds	r3, r3, #176
 5263 0022 44F82350 		str	r5, [r4, r3, lsl #2]
 443:application-library/usb-cdc-device.c **** 
 5264              		.loc 1 443 0
 5265 0026 C4F8BC52 		str	r5, [r4, #700]
 446:application-library/usb-cdc-device.c ****   {
 5266              		.loc 1 446 0
 5267 002a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 5268 002c 002B     		cmp	r3, #0
 5269 002e 40D1     		bne	.L446
 449:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 5270              		.loc 1 449 0
 5271 0030 4FF40073 		mov	r3, #512
 5272 0034 0222     		movs	r2, #2
ARM GAS  /tmp/ccgHoJ4C.s 			page 167


 5273 0036 8121     		movs	r1, #129
 5274 0038 2046     		mov	r0, r4
 5275 003a FFF7FEFF 		bl	USBD_LL_OpenEP
 5276              	.LVL674:
 452:application-library/usb-cdc-device.c **** 
 5277              		.loc 1 452 0
 5278 003e 0126     		movs	r6, #1
 5279 0040 2687     		strh	r6, [r4, #56]	@ movhi
 455:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 5280              		.loc 1 455 0
 5281 0042 4FF40073 		mov	r3, #512
 5282 0046 0222     		movs	r2, #2
 5283 0048 3146     		mov	r1, r6
 5284 004a 2046     		mov	r0, r4
 5285 004c FFF7FEFF 		bl	USBD_LL_OpenEP
 5286              	.LVL675:
 458:application-library/usb-cdc-device.c **** 
 5287              		.loc 1 458 0
 5288 0050 A4F87861 		strh	r6, [r4, #376]	@ movhi
 461:application-library/usb-cdc-device.c ****   }
 5289              		.loc 1 461 0
 5290 0054 1023     		movs	r3, #16
 5291 0056 A4F84E30 		strh	r3, [r4, #78]	@ movhi
 5292              	.L447:
 483:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
 5293              		.loc 1 483 0
 5294 005a 0823     		movs	r3, #8
 5295 005c 0322     		movs	r2, #3
 5296 005e 8221     		movs	r1, #130
 5297 0060 2046     		mov	r0, r4
 5298 0062 FFF7FEFF 		bl	USBD_LL_OpenEP
 5299              	.LVL676:
 484:application-library/usb-cdc-device.c **** 
 5300              		.loc 1 484 0
 5301 0066 0123     		movs	r3, #1
 5302 0068 A4F84C30 		strh	r3, [r4, #76]	@ movhi
 486:application-library/usb-cdc-device.c **** 
 5303              		.loc 1 486 0
 5304 006c 0026     		movs	r6, #0
 5305 006e C5F80462 		str	r6, [r5, #516]
 489:application-library/usb-cdc-device.c **** 
 5306              		.loc 1 489 0
 5307 0072 D4F8D432 		ldr	r3, [r4, #724]
 5308 0076 B033     		adds	r3, r3, #176
 5309 0078 04EB8303 		add	r3, r4, r3, lsl #2
 5310 007c 5B68     		ldr	r3, [r3, #4]
 5311 007e 1B68     		ldr	r3, [r3]
 5312 0080 9847     		blx	r3
 5313              	.LVL677:
 492:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 5314              		.loc 1 492 0
 5315 0082 C5F81462 		str	r6, [r5, #532]
 493:application-library/usb-cdc-device.c **** 
 5316              		.loc 1 493 0
 5317 0086 C5F81862 		str	r6, [r5, #536]
 495:application-library/usb-cdc-device.c ****   {
 5318              		.loc 1 495 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 168


 5319 008a D5F80422 		ldr	r2, [r5, #516]
 5320 008e 62B3     		cbz	r2, .L449
 500:application-library/usb-cdc-device.c ****   {
 5321              		.loc 1 500 0
 5322 0090 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 5323 0092 13B3     		cbz	r3, .L452
 509:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 5324              		.loc 1 509 0
 5325 0094 4023     		movs	r3, #64
 5326 0096 0121     		movs	r1, #1
 5327 0098 2046     		mov	r0, r4
 5328 009a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5329              	.LVL678:
 513:application-library/usb-cdc-device.c **** }
 5330              		.loc 1 513 0
 5331 009e 0020     		movs	r0, #0
 5332 00a0 70BD     		pop	{r4, r5, r6, pc}
 5333              	.LVL679:
 5334              	.L451:
 436:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 5335              		.loc 1 436 0
 5336 00a2 D4F8D432 		ldr	r3, [r4, #724]
 5337 00a6 B033     		adds	r3, r3, #176
 5338 00a8 0022     		movs	r2, #0
 5339 00aa 44F82320 		str	r2, [r4, r3, lsl #2]
 437:application-library/usb-cdc-device.c ****   }
 5340              		.loc 1 437 0
 5341 00ae 0220     		movs	r0, #2
 5342              	.LVL680:
 5343 00b0 70BD     		pop	{r4, r5, r6, pc}
 5344              	.LVL681:
 5345              	.L446:
 467:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 5346              		.loc 1 467 0
 5347 00b2 4023     		movs	r3, #64
 5348 00b4 0222     		movs	r2, #2
 5349 00b6 8121     		movs	r1, #129
 5350 00b8 2046     		mov	r0, r4
 5351 00ba FFF7FEFF 		bl	USBD_LL_OpenEP
 5352              	.LVL682:
 470:application-library/usb-cdc-device.c **** 
 5353              		.loc 1 470 0
 5354 00be 0126     		movs	r6, #1
 5355 00c0 2687     		strh	r6, [r4, #56]	@ movhi
 473:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 5356              		.loc 1 473 0
 5357 00c2 4023     		movs	r3, #64
 5358 00c4 0222     		movs	r2, #2
 5359 00c6 3146     		mov	r1, r6
 5360 00c8 2046     		mov	r0, r4
 5361 00ca FFF7FEFF 		bl	USBD_LL_OpenEP
 5362              	.LVL683:
 476:application-library/usb-cdc-device.c **** 
 5363              		.loc 1 476 0
 5364 00ce A4F87861 		strh	r6, [r4, #376]	@ movhi
 479:application-library/usb-cdc-device.c ****   }
 5365              		.loc 1 479 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 169


 5366 00d2 1023     		movs	r3, #16
 5367 00d4 A4F84E30 		strh	r3, [r4, #78]	@ movhi
 5368 00d8 BFE7     		b	.L447
 5369              	.L452:
 503:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 5370              		.loc 1 503 0
 5371 00da 4FF40073 		mov	r3, #512
 5372 00de 0121     		movs	r1, #1
 5373 00e0 2046     		mov	r0, r4
 5374 00e2 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5375              	.LVL684:
 513:application-library/usb-cdc-device.c **** }
 5376              		.loc 1 513 0
 5377 00e6 3046     		mov	r0, r6
 5378 00e8 70BD     		pop	{r4, r5, r6, pc}
 5379              	.LVL685:
 5380              	.L449:
 497:application-library/usb-cdc-device.c ****   }
 5381              		.loc 1 497 0
 5382 00ea 0220     		movs	r0, #2
 514:application-library/usb-cdc-device.c **** 
 5383              		.loc 1 514 0
 5384 00ec 70BD     		pop	{r4, r5, r6, pc}
 5385              		.cfi_endproc
 5386              	.LFE139:
 5388              		.section	.text.USBD_CDC_ReceivePacket,"ax",%progbits
 5389              		.align	1
 5390              		.global	USBD_CDC_ReceivePacket
 5391              		.syntax unified
 5392              		.thumb
 5393              		.thumb_func
 5394              		.fpu fpv4-sp-d16
 5396              	USBD_CDC_ReceivePacket:
 5397              	.LFB153:
 958:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 5398              		.loc 1 958 0
 5399              		.cfi_startproc
 5400              		@ args = 0, pretend = 0, frame = 0
 5401              		@ frame_needed = 0, uses_anonymous_args = 0
 5402              	.LVL686:
 5403 0000 08B5     		push	{r3, lr}
 5404              	.LCFI80:
 5405              		.cfi_def_cfa_offset 8
 5406              		.cfi_offset 3, -8
 5407              		.cfi_offset 14, -4
 959:application-library/usb-cdc-device.c **** 
 5408              		.loc 1 959 0
 5409 0002 D0F8D432 		ldr	r3, [r0, #724]
 5410 0006 B033     		adds	r3, r3, #176
 5411 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 5412              	.LVL687:
 961:application-library/usb-cdc-device.c ****   {
 5413              		.loc 1 961 0
 5414 000c 92B1     		cbz	r2, .L456
 966:application-library/usb-cdc-device.c ****   {
 5415              		.loc 1 966 0
 5416 000e 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
ARM GAS  /tmp/ccgHoJ4C.s 			page 170


 5417 0010 3BB1     		cbz	r3, .L458
 975:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 5418              		.loc 1 975 0
 5419 0012 4023     		movs	r3, #64
 5420 0014 D2F80422 		ldr	r2, [r2, #516]
 5421              	.LVL688:
 5422 0018 0121     		movs	r1, #1
 5423 001a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5424              	.LVL689:
 979:application-library/usb-cdc-device.c **** }
 5425              		.loc 1 979 0
 5426 001e 0020     		movs	r0, #0
 5427 0020 08BD     		pop	{r3, pc}
 5428              	.LVL690:
 5429              	.L458:
 969:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 5430              		.loc 1 969 0
 5431 0022 4FF40073 		mov	r3, #512
 5432 0026 D2F80422 		ldr	r2, [r2, #516]
 5433              	.LVL691:
 5434 002a 0121     		movs	r1, #1
 5435 002c FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5436              	.LVL692:
 979:application-library/usb-cdc-device.c **** }
 5437              		.loc 1 979 0
 5438 0030 0020     		movs	r0, #0
 5439 0032 08BD     		pop	{r3, pc}
 5440              	.LVL693:
 5441              	.L456:
 963:application-library/usb-cdc-device.c ****   }
 5442              		.loc 1 963 0
 5443 0034 0320     		movs	r0, #3
 5444              	.LVL694:
 980:application-library/usb-cdc-device.c **** 
 5445              		.loc 1 980 0
 5446 0036 08BD     		pop	{r3, pc}
 5447              		.cfi_endproc
 5448              	.LFE153:
 5450              		.section	.text.CDC_Receive_FS,"ax",%progbits
 5451              		.align	1
 5452              		.global	CDC_Receive_FS
 5453              		.syntax unified
 5454              		.thumb
 5455              		.thumb_func
 5456              		.fpu fpv4-sp-d16
 5458              	CDC_Receive_FS:
 5459              	.LFB135:
 272:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 5460              		.loc 1 272 0
 5461              		.cfi_startproc
 5462              		@ args = 0, pretend = 0, frame = 64
 5463              		@ frame_needed = 0, uses_anonymous_args = 0
 5464              	.LVL695:
 5465 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 5466              	.LCFI81:
 5467              		.cfi_def_cfa_offset 20
 5468              		.cfi_offset 4, -20
ARM GAS  /tmp/ccgHoJ4C.s 			page 171


 5469              		.cfi_offset 5, -16
 5470              		.cfi_offset 6, -12
 5471              		.cfi_offset 7, -8
 5472              		.cfi_offset 14, -4
 5473 0002 91B0     		sub	sp, sp, #68
 5474              	.LCFI82:
 5475              		.cfi_def_cfa_offset 88
 5476 0004 0446     		mov	r4, r0
 5477 0006 0E46     		mov	r6, r1
 275:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
 5478              		.loc 1 275 0
 5479 0008 164D     		ldr	r5, .L461
 5480 000a 0146     		mov	r1, r0
 5481              	.LVL696:
 5482 000c 2846     		mov	r0, r5
 5483              	.LVL697:
 5484 000e FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 5485              	.LVL698:
 276:application-library/usb-cdc-device.c **** 
 5486              		.loc 1 276 0
 5487 0012 2846     		mov	r0, r5
 5488 0014 FFF7FEFF 		bl	USBD_CDC_ReceivePacket
 5489              	.LVL699:
 278:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 5490              		.loc 1 278 0
 5491 0018 4025     		movs	r5, #64
 5492 001a 2A46     		mov	r2, r5
 5493 001c 0021     		movs	r1, #0
 5494 001e 6846     		mov	r0, sp
 5495 0020 FFF7FEFF 		bl	memset
 5496              	.LVL700:
 5497 0024 3678     		ldrb	r6, [r6]	@ zero_extendqisi2
 5498              	.LVL701:
 280:application-library/usb-cdc-device.c **** 
 5499              		.loc 1 280 0
 5500 0026 3246     		mov	r2, r6
 5501 0028 2146     		mov	r1, r4
 5502 002a 6846     		mov	r0, sp
 5503 002c FFF7FEFF 		bl	memcpy
 5504              	.LVL702:
 282:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 5505              		.loc 1 282 0
 5506 0030 6846     		mov	r0, sp
 5507 0032 FFF7FEFF 		bl	strlen
 5508              	.LVL703:
 5509 0036 0746     		mov	r7, r0
 5510 0038 0DEB0002 		add	r2, sp, r0
 5511 003c 0A4B     		ldr	r3, .L461+4
 5512 003e 03CB     		ldmia	r3!, {r0, r1}
 5513 0040 4DF80700 		str	r0, [sp, r7]	@ unaligned
 5514 0044 5160     		str	r1, [r2, #4]	@ unaligned
 5515 0046 1B88     		ldrh	r3, [r3]	@ unaligned
 5516 0048 1381     		strh	r3, [r2, #8]	@ unaligned
 283:application-library/usb-cdc-device.c ****   CDC_Transmit_FS(received_msg, sizeof(received_msg));
 5517              		.loc 1 283 0
 5518 004a 3246     		mov	r2, r6
 5519 004c 0021     		movs	r1, #0
ARM GAS  /tmp/ccgHoJ4C.s 			page 172


 5520 004e 2046     		mov	r0, r4
 5521 0050 FFF7FEFF 		bl	memset
 5522              	.LVL704:
 284:application-library/usb-cdc-device.c ****   return (USBD_OK);
 5523              		.loc 1 284 0
 5524 0054 2946     		mov	r1, r5
 5525 0056 6846     		mov	r0, sp
 5526 0058 FFF7FEFF 		bl	CDC_Transmit_FS
 5527              	.LVL705:
 287:application-library/usb-cdc-device.c **** 
 5528              		.loc 1 287 0
 5529 005c 0020     		movs	r0, #0
 5530 005e 11B0     		add	sp, sp, #68
 5531              	.LCFI83:
 5532              		.cfi_def_cfa_offset 20
 5533              		@ sp needed
 5534 0060 F0BD     		pop	{r4, r5, r6, r7, pc}
 5535              	.LVL706:
 5536              	.L462:
 5537 0062 00BF     		.align	2
 5538              	.L461:
 5539 0064 00000000 		.word	hUsbDeviceFS
 5540 0068 00000000 		.word	.LC0
 5541              		.cfi_endproc
 5542              	.LFE135:
 5544              		.section	.text.USBD_CtlPrepareRx,"ax",%progbits
 5545              		.align	1
 5546              		.global	USBD_CtlPrepareRx
 5547              		.syntax unified
 5548              		.thumb
 5549              		.thumb_func
 5550              		.fpu fpv4-sp-d16
 5552              	USBD_CtlPrepareRx:
 5553              	.LFB193:
2611:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 5554              		.loc 1 2611 0
 5555              		.cfi_startproc
 5556              		@ args = 0, pretend = 0, frame = 0
 5557              		@ frame_needed = 0, uses_anonymous_args = 0
 5558              	.LVL707:
 5559 0000 10B5     		push	{r4, lr}
 5560              	.LCFI84:
 5561              		.cfi_def_cfa_offset 8
 5562              		.cfi_offset 4, -8
 5563              		.cfi_offset 14, -4
 5564 0002 1346     		mov	r3, r2
2613:application-library/usb-cdc-device.c ****   pdev->ep_out[0].total_length = len;
 5565              		.loc 1 2613 0
 5566 0004 0322     		movs	r2, #3
 5567              	.LVL708:
 5568 0006 C0F89422 		str	r2, [r0, #660]
2614:application-library/usb-cdc-device.c **** 
 5569              		.loc 1 2614 0
 5570 000a C0F85831 		str	r3, [r0, #344]
2619:application-library/usb-cdc-device.c **** #endif /* USBD_AVOID_PACKET_SPLIT_MPS */
 5571              		.loc 1 2619 0
 5572 000e C0F85C31 		str	r3, [r0, #348]
ARM GAS  /tmp/ccgHoJ4C.s 			page 173


2623:application-library/usb-cdc-device.c **** 
 5573              		.loc 1 2623 0
 5574 0012 0A46     		mov	r2, r1
 5575 0014 0021     		movs	r1, #0
 5576              	.LVL709:
 5577 0016 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5578              	.LVL710:
2626:application-library/usb-cdc-device.c **** 
 5579              		.loc 1 2626 0
 5580 001a 0020     		movs	r0, #0
 5581 001c 10BD     		pop	{r4, pc}
 5582              		.cfi_endproc
 5583              	.LFE193:
 5585              		.section	.text.USBD_CDC_Setup,"ax",%progbits
 5586              		.align	1
 5587              		.global	USBD_CDC_Setup
 5588              		.syntax unified
 5589              		.thumb
 5590              		.thumb_func
 5591              		.fpu fpv4-sp-d16
 5593              	USBD_CDC_Setup:
 5594              	.LFB141:
 561:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 5595              		.loc 1 561 0
 5596              		.cfi_startproc
 5597              		@ args = 0, pretend = 0, frame = 8
 5598              		@ frame_needed = 0, uses_anonymous_args = 0
 5599              	.LVL711:
 5600 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 5601              	.LCFI85:
 5602              		.cfi_def_cfa_offset 20
 5603              		.cfi_offset 4, -20
 5604              		.cfi_offset 5, -16
 5605              		.cfi_offset 6, -12
 5606              		.cfi_offset 7, -8
 5607              		.cfi_offset 14, -4
 5608 0002 83B0     		sub	sp, sp, #12
 5609              	.LCFI86:
 5610              		.cfi_def_cfa_offset 32
 562:application-library/usb-cdc-device.c ****   uint16_t len;
 5611              		.loc 1 562 0
 5612 0004 D0F8D472 		ldr	r7, [r0, #724]
 5613 0008 07F1B003 		add	r3, r7, #176
 5614 000c 50F82360 		ldr	r6, [r0, r3, lsl #2]
 5615              	.LVL712:
 564:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 5616              		.loc 1 564 0
 5617 0010 0023     		movs	r3, #0
 5618 0012 8DF80730 		strb	r3, [sp, #7]
 565:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 5619              		.loc 1 565 0
 5620 0016 ADF80430 		strh	r3, [sp, #4]	@ movhi
 5621              	.LVL713:
 568:application-library/usb-cdc-device.c ****   {
 5622              		.loc 1 568 0
 5623 001a 002E     		cmp	r6, #0
 5624 001c 75D0     		beq	.L480
ARM GAS  /tmp/ccgHoJ4C.s 			page 174


 5625 001e 0D46     		mov	r5, r1
 5626 0020 0446     		mov	r4, r0
 573:application-library/usb-cdc-device.c ****   {
 5627              		.loc 1 573 0
 5628 0022 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 5629 0024 13F06002 		ands	r2, r3, #96
 5630 0028 34D0     		beq	.L468
 5631 002a 202A     		cmp	r2, #32
 5632 002c 69D1     		bne	.L484
 576:application-library/usb-cdc-device.c ****       {
 5633              		.loc 1 576 0
 5634 002e CA88     		ldrh	r2, [r1, #6]
 5635 0030 2AB3     		cbz	r2, .L470
 578:application-library/usb-cdc-device.c ****         {
 5636              		.loc 1 578 0
 5637 0032 13F0800F 		tst	r3, #128
 5638 0036 0ED1     		bne	.L486
 589:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 5639              		.loc 1 589 0
 5640 0038 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 5641 003a 86F80032 		strb	r3, [r6, #512]
 590:application-library/usb-cdc-device.c **** 
 5642              		.loc 1 590 0
 5643 003e CA88     		ldrh	r2, [r1, #6]
 5644 0040 3F2A     		cmp	r2, #63
 5645 0042 1AD8     		bhi	.L481
 590:application-library/usb-cdc-device.c **** 
 5646              		.loc 1 590 0 is_stmt 0 discriminator 1
 5647 0044 D2B2     		uxtb	r2, r2
 5648              	.L472:
 590:application-library/usb-cdc-device.c **** 
 5649              		.loc 1 590 0 discriminator 4
 5650 0046 86F80122 		strb	r2, [r6, #513]
 592:application-library/usb-cdc-device.c ****         }
 5651              		.loc 1 592 0 is_stmt 1 discriminator 4
 5652 004a 3146     		mov	r1, r6
 5653              	.LVL714:
 5654 004c 2046     		mov	r0, r4
 5655              	.LVL715:
 5656 004e FFF7FEFF 		bl	USBD_CtlPrepareRx
 5657              	.LVL716:
 566:application-library/usb-cdc-device.c **** 
 5658              		.loc 1 566 0 discriminator 4
 5659 0052 0020     		movs	r0, #0
 5660 0054 5AE0     		b	.L466
 5661              	.LVL717:
 5662              	.L486:
 580:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 5663              		.loc 1 580 0
 5664 0056 B037     		adds	r7, r7, #176
 5665 0058 00EB8707 		add	r7, r0, r7, lsl #2
 5666 005c 7B68     		ldr	r3, [r7, #4]
 5667 005e 9B68     		ldr	r3, [r3, #8]
 5668 0060 3146     		mov	r1, r6
 5669              	.LVL718:
 5670 0062 6878     		ldrb	r0, [r5, #1]	@ zero_extendqisi2
 5671              	.LVL719:
ARM GAS  /tmp/ccgHoJ4C.s 			page 175


 5672 0064 9847     		blx	r3
 5673              	.LVL720:
 584:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendData(pdev, (uint8_t *)hcdc->data, len);
 5674              		.loc 1 584 0
 5675 0066 EA88     		ldrh	r2, [r5, #6]
 5676              	.LVL721:
 585:application-library/usb-cdc-device.c ****         }
 5677              		.loc 1 585 0
 5678 0068 072A     		cmp	r2, #7
 5679 006a 28BF     		it	cs
 5680 006c 0722     		movcs	r2, #7
 5681              	.LVL722:
 5682 006e 3146     		mov	r1, r6
 5683 0070 2046     		mov	r0, r4
 5684 0072 FFF7FEFF 		bl	USBD_CtlSendData
 5685              	.LVL723:
 566:application-library/usb-cdc-device.c **** 
 5686              		.loc 1 566 0
 5687 0076 0020     		movs	r0, #0
 5688 0078 48E0     		b	.L466
 5689              	.LVL724:
 5690              	.L481:
 590:application-library/usb-cdc-device.c **** 
 5691              		.loc 1 590 0
 5692 007a 4022     		movs	r2, #64
 5693 007c E3E7     		b	.L472
 5694              	.L470:
 597:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
 5695              		.loc 1 597 0
 5696 007e 07F1B000 		add	r0, r7, #176
 5697              	.LVL725:
 5698 0082 04EB8000 		add	r0, r4, r0, lsl #2
 5699 0086 4368     		ldr	r3, [r0, #4]
 5700 0088 9B68     		ldr	r3, [r3, #8]
 5701 008a 0022     		movs	r2, #0
 5702 008c 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 5703 008e 9847     		blx	r3
 5704              	.LVL726:
 566:application-library/usb-cdc-device.c **** 
 5705              		.loc 1 566 0
 5706 0090 0020     		movs	r0, #0
 5707 0092 3BE0     		b	.L466
 5708              	.LVL727:
 5709              	.L468:
 603:application-library/usb-cdc-device.c ****       {
 5710              		.loc 1 603 0
 5711 0094 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 5712 0096 0B2B     		cmp	r3, #11
 5713 0098 2FD8     		bhi	.L473
 5714 009a DFE803F0 		tbb	[pc, r3]
 5715              	.L475:
 5716 009e 06       		.byte	(.L474-.L475)/2
 5717 009f 39       		.byte	(.L482-.L475)/2
 5718 00a0 2E       		.byte	(.L473-.L475)/2
 5719 00a1 2E       		.byte	(.L473-.L475)/2
 5720 00a2 2E       		.byte	(.L473-.L475)/2
 5721 00a3 2E       		.byte	(.L473-.L475)/2
ARM GAS  /tmp/ccgHoJ4C.s 			page 176


 5722 00a4 2E       		.byte	(.L473-.L475)/2
 5723 00a5 2E       		.byte	(.L473-.L475)/2
 5724 00a6 2E       		.byte	(.L473-.L475)/2
 5725 00a7 2E       		.byte	(.L473-.L475)/2
 5726 00a8 15       		.byte	(.L476-.L475)/2
 5727 00a9 25       		.byte	(.L477-.L475)/2
 5728              		.p2align 1
 5729              	.L474:
 606:application-library/usb-cdc-device.c ****           {
 5730              		.loc 1 606 0
 5731 00aa 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 5732 00ae DBB2     		uxtb	r3, r3
 5733 00b0 032B     		cmp	r3, #3
 5734 00b2 03D0     		beq	.L487
 612:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 5735              		.loc 1 612 0
 5736 00b4 FFF7FEFF 		bl	USBD_CtlError
 5737              	.LVL728:
 613:application-library/usb-cdc-device.c ****           }
 5738              		.loc 1 613 0
 5739 00b8 0320     		movs	r0, #3
 5740 00ba 27E0     		b	.L466
 5741              	.LVL729:
 5742              	.L487:
 608:application-library/usb-cdc-device.c ****           }
 5743              		.loc 1 608 0
 5744 00bc 0222     		movs	r2, #2
 5745 00be 01A9     		add	r1, sp, #4
 5746              	.LVL730:
 5747 00c0 FFF7FEFF 		bl	USBD_CtlSendData
 5748              	.LVL731:
 566:application-library/usb-cdc-device.c **** 
 5749              		.loc 1 566 0
 5750 00c4 0020     		movs	r0, #0
 5751 00c6 21E0     		b	.L466
 5752              	.LVL732:
 5753              	.L476:
 618:application-library/usb-cdc-device.c ****           {
 5754              		.loc 1 618 0
 5755 00c8 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 5756 00cc DBB2     		uxtb	r3, r3
 5757 00ce 032B     		cmp	r3, #3
 5758 00d0 03D0     		beq	.L488
 624:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 5759              		.loc 1 624 0
 5760 00d2 FFF7FEFF 		bl	USBD_CtlError
 5761              	.LVL733:
 625:application-library/usb-cdc-device.c ****           }
 5762              		.loc 1 625 0
 5763 00d6 0320     		movs	r0, #3
 5764 00d8 18E0     		b	.L466
 5765              	.LVL734:
 5766              	.L488:
 620:application-library/usb-cdc-device.c ****           }
 5767              		.loc 1 620 0
 5768 00da 0122     		movs	r2, #1
 5769 00dc 0DF10701 		add	r1, sp, #7
ARM GAS  /tmp/ccgHoJ4C.s 			page 177


 5770              	.LVL735:
 5771 00e0 FFF7FEFF 		bl	USBD_CtlSendData
 5772              	.LVL736:
 566:application-library/usb-cdc-device.c **** 
 5773              		.loc 1 566 0
 5774 00e4 0020     		movs	r0, #0
 5775 00e6 11E0     		b	.L466
 5776              	.LVL737:
 5777              	.L477:
 630:application-library/usb-cdc-device.c ****           {
 5778              		.loc 1 630 0
 5779 00e8 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 5780 00ec DBB2     		uxtb	r3, r3
 5781 00ee 032B     		cmp	r3, #3
 5782 00f0 10D0     		beq	.L483
 632:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 5783              		.loc 1 632 0
 5784 00f2 FFF7FEFF 		bl	USBD_CtlError
 5785              	.LVL738:
 633:application-library/usb-cdc-device.c ****           }
 5786              		.loc 1 633 0
 5787 00f6 0320     		movs	r0, #3
 5788 00f8 08E0     		b	.L466
 5789              	.LVL739:
 5790              	.L473:
 641:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 5791              		.loc 1 641 0
 5792 00fa FFF7FEFF 		bl	USBD_CtlError
 5793              	.LVL740:
 642:application-library/usb-cdc-device.c ****           break;
 5794              		.loc 1 642 0
 5795 00fe 0320     		movs	r0, #3
 643:application-library/usb-cdc-device.c ****       }
 5796              		.loc 1 643 0
 5797 0100 04E0     		b	.L466
 5798              	.LVL741:
 5799              	.L484:
 648:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 5800              		.loc 1 648 0
 5801 0102 FFF7FEFF 		bl	USBD_CtlError
 5802              	.LVL742:
 649:application-library/usb-cdc-device.c ****       break;
 5803              		.loc 1 649 0
 5804 0106 0320     		movs	r0, #3
 650:application-library/usb-cdc-device.c ****   }
 5805              		.loc 1 650 0
 5806 0108 00E0     		b	.L466
 5807              	.LVL743:
 5808              	.L480:
 570:application-library/usb-cdc-device.c ****   }
 5809              		.loc 1 570 0
 5810 010a 0320     		movs	r0, #3
 5811              	.LVL744:
 5812              	.L466:
 654:application-library/usb-cdc-device.c **** 
 5813              		.loc 1 654 0
 5814 010c 03B0     		add	sp, sp, #12
ARM GAS  /tmp/ccgHoJ4C.s 			page 178


 5815              	.LCFI87:
 5816              		.cfi_remember_state
 5817              		.cfi_def_cfa_offset 20
 5818              		@ sp needed
 5819 010e F0BD     		pop	{r4, r5, r6, r7, pc}
 5820              	.LVL745:
 5821              	.L482:
 5822              	.LCFI88:
 5823              		.cfi_restore_state
 566:application-library/usb-cdc-device.c **** 
 5824              		.loc 1 566 0
 5825 0110 0020     		movs	r0, #0
 5826              	.LVL746:
 5827 0112 FBE7     		b	.L466
 5828              	.LVL747:
 5829              	.L483:
 5830 0114 0020     		movs	r0, #0
 5831              	.LVL748:
 5832 0116 F9E7     		b	.L466
 5833              		.cfi_endproc
 5834              	.LFE141:
 5836              		.section	.text.USBD_CtlContinueRx,"ax",%progbits
 5837              		.align	1
 5838              		.global	USBD_CtlContinueRx
 5839              		.syntax unified
 5840              		.thumb
 5841              		.thumb_func
 5842              		.fpu fpv4-sp-d16
 5844              	USBD_CtlContinueRx:
 5845              	.LFB194:
2638:application-library/usb-cdc-device.c ****   (void)USBD_LL_PrepareReceive(pdev, 0U, pbuf, len);
 5846              		.loc 1 2638 0
 5847              		.cfi_startproc
 5848              		@ args = 0, pretend = 0, frame = 0
 5849              		@ frame_needed = 0, uses_anonymous_args = 0
 5850              	.LVL749:
 5851 0000 08B5     		push	{r3, lr}
 5852              	.LCFI89:
 5853              		.cfi_def_cfa_offset 8
 5854              		.cfi_offset 3, -8
 5855              		.cfi_offset 14, -4
2639:application-library/usb-cdc-device.c **** 
 5856              		.loc 1 2639 0
 5857 0002 1346     		mov	r3, r2
 5858 0004 0A46     		mov	r2, r1
 5859              	.LVL750:
 5860 0006 0021     		movs	r1, #0
 5861              	.LVL751:
 5862 0008 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 5863              	.LVL752:
2642:application-library/usb-cdc-device.c **** 
 5864              		.loc 1 2642 0
 5865 000c 0020     		movs	r0, #0
 5866 000e 08BD     		pop	{r3, pc}
 5867              		.cfi_endproc
 5868              	.LFE194:
 5870              		.section	.text.USBD_LL_DataOutStage,"ax",%progbits
ARM GAS  /tmp/ccgHoJ4C.s 			page 179


 5871              		.align	1
 5872              		.global	USBD_LL_DataOutStage
 5873              		.syntax unified
 5874              		.thumb
 5875              		.thumb_func
 5876              		.fpu fpv4-sp-d16
 5878              	USBD_LL_DataOutStage:
 5879              	.LFB163:
1247:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 5880              		.loc 1 1247 0
 5881              		.cfi_startproc
 5882              		@ args = 0, pretend = 0, frame = 0
 5883              		@ frame_needed = 0, uses_anonymous_args = 0
 5884              	.LVL753:
 5885 0000 38B5     		push	{r3, r4, r5, lr}
 5886              	.LCFI90:
 5887              		.cfi_def_cfa_offset 16
 5888              		.cfi_offset 3, -16
 5889              		.cfi_offset 4, -12
 5890              		.cfi_offset 5, -8
 5891              		.cfi_offset 14, -4
 5892 0002 0446     		mov	r4, r0
 5893              	.LVL754:
1252:application-library/usb-cdc-device.c ****   {
 5894              		.loc 1 1252 0
 5895 0004 0D46     		mov	r5, r1
 5896 0006 0029     		cmp	r1, #0
 5897 0008 3DD1     		bne	.L492
 5898 000a 1346     		mov	r3, r2
 5899              	.LVL755:
1256:application-library/usb-cdc-device.c ****     {
 5900              		.loc 1 1256 0
 5901 000c D0F89422 		ldr	r2, [r0, #660]
 5902              	.LVL756:
 5903 0010 032A     		cmp	r2, #3
 5904 0012 01D0     		beq	.L504
1332:application-library/usb-cdc-device.c **** }
 5905              		.loc 1 1332 0
 5906 0014 0020     		movs	r0, #0
 5907              	.LVL757:
 5908 0016 38BD     		pop	{r3, r4, r5, pc}
 5909              	.LVL758:
 5910              	.L504:
1258:application-library/usb-cdc-device.c ****       {
 5911              		.loc 1 1258 0
 5912 0018 D0F85C11 		ldr	r1, [r0, #348]
 5913              	.LVL759:
 5914 001c D0F86021 		ldr	r2, [r0, #352]
 5915 0020 9142     		cmp	r1, r2
 5916 0022 15D8     		bhi	.L505
1267:application-library/usb-cdc-device.c ****         {
 5917              		.loc 1 1267 0
 5918 0024 90F8AA32 		ldrb	r3, [r0, #682]	@ zero_extendqisi2
 5919              	.LVL760:
 5920 0028 03F01F03 		and	r3, r3, #31
 5921 002c 022B     		cmp	r3, #2
 5922 002e 04D1     		bne	.L495
ARM GAS  /tmp/ccgHoJ4C.s 			page 180


1280:application-library/usb-cdc-device.c ****             break;
 5923              		.loc 1 1280 0
 5924 0030 90F8AE12 		ldrb	r1, [r0, #686]	@ zero_extendqisi2
 5925 0034 FFF7FEFF 		bl	USBD_CoreFindEP
 5926              	.LVL761:
 5927 0038 0546     		mov	r5, r0
 5928              	.LVL762:
 5929              	.L495:
1289:application-library/usb-cdc-device.c ****         {
 5930              		.loc 1 1289 0
 5931 003a 25B9     		cbnz	r5, .L497
1292:application-library/usb-cdc-device.c ****           {
 5932              		.loc 1 1292 0
 5933 003c 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 5934 0040 DBB2     		uxtb	r3, r3
 5935 0042 032B     		cmp	r3, #3
 5936 0044 0FD0     		beq	.L506
 5937              	.LVL763:
 5938              	.L497:
1302:application-library/usb-cdc-device.c ****       }
 5939              		.loc 1 1302 0
 5940 0046 2046     		mov	r0, r4
 5941 0048 FFF7FEFF 		bl	USBD_CtlSendStatus
 5942              	.LVL764:
1332:application-library/usb-cdc-device.c **** }
 5943              		.loc 1 1332 0
 5944 004c 0020     		movs	r0, #0
 5945 004e 38BD     		pop	{r3, r4, r5, pc}
 5946              	.LVL765:
 5947              	.L505:
1260:application-library/usb-cdc-device.c **** 
 5948              		.loc 1 1260 0
 5949 0050 891A     		subs	r1, r1, r2
 5950 0052 C0F85C11 		str	r1, [r0, #348]
1262:application-library/usb-cdc-device.c ****       }
 5951              		.loc 1 1262 0
 5952 0056 8A42     		cmp	r2, r1
 5953 0058 28BF     		it	cs
 5954 005a 0A46     		movcs	r2, r1
 5955 005c 1946     		mov	r1, r3
 5956 005e FFF7FEFF 		bl	USBD_CtlContinueRx
 5957              	.LVL766:
1332:application-library/usb-cdc-device.c **** }
 5958              		.loc 1 1332 0
 5959 0062 0020     		movs	r0, #0
 5960 0064 38BD     		pop	{r3, r4, r5, pc}
 5961              	.LVL767:
 5962              	.L506:
1294:application-library/usb-cdc-device.c ****             {
 5963              		.loc 1 1294 0
 5964 0066 05F1AE03 		add	r3, r5, #174
 5965 006a 54F82330 		ldr	r3, [r4, r3, lsl #2]
 5966 006e 1B69     		ldr	r3, [r3, #16]
 5967 0070 002B     		cmp	r3, #0
 5968 0072 E8D0     		beq	.L497
1296:application-library/usb-cdc-device.c ****               pdev->pClass[idx]->EP0_RxReady(pdev);
 5969              		.loc 1 1296 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 181


 5970 0074 C4F8D452 		str	r5, [r4, #724]
1297:application-library/usb-cdc-device.c ****             }
 5971              		.loc 1 1297 0
 5972 0078 AE35     		adds	r5, r5, #174
 5973              	.LVL768:
 5974 007a 54F82530 		ldr	r3, [r4, r5, lsl #2]
 5975 007e 1B69     		ldr	r3, [r3, #16]
 5976 0080 2046     		mov	r0, r4
 5977 0082 9847     		blx	r3
 5978              	.LVL769:
 5979 0084 DFE7     		b	.L497
 5980              	.LVL770:
 5981              	.L492:
1312:application-library/usb-cdc-device.c **** 
 5982              		.loc 1 1312 0
 5983 0086 01F07F01 		and	r1, r1, #127
 5984              	.LVL771:
 5985 008a FFF7FEFF 		bl	USBD_CoreFindEP
 5986              	.LVL772:
1314:application-library/usb-cdc-device.c ****     {
 5987              		.loc 1 1314 0
 5988 008e 0246     		mov	r2, r0
 5989 0090 C0B9     		cbnz	r0, .L500
1317:application-library/usb-cdc-device.c ****       {
 5990              		.loc 1 1317 0
 5991 0092 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 5992 0096 DBB2     		uxtb	r3, r3
 5993 0098 032B     		cmp	r3, #3
 5994 009a 01D0     		beq	.L507
1249:application-library/usb-cdc-device.c ****   uint8_t idx;
 5995              		.loc 1 1249 0
 5996 009c 0020     		movs	r0, #0
 5997              	.LVL773:
 5998 009e 38BD     		pop	{r3, r4, r5, pc}
 5999              	.LVL774:
 6000              	.L507:
1319:application-library/usb-cdc-device.c ****         {
 6001              		.loc 1 1319 0
 6002 00a0 00F1AE03 		add	r3, r0, #174
 6003 00a4 54F82330 		ldr	r3, [r4, r3, lsl #2]
 6004 00a8 9B69     		ldr	r3, [r3, #24]
 6005 00aa 4BB1     		cbz	r3, .L502
1321:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataOut(pdev, epnum);
 6006              		.loc 1 1321 0
 6007 00ac C4F8D402 		str	r0, [r4, #724]
1322:application-library/usb-cdc-device.c ****         }
 6008              		.loc 1 1322 0
 6009 00b0 AE32     		adds	r2, r2, #174
 6010 00b2 54F82230 		ldr	r3, [r4, r2, lsl #2]
 6011 00b6 9B69     		ldr	r3, [r3, #24]
 6012 00b8 2946     		mov	r1, r5
 6013 00ba 2046     		mov	r0, r4
 6014              	.LVL775:
 6015 00bc 9847     		blx	r3
 6016              	.LVL776:
 6017 00be 38BD     		pop	{r3, r4, r5, pc}
 6018              	.LVL777:
ARM GAS  /tmp/ccgHoJ4C.s 			page 182


 6019              	.L502:
1249:application-library/usb-cdc-device.c ****   uint8_t idx;
 6020              		.loc 1 1249 0
 6021 00c0 0020     		movs	r0, #0
 6022              	.LVL778:
 6023 00c2 38BD     		pop	{r3, r4, r5, pc}
 6024              	.LVL779:
 6025              	.L500:
1332:application-library/usb-cdc-device.c **** }
 6026              		.loc 1 1332 0
 6027 00c4 0020     		movs	r0, #0
 6028              	.LVL780:
1333:application-library/usb-cdc-device.c **** 
 6029              		.loc 1 1333 0
 6030 00c6 38BD     		pop	{r3, r4, r5, pc}
 6031              		.cfi_endproc
 6032              	.LFE163:
 6034              		.section	.text.HAL_PCD_DataOutStageCallback,"ax",%progbits
 6035              		.align	1
 6036              		.global	HAL_PCD_DataOutStageCallback
 6037              		.syntax unified
 6038              		.thumb
 6039              		.thumb_func
 6040              		.fpu fpv4-sp-d16
 6042              	HAL_PCD_DataOutStageCallback:
 6043              	.LFB201:
2788:application-library/usb-cdc-device.c ****   USBD_LL_DataOutStage((USBD_HandleTypeDef*)hpcd->pData, epnum, hpcd->OUT_ep[epnum].xfer_buff);
 6044              		.loc 1 2788 0
 6045              		.cfi_startproc
 6046              		@ args = 0, pretend = 0, frame = 0
 6047              		@ frame_needed = 0, uses_anonymous_args = 0
 6048              	.LVL781:
 6049 0000 08B5     		push	{r3, lr}
 6050              	.LCFI91:
 6051              		.cfi_def_cfa_offset 8
 6052              		.cfi_offset 3, -8
 6053              		.cfi_offset 14, -4
2789:application-library/usb-cdc-device.c **** }
 6054              		.loc 1 2789 0
 6055 0002 01EBC102 		add	r2, r1, r1, lsl #3
 6056 0006 9300     		lsls	r3, r2, #2
 6057 0008 0344     		add	r3, r3, r0
 6058 000a D3F88C22 		ldr	r2, [r3, #652]
 6059 000e D0F80805 		ldr	r0, [r0, #1288]
 6060              	.LVL782:
 6061 0012 FFF7FEFF 		bl	USBD_LL_DataOutStage
 6062              	.LVL783:
 6063 0016 08BD     		pop	{r3, pc}
 6064              		.cfi_endproc
 6065              	.LFE201:
 6067              		.section	.text.USBD_CtlReceiveStatus,"ax",%progbits
 6068              		.align	1
 6069              		.global	USBD_CtlReceiveStatus
 6070              		.syntax unified
 6071              		.thumb
 6072              		.thumb_func
 6073              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccgHoJ4C.s 			page 183


 6075              	USBD_CtlReceiveStatus:
 6076              	.LFB196:
2668:application-library/usb-cdc-device.c ****   /* Set EP0 State */
 6077              		.loc 1 2668 0
 6078              		.cfi_startproc
 6079              		@ args = 0, pretend = 0, frame = 0
 6080              		@ frame_needed = 0, uses_anonymous_args = 0
 6081              	.LVL784:
 6082 0000 08B5     		push	{r3, lr}
 6083              	.LCFI92:
 6084              		.cfi_def_cfa_offset 8
 6085              		.cfi_offset 3, -8
 6086              		.cfi_offset 14, -4
2670:application-library/usb-cdc-device.c **** 
 6087              		.loc 1 2670 0
 6088 0002 0522     		movs	r2, #5
 6089 0004 C0F89422 		str	r2, [r0, #660]
2673:application-library/usb-cdc-device.c **** 
 6090              		.loc 1 2673 0
 6091 0008 0023     		movs	r3, #0
 6092 000a 1A46     		mov	r2, r3
 6093 000c 1946     		mov	r1, r3
 6094 000e FFF7FEFF 		bl	USBD_LL_PrepareReceive
 6095              	.LVL785:
2676:application-library/usb-cdc-device.c **** 
 6096              		.loc 1 2676 0
 6097 0012 0020     		movs	r0, #0
 6098 0014 08BD     		pop	{r3, pc}
 6099              		.cfi_endproc
 6100              	.LFE196:
 6102              		.section	.text.USBD_LL_DataInStage,"ax",%progbits
 6103              		.align	1
 6104              		.global	USBD_LL_DataInStage
 6105              		.syntax unified
 6106              		.thumb
 6107              		.thumb_func
 6108              		.fpu fpv4-sp-d16
 6110              	USBD_LL_DataInStage:
 6111              	.LFB164:
1344:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 6112              		.loc 1 1344 0
 6113              		.cfi_startproc
 6114              		@ args = 0, pretend = 0, frame = 0
 6115              		@ frame_needed = 0, uses_anonymous_args = 0
 6116              	.LVL786:
 6117 0000 38B5     		push	{r3, r4, r5, lr}
 6118              	.LCFI93:
 6119              		.cfi_def_cfa_offset 16
 6120              		.cfi_offset 3, -16
 6121              		.cfi_offset 4, -12
 6122              		.cfi_offset 5, -8
 6123              		.cfi_offset 14, -4
 6124 0002 0446     		mov	r4, r0
1349:application-library/usb-cdc-device.c ****   {
 6125              		.loc 1 1349 0
 6126 0004 0029     		cmp	r1, #0
 6127 0006 4BD1     		bne	.L513
ARM GAS  /tmp/ccgHoJ4C.s 			page 184


 6128 0008 1346     		mov	r3, r2
 6129              	.LVL787:
1353:application-library/usb-cdc-device.c ****     {
 6130              		.loc 1 1353 0
 6131 000a D0F89422 		ldr	r2, [r0, #660]
 6132              	.LVL788:
 6133 000e 022A     		cmp	r2, #2
 6134 0010 07D0     		beq	.L524
 6135              	.LVL789:
 6136              	.L514:
1393:application-library/usb-cdc-device.c ****     {
 6137              		.loc 1 1393 0
 6138 0012 94F8A032 		ldrb	r3, [r4, #672]	@ zero_extendqisi2
 6139 0016 002B     		cmp	r3, #0
 6140 0018 60D0     		beq	.L519
1396:application-library/usb-cdc-device.c ****     }
 6141              		.loc 1 1396 0
 6142 001a 0020     		movs	r0, #0
 6143 001c 84F8A002 		strb	r0, [r4, #672]
 6144 0020 38BD     		pop	{r3, r4, r5, pc}
 6145              	.LVL790:
 6146              	.L524:
1355:application-library/usb-cdc-device.c ****       {
 6147              		.loc 1 1355 0
 6148 0022 C269     		ldr	r2, [r0, #28]
 6149 0024 016A     		ldr	r1, [r0, #32]
 6150              	.LVL791:
 6151 0026 8A42     		cmp	r2, r1
 6152 0028 0ED8     		bhi	.L525
1367:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 6153              		.loc 1 1367 0
 6154 002a 8A42     		cmp	r2, r1
 6155 002c 18D0     		beq	.L526
 6156              	.LVL792:
 6157              	.L516:
1379:application-library/usb-cdc-device.c ****           {
 6158              		.loc 1 1379 0
 6159 002e 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 6160 0032 DBB2     		uxtb	r3, r3
 6161 0034 032B     		cmp	r3, #3
 6162 0036 27D0     		beq	.L527
 6163              	.LVL793:
 6164              	.L517:
1387:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(pdev);
 6165              		.loc 1 1387 0
 6166 0038 8021     		movs	r1, #128
 6167 003a 2046     		mov	r0, r4
 6168 003c FFF7FEFF 		bl	USBD_LL_StallEP
 6169              	.LVL794:
1388:application-library/usb-cdc-device.c ****         }
 6170              		.loc 1 1388 0
 6171 0040 2046     		mov	r0, r4
 6172 0042 FFF7FEFF 		bl	USBD_CtlReceiveStatus
 6173              	.LVL795:
 6174 0046 E4E7     		b	.L514
 6175              	.LVL796:
 6176              	.L525:
ARM GAS  /tmp/ccgHoJ4C.s 			page 185


1357:application-library/usb-cdc-device.c **** 
 6177              		.loc 1 1357 0
 6178 0048 521A     		subs	r2, r2, r1
 6179 004a C261     		str	r2, [r0, #28]
1359:application-library/usb-cdc-device.c **** 
 6180              		.loc 1 1359 0
 6181 004c 1946     		mov	r1, r3
 6182 004e FFF7FEFF 		bl	USBD_CtlContinueSendData
 6183              	.LVL797:
1362:application-library/usb-cdc-device.c ****       }
 6184              		.loc 1 1362 0
 6185 0052 0023     		movs	r3, #0
 6186 0054 1A46     		mov	r2, r3
 6187 0056 1946     		mov	r1, r3
 6188 0058 2046     		mov	r0, r4
 6189 005a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 6190              	.LVL798:
 6191 005e D8E7     		b	.L514
 6192              	.LVL799:
 6193              	.L526:
1368:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
 6194              		.loc 1 1368 0 discriminator 1
 6195 0060 8369     		ldr	r3, [r0, #24]
 6196              	.LVL800:
1367:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 6197              		.loc 1 1367 0 discriminator 1
 6198 0062 9942     		cmp	r1, r3
 6199 0064 E3D8     		bhi	.L516
1369:application-library/usb-cdc-device.c ****         {
 6200              		.loc 1 1369 0
 6201 0066 D0F89822 		ldr	r2, [r0, #664]
1368:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
 6202              		.loc 1 1368 0
 6203 006a 9342     		cmp	r3, r2
 6204 006c DFD2     		bcs	.L516
1371:application-library/usb-cdc-device.c ****           pdev->ep0_data_len = 0U;
 6205              		.loc 1 1371 0
 6206 006e 0022     		movs	r2, #0
 6207 0070 1146     		mov	r1, r2
 6208 0072 FFF7FEFF 		bl	USBD_CtlContinueSendData
 6209              	.LVL801:
1372:application-library/usb-cdc-device.c **** 
 6210              		.loc 1 1372 0
 6211 0076 0021     		movs	r1, #0
 6212 0078 C4F89812 		str	r1, [r4, #664]
1375:application-library/usb-cdc-device.c ****         }
 6213              		.loc 1 1375 0
 6214 007c 0B46     		mov	r3, r1
 6215 007e 0A46     		mov	r2, r1
 6216 0080 2046     		mov	r0, r4
 6217 0082 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 6218              	.LVL802:
 6219 0086 C4E7     		b	.L514
 6220              	.LVL803:
 6221              	.L527:
1381:application-library/usb-cdc-device.c ****             {
 6222              		.loc 1 1381 0
ARM GAS  /tmp/ccgHoJ4C.s 			page 186


 6223 0088 D4F8B832 		ldr	r3, [r4, #696]
 6224 008c DA68     		ldr	r2, [r3, #12]
 6225 008e 002A     		cmp	r2, #0
 6226 0090 D2D0     		beq	.L517
1383:application-library/usb-cdc-device.c ****               pdev->pClass[0]->EP0_TxSent(pdev);
 6227              		.loc 1 1383 0
 6228 0092 0022     		movs	r2, #0
 6229 0094 C4F8D422 		str	r2, [r4, #724]
1384:application-library/usb-cdc-device.c ****             }
 6230              		.loc 1 1384 0
 6231 0098 DB68     		ldr	r3, [r3, #12]
 6232 009a 2046     		mov	r0, r4
 6233              	.LVL804:
 6234 009c 9847     		blx	r3
 6235              	.LVL805:
 6236 009e CBE7     		b	.L517
 6237              	.LVL806:
 6238              	.L513:
 6239 00a0 0D46     		mov	r5, r1
1402:application-library/usb-cdc-device.c **** 
 6240              		.loc 1 1402 0
 6241 00a2 41F08001 		orr	r1, r1, #128
 6242              	.LVL807:
 6243 00a6 FFF7FEFF 		bl	USBD_CoreFindEP
 6244              	.LVL808:
1404:application-library/usb-cdc-device.c ****     {
 6245              		.loc 1 1404 0
 6246 00aa 0246     		mov	r2, r0
 6247 00ac C0B9     		cbnz	r0, .L520
1407:application-library/usb-cdc-device.c ****       {
 6248              		.loc 1 1407 0
 6249 00ae 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 6250 00b2 DBB2     		uxtb	r3, r3
 6251 00b4 032B     		cmp	r3, #3
 6252 00b6 01D0     		beq	.L528
1423:application-library/usb-cdc-device.c **** }
 6253              		.loc 1 1423 0
 6254 00b8 0020     		movs	r0, #0
 6255              	.LVL809:
 6256 00ba 38BD     		pop	{r3, r4, r5, pc}
 6257              	.LVL810:
 6258              	.L528:
1409:application-library/usb-cdc-device.c ****         {
 6259              		.loc 1 1409 0
 6260 00bc 00F1AE03 		add	r3, r0, #174
 6261 00c0 54F82330 		ldr	r3, [r4, r3, lsl #2]
 6262 00c4 5B69     		ldr	r3, [r3, #20]
 6263 00c6 6BB1     		cbz	r3, .L522
1411:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataIn(pdev, epnum);
 6264              		.loc 1 1411 0
 6265 00c8 C4F8D402 		str	r0, [r4, #724]
1412:application-library/usb-cdc-device.c **** 
 6266              		.loc 1 1412 0
 6267 00cc AE32     		adds	r2, r2, #174
 6268 00ce 54F82230 		ldr	r3, [r4, r2, lsl #2]
 6269 00d2 5B69     		ldr	r3, [r3, #20]
 6270 00d4 2946     		mov	r1, r5
ARM GAS  /tmp/ccgHoJ4C.s 			page 187


 6271 00d6 2046     		mov	r0, r4
 6272              	.LVL811:
 6273 00d8 9847     		blx	r3
 6274              	.LVL812:
 6275 00da 38BD     		pop	{r3, r4, r5, pc}
 6276              	.LVL813:
 6277              	.L519:
1423:application-library/usb-cdc-device.c **** }
 6278              		.loc 1 1423 0
 6279 00dc 0020     		movs	r0, #0
 6280 00de 38BD     		pop	{r3, r4, r5, pc}
 6281              	.LVL814:
 6282              	.L520:
 6283 00e0 0020     		movs	r0, #0
 6284              	.LVL815:
 6285 00e2 38BD     		pop	{r3, r4, r5, pc}
 6286              	.LVL816:
 6287              	.L522:
 6288 00e4 0020     		movs	r0, #0
 6289              	.LVL817:
1424:application-library/usb-cdc-device.c **** 
 6290              		.loc 1 1424 0
 6291 00e6 38BD     		pop	{r3, r4, r5, pc}
 6292              		.cfi_endproc
 6293              	.LFE164:
 6295              		.section	.text.HAL_PCD_DataInStageCallback,"ax",%progbits
 6296              		.align	1
 6297              		.global	HAL_PCD_DataInStageCallback
 6298              		.syntax unified
 6299              		.thumb
 6300              		.thumb_func
 6301              		.fpu fpv4-sp-d16
 6303              	HAL_PCD_DataInStageCallback:
 6304              	.LFB202:
2803:application-library/usb-cdc-device.c ****   USBD_LL_DataInStage((USBD_HandleTypeDef*)hpcd->pData, epnum, hpcd->IN_ep[epnum].xfer_buff);
 6305              		.loc 1 2803 0
 6306              		.cfi_startproc
 6307              		@ args = 0, pretend = 0, frame = 0
 6308              		@ frame_needed = 0, uses_anonymous_args = 0
 6309              	.LVL818:
 6310 0000 08B5     		push	{r3, lr}
 6311              	.LCFI94:
 6312              		.cfi_def_cfa_offset 8
 6313              		.cfi_offset 3, -8
 6314              		.cfi_offset 14, -4
2804:application-library/usb-cdc-device.c **** }
 6315              		.loc 1 2804 0
 6316 0002 01EBC102 		add	r2, r1, r1, lsl #3
 6317 0006 9300     		lsls	r3, r2, #2
 6318 0008 0344     		add	r3, r3, r0
 6319 000a DA6C     		ldr	r2, [r3, #76]
 6320 000c D0F80805 		ldr	r0, [r0, #1288]
 6321              	.LVL819:
 6322 0010 FFF7FEFF 		bl	USBD_LL_DataInStage
 6323              	.LVL820:
 6324 0014 08BD     		pop	{r3, pc}
 6325              		.cfi_endproc
ARM GAS  /tmp/ccgHoJ4C.s 			page 188


 6326              	.LFE202:
 6328              		.comm	hpcd_USB_OTG_FS,1292,4
 6329              		.global	USBD_Interface_fops_FS
 6330              		.global	USBD_CDC_CfgDesc
 6331              		.global	USBD_CDC
 6332              		.global	USBD_CDC_DeviceQualifierDesc
 6333              		.global	p_usbd_handle
 6334              		.comm	hUsbDeviceFS,732,4
 6335              		.comm	UserTxBufferFS,2048,4
 6336              		.comm	UserRxBufferFS,2048,4
 6337              		.section	.bss.mem.10296,"aw",%nobits
 6338              		.align	2
 6339              		.set	.LANCHOR5,. + 0
 6342              	mem.10296:
 6343 0000 00000000 		.space	544
 6343      00000000 
 6343      00000000 
 6343      00000000 
 6343      00000000 
 6344              		.section	.data.USBD_CDC,"aw",%progbits
 6345              		.align	2
 6346              		.set	.LANCHOR2,. + 0
 6349              	USBD_CDC:
 6350 0000 00000000 		.word	USBD_CDC_Init
 6351 0004 00000000 		.word	USBD_CDC_DeInit
 6352 0008 00000000 		.word	USBD_CDC_Setup
 6353 000c 00000000 		.word	0
 6354 0010 00000000 		.word	USBD_CDC_EP0_RxReady
 6355 0014 00000000 		.word	USBD_CDC_DataIn
 6356 0018 00000000 		.word	USBD_CDC_DataOut
 6357 001c 00000000 		.word	0
 6358 0020 00000000 		.word	0
 6359 0024 00000000 		.word	0
 6360 0028 00000000 		.word	USBD_CDC_GetHSCfgDesc
 6361 002c 00000000 		.word	USBD_CDC_GetFSCfgDesc
 6362 0030 00000000 		.word	USBD_CDC_GetOtherSpeedCfgDesc
 6363 0034 00000000 		.word	USBD_CDC_GetDeviceQualifierDescriptor
 6364              		.section	.data.USBD_CDC_CfgDesc,"aw",%progbits
 6365              		.align	2
 6366              		.set	.LANCHOR4,. + 0
 6369              	USBD_CDC_CfgDesc:
 6370 0000 09       		.byte	9
 6371 0001 02       		.byte	2
 6372 0002 43       		.byte	67
 6373 0003 00       		.byte	0
 6374 0004 02       		.byte	2
 6375 0005 01       		.byte	1
 6376 0006 00       		.byte	0
 6377 0007 C0       		.byte	-64
 6378 0008 32       		.byte	50
 6379 0009 09       		.byte	9
 6380 000a 04       		.byte	4
 6381 000b 00       		.byte	0
 6382 000c 00       		.byte	0
 6383 000d 01       		.byte	1
 6384 000e 02       		.byte	2
 6385 000f 02       		.byte	2
ARM GAS  /tmp/ccgHoJ4C.s 			page 189


 6386 0010 01       		.byte	1
 6387 0011 00       		.byte	0
 6388 0012 05       		.byte	5
 6389 0013 24       		.byte	36
 6390 0014 00       		.byte	0
 6391 0015 10       		.byte	16
 6392 0016 01       		.byte	1
 6393 0017 05       		.byte	5
 6394 0018 24       		.byte	36
 6395 0019 01       		.byte	1
 6396 001a 00       		.byte	0
 6397 001b 01       		.byte	1
 6398 001c 04       		.byte	4
 6399 001d 24       		.byte	36
 6400 001e 02       		.byte	2
 6401 001f 02       		.byte	2
 6402 0020 05       		.byte	5
 6403 0021 24       		.byte	36
 6404 0022 06       		.byte	6
 6405 0023 00       		.byte	0
 6406 0024 01       		.byte	1
 6407 0025 07       		.byte	7
 6408 0026 05       		.byte	5
 6409 0027 82       		.byte	-126
 6410 0028 03       		.byte	3
 6411 0029 08       		.byte	8
 6412 002a 00       		.byte	0
 6413 002b 10       		.byte	16
 6414 002c 09       		.byte	9
 6415 002d 04       		.byte	4
 6416 002e 01       		.byte	1
 6417 002f 00       		.byte	0
 6418 0030 02       		.byte	2
 6419 0031 0A       		.byte	10
 6420 0032 00       		.byte	0
 6421 0033 00       		.byte	0
 6422 0034 00       		.byte	0
 6423 0035 07       		.byte	7
 6424 0036 05       		.byte	5
 6425 0037 01       		.byte	1
 6426 0038 02       		.byte	2
 6427 0039 40       		.byte	64
 6428 003a 00       		.byte	0
 6429 003b 00       		.byte	0
 6430 003c 07       		.byte	7
 6431 003d 05       		.byte	5
 6432 003e 81       		.byte	-127
 6433 003f 02       		.byte	2
 6434 0040 40       		.byte	64
 6435 0041 00       		.byte	0
 6436 0042 00       		.byte	0
 6437              		.section	.data.USBD_CDC_DeviceQualifierDesc,"aw",%progbits
 6438              		.align	2
 6439              		.set	.LANCHOR0,. + 0
 6442              	USBD_CDC_DeviceQualifierDesc:
 6443 0000 0A       		.byte	10
 6444 0001 06       		.byte	6
ARM GAS  /tmp/ccgHoJ4C.s 			page 190


 6445 0002 00       		.byte	0
 6446 0003 02       		.byte	2
 6447 0004 00       		.byte	0
 6448 0005 00       		.byte	0
 6449 0006 00       		.byte	0
 6450 0007 40       		.byte	64
 6451 0008 01       		.byte	1
 6452 0009 00       		.byte	0
 6453              		.section	.data.USBD_Interface_fops_FS,"aw",%progbits
 6454              		.align	2
 6455              		.set	.LANCHOR3,. + 0
 6458              	USBD_Interface_fops_FS:
 6459 0000 00000000 		.word	CDC_Init_FS
 6460 0004 00000000 		.word	CDC_DeInit_FS
 6461 0008 00000000 		.word	CDC_Control_FS
 6462 000c 00000000 		.word	CDC_Receive_FS
 6463 0010 00000000 		.word	CDC_TransmitCplt_FS
 6464              		.section	.data.p_usbd_handle,"aw",%progbits
 6465              		.align	2
 6466              		.set	.LANCHOR1,. + 0
 6469              	p_usbd_handle:
 6470 0000 00000000 		.word	hUsbDeviceFS
 6471              		.section	.rodata.CDC_Receive_FS.str1.4,"aMS",%progbits,1
 6472              		.align	2
 6473              	.LC0:
 6474 0000 20656368 		.ascii	" echoed.\012\000"
 6474      6F65642E 
 6474      0A00
 6475              		.text
 6476              	.Letext0:
 6477              		.file 3 "/usr/include/newlib/machine/_default_types.h"
 6478              		.file 4 "/usr/include/newlib/sys/_stdint.h"
 6479              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 6480              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6481              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 6482              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 6483              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6484              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 6485              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 6486              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd.h"
 6487              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 6488              		.file 14 "/usr/include/newlib/sys/lock.h"
 6489              		.file 15 "/usr/include/newlib/sys/_types.h"
 6490              		.file 16 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 6491              		.file 17 "/usr/include/newlib/sys/reent.h"
 6492              		.file 18 "/usr/include/newlib/stdlib.h"
 6493              		.file 19 "USB_DEVICE/App/usbd_desc.h"
 6494              		.file 20 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd_ex.h"
 6495              		.file 21 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_cortex.h"
 6496              		.file 22 "<built-in>"
ARM GAS  /tmp/ccgHoJ4C.s 			page 191


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb-cdc-device.c
     /tmp/ccgHoJ4C.s:18     .text.CDC_DeInit_FS:0000000000000000 $t
     /tmp/ccgHoJ4C.s:25     .text.CDC_DeInit_FS:0000000000000000 CDC_DeInit_FS
     /tmp/ccgHoJ4C.s:40     .text.CDC_Control_FS:0000000000000000 $t
     /tmp/ccgHoJ4C.s:47     .text.CDC_Control_FS:0000000000000000 CDC_Control_FS
     /tmp/ccgHoJ4C.s:63     .text.CDC_TransmitCplt_FS:0000000000000000 $t
     /tmp/ccgHoJ4C.s:70     .text.CDC_TransmitCplt_FS:0000000000000000 CDC_TransmitCplt_FS
     /tmp/ccgHoJ4C.s:86     .text.USBD_CDC_EP0_RxReady:0000000000000000 $t
     /tmp/ccgHoJ4C.s:93     .text.USBD_CDC_EP0_RxReady:0000000000000000 USBD_CDC_EP0_RxReady
     /tmp/ccgHoJ4C.s:153    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 $t
     /tmp/ccgHoJ4C.s:160    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 USBD_CDC_GetDeviceQualifierDescriptor
     /tmp/ccgHoJ4C.s:178    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000008 $d
     /tmp/ccgHoJ4C.s:183    .text.usb_device_init:0000000000000000 $t
     /tmp/ccgHoJ4C.s:190    .text.usb_device_init:0000000000000000 usb_device_init
     /tmp/ccgHoJ4C.s:303    .text.usb_device_init:00000000000000a0 $d
                            *COM*:000000000000050c hpcd_USB_OTG_FS
     /tmp/ccgHoJ4C.s:312    .text.USBD_CDC_RegisterInterface:0000000000000000 $t
     /tmp/ccgHoJ4C.s:319    .text.USBD_CDC_RegisterInterface:0000000000000000 USBD_CDC_RegisterInterface
     /tmp/ccgHoJ4C.s:349    .text.USBD_CDC_SetTxBuffer:0000000000000000 $t
     /tmp/ccgHoJ4C.s:356    .text.USBD_CDC_SetTxBuffer:0000000000000000 USBD_CDC_SetTxBuffer
     /tmp/ccgHoJ4C.s:390    .text.USBD_CDC_SetRxBuffer:0000000000000000 $t
     /tmp/ccgHoJ4C.s:397    .text.USBD_CDC_SetRxBuffer:0000000000000000 USBD_CDC_SetRxBuffer
     /tmp/ccgHoJ4C.s:429    .text.CDC_Init_FS:0000000000000000 $t
     /tmp/ccgHoJ4C.s:436    .text.CDC_Init_FS:0000000000000000 CDC_Init_FS
     /tmp/ccgHoJ4C.s:465    .text.CDC_Init_FS:000000000000001c $d
                            *COM*:00000000000002dc hUsbDeviceFS
                            *COM*:0000000000000800 UserTxBufferFS
                            *COM*:0000000000000800 UserRxBufferFS
     /tmp/ccgHoJ4C.s:472    .text.USBD_RegisterClass:0000000000000000 $t
     /tmp/ccgHoJ4C.s:479    .text.USBD_RegisterClass:0000000000000000 USBD_RegisterClass
     /tmp/ccgHoJ4C.s:542    .text.USBD_Start:0000000000000000 $t
     /tmp/ccgHoJ4C.s:549    .text.USBD_Start:0000000000000000 USBD_Start
     /tmp/ccgHoJ4C.s:593    .text.USBD_RunTestMode:0000000000000000 $t
     /tmp/ccgHoJ4C.s:600    .text.USBD_RunTestMode:0000000000000000 USBD_RunTestMode
     /tmp/ccgHoJ4C.s:616    .text.USBD_SetClassConfig:0000000000000000 $t
     /tmp/ccgHoJ4C.s:623    .text.USBD_SetClassConfig:0000000000000000 USBD_SetClassConfig
     /tmp/ccgHoJ4C.s:655    .text.USBD_ClrClassConfig:0000000000000000 $t
     /tmp/ccgHoJ4C.s:662    .text.USBD_ClrClassConfig:0000000000000000 USBD_ClrClassConfig
     /tmp/ccgHoJ4C.s:691    .text.USBD_LL_SetSpeed:0000000000000000 $t
     /tmp/ccgHoJ4C.s:698    .text.USBD_LL_SetSpeed:0000000000000000 USBD_LL_SetSpeed
     /tmp/ccgHoJ4C.s:713    .text.USBD_LL_Suspend:0000000000000000 $t
     /tmp/ccgHoJ4C.s:720    .text.USBD_LL_Suspend:0000000000000000 USBD_LL_Suspend
     /tmp/ccgHoJ4C.s:743    .text.USBD_LL_Resume:0000000000000000 $t
     /tmp/ccgHoJ4C.s:750    .text.USBD_LL_Resume:0000000000000000 USBD_LL_Resume
     /tmp/ccgHoJ4C.s:779    .text.USBD_LL_SOF:0000000000000000 $t
     /tmp/ccgHoJ4C.s:786    .text.USBD_LL_SOF:0000000000000000 USBD_LL_SOF
     /tmp/ccgHoJ4C.s:826    .text.USBD_LL_IsoINIncomplete:0000000000000000 $t
     /tmp/ccgHoJ4C.s:833    .text.USBD_LL_IsoINIncomplete:0000000000000000 USBD_LL_IsoINIncomplete
     /tmp/ccgHoJ4C.s:887    .text.USBD_LL_IsoOUTIncomplete:0000000000000000 $t
     /tmp/ccgHoJ4C.s:894    .text.USBD_LL_IsoOUTIncomplete:0000000000000000 USBD_LL_IsoOUTIncomplete
     /tmp/ccgHoJ4C.s:933    .text.USBD_LL_DevConnected:0000000000000000 $t
     /tmp/ccgHoJ4C.s:940    .text.USBD_LL_DevConnected:0000000000000000 USBD_LL_DevConnected
     /tmp/ccgHoJ4C.s:956    .text.USBD_LL_DevDisconnected:0000000000000000 $t
     /tmp/ccgHoJ4C.s:963    .text.USBD_LL_DevDisconnected:0000000000000000 USBD_LL_DevDisconnected
     /tmp/ccgHoJ4C.s:1006   .text.USBD_CoreFindEP:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1013   .text.USBD_CoreFindEP:0000000000000000 USBD_CoreFindEP
ARM GAS  /tmp/ccgHoJ4C.s 			page 192


     /tmp/ccgHoJ4C.s:1029   .text.USBD_GetNextDesc:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1036   .text.USBD_GetNextDesc:0000000000000000 USBD_GetNextDesc
     /tmp/ccgHoJ4C.s:1060   .text.USBD_GetEpDesc:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1067   .text.USBD_GetEpDesc:0000000000000000 USBD_GetEpDesc
     /tmp/ccgHoJ4C.s:1140   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1147   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 USBD_CDC_GetFSCfgDesc
     /tmp/ccgHoJ4C.s:1220   .text.USBD_CDC_GetFSCfgDesc:0000000000000044 $d
     /tmp/ccgHoJ4C.s:1225   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1232   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 USBD_CDC_GetHSCfgDesc
     /tmp/ccgHoJ4C.s:1305   .text.USBD_CDC_GetHSCfgDesc:0000000000000044 $d
     /tmp/ccgHoJ4C.s:1310   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1317   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 USBD_CDC_GetOtherSpeedCfgDesc
     /tmp/ccgHoJ4C.s:1390   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000044 $d
     /tmp/ccgHoJ4C.s:1395   .text.USBD_ParseSetupRequest:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1402   .text.USBD_ParseSetupRequest:0000000000000000 USBD_ParseSetupRequest
     /tmp/ccgHoJ4C.s:1472   .text.USBD_GetLen:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1479   .text.USBD_GetLen:0000000000000000 USBD_GetLen
     /tmp/ccgHoJ4C.s:1514   .text.USBD_GetString:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1521   .text.USBD_GetString:0000000000000000 USBD_GetString
     /tmp/ccgHoJ4C.s:1596   .text.HAL_PCD_MspInit:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1603   .text.HAL_PCD_MspInit:0000000000000000 HAL_PCD_MspInit
     /tmp/ccgHoJ4C.s:1703   .text.HAL_PCD_MspInit:000000000000007c $d
     /tmp/ccgHoJ4C.s:1709   .text.HAL_PCD_MspDeInit:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1716   .text.HAL_PCD_MspDeInit:0000000000000000 HAL_PCD_MspDeInit
     /tmp/ccgHoJ4C.s:1757   .text.HAL_PCD_MspDeInit:0000000000000028 $d
     /tmp/ccgHoJ4C.s:1763   .text.HAL_PCD_SOFCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1770   .text.HAL_PCD_SOFCallback:0000000000000000 HAL_PCD_SOFCallback
     /tmp/ccgHoJ4C.s:1792   .text.HAL_PCD_SuspendCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1799   .text.HAL_PCD_SuspendCallback:0000000000000000 HAL_PCD_SuspendCallback
     /tmp/ccgHoJ4C.s:1836   .text.HAL_PCD_SuspendCallback:000000000000002c $d
     /tmp/ccgHoJ4C.s:1841   .text.HAL_PCD_ResumeCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1848   .text.HAL_PCD_ResumeCallback:0000000000000000 HAL_PCD_ResumeCallback
     /tmp/ccgHoJ4C.s:1870   .text.HAL_PCD_ISOOUTIncompleteCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1877   .text.HAL_PCD_ISOOUTIncompleteCallback:0000000000000000 HAL_PCD_ISOOUTIncompleteCallback
     /tmp/ccgHoJ4C.s:1899   .text.HAL_PCD_ISOINIncompleteCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1906   .text.HAL_PCD_ISOINIncompleteCallback:0000000000000000 HAL_PCD_ISOINIncompleteCallback
     /tmp/ccgHoJ4C.s:1928   .text.HAL_PCD_ConnectCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1935   .text.HAL_PCD_ConnectCallback:0000000000000000 HAL_PCD_ConnectCallback
     /tmp/ccgHoJ4C.s:1948   .text.HAL_PCD_DisconnectCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1955   .text.HAL_PCD_DisconnectCallback:0000000000000000 HAL_PCD_DisconnectCallback
     /tmp/ccgHoJ4C.s:1978   .text.USBD_LL_Init:0000000000000000 $t
     /tmp/ccgHoJ4C.s:1985   .text.USBD_LL_Init:0000000000000000 USBD_LL_Init
     /tmp/ccgHoJ4C.s:2073   .text.USBD_LL_Init:0000000000000064 $d
     /tmp/ccgHoJ4C.s:2078   .text.USBD_Init:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2085   .text.USBD_Init:0000000000000000 USBD_Init
     /tmp/ccgHoJ4C.s:2140   .text.USBD_LL_IsStallEP:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2147   .text.USBD_LL_IsStallEP:0000000000000000 USBD_LL_IsStallEP
     /tmp/ccgHoJ4C.s:2188   .text.USBD_LL_GetRxDataSize:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2195   .text.USBD_LL_GetRxDataSize:0000000000000000 USBD_LL_GetRxDataSize
     /tmp/ccgHoJ4C.s:2218   .text.USBD_CDC_DataOut:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2225   .text.USBD_CDC_DataOut:0000000000000000 USBD_CDC_DataOut
     /tmp/ccgHoJ4C.s:2275   .text.USBD_GetRxCount:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2282   .text.USBD_GetRxCount:0000000000000000 USBD_GetRxCount
     /tmp/ccgHoJ4C.s:2303   .text.USBD_static_malloc:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2310   .text.USBD_static_malloc:0000000000000000 USBD_static_malloc
     /tmp/ccgHoJ4C.s:2325   .text.USBD_static_malloc:0000000000000004 $d
     /tmp/ccgHoJ4C.s:2330   .text.USBD_static_free:0000000000000000 $t
ARM GAS  /tmp/ccgHoJ4C.s 			page 193


     /tmp/ccgHoJ4C.s:2337   .text.USBD_static_free:0000000000000000 USBD_static_free
     /tmp/ccgHoJ4C.s:2350   .text.USBD_LL_Delay:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2357   .text.USBD_LL_Delay:0000000000000000 USBD_LL_Delay
     /tmp/ccgHoJ4C.s:2378   .text.USBD_Get_USB_Status:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2385   .text.USBD_Get_USB_Status:0000000000000000 USBD_Get_USB_Status
     /tmp/ccgHoJ4C.s:2419   .text.USBD_LL_DeInit:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2426   .text.USBD_LL_DeInit:0000000000000000 USBD_LL_DeInit
     /tmp/ccgHoJ4C.s:2453   .text.USBD_LL_Start:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2460   .text.USBD_LL_Start:0000000000000000 USBD_LL_Start
     /tmp/ccgHoJ4C.s:2487   .text.USBD_LL_Stop:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2494   .text.USBD_LL_Stop:0000000000000000 USBD_LL_Stop
     /tmp/ccgHoJ4C.s:2521   .text.USBD_DeInit:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2528   .text.USBD_DeInit:0000000000000000 USBD_DeInit
     /tmp/ccgHoJ4C.s:2574   .text.USBD_Stop:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2581   .text.USBD_Stop:0000000000000000 USBD_Stop
     /tmp/ccgHoJ4C.s:2614   .text.USBD_LL_OpenEP:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2621   .text.USBD_LL_OpenEP:0000000000000000 USBD_LL_OpenEP
     /tmp/ccgHoJ4C.s:2653   .text.USBD_LL_Reset:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2660   .text.USBD_LL_Reset:0000000000000000 USBD_LL_Reset
     /tmp/ccgHoJ4C.s:2748   .text.HAL_PCD_ResetCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2755   .text.HAL_PCD_ResetCallback:0000000000000000 HAL_PCD_ResetCallback
     /tmp/ccgHoJ4C.s:2805   .text.USBD_LL_CloseEP:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2812   .text.USBD_LL_CloseEP:0000000000000000 USBD_LL_CloseEP
     /tmp/ccgHoJ4C.s:2839   .text.USBD_CDC_DeInit:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2846   .text.USBD_CDC_DeInit:0000000000000000 USBD_CDC_DeInit
     /tmp/ccgHoJ4C.s:2912   .text.USBD_LL_FlushEP:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2919   .text.USBD_LL_FlushEP:0000000000000000 USBD_LL_FlushEP
     /tmp/ccgHoJ4C.s:2946   .text.USBD_LL_StallEP:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2953   .text.USBD_LL_StallEP:0000000000000000 USBD_LL_StallEP
     /tmp/ccgHoJ4C.s:2980   .text.USBD_CtlError:0000000000000000 $t
     /tmp/ccgHoJ4C.s:2987   .text.USBD_CtlError:0000000000000000 USBD_CtlError
     /tmp/ccgHoJ4C.s:3015   .text.USBD_LL_ClearStallEP:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3022   .text.USBD_LL_ClearStallEP:0000000000000000 USBD_LL_ClearStallEP
     /tmp/ccgHoJ4C.s:3049   .text.USBD_LL_SetUSBAddress:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3056   .text.USBD_LL_SetUSBAddress:0000000000000000 USBD_LL_SetUSBAddress
     /tmp/ccgHoJ4C.s:3083   .text.USBD_LL_Transmit:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3090   .text.USBD_LL_Transmit:0000000000000000 USBD_LL_Transmit
     /tmp/ccgHoJ4C.s:3117   .text.USBD_CDC_DataIn:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3124   .text.USBD_CDC_DataIn:0000000000000000 USBD_CDC_DataIn
     /tmp/ccgHoJ4C.s:3224   .text.USBD_CDC_TransmitPacket:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3231   .text.USBD_CDC_TransmitPacket:0000000000000000 USBD_CDC_TransmitPacket
     /tmp/ccgHoJ4C.s:3286   .text.CDC_Transmit_FS:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3293   .text.CDC_Transmit_FS:0000000000000000 CDC_Transmit_FS
     /tmp/ccgHoJ4C.s:3338   .text.CDC_Transmit_FS:0000000000000028 $d
     /tmp/ccgHoJ4C.s:3343   .text.USBD_CtlSendData:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3350   .text.USBD_CtlSendData:0000000000000000 USBD_CtlSendData
     /tmp/ccgHoJ4C.s:3384   .text.USBD_GetConfig:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3391   .text.USBD_GetConfig:0000000000000000 USBD_GetConfig
     /tmp/ccgHoJ4C.s:3452   .text.USBD_GetStatus:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3459   .text.USBD_GetStatus:0000000000000000 USBD_GetStatus
     /tmp/ccgHoJ4C.s:3515   .text.USBD_CtlContinueSendData:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3522   .text.USBD_CtlContinueSendData:0000000000000000 USBD_CtlContinueSendData
     /tmp/ccgHoJ4C.s:3549   .text.USBD_CtlSendStatus:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3556   .text.USBD_CtlSendStatus:0000000000000000 USBD_CtlSendStatus
     /tmp/ccgHoJ4C.s:3584   .text.USBD_StdItfReq:0000000000000000 $t
     /tmp/ccgHoJ4C.s:3591   .text.USBD_StdItfReq:0000000000000000 USBD_StdItfReq
     /tmp/ccgHoJ4C.s:3702   .text.USBD_StdEPReq:0000000000000000 $t
ARM GAS  /tmp/ccgHoJ4C.s 			page 194


     /tmp/ccgHoJ4C.s:3709   .text.USBD_StdEPReq:0000000000000000 USBD_StdEPReq
     /tmp/ccgHoJ4C.s:4179   .text.USBD_GetDescriptor:0000000000000000 $t
     /tmp/ccgHoJ4C.s:4186   .text.USBD_GetDescriptor:0000000000000000 USBD_GetDescriptor
     /tmp/ccgHoJ4C.s:4217   .text.USBD_GetDescriptor:000000000000001e $d
     /tmp/ccgHoJ4C.s:4311   .text.USBD_GetDescriptor:0000000000000096 $d
     /tmp/ccgHoJ4C.s:4317   .text.USBD_GetDescriptor:000000000000009c $t
     /tmp/ccgHoJ4C.s:4573   .text.USBD_SetAddress:0000000000000000 $t
     /tmp/ccgHoJ4C.s:4580   .text.USBD_SetAddress:0000000000000000 USBD_SetAddress
     /tmp/ccgHoJ4C.s:4654   .text.USBD_SetConfig:0000000000000000 $t
     /tmp/ccgHoJ4C.s:4661   .text.USBD_SetConfig:0000000000000000 USBD_SetConfig
     /tmp/ccgHoJ4C.s:4838   .text.USBD_SetFeature:0000000000000000 $t
     /tmp/ccgHoJ4C.s:4845   .text.USBD_SetFeature:0000000000000000 USBD_SetFeature
     /tmp/ccgHoJ4C.s:4890   .text.USBD_ClrFeature:0000000000000000 $t
     /tmp/ccgHoJ4C.s:4897   .text.USBD_ClrFeature:0000000000000000 USBD_ClrFeature
     /tmp/ccgHoJ4C.s:4941   .text.USBD_StdDevReq:0000000000000000 $t
     /tmp/ccgHoJ4C.s:4948   .text.USBD_StdDevReq:0000000000000000 USBD_StdDevReq
     /tmp/ccgHoJ4C.s:4996   .text.USBD_StdDevReq:0000000000000034 $d
     /tmp/ccgHoJ4C.s:5006   .text.USBD_StdDevReq:000000000000003e $t
     /tmp/ccgHoJ4C.s:5080   .text.USBD_LL_SetupStage:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5087   .text.USBD_LL_SetupStage:0000000000000000 USBD_LL_SetupStage
     /tmp/ccgHoJ4C.s:5160   .text.HAL_PCD_SetupStageCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5167   .text.HAL_PCD_SetupStageCallback:0000000000000000 HAL_PCD_SetupStageCallback
     /tmp/ccgHoJ4C.s:5190   .text.USBD_LL_PrepareReceive:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5197   .text.USBD_LL_PrepareReceive:0000000000000000 USBD_LL_PrepareReceive
     /tmp/ccgHoJ4C.s:5224   .text.USBD_CDC_Init:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5231   .text.USBD_CDC_Init:0000000000000000 USBD_CDC_Init
     /tmp/ccgHoJ4C.s:5389   .text.USBD_CDC_ReceivePacket:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5396   .text.USBD_CDC_ReceivePacket:0000000000000000 USBD_CDC_ReceivePacket
     /tmp/ccgHoJ4C.s:5451   .text.CDC_Receive_FS:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5458   .text.CDC_Receive_FS:0000000000000000 CDC_Receive_FS
     /tmp/ccgHoJ4C.s:5539   .text.CDC_Receive_FS:0000000000000064 $d
     /tmp/ccgHoJ4C.s:5545   .text.USBD_CtlPrepareRx:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5552   .text.USBD_CtlPrepareRx:0000000000000000 USBD_CtlPrepareRx
     /tmp/ccgHoJ4C.s:5586   .text.USBD_CDC_Setup:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5593   .text.USBD_CDC_Setup:0000000000000000 USBD_CDC_Setup
     /tmp/ccgHoJ4C.s:5716   .text.USBD_CDC_Setup:000000000000009e $d
     /tmp/ccgHoJ4C.s:5728   .text.USBD_CDC_Setup:00000000000000aa $t
     /tmp/ccgHoJ4C.s:5837   .text.USBD_CtlContinueRx:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5844   .text.USBD_CtlContinueRx:0000000000000000 USBD_CtlContinueRx
     /tmp/ccgHoJ4C.s:5871   .text.USBD_LL_DataOutStage:0000000000000000 $t
     /tmp/ccgHoJ4C.s:5878   .text.USBD_LL_DataOutStage:0000000000000000 USBD_LL_DataOutStage
     /tmp/ccgHoJ4C.s:6035   .text.HAL_PCD_DataOutStageCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:6042   .text.HAL_PCD_DataOutStageCallback:0000000000000000 HAL_PCD_DataOutStageCallback
     /tmp/ccgHoJ4C.s:6068   .text.USBD_CtlReceiveStatus:0000000000000000 $t
     /tmp/ccgHoJ4C.s:6075   .text.USBD_CtlReceiveStatus:0000000000000000 USBD_CtlReceiveStatus
     /tmp/ccgHoJ4C.s:6103   .text.USBD_LL_DataInStage:0000000000000000 $t
     /tmp/ccgHoJ4C.s:6110   .text.USBD_LL_DataInStage:0000000000000000 USBD_LL_DataInStage
     /tmp/ccgHoJ4C.s:6296   .text.HAL_PCD_DataInStageCallback:0000000000000000 $t
     /tmp/ccgHoJ4C.s:6303   .text.HAL_PCD_DataInStageCallback:0000000000000000 HAL_PCD_DataInStageCallback
     /tmp/ccgHoJ4C.s:6458   .data.USBD_Interface_fops_FS:0000000000000000 USBD_Interface_fops_FS
     /tmp/ccgHoJ4C.s:6369   .data.USBD_CDC_CfgDesc:0000000000000000 USBD_CDC_CfgDesc
     /tmp/ccgHoJ4C.s:6349   .data.USBD_CDC:0000000000000000 USBD_CDC
     /tmp/ccgHoJ4C.s:6442   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 USBD_CDC_DeviceQualifierDesc
     /tmp/ccgHoJ4C.s:6469   .data.p_usbd_handle:0000000000000000 p_usbd_handle
     /tmp/ccgHoJ4C.s:6338   .bss.mem.10296:0000000000000000 $d
     /tmp/ccgHoJ4C.s:6342   .bss.mem.10296:0000000000000000 mem.10296
     /tmp/ccgHoJ4C.s:6345   .data.USBD_CDC:0000000000000000 $d
ARM GAS  /tmp/ccgHoJ4C.s 			page 195


     /tmp/ccgHoJ4C.s:6365   .data.USBD_CDC_CfgDesc:0000000000000000 $d
     /tmp/ccgHoJ4C.s:6438   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 $d
     /tmp/ccgHoJ4C.s:6454   .data.USBD_Interface_fops_FS:0000000000000000 $d
     /tmp/ccgHoJ4C.s:6465   .data.p_usbd_handle:0000000000000000 $d
     /tmp/ccgHoJ4C.s:6472   .rodata.CDC_Receive_FS.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccgHoJ4C.s:4224   .text.USBD_GetDescriptor:0000000000000025 $d
     /tmp/ccgHoJ4C.s:4224   .text.USBD_GetDescriptor:0000000000000026 $t

UNDEFINED SYMBOLS
HAL_PCD_Start
HAL_PCD_Init
HAL_PCDEx_SetRxFiFo
HAL_PCDEx_SetTxFiFo
FS_Desc
HAL_GPIO_Init
HAL_NVIC_SetPriority
HAL_NVIC_EnableIRQ
HAL_GPIO_DeInit
HAL_NVIC_DisableIRQ
Error_Handler
HAL_PCD_EP_GetRxCount
HAL_Delay
HAL_PCD_DeInit
HAL_PCD_Stop
HAL_PCD_EP_Open
HAL_PCD_EP_Close
HAL_PCD_EP_Flush
HAL_PCD_EP_SetStall
HAL_PCD_EP_ClrStall
HAL_PCD_SetAddress
HAL_PCD_EP_Transmit
HAL_PCD_EP_Receive
memset
memcpy
strlen
