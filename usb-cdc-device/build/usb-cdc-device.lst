ARM GAS  /tmp/ccLxqwAV.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usb-cdc-device.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.CDC_DeInit_FS,"ax",%progbits
  18              		.align	1
  19              		.global	CDC_DeInit_FS
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	CDC_DeInit_FS:
  26              	.LFB133:
  27              		.file 1 "application-library/usb-cdc-device.c"
   1:application-library/usb-cdc-device.c **** /**
   2:application-library/usb-cdc-device.c ****  * @brief usb-cdc-device.c merged four classes: 
   3:application-library/usb-cdc-device.c ****  *          1. usbd_cdc_if
   4:application-library/usb-cdc-device.c ****  *          2. usb_device
   5:application-library/usb-cdc-device.c ****  *          3. usbd_cdc
   6:application-library/usb-cdc-device.c ****  *          4. usbd_core
   7:application-library/usb-cdc-device.c ****  *          5. usbd_ctlreq
   8:application-library/usb-cdc-device.c ****  */
   9:application-library/usb-cdc-device.c **** 
  10:application-library/usb-cdc-device.c **** /* Includes ------------------------------------------------------------------*/
  11:application-library/usb-cdc-device.c **** #include "usb-cdc-device.h"
  12:application-library/usb-cdc-device.c **** #include "usbd_desc.h"
  13:application-library/usb-cdc-device.c **** #include "usbd_def.h"   
  14:application-library/usb-cdc-device.c **** #include "usbd_ctlreq.h"
  15:application-library/usb-cdc-device.c **** 
  16:application-library/usb-cdc-device.c **** /* usbd_cdc_if.c BEGIN---- ---- ---- ---- */
  17:application-library/usb-cdc-device.c **** /** Received data over USB are stored in this buffer      */
  18:application-library/usb-cdc-device.c **** uint8_t UserRxBufferFS[APP_RX_DATA_SIZE];
  19:application-library/usb-cdc-device.c **** /** Data to send over USB CDC are stored in this buffer   */
  20:application-library/usb-cdc-device.c **** uint8_t UserTxBufferFS[APP_TX_DATA_SIZE];
  21:application-library/usb-cdc-device.c **** // extern USBD_HandleTypeDef hUsbDeviceFS;
  22:application-library/usb-cdc-device.c **** 
  23:application-library/usb-cdc-device.c **** /* USB Device Core handle declaration. */
  24:application-library/usb-cdc-device.c **** USBD_HandleTypeDef hUsbDeviceFS;
  25:application-library/usb-cdc-device.c **** // extern USBD_HandleTypeDef hUsbDeviceFS; /* from usbd_cdc_if.c */
  26:application-library/usb-cdc-device.c **** USBD_HandleTypeDef* p_usbd_handle = &hUsbDeviceFS;
  27:application-library/usb-cdc-device.c **** 
  28:application-library/usb-cdc-device.c **** /**
  29:application-library/usb-cdc-device.c ****   * @brief Device qualifier
  30:application-library/usb-cdc-device.c ****   * @note  The device_qualifier descriptor describes information about 
  31:application-library/usb-cdc-device.c ****   *          a high-speed capable device that would change if the device 
ARM GAS  /tmp/ccLxqwAV.s 			page 2


  32:application-library/usb-cdc-device.c ****   *          were operating at the other speed. 
  33:application-library/usb-cdc-device.c ****   *         For example, if the device is currently operating at full-speed, 
  34:application-library/usb-cdc-device.c ****   *           the device_qualifier returns information about how it would 
  35:application-library/usb-cdc-device.c ****   *           operate at high-speed and vice-versa. 
  36:application-library/usb-cdc-device.c ****   */
  37:application-library/usb-cdc-device.c **** /* USB Standard Device Descriptor */
  38:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END =
  39:application-library/usb-cdc-device.c **** {
  40:application-library/usb-cdc-device.c ****   0x0A,
  41:application-library/usb-cdc-device.c ****   0x06,
  42:application-library/usb-cdc-device.c ****   0x00,
  43:application-library/usb-cdc-device.c ****   0x02,
  44:application-library/usb-cdc-device.c ****   0x00,
  45:application-library/usb-cdc-device.c ****   0x00,
  46:application-library/usb-cdc-device.c ****   0x00,
  47:application-library/usb-cdc-device.c ****   0x40,
  48:application-library/usb-cdc-device.c ****   0x01,
  49:application-library/usb-cdc-device.c ****   0x00,
  50:application-library/usb-cdc-device.c **** };
  51:application-library/usb-cdc-device.c **** 
  52:application-library/usb-cdc-device.c **** 
  53:application-library/usb-cdc-device.c **** /* CDC interface class callbacks structure */
  54:application-library/usb-cdc-device.c **** USBD_ClassTypeDef USBD_CDC =
  55:application-library/usb-cdc-device.c **** {
  56:application-library/usb-cdc-device.c ****   USBD_CDC_Init,
  57:application-library/usb-cdc-device.c ****   USBD_CDC_DeInit,
  58:application-library/usb-cdc-device.c ****   USBD_CDC_Setup,
  59:application-library/usb-cdc-device.c ****   NULL,                 /* EP0_TxSent */
  60:application-library/usb-cdc-device.c ****   USBD_CDC_EP0_RxReady,
  61:application-library/usb-cdc-device.c ****   USBD_CDC_DataIn,
  62:application-library/usb-cdc-device.c ****   USBD_CDC_DataOut,
  63:application-library/usb-cdc-device.c ****   NULL,
  64:application-library/usb-cdc-device.c ****   NULL,
  65:application-library/usb-cdc-device.c ****   NULL,
  66:application-library/usb-cdc-device.c ****   USBD_CDC_GetHSCfgDesc,
  67:application-library/usb-cdc-device.c ****   USBD_CDC_GetFSCfgDesc,
  68:application-library/usb-cdc-device.c ****   USBD_CDC_GetOtherSpeedCfgDesc,
  69:application-library/usb-cdc-device.c ****   USBD_CDC_GetDeviceQualifierDescriptor,
  70:application-library/usb-cdc-device.c **** };
  71:application-library/usb-cdc-device.c **** 
  72:application-library/usb-cdc-device.c **** /* USB CDC device Configuration Descriptor */
  73:application-library/usb-cdc-device.c **** __ALIGN_BEGIN uint8_t USBD_CDC_CfgDesc[USB_CDC_CONFIG_DESC_SIZ] __ALIGN_END =
  74:application-library/usb-cdc-device.c **** {
  75:application-library/usb-cdc-device.c ****   /* Configuration Descriptor */
  76:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Configuration Descriptor size */
  77:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_CONFIGURATION,                /* bDescriptorType: Configuration */
  78:application-library/usb-cdc-device.c ****   USB_CDC_CONFIG_DESC_SIZ,                    /* wTotalLength */
  79:application-library/usb-cdc-device.c ****   0x00,
  80:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumInterfaces: 2 interfaces */
  81:application-library/usb-cdc-device.c ****   0x01,                                       /* bConfigurationValue: Configuration value */
  82:application-library/usb-cdc-device.c ****   0x00,                                       /* iConfiguration: Index of string descriptor */
  83:application-library/usb-cdc-device.c ****   0xC0,                                       /* bmAttributes: Bus is self-powered. */
  84:application-library/usb-cdc-device.c ****   USBD_MAX_POWER,                             /* MaxPower (mA) */
  85:application-library/usb-cdc-device.c **** 
  86:application-library/usb-cdc-device.c ****   /* Interface Descriptor */
  87:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Interface Descriptor size */
  88:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: Interface */
ARM GAS  /tmp/ccLxqwAV.s 			page 3


  89:application-library/usb-cdc-device.c ****   /* Interface descriptor type */
  90:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceNumber: Number of Interface */
  91:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
  92:application-library/usb-cdc-device.c ****   0x01,                                       /* bNumEndpoints: One endpoint used */
  93:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceClass: Communication Interface Class */
  94:application-library/usb-cdc-device.c ****   0x02,                                       /* bInterfaceSubClass: Abstract Control Model */
  95:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceProtocol: Common AT commands */
  96:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
  97:application-library/usb-cdc-device.c **** 
  98:application-library/usb-cdc-device.c ****   /* Header Functional Descriptor */
  99:application-library/usb-cdc-device.c ****   0x05,                                       /* bLength: Endpoint Descriptor size */
 100:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 101:application-library/usb-cdc-device.c ****   0x00,                                       /* bDescriptorSubtype: Header Func Desc */
 102:application-library/usb-cdc-device.c ****   0x10,                                       /* bcdCDC: spec release number */
 103:application-library/usb-cdc-device.c ****   0x01,
 104:application-library/usb-cdc-device.c **** 
 105:application-library/usb-cdc-device.c ****   /* Call Management Functional Descriptor */
 106:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 107:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 108:application-library/usb-cdc-device.c ****   0x01,                                       /* bDescriptorSubtype: Call Management Func Desc */
 109:application-library/usb-cdc-device.c ****   0x00,                                       /* bmCapabilities: D0+D1 */
 110:application-library/usb-cdc-device.c ****   0x01,                                       /* bDataInterface */
 111:application-library/usb-cdc-device.c **** 
 112:application-library/usb-cdc-device.c ****   /* ACM Functional Descriptor */
 113:application-library/usb-cdc-device.c ****   0x04,                                       /* bFunctionLength */
 114:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 115:application-library/usb-cdc-device.c ****   0x02,                                       /* bDescriptorSubtype: Abstract Control Management de
 116:application-library/usb-cdc-device.c ****   0x02,                                       /* bmCapabilities */
 117:application-library/usb-cdc-device.c **** 
 118:application-library/usb-cdc-device.c ****   /* Union Functional Descriptor */
 119:application-library/usb-cdc-device.c ****   0x05,                                       /* bFunctionLength */
 120:application-library/usb-cdc-device.c ****   0x24,                                       /* bDescriptorType: CS_INTERFACE */
 121:application-library/usb-cdc-device.c ****   0x06,                                       /* bDescriptorSubtype: Union func desc */
 122:application-library/usb-cdc-device.c ****   0x00,                                       /* bMasterInterface: Communication class interface */
 123:application-library/usb-cdc-device.c ****   0x01,                                       /* bSlaveInterface0: Data Class Interface */
 124:application-library/usb-cdc-device.c **** 
 125:application-library/usb-cdc-device.c ****   /* Endpoint 2 Descriptor */
 126:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 127:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 128:application-library/usb-cdc-device.c ****   CDC_CMD_EP,                                 /* bEndpointAddress */
 129:application-library/usb-cdc-device.c ****   0x03,                                       /* bmAttributes: Interrupt */
 130:application-library/usb-cdc-device.c ****   LOBYTE(CDC_CMD_PACKET_SIZE),                /* wMaxPacketSize */
 131:application-library/usb-cdc-device.c ****   HIBYTE(CDC_CMD_PACKET_SIZE),
 132:application-library/usb-cdc-device.c ****   CDC_FS_BINTERVAL,                           /* bInterval */
 133:application-library/usb-cdc-device.c ****   /*---------------------------------------------------------------------------*/
 134:application-library/usb-cdc-device.c **** 
 135:application-library/usb-cdc-device.c ****   /* Data class interface descriptor */
 136:application-library/usb-cdc-device.c ****   0x09,                                       /* bLength: Endpoint Descriptor size */
 137:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_INTERFACE,                    /* bDescriptorType: */
 138:application-library/usb-cdc-device.c ****   0x01,                                       /* bInterfaceNumber: Number of Interface */
 139:application-library/usb-cdc-device.c ****   0x00,                                       /* bAlternateSetting: Alternate setting */
 140:application-library/usb-cdc-device.c ****   0x02,                                       /* bNumEndpoints: Two endpoints used */
 141:application-library/usb-cdc-device.c ****   0x0A,                                       /* bInterfaceClass: CDC */
 142:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceSubClass */
 143:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterfaceProtocol */
 144:application-library/usb-cdc-device.c ****   0x00,                                       /* iInterface */
 145:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccLxqwAV.s 			page 4


 146:application-library/usb-cdc-device.c ****   /* Endpoint OUT Descriptor */
 147:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 148:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 149:application-library/usb-cdc-device.c ****   CDC_OUT_EP,                                 /* bEndpointAddress */
 150:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 151:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 152:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 153:application-library/usb-cdc-device.c ****   0x00,                                       /* bInterval */
 154:application-library/usb-cdc-device.c **** 
 155:application-library/usb-cdc-device.c ****   /* Endpoint IN Descriptor */
 156:application-library/usb-cdc-device.c ****   0x07,                                       /* bLength: Endpoint Descriptor size */
 157:application-library/usb-cdc-device.c ****   USB_DESC_TYPE_ENDPOINT,                     /* bDescriptorType: Endpoint */
 158:application-library/usb-cdc-device.c ****   CDC_IN_EP,                                  /* bEndpointAddress */
 159:application-library/usb-cdc-device.c ****   0x02,                                       /* bmAttributes: Bulk */
 160:application-library/usb-cdc-device.c ****   LOBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),        /* wMaxPacketSize */
 161:application-library/usb-cdc-device.c ****   HIBYTE(CDC_DATA_FS_MAX_PACKET_SIZE),
 162:application-library/usb-cdc-device.c ****   0x00                                        /* bInterval */
 163:application-library/usb-cdc-device.c **** };
 164:application-library/usb-cdc-device.c **** 
 165:application-library/usb-cdc-device.c **** 
 166:application-library/usb-cdc-device.c **** 
 167:application-library/usb-cdc-device.c **** 
 168:application-library/usb-cdc-device.c **** 
 169:application-library/usb-cdc-device.c **** /* Function Declaration ------------------------------------------------------------------*/
 170:application-library/usb-cdc-device.c **** int8_t CDC_Init_FS(void);
 171:application-library/usb-cdc-device.c **** int8_t CDC_DeInit_FS(void);
 172:application-library/usb-cdc-device.c **** int8_t CDC_Control_FS(uint8_t cmd, uint8_t* pbuf, uint16_t length);
 173:application-library/usb-cdc-device.c **** int8_t CDC_Receive_FS(uint8_t* pbuf, uint32_t *Len);
 174:application-library/usb-cdc-device.c **** int8_t CDC_TransmitCplt_FS(uint8_t *pbuf, uint32_t *Len, uint8_t epnum);
 175:application-library/usb-cdc-device.c **** 
 176:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 177:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 178:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Setup(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
 179:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum);
 180:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum);
 181:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_EP0_RxReady(USBD_HandleTypeDef *pdev);
 182:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetFSCfgDesc(uint16_t *length);
 183:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetHSCfgDesc(uint16_t *length);
 184:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetOtherSpeedCfgDesc(uint16_t *length);
 185:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetOtherSpeedCfgDesc(uint16_t *length);
 186:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetDeviceQualifierDescriptor(uint16_t *length);
 187:application-library/usb-cdc-device.c **** 
 188:application-library/usb-cdc-device.c **** 
 189:application-library/usb-cdc-device.c **** USBD_CDC_ItfTypeDef USBD_Interface_fops_FS =
 190:application-library/usb-cdc-device.c **** {
 191:application-library/usb-cdc-device.c ****   CDC_Init_FS,
 192:application-library/usb-cdc-device.c ****   CDC_DeInit_FS,
 193:application-library/usb-cdc-device.c ****   CDC_Control_FS,
 194:application-library/usb-cdc-device.c ****   CDC_Receive_FS,
 195:application-library/usb-cdc-device.c ****   CDC_TransmitCplt_FS
 196:application-library/usb-cdc-device.c **** };
 197:application-library/usb-cdc-device.c **** 
 198:application-library/usb-cdc-device.c **** /**
 199:application-library/usb-cdc-device.c ****   * @brief  Initializes the CDC media low layer over the FS USB IP
 200:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 201:application-library/usb-cdc-device.c ****   */
 202:application-library/usb-cdc-device.c **** int8_t CDC_Init_FS(void)
ARM GAS  /tmp/ccLxqwAV.s 			page 5


 203:application-library/usb-cdc-device.c **** {
 204:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 205:application-library/usb-cdc-device.c ****   /* Set Application Buffers */
 206:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, UserTxBufferFS, 0);
 207:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 208:application-library/usb-cdc-device.c ****   return (USBD_OK);
 209:application-library/usb-cdc-device.c ****   /* USER CODE END 3 */
 210:application-library/usb-cdc-device.c **** }
 211:application-library/usb-cdc-device.c **** 
 212:application-library/usb-cdc-device.c **** /**
 213:application-library/usb-cdc-device.c ****   * @brief  DeInitializes the CDC media low layer
 214:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL
 215:application-library/usb-cdc-device.c ****   */
 216:application-library/usb-cdc-device.c **** int8_t CDC_DeInit_FS(void)
 217:application-library/usb-cdc-device.c **** {
  28              		.loc 1 217 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
 218:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 4 */
 219:application-library/usb-cdc-device.c ****   return (USBD_OK);
 220:application-library/usb-cdc-device.c ****   /* USER CODE END 4 */
 221:application-library/usb-cdc-device.c **** }
  33              		.loc 1 221 0
  34 0000 0020     		movs	r0, #0
  35 0002 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE133:
  39              		.section	.text.CDC_Control_FS,"ax",%progbits
  40              		.align	1
  41              		.global	CDC_Control_FS
  42              		.syntax unified
  43              		.thumb
  44              		.thumb_func
  45              		.fpu fpv4-sp-d16
  47              	CDC_Control_FS:
  48              	.LFB134:
 222:application-library/usb-cdc-device.c **** 
 223:application-library/usb-cdc-device.c **** /**
 224:application-library/usb-cdc-device.c ****   * @brief  Manage the CDC class requests
 225:application-library/usb-cdc-device.c ****   * @param  cmd: Command code
 226:application-library/usb-cdc-device.c ****   * @param  pbuf: Buffer containing command data (request parameters)
 227:application-library/usb-cdc-device.c ****   * @param  length: Number of data to be sent (in bytes)
 228:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 229:application-library/usb-cdc-device.c ****   */
 230:application-library/usb-cdc-device.c **** int8_t CDC_Control_FS(uint8_t cmd, uint8_t* pbuf, uint16_t length)
 231:application-library/usb-cdc-device.c **** {
  49              		.loc 1 231 0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53              		@ link register save eliminated.
  54              	.LVL0:
 232:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 5 */
 233:application-library/usb-cdc-device.c ****   switch(cmd)
 234:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccLxqwAV.s 			page 6


 235:application-library/usb-cdc-device.c ****     case CDC_SEND_ENCAPSULATED_COMMAND:
 236:application-library/usb-cdc-device.c ****     break;
 237:application-library/usb-cdc-device.c ****     case CDC_GET_ENCAPSULATED_RESPONSE:
 238:application-library/usb-cdc-device.c ****     break;
 239:application-library/usb-cdc-device.c ****     case CDC_SET_COMM_FEATURE:
 240:application-library/usb-cdc-device.c ****     break;
 241:application-library/usb-cdc-device.c ****     case CDC_GET_COMM_FEATURE:
 242:application-library/usb-cdc-device.c ****     break;
 243:application-library/usb-cdc-device.c ****     case CDC_CLEAR_COMM_FEATURE:
 244:application-library/usb-cdc-device.c ****     break;
 245:application-library/usb-cdc-device.c **** 
 246:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 247:application-library/usb-cdc-device.c ****   /* Line Coding Structure                                                       */
 248:application-library/usb-cdc-device.c ****   /*-----------------------------------------------------------------------------*/
 249:application-library/usb-cdc-device.c ****   /* Offset | Field       | Size | Value  | Description                          */
 250:application-library/usb-cdc-device.c ****   /* 0      | dwDTERate   |   4  | Number |Data terminal rate, in bits per second*/
 251:application-library/usb-cdc-device.c ****   /* 4      | bCharFormat |   1  | Number | Stop bits                            */
 252:application-library/usb-cdc-device.c ****   /*                                        0 - 1 Stop bit                       */
 253:application-library/usb-cdc-device.c ****   /*                                        1 - 1.5 Stop bits                    */
 254:application-library/usb-cdc-device.c ****   /*                                        2 - 2 Stop bits                      */
 255:application-library/usb-cdc-device.c ****   /* 5      | bParityType |  1   | Number | Parity                               */
 256:application-library/usb-cdc-device.c ****   /*                                        0 - None                             */
 257:application-library/usb-cdc-device.c ****   /*                                        1 - Odd                              */
 258:application-library/usb-cdc-device.c ****   /*                                        2 - Even                             */
 259:application-library/usb-cdc-device.c ****   /*                                        3 - Mark                             */
 260:application-library/usb-cdc-device.c ****   /*                                        4 - Space                            */
 261:application-library/usb-cdc-device.c ****   /* 6      | bDataBits  |   1   | Number Data bits (5, 6, 7, 8 or 16).          */
 262:application-library/usb-cdc-device.c ****   /*******************************************************************************/
 263:application-library/usb-cdc-device.c ****     case CDC_SET_LINE_CODING:
 264:application-library/usb-cdc-device.c ****     break;
 265:application-library/usb-cdc-device.c ****     case CDC_GET_LINE_CODING:
 266:application-library/usb-cdc-device.c ****     break;
 267:application-library/usb-cdc-device.c ****     case CDC_SET_CONTROL_LINE_STATE:
 268:application-library/usb-cdc-device.c ****     break;
 269:application-library/usb-cdc-device.c ****     case CDC_SEND_BREAK:
 270:application-library/usb-cdc-device.c ****     break;
 271:application-library/usb-cdc-device.c ****   default:
 272:application-library/usb-cdc-device.c ****     break;
 273:application-library/usb-cdc-device.c ****   }
 274:application-library/usb-cdc-device.c ****   return (USBD_OK);
 275:application-library/usb-cdc-device.c **** }
  55              		.loc 1 275 0
  56 0000 0020     		movs	r0, #0
  57              	.LVL1:
  58 0002 7047     		bx	lr
  59              		.cfi_endproc
  60              	.LFE134:
  62              		.section	.text.CDC_TransmitCplt_FS,"ax",%progbits
  63              		.align	1
  64              		.global	CDC_TransmitCplt_FS
  65              		.syntax unified
  66              		.thumb
  67              		.thumb_func
  68              		.fpu fpv4-sp-d16
  70              	CDC_TransmitCplt_FS:
  71              	.LFB137:
 276:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccLxqwAV.s 			page 7


 277:application-library/usb-cdc-device.c **** /**
 278:application-library/usb-cdc-device.c ****   * @brief  Data received over USB OUT endpoint are sent over CDC interface
 279:application-library/usb-cdc-device.c ****   *         through this function.
 280:application-library/usb-cdc-device.c ****   *
 281:application-library/usb-cdc-device.c ****   *         @note
 282:application-library/usb-cdc-device.c ****   *         This function will issue a NAK packet on any OUT packet received on
 283:application-library/usb-cdc-device.c ****   *         USB endpoint until exiting this function. If you exit this function
 284:application-library/usb-cdc-device.c ****   *         before transfer is complete on CDC interface (ie. using DMA controller)
 285:application-library/usb-cdc-device.c ****   *         it will result in receiving more data while previous ones are still
 286:application-library/usb-cdc-device.c ****   *         not sent.
 287:application-library/usb-cdc-device.c ****   *
 288:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 289:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 290:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 291:application-library/usb-cdc-device.c ****   */
 292:application-library/usb-cdc-device.c **** int8_t CDC_Receive_FS(uint8_t* Buf, uint32_t *Len)
 293:application-library/usb-cdc-device.c **** {
 294:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 295:application-library/usb-cdc-device.c ****   uint8_t received_msg[64];
 296:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, &Buf[0]);
 297:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
 298:application-library/usb-cdc-device.c **** 
 299:application-library/usb-cdc-device.c ****   memset (received_msg, '\0', 64);  // clear the buffer
 300:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 301:application-library/usb-cdc-device.c ****   memcpy(received_msg, Buf, len);  // copy the data to the buffer
 302:application-library/usb-cdc-device.c **** 
 303:application-library/usb-cdc-device.c ****   strcat((char*) received_msg, (char *)" echoed.\n");
 304:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 305:application-library/usb-cdc-device.c ****   CDC_Transmit_FS(received_msg, sizeof(received_msg));
 306:application-library/usb-cdc-device.c ****   return (USBD_OK);
 307:application-library/usb-cdc-device.c ****   /* USER CODE END 6 */
 308:application-library/usb-cdc-device.c **** }
 309:application-library/usb-cdc-device.c **** 
 310:application-library/usb-cdc-device.c **** /**
 311:application-library/usb-cdc-device.c ****   * @brief  Trasmit Data to send over USB IN endpoint are sent over CDC interface
 312:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be sent
 313:application-library/usb-cdc-device.c ****   * @param  Len: Number of data to be sent (in bytes)
 314:application-library/usb-cdc-device.c ****   * @retval USBD_OK if all operations are OK else USBD_FAIL or USBD_BUSY
 315:application-library/usb-cdc-device.c ****   */
 316:application-library/usb-cdc-device.c **** uint8_t CDC_Transmit_FS(uint8_t* Buf, uint16_t Len)
 317:application-library/usb-cdc-device.c **** {
 318:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 319:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 7 */
 320:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef*)hUsbDeviceFS.pClassData;
 321:application-library/usb-cdc-device.c **** 
 322:application-library/usb-cdc-device.c ****   if (hcdc->TxState != 0){
 323:application-library/usb-cdc-device.c ****     return USBD_BUSY;
 324:application-library/usb-cdc-device.c ****   }
 325:application-library/usb-cdc-device.c ****   USBD_CDC_SetTxBuffer(&hUsbDeviceFS, Buf, Len);
 326:application-library/usb-cdc-device.c ****   result = USBD_CDC_TransmitPacket(&hUsbDeviceFS);
 327:application-library/usb-cdc-device.c ****   /* USER CODE END 7 */
 328:application-library/usb-cdc-device.c ****   return result;
 329:application-library/usb-cdc-device.c **** }
 330:application-library/usb-cdc-device.c **** 
 331:application-library/usb-cdc-device.c **** /**
 332:application-library/usb-cdc-device.c ****   * @brief  Data transmitted callback
 333:application-library/usb-cdc-device.c ****   *         This function is IN transfer complete callback used to inform user that
ARM GAS  /tmp/ccLxqwAV.s 			page 8


 334:application-library/usb-cdc-device.c ****   *         the submitted Data is successfully sent over USB.
 335:application-library/usb-cdc-device.c ****   * @param  Buf: Buffer of data to be received
 336:application-library/usb-cdc-device.c ****   * @param  Len: Number of data received (in bytes)
 337:application-library/usb-cdc-device.c ****   * @retval Result of the operation: USBD_OK if all operations are OK else USBD_FAIL
 338:application-library/usb-cdc-device.c ****   */
 339:application-library/usb-cdc-device.c **** int8_t CDC_TransmitCplt_FS(uint8_t *Buf, uint32_t *Len, uint8_t epnum)
 340:application-library/usb-cdc-device.c **** {
  72              		.loc 1 340 0
  73              		.cfi_startproc
  74              		@ args = 0, pretend = 0, frame = 0
  75              		@ frame_needed = 0, uses_anonymous_args = 0
  76              		@ link register save eliminated.
  77              	.LVL2:
 341:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 342:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 13 */
 343:application-library/usb-cdc-device.c ****   UNUSED(Buf);
 344:application-library/usb-cdc-device.c ****   UNUSED(Len);
 345:application-library/usb-cdc-device.c ****   UNUSED(epnum);
 346:application-library/usb-cdc-device.c ****   /* USER CODE END 13 */
 347:application-library/usb-cdc-device.c ****   return result;
 348:application-library/usb-cdc-device.c **** }
  78              		.loc 1 348 0
  79 0000 0020     		movs	r0, #0
  80              	.LVL3:
  81 0002 7047     		bx	lr
  82              		.cfi_endproc
  83              	.LFE137:
  85              		.section	.text.USBD_CDC_EP0_RxReady,"ax",%progbits
  86              		.align	1
  87              		.global	USBD_CDC_EP0_RxReady
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	USBD_CDC_EP0_RxReady:
  94              	.LFB144:
 349:application-library/usb-cdc-device.c **** 
 350:application-library/usb-cdc-device.c **** /* usbd_cdc_if.c END ---- ---- ---- ---- */
 351:application-library/usb-cdc-device.c **** /* usb_device.c BEGIN ---- ---- ---- ---- */
 352:application-library/usb-cdc-device.c **** 
 353:application-library/usb-cdc-device.c **** 
 354:application-library/usb-cdc-device.c **** 
 355:application-library/usb-cdc-device.c **** /**
 356:application-library/usb-cdc-device.c ****   * Init USB device Library, add supported class and start the library
 357:application-library/usb-cdc-device.c ****   * @retval None
 358:application-library/usb-cdc-device.c ****   */
 359:application-library/usb-cdc-device.c **** void usb_device_init(void)
 360:application-library/usb-cdc-device.c **** {
 361:application-library/usb-cdc-device.c ****   /* Init Device Library, add supported class and start the library. */
 362:application-library/usb-cdc-device.c ****   // 1. USBD_Init(&p_usbd_handle, &FS_Desc, DEVICE_FS);
 363:application-library/usb-cdc-device.c ****   /* Unlink previous class*/
 364:application-library/usb-cdc-device.c ****   p_usbd_handle->pClass[0] = NULL;
 365:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[0] = NULL;
 366:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = NULL;
 367:application-library/usb-cdc-device.c **** 
 368:application-library/usb-cdc-device.c ****   /* Assign USBD Descriptors */
 369:application-library/usb-cdc-device.c ****   p_usbd_handle->pDesc = &FS_Desc;
ARM GAS  /tmp/ccLxqwAV.s 			page 9


 370:application-library/usb-cdc-device.c **** 
 371:application-library/usb-cdc-device.c ****   /* Set Device initial State */
 372:application-library/usb-cdc-device.c ****   p_usbd_handle->dev_state = USBD_STATE_DEFAULT;  // DEFAULT - ADDRESSED - CONFIGURED - SUSPEND
 373:application-library/usb-cdc-device.c ****   p_usbd_handle->id = DEVICE_FS; // DEVICE_FS (0)
 374:application-library/usb-cdc-device.c **** 
 375:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
 376:application-library/usb-cdc-device.c ****   // USBD_LL_Init(p_usbd_handle); // configure the TX or the RX FIFO of the new defined endport
 377:application-library/usb-cdc-device.c ****                                   // From usbd_conf.c expanded below. 
 378:application-library/usb-cdc-device.c **** 
 379:application-library/usb-cdc-device.c ****   /* Init USB Ip. */
 380:application-library/usb-cdc-device.c ****   extern PCD_HandleTypeDef hpcd_USB_OTG_FS;
 381:application-library/usb-cdc-device.c ****   if (p_usbd_handle->id == DEVICE_FS) {
 382:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
 383:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.pData = p_usbd_handle;
 384:application-library/usb-cdc-device.c ****                                            /* pData is the pointer to upper stack handler. */
 385:application-library/usb-cdc-device.c ****   p_usbd_handle->pData = &hpcd_USB_OTG_FS; /* connect usbd_handle with the lower-level pcd_handle*/
 386:application-library/usb-cdc-device.c **** 
 387:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Instance = USB_OTG_FS;
 388:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 389:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 390:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
 391:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
 392:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
 393:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 394:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 395:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 396:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
 397:application-library/usb-cdc-device.c **** 
 398:application-library/usb-cdc-device.c ****   HAL_PCD_Init(&hpcd_USB_OTG_FS);
 399:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
 400:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetRxFiFo(&hpcd_USB_OTG_FS, 0x80);    /* set RX FIFO size 0x80*/
 401:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 402:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 403:application-library/usb-cdc-device.c ****   }
 404:application-library/usb-cdc-device.c ****   /*---------------------------------------------------------------------------*/
 405:application-library/usb-cdc-device.c ****   // 2. USBD_RegisterClass(&p_usbd_handle, &USBD_CDC); // usbd_core.c
 406:application-library/usb-cdc-device.c ****   
 407:application-library/usb-cdc-device.c ****   /* link the class to the USB Device handle */
 408:application-library/usb-cdc-device.c ****   p_usbd_handle->pClass[0] = &USBD_CDC;
 409:application-library/usb-cdc-device.c **** 
 410:application-library/usb-cdc-device.c ****   /* Get Device Configuration Descriptor */
 411:application-library/usb-cdc-device.c ****   /*
 412:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 413:application-library/usb-cdc-device.c ****   if (p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigDescriptor != NULL)
 414:application-library/usb-cdc-device.c ****   {
 415:application-library/usb-cdc-device.c ****     // pClass is of type USBD_ClassTypeDef.
 416:application-library/usb-cdc-device.c ****     // p_usbd_handle is of type USBD_HandleTypeDef
 417:application-library/usb-cdc-device.c ****     // The actual GetFSConfigDescriptor is implemented as  USBD_CDC_GetFSCfgDesc(uint16_t *length) 
 418:application-library/usb-cdc-device.c ****     p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigDe
 419:application-library/usb-cdc-device.c ****   }
 420:application-library/usb-cdc-device.c ****   */
 421:application-library/usb-cdc-device.c ****   // p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[p_usbd_handle->classId]->GetFSConfigD
 422:application-library/usb-cdc-device.c ****   // p_usbd_handle->pConfDesc = (void *)p_usbd_handle->pClass[0]->GetFSConfigDescriptor(0); 
 423:application-library/usb-cdc-device.c ****   /* p_usbd_handle->pClass[0] = (USBD_CDC)*/
 424:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = (&USBD_CDC)->GetFSConfigDescriptor(0) ;
 425:application-library/usb-cdc-device.c **** 
 426:application-library/usb-cdc-device.c ****   /* Increment the NumClasses */
ARM GAS  /tmp/ccLxqwAV.s 			page 10


 427:application-library/usb-cdc-device.c ****   // p_usbd_handle->NumClasses ++;
 428:application-library/usb-cdc-device.c **** 
 429:application-library/usb-cdc-device.c ****   // 3. USBD_CDC_RegisterInterface(&p_usbd_handle, &USBD_Interface_fops_FS);
 430:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[p_usbd_handle->classId] = &USBD_Interface_fops_FS;
 431:application-library/usb-cdc-device.c **** 
 432:application-library/usb-cdc-device.c ****   // 4. USBD_Startp_usbd_handle;
 433:application-library/usb-cdc-device.c ****   // HAL_PCD_Start(p_usbd_handle->pData);  /* p_usbd_handle->pData has type void */
 434:application-library/usb-cdc-device.c ****                                            /* pData = hpcd_USB_OTG_FS was assigned in step 1. USBD_
 435:application-library/usb-cdc-device.c ****   HAL_PCD_Start(&hpcd_USB_OTG_FS);
 436:application-library/usb-cdc-device.c **** }
 437:application-library/usb-cdc-device.c **** /* usb_device.c END ---- ---- ---- ---- */
 438:application-library/usb-cdc-device.c **** 
 439:application-library/usb-cdc-device.c **** 
 440:application-library/usb-cdc-device.c **** 
 441:application-library/usb-cdc-device.c **** /* usbd_cdc.c START ---- ---- ---- ---- */
 442:application-library/usb-cdc-device.c **** 
 443:application-library/usb-cdc-device.c **** 
 444:application-library/usb-cdc-device.c **** /**
 445:application-library/usb-cdc-device.c ****   * @brief  Initialize the CDC interface
 446:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 447:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 448:application-library/usb-cdc-device.c ****   * @retval status
 449:application-library/usb-cdc-device.c ****   */
 450:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Init(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
 451:application-library/usb-cdc-device.c **** {
 452:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 453:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 454:application-library/usb-cdc-device.c **** 
 455:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_HandleTypeDef *)USBD_malloc(sizeof(USBD_CDC_HandleTypeDef));
 456:application-library/usb-cdc-device.c **** 
 457:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 458:application-library/usb-cdc-device.c ****   {
 459:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 460:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 461:application-library/usb-cdc-device.c ****   }
 462:application-library/usb-cdc-device.c **** 
 463:application-library/usb-cdc-device.c ****   (void)USBD_memset(hcdc, 0, sizeof(USBD_CDC_HandleTypeDef));
 464:application-library/usb-cdc-device.c **** 
 465:application-library/usb-cdc-device.c ****   pdev->pClassDataCmsit[pdev->classId] = (void *)hcdc;
 466:application-library/usb-cdc-device.c ****   pdev->pClassData = pdev->pClassDataCmsit[pdev->classId];
 467:application-library/usb-cdc-device.c **** 
 468:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 469:application-library/usb-cdc-device.c ****   {
 470:application-library/usb-cdc-device.c ****     /* Open EP IN */
 471:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_IN_EP, USBD_EP_TYPE_BULK,
 472:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 473:application-library/usb-cdc-device.c **** 
 474:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 475:application-library/usb-cdc-device.c **** 
 476:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 477:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 478:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 479:application-library/usb-cdc-device.c **** 
 480:application-library/usb-cdc-device.c ****     pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 481:application-library/usb-cdc-device.c **** 
 482:application-library/usb-cdc-device.c ****     /* Set bInterval for CDC CMD Endpoint */
 483:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_HS_BINTERVAL;
ARM GAS  /tmp/ccLxqwAV.s 			page 11


 484:application-library/usb-cdc-device.c ****   }
 485:application-library/usb-cdc-device.c ****   else
 486:application-library/usb-cdc-device.c ****   {
 487:application-library/usb-cdc-device.c ****     /* Open EP IN */
 488:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_IN_EP, USBD_EP_TYPE_BULK,
 489:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 490:application-library/usb-cdc-device.c **** 
 491:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 1U;
 492:application-library/usb-cdc-device.c **** 
 493:application-library/usb-cdc-device.c ****     /* Open EP OUT */
 494:application-library/usb-cdc-device.c ****     (void)USBD_LL_OpenEP(pdev, CDC_OUT_EP, USBD_EP_TYPE_BULK,
 495:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 496:application-library/usb-cdc-device.c **** 
 497:application-library/usb-cdc-device.c ****     pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 1U;
 498:application-library/usb-cdc-device.c **** 
 499:application-library/usb-cdc-device.c ****     /* Set bInterval for CMD Endpoint */
 500:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = CDC_FS_BINTERVAL;
 501:application-library/usb-cdc-device.c ****   }
 502:application-library/usb-cdc-device.c **** 
 503:application-library/usb-cdc-device.c ****   /* Open Command IN EP */
 504:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, CDC_CMD_EP, USBD_EP_TYPE_INTR, CDC_CMD_PACKET_SIZE);
 505:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
 506:application-library/usb-cdc-device.c **** 
 507:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = NULL;
 508:application-library/usb-cdc-device.c **** 
 509:application-library/usb-cdc-device.c ****   /* Init  physical Interface components */
 510:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Init();
 511:application-library/usb-cdc-device.c **** 
 512:application-library/usb-cdc-device.c ****   /* Init Xfer states */
 513:application-library/usb-cdc-device.c ****   hcdc->TxState = 0U;
 514:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 515:application-library/usb-cdc-device.c **** 
 516:application-library/usb-cdc-device.c ****   if (hcdc->RxBuffer == NULL)
 517:application-library/usb-cdc-device.c ****   {
 518:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 519:application-library/usb-cdc-device.c ****   }
 520:application-library/usb-cdc-device.c **** 
 521:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 522:application-library/usb-cdc-device.c ****   {
 523:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 524:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 525:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 526:application-library/usb-cdc-device.c ****   }
 527:application-library/usb-cdc-device.c ****   else
 528:application-library/usb-cdc-device.c ****   {
 529:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 530:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 531:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 532:application-library/usb-cdc-device.c ****   }
 533:application-library/usb-cdc-device.c **** 
 534:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 535:application-library/usb-cdc-device.c **** }
 536:application-library/usb-cdc-device.c **** 
 537:application-library/usb-cdc-device.c **** /**
 538:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Init
 539:application-library/usb-cdc-device.c ****   *         DeInitialize the CDC layer
 540:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
ARM GAS  /tmp/ccLxqwAV.s 			page 12


 541:application-library/usb-cdc-device.c ****   * @param  cfgidx: Configuration index
 542:application-library/usb-cdc-device.c ****   * @retval status
 543:application-library/usb-cdc-device.c ****   */
 544:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DeInit(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
 545:application-library/usb-cdc-device.c **** {
 546:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 547:application-library/usb-cdc-device.c **** 
 548:application-library/usb-cdc-device.c ****   /* Close EP IN */
 549:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_IN_EP);
 550:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 551:application-library/usb-cdc-device.c **** 
 552:application-library/usb-cdc-device.c ****   /* Close EP OUT */
 553:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_OUT_EP);
 554:application-library/usb-cdc-device.c ****   pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 555:application-library/usb-cdc-device.c **** 
 556:application-library/usb-cdc-device.c ****   /* Close Command IN EP */
 557:application-library/usb-cdc-device.c ****   (void)USBD_LL_CloseEP(pdev, CDC_CMD_EP);
 558:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 559:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 560:application-library/usb-cdc-device.c **** 
 561:application-library/usb-cdc-device.c ****   /* DeInit  physical Interface components */
 562:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] != NULL)
 563:application-library/usb-cdc-device.c ****   {
 564:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->DeInit();
 565:application-library/usb-cdc-device.c ****     (void)USBD_free(pdev->pClassDataCmsit[pdev->classId]);
 566:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 567:application-library/usb-cdc-device.c ****     pdev->pClassData = NULL;
 568:application-library/usb-cdc-device.c ****   }
 569:application-library/usb-cdc-device.c **** 
 570:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 571:application-library/usb-cdc-device.c **** }
 572:application-library/usb-cdc-device.c **** 
 573:application-library/usb-cdc-device.c **** /**
 574:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_Setup
 575:application-library/usb-cdc-device.c ****   *         Handle the CDC specific requests
 576:application-library/usb-cdc-device.c ****   * @param  pdev: instance
 577:application-library/usb-cdc-device.c ****   * @param  req: usb requests
 578:application-library/usb-cdc-device.c ****   * @retval status
 579:application-library/usb-cdc-device.c ****   */
 580:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_Setup(USBD_HandleTypeDef *pdev,
 581:application-library/usb-cdc-device.c ****                               USBD_SetupReqTypedef *req)
 582:application-library/usb-cdc-device.c **** {
 583:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 584:application-library/usb-cdc-device.c ****   uint16_t len;
 585:application-library/usb-cdc-device.c ****   uint8_t ifalt = 0U;
 586:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 587:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 588:application-library/usb-cdc-device.c **** 
 589:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 590:application-library/usb-cdc-device.c ****   {
 591:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 592:application-library/usb-cdc-device.c ****   }
 593:application-library/usb-cdc-device.c **** 
 594:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
 595:application-library/usb-cdc-device.c ****   {
 596:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
 597:application-library/usb-cdc-device.c ****       if (req->wLength != 0U)
ARM GAS  /tmp/ccLxqwAV.s 			page 13


 598:application-library/usb-cdc-device.c ****       {
 599:application-library/usb-cdc-device.c ****         if ((req->bmRequest & 0x80U) != 0U)
 600:application-library/usb-cdc-device.c ****         {
 601:application-library/usb-cdc-device.c ****           ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(req->bRequest,
 602:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 603:application-library/usb-cdc-device.c ****                                                                            req->wLength);
 604:application-library/usb-cdc-device.c **** 
 605:application-library/usb-cdc-device.c ****           len = MIN(CDC_REQ_MAX_DATA_SIZE, req->wLength);
 606:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendData(pdev, (uint8_t *)hcdc->data, len);
 607:application-library/usb-cdc-device.c ****         }
 608:application-library/usb-cdc-device.c ****         else
 609:application-library/usb-cdc-device.c ****         {
 610:application-library/usb-cdc-device.c ****           hcdc->CmdOpCode = req->bRequest;
 611:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 612:application-library/usb-cdc-device.c **** 
 613:application-library/usb-cdc-device.c ****           (void)USBD_CtlPrepareRx(pdev, (uint8_t *)hcdc->data, hcdc->CmdLength);
 614:application-library/usb-cdc-device.c ****         }
 615:application-library/usb-cdc-device.c ****       }
 616:application-library/usb-cdc-device.c ****       else
 617:application-library/usb-cdc-device.c ****       {
 618:application-library/usb-cdc-device.c ****         ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(req->bRequest,
 619:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
 620:application-library/usb-cdc-device.c ****       }
 621:application-library/usb-cdc-device.c ****       break;
 622:application-library/usb-cdc-device.c **** 
 623:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
 624:application-library/usb-cdc-device.c ****       switch (req->bRequest)
 625:application-library/usb-cdc-device.c ****       {
 626:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
 627:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
 628:application-library/usb-cdc-device.c ****           {
 629:application-library/usb-cdc-device.c ****             (void)USBD_CtlSendData(pdev, (uint8_t *)&status_info, 2U);
 630:application-library/usb-cdc-device.c ****           }
 631:application-library/usb-cdc-device.c ****           else
 632:application-library/usb-cdc-device.c ****           {
 633:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 634:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 635:application-library/usb-cdc-device.c ****           }
 636:application-library/usb-cdc-device.c ****           break;
 637:application-library/usb-cdc-device.c **** 
 638:application-library/usb-cdc-device.c ****         case USB_REQ_GET_INTERFACE:
 639:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
 640:application-library/usb-cdc-device.c ****           {
 641:application-library/usb-cdc-device.c ****             (void)USBD_CtlSendData(pdev, &ifalt, 1U);
 642:application-library/usb-cdc-device.c ****           }
 643:application-library/usb-cdc-device.c ****           else
 644:application-library/usb-cdc-device.c ****           {
 645:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 646:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 647:application-library/usb-cdc-device.c ****           }
 648:application-library/usb-cdc-device.c ****           break;
 649:application-library/usb-cdc-device.c **** 
 650:application-library/usb-cdc-device.c ****         case USB_REQ_SET_INTERFACE:
 651:application-library/usb-cdc-device.c ****           if (pdev->dev_state != USBD_STATE_CONFIGURED)
 652:application-library/usb-cdc-device.c ****           {
 653:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
 654:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
ARM GAS  /tmp/ccLxqwAV.s 			page 14


 655:application-library/usb-cdc-device.c ****           }
 656:application-library/usb-cdc-device.c ****           break;
 657:application-library/usb-cdc-device.c **** 
 658:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
 659:application-library/usb-cdc-device.c ****           break;
 660:application-library/usb-cdc-device.c **** 
 661:application-library/usb-cdc-device.c ****         default:
 662:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
 663:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 664:application-library/usb-cdc-device.c ****           break;
 665:application-library/usb-cdc-device.c ****       }
 666:application-library/usb-cdc-device.c ****       break;
 667:application-library/usb-cdc-device.c **** 
 668:application-library/usb-cdc-device.c ****     default:
 669:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
 670:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 671:application-library/usb-cdc-device.c ****       break;
 672:application-library/usb-cdc-device.c ****   }
 673:application-library/usb-cdc-device.c **** 
 674:application-library/usb-cdc-device.c ****   return (uint8_t)ret;
 675:application-library/usb-cdc-device.c **** }
 676:application-library/usb-cdc-device.c **** 
 677:application-library/usb-cdc-device.c **** 
 678:application-library/usb-cdc-device.c **** /**
 679:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataIn
 680:application-library/usb-cdc-device.c ****   *         Data sent on non-control IN endpoint
 681:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 682:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 683:application-library/usb-cdc-device.c ****   * @retval status
 684:application-library/usb-cdc-device.c ****   */
 685:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataIn(USBD_HandleTypeDef *pdev, uint8_t epnum)
 686:application-library/usb-cdc-device.c **** {
 687:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 688:application-library/usb-cdc-device.c ****   PCD_HandleTypeDef *hpcd = (PCD_HandleTypeDef *)pdev->pData;
 689:application-library/usb-cdc-device.c **** 
 690:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 691:application-library/usb-cdc-device.c ****   {
 692:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 693:application-library/usb-cdc-device.c ****   }
 694:application-library/usb-cdc-device.c **** 
 695:application-library/usb-cdc-device.c ****   hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 696:application-library/usb-cdc-device.c **** 
 697:application-library/usb-cdc-device.c ****   if ((pdev->ep_in[epnum & 0xFU].total_length > 0U) &&
 698:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 699:application-library/usb-cdc-device.c ****   {
 700:application-library/usb-cdc-device.c ****     /* Update the packet total length */
 701:application-library/usb-cdc-device.c ****     pdev->ep_in[epnum & 0xFU].total_length = 0U;
 702:application-library/usb-cdc-device.c **** 
 703:application-library/usb-cdc-device.c ****     /* Send ZLP */
 704:application-library/usb-cdc-device.c ****     (void)USBD_LL_Transmit(pdev, epnum, NULL, 0U);
 705:application-library/usb-cdc-device.c ****   }
 706:application-library/usb-cdc-device.c ****   else
 707:application-library/usb-cdc-device.c ****   {
 708:application-library/usb-cdc-device.c ****     hcdc->TxState = 0U;
 709:application-library/usb-cdc-device.c **** 
 710:application-library/usb-cdc-device.c ****     if (((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->TransmitCplt != NULL)
 711:application-library/usb-cdc-device.c ****     {
ARM GAS  /tmp/ccLxqwAV.s 			page 15


 712:application-library/usb-cdc-device.c ****       ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->TransmitCplt(hcdc->TxBuffer, &hcdc->
 713:application-library/usb-cdc-device.c ****     }
 714:application-library/usb-cdc-device.c ****   }
 715:application-library/usb-cdc-device.c **** 
 716:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 717:application-library/usb-cdc-device.c **** }
 718:application-library/usb-cdc-device.c **** 
 719:application-library/usb-cdc-device.c **** 
 720:application-library/usb-cdc-device.c **** 
 721:application-library/usb-cdc-device.c **** /**
 722:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_DataOut
 723:application-library/usb-cdc-device.c ****   *         Data received on non-control Out endpoint
 724:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 725:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint number
 726:application-library/usb-cdc-device.c ****   * @retval status
 727:application-library/usb-cdc-device.c ****   */
 728:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_DataOut(USBD_HandleTypeDef *pdev, uint8_t epnum)
 729:application-library/usb-cdc-device.c **** {
 730:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 731:application-library/usb-cdc-device.c **** 
 732:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 733:application-library/usb-cdc-device.c ****   {
 734:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 735:application-library/usb-cdc-device.c ****   }
 736:application-library/usb-cdc-device.c **** 
 737:application-library/usb-cdc-device.c ****   /* Get the received data length */
 738:application-library/usb-cdc-device.c ****   hcdc->RxLength = USBD_LL_GetRxDataSize(pdev, epnum);
 739:application-library/usb-cdc-device.c **** 
 740:application-library/usb-cdc-device.c ****   /* USB data will be immediately processed, this allow next USB traffic being
 741:application-library/usb-cdc-device.c ****   NAKed till the end of the application Xfer */
 742:application-library/usb-cdc-device.c **** 
 743:application-library/usb-cdc-device.c ****   ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Receive(hcdc->RxBuffer, &hcdc->RxLength)
 744:application-library/usb-cdc-device.c **** 
 745:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 746:application-library/usb-cdc-device.c **** }
 747:application-library/usb-cdc-device.c **** 
 748:application-library/usb-cdc-device.c **** /**
 749:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_EP0_RxReady
 750:application-library/usb-cdc-device.c ****   *         Handle EP0 Rx Ready event
 751:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 752:application-library/usb-cdc-device.c ****   * @retval status
 753:application-library/usb-cdc-device.c ****   */
 754:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_EP0_RxReady(USBD_HandleTypeDef *pdev)
 755:application-library/usb-cdc-device.c **** {
  95              		.loc 1 755 0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99              	.LVL4:
 100 0000 10B5     		push	{r4, lr}
 101              	.LCFI0:
 102              		.cfi_def_cfa_offset 8
 103              		.cfi_offset 4, -8
 104              		.cfi_offset 14, -4
 756:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 105              		.loc 1 756 0
 106 0002 D0F8D432 		ldr	r3, [r0, #724]
ARM GAS  /tmp/ccLxqwAV.s 			page 16


 107 0006 03F1B002 		add	r2, r3, #176
 108 000a 50F82240 		ldr	r4, [r0, r2, lsl #2]
 109              	.LVL5:
 757:application-library/usb-cdc-device.c **** 
 758:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 110              		.loc 1 758 0
 111 000e 8CB1     		cbz	r4, .L6
 759:application-library/usb-cdc-device.c ****   {
 760:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 761:application-library/usb-cdc-device.c ****   }
 762:application-library/usb-cdc-device.c **** 
 763:application-library/usb-cdc-device.c ****   if ((pdev->pUserData[pdev->classId] != NULL) && (hcdc->CmdOpCode != 0xFFU))
 112              		.loc 1 763 0
 113 0010 00EB8200 		add	r0, r0, r2, lsl #2
 114              	.LVL6:
 115 0014 4368     		ldr	r3, [r0, #4]
 116 0016 7BB1     		cbz	r3, .L7
 117              		.loc 1 763 0 is_stmt 0 discriminator 1
 118 0018 94F80002 		ldrb	r0, [r4, #512]	@ zero_extendqisi2
 119 001c FF28     		cmp	r0, #255
 120 001e 0DD0     		beq	.L8
 764:application-library/usb-cdc-device.c ****   {
 765:application-library/usb-cdc-device.c ****     ((USBD_CDC_ItfTypeDef *)pdev->pUserData[pdev->classId])->Control(hcdc->CmdOpCode,
 121              		.loc 1 765 0 is_stmt 1
 122 0020 9B68     		ldr	r3, [r3, #8]
 123 0022 94F80122 		ldrb	r2, [r4, #513]	@ zero_extendqisi2
 124 0026 2146     		mov	r1, r4
 125 0028 9847     		blx	r3
 126              	.LVL7:
 766:application-library/usb-cdc-device.c ****                                                                      (uint8_t *)hcdc->data,
 767:application-library/usb-cdc-device.c ****                                                                      (uint16_t)hcdc->CmdLength);
 768:application-library/usb-cdc-device.c ****     hcdc->CmdOpCode = 0xFFU;
 127              		.loc 1 768 0
 128 002a FF23     		movs	r3, #255
 129 002c 84F80032 		strb	r3, [r4, #512]
 769:application-library/usb-cdc-device.c ****   }
 770:application-library/usb-cdc-device.c **** 
 771:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 130              		.loc 1 771 0
 131 0030 0020     		movs	r0, #0
 132 0032 10BD     		pop	{r4, pc}
 133              	.LVL8:
 134              	.L6:
 760:application-library/usb-cdc-device.c ****   }
 135              		.loc 1 760 0
 136 0034 0320     		movs	r0, #3
 137              	.LVL9:
 138 0036 10BD     		pop	{r4, pc}
 139              	.LVL10:
 140              	.L7:
 141              		.loc 1 771 0
 142 0038 0020     		movs	r0, #0
 143 003a 10BD     		pop	{r4, pc}
 144              	.LVL11:
 145              	.L8:
 146 003c 0020     		movs	r0, #0
 772:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccLxqwAV.s 			page 17


 147              		.loc 1 772 0
 148 003e 10BD     		pop	{r4, pc}
 149              		.cfi_endproc
 150              	.LFE144:
 152              		.section	.text.USBD_CDC_GetDeviceQualifierDescriptor,"ax",%progbits
 153              		.align	1
 154              		.global	USBD_CDC_GetDeviceQualifierDescriptor
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	USBD_CDC_GetDeviceQualifierDescriptor:
 161              	.LFB148:
 773:application-library/usb-cdc-device.c **** /**
 774:application-library/usb-cdc-device.c ****   * @brief  Get full speed configuration descriptor.
 775:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 776:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 777:application-library/usb-cdc-device.c ****   */
 778:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetFSCfgDesc(uint16_t *length)
 779:application-library/usb-cdc-device.c **** {
 780:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 781:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 782:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 783:application-library/usb-cdc-device.c **** 
 784:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 785:application-library/usb-cdc-device.c ****   {
 786:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 787:application-library/usb-cdc-device.c ****   }
 788:application-library/usb-cdc-device.c **** 
 789:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 790:application-library/usb-cdc-device.c ****   {
 791:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 792:application-library/usb-cdc-device.c ****   }
 793:application-library/usb-cdc-device.c **** 
 794:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 795:application-library/usb-cdc-device.c ****   {
 796:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 797:application-library/usb-cdc-device.c ****   }
 798:application-library/usb-cdc-device.c **** 
 799:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 800:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 801:application-library/usb-cdc-device.c **** }
 802:application-library/usb-cdc-device.c **** 
 803:application-library/usb-cdc-device.c **** /**
 804:application-library/usb-cdc-device.c ****   * @brief  Return configuration descriptor
 805:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 806:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 807:application-library/usb-cdc-device.c ****   */
 808:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetHSCfgDesc(uint16_t *length)
 809:application-library/usb-cdc-device.c **** {
 810:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 811:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 812:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 813:application-library/usb-cdc-device.c **** 
 814:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 815:application-library/usb-cdc-device.c ****   {
 816:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_HS_BINTERVAL;
ARM GAS  /tmp/ccLxqwAV.s 			page 18


 817:application-library/usb-cdc-device.c ****   }
 818:application-library/usb-cdc-device.c **** 
 819:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 820:application-library/usb-cdc-device.c ****   {
 821:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 822:application-library/usb-cdc-device.c ****   }
 823:application-library/usb-cdc-device.c **** 
 824:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 825:application-library/usb-cdc-device.c ****   {
 826:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_HS_MAX_PACKET_SIZE;
 827:application-library/usb-cdc-device.c ****   }
 828:application-library/usb-cdc-device.c **** 
 829:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 830:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 831:application-library/usb-cdc-device.c **** }
 832:application-library/usb-cdc-device.c **** 
 833:application-library/usb-cdc-device.c **** /**
 834:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_GetOtherSpeedCfgDesc
 835:application-library/usb-cdc-device.c ****   *         Return configuration descriptor
 836:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 837:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 838:application-library/usb-cdc-device.c ****   */
 839:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetOtherSpeedCfgDesc(uint16_t *length)
 840:application-library/usb-cdc-device.c **** {
 841:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 842:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 843:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 844:application-library/usb-cdc-device.c **** 
 845:application-library/usb-cdc-device.c ****   if (pEpCmdDesc != NULL)
 846:application-library/usb-cdc-device.c ****   {
 847:application-library/usb-cdc-device.c ****     pEpCmdDesc->bInterval = CDC_FS_BINTERVAL;
 848:application-library/usb-cdc-device.c ****   }
 849:application-library/usb-cdc-device.c **** 
 850:application-library/usb-cdc-device.c ****   if (pEpOutDesc != NULL)
 851:application-library/usb-cdc-device.c ****   {
 852:application-library/usb-cdc-device.c ****     pEpOutDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 853:application-library/usb-cdc-device.c ****   }
 854:application-library/usb-cdc-device.c **** 
 855:application-library/usb-cdc-device.c ****   if (pEpInDesc != NULL)
 856:application-library/usb-cdc-device.c ****   {
 857:application-library/usb-cdc-device.c ****     pEpInDesc->wMaxPacketSize = CDC_DATA_FS_MAX_PACKET_SIZE;
 858:application-library/usb-cdc-device.c ****   }
 859:application-library/usb-cdc-device.c **** 
 860:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_CfgDesc);
 861:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 862:application-library/usb-cdc-device.c **** }
 863:application-library/usb-cdc-device.c **** 
 864:application-library/usb-cdc-device.c **** /**
 865:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_GetDeviceQualifierDescriptor
 866:application-library/usb-cdc-device.c ****   *         return Device Qualifier descriptor
 867:application-library/usb-cdc-device.c ****   * @param  length : pointer data length
 868:application-library/usb-cdc-device.c ****   * @retval pointer to descriptor buffer
 869:application-library/usb-cdc-device.c ****   */
 870:application-library/usb-cdc-device.c **** uint8_t *USBD_CDC_GetDeviceQualifierDescriptor(uint16_t *length)
 871:application-library/usb-cdc-device.c **** {
 162              		.loc 1 871 0
 163              		.cfi_startproc
ARM GAS  /tmp/ccLxqwAV.s 			page 19


 164              		@ args = 0, pretend = 0, frame = 0
 165              		@ frame_needed = 0, uses_anonymous_args = 0
 166              		@ link register save eliminated.
 167              	.LVL12:
 872:application-library/usb-cdc-device.c ****   *length = (uint16_t)sizeof(USBD_CDC_DeviceQualifierDesc);
 168              		.loc 1 872 0
 169 0000 0A23     		movs	r3, #10
 170 0002 0380     		strh	r3, [r0]	@ movhi
 873:application-library/usb-cdc-device.c **** 
 874:application-library/usb-cdc-device.c ****   return USBD_CDC_DeviceQualifierDesc;
 875:application-library/usb-cdc-device.c **** }
 171              		.loc 1 875 0
 172 0004 0048     		ldr	r0, .L11
 173              	.LVL13:
 174 0006 7047     		bx	lr
 175              	.L12:
 176              		.align	2
 177              	.L11:
 178 0008 00000000 		.word	.LANCHOR0
 179              		.cfi_endproc
 180              	.LFE148:
 182              		.section	.text.USBD_GetLen,"ax",%progbits
 183              		.align	1
 184              		.syntax unified
 185              		.thumb
 186              		.thumb_func
 187              		.fpu fpv4-sp-d16
 189              	USBD_GetLen:
 190              	.LFB190:
 876:application-library/usb-cdc-device.c **** 
 877:application-library/usb-cdc-device.c **** /**
 878:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_RegisterInterface
 879:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 880:application-library/usb-cdc-device.c ****   * @param  fops: CD  Interface callback
 881:application-library/usb-cdc-device.c ****   * @retval status
 882:application-library/usb-cdc-device.c ****   */
 883:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_RegisterInterface(USBD_HandleTypeDef *pdev,
 884:application-library/usb-cdc-device.c ****                                    USBD_CDC_ItfTypeDef *fops)
 885:application-library/usb-cdc-device.c **** {
 886:application-library/usb-cdc-device.c ****   if (fops == NULL)
 887:application-library/usb-cdc-device.c ****   {
 888:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 889:application-library/usb-cdc-device.c ****   }
 890:application-library/usb-cdc-device.c **** 
 891:application-library/usb-cdc-device.c ****   pdev->pUserData[pdev->classId] = fops;
 892:application-library/usb-cdc-device.c **** 
 893:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 894:application-library/usb-cdc-device.c **** }
 895:application-library/usb-cdc-device.c **** 
 896:application-library/usb-cdc-device.c **** /**
 897:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetTxBuffer
 898:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 899:application-library/usb-cdc-device.c ****   * @param  pbuff: Tx Buffer
 900:application-library/usb-cdc-device.c ****   * @param  length: Tx Buffer length
 901:application-library/usb-cdc-device.c ****   * @retval status
 902:application-library/usb-cdc-device.c ****   */
 903:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetTxBuffer(USBD_HandleTypeDef *pdev,
ARM GAS  /tmp/ccLxqwAV.s 			page 20


 904:application-library/usb-cdc-device.c ****                              uint8_t *pbuff, uint32_t length)
 905:application-library/usb-cdc-device.c **** {
 906:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 907:application-library/usb-cdc-device.c **** 
 908:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 909:application-library/usb-cdc-device.c ****   {
 910:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 911:application-library/usb-cdc-device.c ****   }
 912:application-library/usb-cdc-device.c **** 
 913:application-library/usb-cdc-device.c ****   hcdc->TxBuffer = pbuff;
 914:application-library/usb-cdc-device.c ****   hcdc->TxLength = length;
 915:application-library/usb-cdc-device.c **** 
 916:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 917:application-library/usb-cdc-device.c **** }
 918:application-library/usb-cdc-device.c **** 
 919:application-library/usb-cdc-device.c **** /**
 920:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_SetRxBuffer
 921:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 922:application-library/usb-cdc-device.c ****   * @param  pbuff: Rx Buffer
 923:application-library/usb-cdc-device.c ****   * @retval status
 924:application-library/usb-cdc-device.c ****   */
 925:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_SetRxBuffer(USBD_HandleTypeDef *pdev, uint8_t *pbuff)
 926:application-library/usb-cdc-device.c **** {
 927:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 928:application-library/usb-cdc-device.c **** 
 929:application-library/usb-cdc-device.c ****   if (hcdc == NULL)
 930:application-library/usb-cdc-device.c ****   {
 931:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 932:application-library/usb-cdc-device.c ****   }
 933:application-library/usb-cdc-device.c **** 
 934:application-library/usb-cdc-device.c ****   hcdc->RxBuffer = pbuff;
 935:application-library/usb-cdc-device.c **** 
 936:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
 937:application-library/usb-cdc-device.c **** }
 938:application-library/usb-cdc-device.c **** 
 939:application-library/usb-cdc-device.c **** /**
 940:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_TransmitPacket
 941:application-library/usb-cdc-device.c ****   *         Transmit packet on IN endpoint
 942:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 943:application-library/usb-cdc-device.c ****   * @retval status
 944:application-library/usb-cdc-device.c ****   */
 945:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_TransmitPacket(USBD_HandleTypeDef *pdev)
 946:application-library/usb-cdc-device.c **** {
 947:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 948:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_BUSY;
 949:application-library/usb-cdc-device.c **** 
 950:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 951:application-library/usb-cdc-device.c ****   {
 952:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 953:application-library/usb-cdc-device.c ****   }
 954:application-library/usb-cdc-device.c **** 
 955:application-library/usb-cdc-device.c ****   if (hcdc->TxState == 0U)
 956:application-library/usb-cdc-device.c ****   {
 957:application-library/usb-cdc-device.c ****     /* Tx Transfer in progress */
 958:application-library/usb-cdc-device.c ****     hcdc->TxState = 1U;
 959:application-library/usb-cdc-device.c **** 
 960:application-library/usb-cdc-device.c ****     /* Update the packet total length */
ARM GAS  /tmp/ccLxqwAV.s 			page 21


 961:application-library/usb-cdc-device.c ****     pdev->ep_in[CDC_IN_EP & 0xFU].total_length = hcdc->TxLength;
 962:application-library/usb-cdc-device.c **** 
 963:application-library/usb-cdc-device.c ****     /* Transmit next packet */
 964:application-library/usb-cdc-device.c ****     (void)USBD_LL_Transmit(pdev, CDC_IN_EP, hcdc->TxBuffer, hcdc->TxLength);
 965:application-library/usb-cdc-device.c **** 
 966:application-library/usb-cdc-device.c ****     ret = USBD_OK;
 967:application-library/usb-cdc-device.c ****   }
 968:application-library/usb-cdc-device.c **** 
 969:application-library/usb-cdc-device.c ****   return (uint8_t)ret;
 970:application-library/usb-cdc-device.c **** }
 971:application-library/usb-cdc-device.c **** 
 972:application-library/usb-cdc-device.c **** /**
 973:application-library/usb-cdc-device.c ****   * @brief  USBD_CDC_ReceivePacket
 974:application-library/usb-cdc-device.c ****   *         prepare OUT Endpoint for reception
 975:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
 976:application-library/usb-cdc-device.c ****   * @retval status
 977:application-library/usb-cdc-device.c ****   */
 978:application-library/usb-cdc-device.c **** uint8_t USBD_CDC_ReceivePacket(USBD_HandleTypeDef *pdev)
 979:application-library/usb-cdc-device.c **** {
 980:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 981:application-library/usb-cdc-device.c **** 
 982:application-library/usb-cdc-device.c ****   if (pdev->pClassDataCmsit[pdev->classId] == NULL)
 983:application-library/usb-cdc-device.c ****   {
 984:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_FAIL;
 985:application-library/usb-cdc-device.c ****   }
 986:application-library/usb-cdc-device.c **** 
 987:application-library/usb-cdc-device.c ****   if (pdev->dev_speed == USBD_SPEED_HIGH)
 988:application-library/usb-cdc-device.c ****   {
 989:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 990:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 991:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 992:application-library/usb-cdc-device.c ****   }
 993:application-library/usb-cdc-device.c ****   else
 994:application-library/usb-cdc-device.c ****   {
 995:application-library/usb-cdc-device.c ****     /* Prepare Out endpoint to receive next packet */
 996:application-library/usb-cdc-device.c ****     (void)USBD_LL_PrepareReceive(pdev, CDC_OUT_EP, hcdc->RxBuffer,
 997:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 998:application-library/usb-cdc-device.c ****   }
 999:application-library/usb-cdc-device.c **** 
1000:application-library/usb-cdc-device.c ****   return (uint8_t)USBD_OK;
1001:application-library/usb-cdc-device.c **** }
1002:application-library/usb-cdc-device.c **** 
1003:application-library/usb-cdc-device.c **** /* usbd_cdc.c END ---- ---- ---- ---- */
1004:application-library/usb-cdc-device.c **** 
1005:application-library/usb-cdc-device.c **** /* usbd_core.c BEGIN ---- ---- ---- ---- */
1006:application-library/usb-cdc-device.c **** 
1007:application-library/usb-cdc-device.c **** /**
1008:application-library/usb-cdc-device.c ****   * @brief  Initializes the device stack and load the class driver
1009:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1010:application-library/usb-cdc-device.c ****   * @param  pdesc: Descriptor structure address
1011:application-library/usb-cdc-device.c ****   * @param  id: Low level core index
1012:application-library/usb-cdc-device.c ****   * @retval None
1013:application-library/usb-cdc-device.c ****   */
1014:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Init(USBD_HandleTypeDef *pdev,
1015:application-library/usb-cdc-device.c ****                              USBD_DescriptorsTypeDef *pdesc, uint8_t id)
1016:application-library/usb-cdc-device.c **** {
1017:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
ARM GAS  /tmp/ccLxqwAV.s 			page 22


1018:application-library/usb-cdc-device.c ****   /* Check whether the USB Host handle is valid */
1019:application-library/usb-cdc-device.c ****   if (pdev == NULL)
1020:application-library/usb-cdc-device.c ****   {
1021:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1022:application-library/usb-cdc-device.c ****   }
1023:application-library/usb-cdc-device.c ****   /* Unlink previous class*/
1024:application-library/usb-cdc-device.c ****   pdev->pClass[0] = NULL;
1025:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
1026:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
1027:application-library/usb-cdc-device.c **** 
1028:application-library/usb-cdc-device.c ****   /* Assign USBD Descriptors */
1029:application-library/usb-cdc-device.c ****   if (pdesc != NULL)
1030:application-library/usb-cdc-device.c ****   {
1031:application-library/usb-cdc-device.c ****     pdev->pDesc = pdesc;
1032:application-library/usb-cdc-device.c ****   }
1033:application-library/usb-cdc-device.c ****   /* Set Device initial State */
1034:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;  // DEFAULT - ADDRESSED - CONFIGURED - SUSPEND
1035:application-library/usb-cdc-device.c ****   pdev->id = id; // DEVICE_FS (0)
1036:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
1037:application-library/usb-cdc-device.c ****   ret = USBD_LL_Init(pdev); // configure the TX or the RX FIFO of the new defined endport
1038:application-library/usb-cdc-device.c **** 
1039:application-library/usb-cdc-device.c ****   return ret;
1040:application-library/usb-cdc-device.c **** }
1041:application-library/usb-cdc-device.c **** 
1042:application-library/usb-cdc-device.c **** /**
1043:application-library/usb-cdc-device.c ****   * @brief  USBD_DeInit
1044:application-library/usb-cdc-device.c ****   *         Re-Initialize the device library
1045:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1046:application-library/usb-cdc-device.c ****   * @retval status: status
1047:application-library/usb-cdc-device.c ****   */
1048:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_DeInit(USBD_HandleTypeDef *pdev)
1049:application-library/usb-cdc-device.c **** {
1050:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1051:application-library/usb-cdc-device.c **** 
1052:application-library/usb-cdc-device.c ****   /* Disconnect the USB Device */
1053:application-library/usb-cdc-device.c ****   (void)USBD_LL_Stop(pdev);
1054:application-library/usb-cdc-device.c **** 
1055:application-library/usb-cdc-device.c ****   /* Set Default State */
1056:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
1057:application-library/usb-cdc-device.c **** 
1058:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1059:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1060:application-library/usb-cdc-device.c ****   {
1061:application-library/usb-cdc-device.c ****     pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config);
1062:application-library/usb-cdc-device.c ****   }
1063:application-library/usb-cdc-device.c **** 
1064:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
1065:application-library/usb-cdc-device.c **** 
1066:application-library/usb-cdc-device.c ****   /* Free Device descriptors resources */
1067:application-library/usb-cdc-device.c ****   pdev->pDesc = NULL;
1068:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
1069:application-library/usb-cdc-device.c **** 
1070:application-library/usb-cdc-device.c ****   /* DeInitialize low level driver */
1071:application-library/usb-cdc-device.c ****   ret = USBD_LL_DeInit(pdev);
1072:application-library/usb-cdc-device.c **** 
1073:application-library/usb-cdc-device.c ****   return ret;
1074:application-library/usb-cdc-device.c **** }
ARM GAS  /tmp/ccLxqwAV.s 			page 23


1075:application-library/usb-cdc-device.c **** 
1076:application-library/usb-cdc-device.c **** /**
1077:application-library/usb-cdc-device.c ****   * @brief  USBD_RegisterClass
1078:application-library/usb-cdc-device.c ****   *         Link class driver to Device Core.
1079:application-library/usb-cdc-device.c ****   * @param  pDevice : Device Handle
1080:application-library/usb-cdc-device.c ****   * @param  pclass: Class handle
1081:application-library/usb-cdc-device.c ****   * @retval USBD Status
1082:application-library/usb-cdc-device.c ****   */
1083:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_RegisterClass(USBD_HandleTypeDef *pdev, USBD_ClassTypeDef *pclass)
1084:application-library/usb-cdc-device.c **** {
1085:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
1086:application-library/usb-cdc-device.c **** 
1087:application-library/usb-cdc-device.c ****   if (pclass == NULL)
1088:application-library/usb-cdc-device.c ****   {
1089:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1090:application-library/usb-cdc-device.c ****   }
1091:application-library/usb-cdc-device.c ****   /* link the class to the USB Device handle */
1092:application-library/usb-cdc-device.c ****   pdev->pClass[0] = pclass;
1093:application-library/usb-cdc-device.c **** 
1094:application-library/usb-cdc-device.c ****   /* Get Device Configuration Descriptor */
1095:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId]->GetFSConfigDescriptor != NULL)
1096:application-library/usb-cdc-device.c ****   {
1097:application-library/usb-cdc-device.c ****     pdev->pConfDesc = (void *)pdev->pClass[pdev->classId]->GetFSConfigDescriptor(&len);
1098:application-library/usb-cdc-device.c ****   }
1099:application-library/usb-cdc-device.c ****   /* Increment the NumClasses */
1100:application-library/usb-cdc-device.c ****   pdev->NumClasses ++;
1101:application-library/usb-cdc-device.c ****   return USBD_OK;
1102:application-library/usb-cdc-device.c **** }
1103:application-library/usb-cdc-device.c **** 
1104:application-library/usb-cdc-device.c **** 
1105:application-library/usb-cdc-device.c **** /**
1106:application-library/usb-cdc-device.c ****   * @brief  USBD_Start
1107:application-library/usb-cdc-device.c ****   *         Start the USB Device Core.
1108:application-library/usb-cdc-device.c ****   * @param  pdev: Device Handle
1109:application-library/usb-cdc-device.c ****   * @retval USBD Status
1110:application-library/usb-cdc-device.c ****   */
1111:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Start(USBD_HandleTypeDef *pdev)
1112:application-library/usb-cdc-device.c **** {
1113:application-library/usb-cdc-device.c ****   /* Start the low level driver  */
1114:application-library/usb-cdc-device.c ****   // return USBD_LL_Start(pdev);
1115:application-library/usb-cdc-device.c ****   HAL_StatusTypeDef hal_status = HAL_OK;
1116:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef usb_status = USBD_OK;
1117:application-library/usb-cdc-device.c **** 
1118:application-library/usb-cdc-device.c ****   /* Enable USB Transciver */
1119:application-library/usb-cdc-device.c ****   hal_status = HAL_PCD_Start(pdev->pData);
1120:application-library/usb-cdc-device.c **** 
1121:application-library/usb-cdc-device.c ****   // usb_status =  USBD_Get_USB_Status(hal_status); /* defined in usbd_conf.c */
1122:application-library/usb-cdc-device.c ****   switch (hal_status)
1123:application-library/usb-cdc-device.c ****   {
1124:application-library/usb-cdc-device.c ****     case HAL_OK :
1125:application-library/usb-cdc-device.c ****       usb_status = USBD_OK;
1126:application-library/usb-cdc-device.c ****     break;
1127:application-library/usb-cdc-device.c ****     case HAL_ERROR :
1128:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1129:application-library/usb-cdc-device.c ****     break;
1130:application-library/usb-cdc-device.c ****     case HAL_BUSY :
1131:application-library/usb-cdc-device.c ****       usb_status = USBD_BUSY;
ARM GAS  /tmp/ccLxqwAV.s 			page 24


1132:application-library/usb-cdc-device.c ****     break;
1133:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
1134:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1135:application-library/usb-cdc-device.c ****     break;
1136:application-library/usb-cdc-device.c ****     default :
1137:application-library/usb-cdc-device.c ****       usb_status = USBD_FAIL;
1138:application-library/usb-cdc-device.c ****     break;
1139:application-library/usb-cdc-device.c ****   }
1140:application-library/usb-cdc-device.c **** 
1141:application-library/usb-cdc-device.c ****   return usb_status;
1142:application-library/usb-cdc-device.c **** }
1143:application-library/usb-cdc-device.c **** 
1144:application-library/usb-cdc-device.c **** 
1145:application-library/usb-cdc-device.c **** /**
1146:application-library/usb-cdc-device.c ****   * @brief  USBD_Stop
1147:application-library/usb-cdc-device.c ****   *         Stop the USB Device Core.
1148:application-library/usb-cdc-device.c ****   * @param  pdev: Device Handle
1149:application-library/usb-cdc-device.c ****   * @retval USBD Status
1150:application-library/usb-cdc-device.c ****   */
1151:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_Stop(USBD_HandleTypeDef *pdev)
1152:application-library/usb-cdc-device.c **** {
1153:application-library/usb-cdc-device.c ****   /* Disconnect USB Device */
1154:application-library/usb-cdc-device.c ****   (void)USBD_LL_Stop(pdev);
1155:application-library/usb-cdc-device.c **** 
1156:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1157:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1158:application-library/usb-cdc-device.c ****   {
1159:application-library/usb-cdc-device.c ****     (void)pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config);
1160:application-library/usb-cdc-device.c ****   }
1161:application-library/usb-cdc-device.c **** 
1162:application-library/usb-cdc-device.c ****   return USBD_OK;
1163:application-library/usb-cdc-device.c **** }
1164:application-library/usb-cdc-device.c **** 
1165:application-library/usb-cdc-device.c **** /**
1166:application-library/usb-cdc-device.c ****   * @brief  USBD_RunTestMode
1167:application-library/usb-cdc-device.c ****   *         Launch test mode process
1168:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1169:application-library/usb-cdc-device.c ****   * @retval status
1170:application-library/usb-cdc-device.c ****   */
1171:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_RunTestMode(USBD_HandleTypeDef *pdev)
1172:application-library/usb-cdc-device.c **** {
1173:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
1174:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1175:application-library/usb-cdc-device.c **** 
1176:application-library/usb-cdc-device.c ****   return USBD_OK;
1177:application-library/usb-cdc-device.c **** }
1178:application-library/usb-cdc-device.c **** 
1179:application-library/usb-cdc-device.c **** /**
1180:application-library/usb-cdc-device.c ****   * @brief  USBD_SetClassConfig
1181:application-library/usb-cdc-device.c ****   *        Configure device and start the interface
1182:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1183:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1184:application-library/usb-cdc-device.c ****   * @retval status
1185:application-library/usb-cdc-device.c ****   */
1186:application-library/usb-cdc-device.c **** 
1187:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_SetClassConfig(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
1188:application-library/usb-cdc-device.c **** {
ARM GAS  /tmp/ccLxqwAV.s 			page 25


1189:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1190:application-library/usb-cdc-device.c **** 
1191:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1192:application-library/usb-cdc-device.c ****   {
1193:application-library/usb-cdc-device.c ****     /* Set configuration and Start the Class */
1194:application-library/usb-cdc-device.c ****     ret = (USBD_StatusTypeDef)pdev->pClass[0]->Init(pdev, cfgidx);
1195:application-library/usb-cdc-device.c ****   }
1196:application-library/usb-cdc-device.c **** 
1197:application-library/usb-cdc-device.c ****   return ret;
1198:application-library/usb-cdc-device.c **** }
1199:application-library/usb-cdc-device.c **** 
1200:application-library/usb-cdc-device.c **** /**
1201:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrClassConfig
1202:application-library/usb-cdc-device.c ****   *         Clear current configuration
1203:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1204:application-library/usb-cdc-device.c ****   * @param  cfgidx: configuration index
1205:application-library/usb-cdc-device.c ****   * @retval status: USBD_StatusTypeDef
1206:application-library/usb-cdc-device.c ****   */
1207:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_ClrClassConfig(USBD_HandleTypeDef *pdev, uint8_t cfgidx)
1208:application-library/usb-cdc-device.c **** {
1209:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1210:application-library/usb-cdc-device.c **** 
1211:application-library/usb-cdc-device.c ****   /* Clear configuration  and De-initialize the Class process */
1212:application-library/usb-cdc-device.c ****   if (pdev->pClass[0]->DeInit(pdev, cfgidx) != 0U)
1213:application-library/usb-cdc-device.c ****   {
1214:application-library/usb-cdc-device.c ****     ret = USBD_FAIL;
1215:application-library/usb-cdc-device.c ****   }
1216:application-library/usb-cdc-device.c **** 
1217:application-library/usb-cdc-device.c ****   return ret;
1218:application-library/usb-cdc-device.c **** }
1219:application-library/usb-cdc-device.c **** 
1220:application-library/usb-cdc-device.c **** 
1221:application-library/usb-cdc-device.c **** /**
1222:application-library/usb-cdc-device.c ****   * @brief  Handle the setup stage
1223:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1224:application-library/usb-cdc-device.c ****   * @retval status
1225:application-library/usb-cdc-device.c ****   */
1226:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SetupStage(USBD_HandleTypeDef *pdev, uint8_t *psetup)
1227:application-library/usb-cdc-device.c **** {
1228:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1229:application-library/usb-cdc-device.c **** 
1230:application-library/usb-cdc-device.c ****   USBD_ParseSetupRequest(&pdev->request, psetup);
1231:application-library/usb-cdc-device.c **** 
1232:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_SETUP;
1233:application-library/usb-cdc-device.c **** 
1234:application-library/usb-cdc-device.c ****   pdev->ep0_data_len = pdev->request.wLength;
1235:application-library/usb-cdc-device.c **** 
1236:application-library/usb-cdc-device.c ****   switch (pdev->request.bmRequest & 0x1FU)
1237:application-library/usb-cdc-device.c ****   {
1238:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_DEVICE:
1239:application-library/usb-cdc-device.c ****       ret = USBD_StdDevReq(pdev, &pdev->request);
1240:application-library/usb-cdc-device.c ****       break;
1241:application-library/usb-cdc-device.c **** 
1242:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_INTERFACE:
1243:application-library/usb-cdc-device.c ****       ret = USBD_StdItfReq(pdev, &pdev->request);
1244:application-library/usb-cdc-device.c ****       break;
1245:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccLxqwAV.s 			page 26


1246:application-library/usb-cdc-device.c ****     case USB_REQ_RECIPIENT_ENDPOINT:
1247:application-library/usb-cdc-device.c ****       ret = USBD_StdEPReq(pdev, &pdev->request);
1248:application-library/usb-cdc-device.c ****       break;
1249:application-library/usb-cdc-device.c **** 
1250:application-library/usb-cdc-device.c ****     default:
1251:application-library/usb-cdc-device.c ****       ret = USBD_LL_StallEP(pdev, (pdev->request.bmRequest & 0x80U));
1252:application-library/usb-cdc-device.c ****       break;
1253:application-library/usb-cdc-device.c ****   }
1254:application-library/usb-cdc-device.c **** 
1255:application-library/usb-cdc-device.c ****   return ret;
1256:application-library/usb-cdc-device.c **** }
1257:application-library/usb-cdc-device.c **** 
1258:application-library/usb-cdc-device.c **** /**
1259:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataOutStage
1260:application-library/usb-cdc-device.c ****   *         Handle data OUT stage
1261:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1262:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1263:application-library/usb-cdc-device.c ****   * @param  pdata: data pointer
1264:application-library/usb-cdc-device.c ****   * @retval status
1265:application-library/usb-cdc-device.c ****   */
1266:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DataOutStage(USBD_HandleTypeDef *pdev,
1267:application-library/usb-cdc-device.c ****                                         uint8_t epnum, uint8_t *pdata)
1268:application-library/usb-cdc-device.c **** {
1269:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1270:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1271:application-library/usb-cdc-device.c ****   uint8_t idx;
1272:application-library/usb-cdc-device.c **** 
1273:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1274:application-library/usb-cdc-device.c ****   {
1275:application-library/usb-cdc-device.c ****     pep = &pdev->ep_out[0];
1276:application-library/usb-cdc-device.c **** 
1277:application-library/usb-cdc-device.c ****     if (pdev->ep0_state == USBD_EP0_DATA_OUT)
1278:application-library/usb-cdc-device.c ****     {
1279:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1280:application-library/usb-cdc-device.c ****       {
1281:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
1282:application-library/usb-cdc-device.c **** 
1283:application-library/usb-cdc-device.c ****         (void)USBD_CtlContinueRx(pdev, pdata, MIN(pep->rem_length, pep->maxpacket));
1284:application-library/usb-cdc-device.c ****       }
1285:application-library/usb-cdc-device.c ****       else
1286:application-library/usb-cdc-device.c ****       {
1287:application-library/usb-cdc-device.c ****         /* Find the class ID relative to the current request */
1288:application-library/usb-cdc-device.c ****         switch (pdev->request.bmRequest & 0x1FU)
1289:application-library/usb-cdc-device.c ****         {
1290:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_DEVICE:
1291:application-library/usb-cdc-device.c ****             /* Device requests must be managed by the first instantiated class
1292:application-library/usb-cdc-device.c ****                (or duplicated by all classes for simplicity) */
1293:application-library/usb-cdc-device.c ****             idx = 0U;
1294:application-library/usb-cdc-device.c ****             break;
1295:application-library/usb-cdc-device.c **** 
1296:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_INTERFACE:
1297:application-library/usb-cdc-device.c ****             idx = 0x00U;
1298:application-library/usb-cdc-device.c ****             break;
1299:application-library/usb-cdc-device.c **** 
1300:application-library/usb-cdc-device.c ****           case USB_REQ_RECIPIENT_ENDPOINT:
1301:application-library/usb-cdc-device.c ****             idx = USBD_CoreFindEP(pdev, LOBYTE(pdev->request.wIndex));
1302:application-library/usb-cdc-device.c ****             break;
ARM GAS  /tmp/ccLxqwAV.s 			page 27


1303:application-library/usb-cdc-device.c **** 
1304:application-library/usb-cdc-device.c ****           default:
1305:application-library/usb-cdc-device.c ****             /* Back to the first class in case of doubt */
1306:application-library/usb-cdc-device.c ****             idx = 0U;
1307:application-library/usb-cdc-device.c ****             break;
1308:application-library/usb-cdc-device.c ****         }
1309:application-library/usb-cdc-device.c **** 
1310:application-library/usb-cdc-device.c ****         if (idx < USBD_MAX_SUPPORTED_CLASS)
1311:application-library/usb-cdc-device.c ****         {
1312:application-library/usb-cdc-device.c ****           /* Setup the class ID and route the request to the relative class function */
1313:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
1314:application-library/usb-cdc-device.c ****           {
1315:application-library/usb-cdc-device.c ****             if (pdev->pClass[idx]->EP0_RxReady != NULL)
1316:application-library/usb-cdc-device.c ****             {
1317:application-library/usb-cdc-device.c ****               pdev->classId = idx;
1318:application-library/usb-cdc-device.c ****               pdev->pClass[idx]->EP0_RxReady(pdev);
1319:application-library/usb-cdc-device.c ****             }
1320:application-library/usb-cdc-device.c ****           }
1321:application-library/usb-cdc-device.c ****         }
1322:application-library/usb-cdc-device.c **** 
1323:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
1324:application-library/usb-cdc-device.c ****       }
1325:application-library/usb-cdc-device.c ****     }
1326:application-library/usb-cdc-device.c ****     else
1327:application-library/usb-cdc-device.c ****     {
1328:application-library/usb-cdc-device.c ****     }
1329:application-library/usb-cdc-device.c ****   }
1330:application-library/usb-cdc-device.c ****   else
1331:application-library/usb-cdc-device.c ****   {
1332:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1333:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(pdev, (epnum & 0x7FU));
1334:application-library/usb-cdc-device.c **** 
1335:application-library/usb-cdc-device.c ****     if (((uint16_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1336:application-library/usb-cdc-device.c ****     {
1337:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1338:application-library/usb-cdc-device.c ****       if (pdev->dev_state == USBD_STATE_CONFIGURED)
1339:application-library/usb-cdc-device.c ****       {
1340:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->DataOut != NULL)
1341:application-library/usb-cdc-device.c ****         {
1342:application-library/usb-cdc-device.c ****           pdev->classId = idx;
1343:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataOut(pdev, epnum);
1344:application-library/usb-cdc-device.c ****         }
1345:application-library/usb-cdc-device.c ****       }
1346:application-library/usb-cdc-device.c ****       if (ret != USBD_OK)
1347:application-library/usb-cdc-device.c ****       {
1348:application-library/usb-cdc-device.c ****         return ret;
1349:application-library/usb-cdc-device.c ****       }
1350:application-library/usb-cdc-device.c ****     }
1351:application-library/usb-cdc-device.c ****   }
1352:application-library/usb-cdc-device.c **** 
1353:application-library/usb-cdc-device.c ****   return USBD_OK;
1354:application-library/usb-cdc-device.c **** }
1355:application-library/usb-cdc-device.c **** 
1356:application-library/usb-cdc-device.c **** /**
1357:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DataInStage
1358:application-library/usb-cdc-device.c ****   *         Handle data in stage
1359:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
ARM GAS  /tmp/ccLxqwAV.s 			page 28


1360:application-library/usb-cdc-device.c ****   * @param  epnum: endpoint index
1361:application-library/usb-cdc-device.c ****   * @retval status
1362:application-library/usb-cdc-device.c ****   */
1363:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DataInStage(USBD_HandleTypeDef *pdev,
1364:application-library/usb-cdc-device.c ****                                        uint8_t epnum, uint8_t *pdata)
1365:application-library/usb-cdc-device.c **** {
1366:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1367:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
1368:application-library/usb-cdc-device.c ****   uint8_t idx;
1369:application-library/usb-cdc-device.c **** 
1370:application-library/usb-cdc-device.c ****   if (epnum == 0U)
1371:application-library/usb-cdc-device.c ****   {
1372:application-library/usb-cdc-device.c ****     pep = &pdev->ep_in[0];
1373:application-library/usb-cdc-device.c **** 
1374:application-library/usb-cdc-device.c ****     if (pdev->ep0_state == USBD_EP0_DATA_IN)
1375:application-library/usb-cdc-device.c ****     {
1376:application-library/usb-cdc-device.c ****       if (pep->rem_length > pep->maxpacket)
1377:application-library/usb-cdc-device.c ****       {
1378:application-library/usb-cdc-device.c ****         pep->rem_length -= pep->maxpacket;
1379:application-library/usb-cdc-device.c **** 
1380:application-library/usb-cdc-device.c ****         (void)USBD_CtlContinueSendData(pdev, pdata, pep->rem_length);
1381:application-library/usb-cdc-device.c **** 
1382:application-library/usb-cdc-device.c ****         /* Prepare endpoint for premature end of transfer */
1383:application-library/usb-cdc-device.c ****         (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
1384:application-library/usb-cdc-device.c ****       }
1385:application-library/usb-cdc-device.c ****       else
1386:application-library/usb-cdc-device.c ****       {
1387:application-library/usb-cdc-device.c ****         /* last packet is MPS multiple, so send ZLP packet */
1388:application-library/usb-cdc-device.c ****         if ((pep->maxpacket == pep->rem_length) &&
1389:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
1390:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
1391:application-library/usb-cdc-device.c ****         {
1392:application-library/usb-cdc-device.c ****           (void)USBD_CtlContinueSendData(pdev, NULL, 0U);
1393:application-library/usb-cdc-device.c ****           pdev->ep0_data_len = 0U;
1394:application-library/usb-cdc-device.c **** 
1395:application-library/usb-cdc-device.c ****           /* Prepare endpoint for premature end of transfer */
1396:application-library/usb-cdc-device.c ****           (void)USBD_LL_PrepareReceive(pdev, 0U, NULL, 0U);
1397:application-library/usb-cdc-device.c ****         }
1398:application-library/usb-cdc-device.c ****         else
1399:application-library/usb-cdc-device.c ****         {
1400:application-library/usb-cdc-device.c ****           if (pdev->dev_state == USBD_STATE_CONFIGURED)
1401:application-library/usb-cdc-device.c ****           {
1402:application-library/usb-cdc-device.c ****             if (pdev->pClass[0]->EP0_TxSent != NULL)
1403:application-library/usb-cdc-device.c ****             {
1404:application-library/usb-cdc-device.c ****               pdev->classId = 0U;
1405:application-library/usb-cdc-device.c ****               pdev->pClass[0]->EP0_TxSent(pdev);
1406:application-library/usb-cdc-device.c ****             }
1407:application-library/usb-cdc-device.c ****           }
1408:application-library/usb-cdc-device.c ****           (void)USBD_LL_StallEP(pdev, 0x80U);
1409:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(pdev);
1410:application-library/usb-cdc-device.c ****         }
1411:application-library/usb-cdc-device.c ****       }
1412:application-library/usb-cdc-device.c ****     }
1413:application-library/usb-cdc-device.c **** 
1414:application-library/usb-cdc-device.c ****     if (pdev->dev_test_mode != 0U)
1415:application-library/usb-cdc-device.c ****     {
1416:application-library/usb-cdc-device.c ****       (void)USBD_RunTestMode(pdev);
ARM GAS  /tmp/ccLxqwAV.s 			page 29


1417:application-library/usb-cdc-device.c ****       pdev->dev_test_mode = 0U;
1418:application-library/usb-cdc-device.c ****     }
1419:application-library/usb-cdc-device.c ****   }
1420:application-library/usb-cdc-device.c ****   else
1421:application-library/usb-cdc-device.c ****   {
1422:application-library/usb-cdc-device.c ****     /* Get the class index relative to this interface */
1423:application-library/usb-cdc-device.c ****     idx = USBD_CoreFindEP(pdev, ((uint8_t)epnum | 0x80U));
1424:application-library/usb-cdc-device.c **** 
1425:application-library/usb-cdc-device.c ****     if (((uint16_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1426:application-library/usb-cdc-device.c ****     {
1427:application-library/usb-cdc-device.c ****       /* Call the class data out function to manage the request */
1428:application-library/usb-cdc-device.c ****       if (pdev->dev_state == USBD_STATE_CONFIGURED)
1429:application-library/usb-cdc-device.c ****       {
1430:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->DataIn != NULL)
1431:application-library/usb-cdc-device.c ****         {
1432:application-library/usb-cdc-device.c ****           pdev->classId = idx;
1433:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataIn(pdev, epnum);
1434:application-library/usb-cdc-device.c **** 
1435:application-library/usb-cdc-device.c ****           if (ret != USBD_OK)
1436:application-library/usb-cdc-device.c ****           {
1437:application-library/usb-cdc-device.c ****             return ret;
1438:application-library/usb-cdc-device.c ****           }
1439:application-library/usb-cdc-device.c ****         }
1440:application-library/usb-cdc-device.c ****       }
1441:application-library/usb-cdc-device.c ****     }
1442:application-library/usb-cdc-device.c ****   }
1443:application-library/usb-cdc-device.c **** 
1444:application-library/usb-cdc-device.c ****   return USBD_OK;
1445:application-library/usb-cdc-device.c **** }
1446:application-library/usb-cdc-device.c **** 
1447:application-library/usb-cdc-device.c **** /**
1448:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Reset
1449:application-library/usb-cdc-device.c ****   *         Handle Reset event
1450:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1451:application-library/usb-cdc-device.c ****   * @retval status
1452:application-library/usb-cdc-device.c ****   */
1453:application-library/usb-cdc-device.c **** 
1454:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Reset(USBD_HandleTypeDef *pdev)
1455:application-library/usb-cdc-device.c **** {
1456:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1457:application-library/usb-cdc-device.c **** 
1458:application-library/usb-cdc-device.c ****   /* Upon Reset call user call back */
1459:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
1460:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_IDLE;
1461:application-library/usb-cdc-device.c ****   pdev->dev_config = 0U;
1462:application-library/usb-cdc-device.c ****   pdev->dev_remote_wakeup = 0U;
1463:application-library/usb-cdc-device.c ****   pdev->dev_test_mode = 0U;
1464:application-library/usb-cdc-device.c **** 
1465:application-library/usb-cdc-device.c **** 
1466:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1467:application-library/usb-cdc-device.c ****   {
1468:application-library/usb-cdc-device.c ****     if (pdev->pClass[0]->DeInit != NULL)
1469:application-library/usb-cdc-device.c ****     {
1470:application-library/usb-cdc-device.c ****       if (pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config) != USBD_OK)
1471:application-library/usb-cdc-device.c ****       {
1472:application-library/usb-cdc-device.c ****         ret = USBD_FAIL;
1473:application-library/usb-cdc-device.c ****       }
ARM GAS  /tmp/ccLxqwAV.s 			page 30


1474:application-library/usb-cdc-device.c ****     }
1475:application-library/usb-cdc-device.c ****   }
1476:application-library/usb-cdc-device.c **** 
1477:application-library/usb-cdc-device.c ****   /* Open EP0 OUT */
1478:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, 0x00U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
1479:application-library/usb-cdc-device.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
1480:application-library/usb-cdc-device.c **** 
1481:application-library/usb-cdc-device.c ****   pdev->ep_out[0].maxpacket = USB_MAX_EP0_SIZE;
1482:application-library/usb-cdc-device.c **** 
1483:application-library/usb-cdc-device.c ****   /* Open EP0 IN */
1484:application-library/usb-cdc-device.c ****   (void)USBD_LL_OpenEP(pdev, 0x80U, USBD_EP_TYPE_CTRL, USB_MAX_EP0_SIZE);
1485:application-library/usb-cdc-device.c ****   pdev->ep_in[0x80U & 0xFU].is_used = 1U;
1486:application-library/usb-cdc-device.c **** 
1487:application-library/usb-cdc-device.c ****   pdev->ep_in[0].maxpacket = USB_MAX_EP0_SIZE;
1488:application-library/usb-cdc-device.c **** 
1489:application-library/usb-cdc-device.c ****   return ret;
1490:application-library/usb-cdc-device.c **** }
1491:application-library/usb-cdc-device.c **** 
1492:application-library/usb-cdc-device.c **** /**
1493:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SetSpeed
1494:application-library/usb-cdc-device.c ****   *         Handle Reset event
1495:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1496:application-library/usb-cdc-device.c ****   * @retval status
1497:application-library/usb-cdc-device.c ****   */
1498:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SetSpeed(USBD_HandleTypeDef *pdev,
1499:application-library/usb-cdc-device.c ****                                     USBD_SpeedTypeDef speed)
1500:application-library/usb-cdc-device.c **** {
1501:application-library/usb-cdc-device.c ****   pdev->dev_speed = speed;
1502:application-library/usb-cdc-device.c **** 
1503:application-library/usb-cdc-device.c ****   return USBD_OK;
1504:application-library/usb-cdc-device.c **** }
1505:application-library/usb-cdc-device.c **** 
1506:application-library/usb-cdc-device.c **** /**
1507:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Suspend
1508:application-library/usb-cdc-device.c ****   *         Handle Suspend event
1509:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1510:application-library/usb-cdc-device.c ****   * @retval status
1511:application-library/usb-cdc-device.c ****   */
1512:application-library/usb-cdc-device.c **** 
1513:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Suspend(USBD_HandleTypeDef *pdev)
1514:application-library/usb-cdc-device.c **** {
1515:application-library/usb-cdc-device.c ****   pdev->dev_old_state = pdev->dev_state;
1516:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_SUSPENDED;
1517:application-library/usb-cdc-device.c ****   return USBD_OK;
1518:application-library/usb-cdc-device.c **** }
1519:application-library/usb-cdc-device.c **** 
1520:application-library/usb-cdc-device.c **** /**
1521:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_Resume
1522:application-library/usb-cdc-device.c ****   *         Handle Resume event
1523:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1524:application-library/usb-cdc-device.c ****   * @retval status
1525:application-library/usb-cdc-device.c ****   */
1526:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_Resume(USBD_HandleTypeDef *pdev)
1527:application-library/usb-cdc-device.c **** {
1528:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_SUSPENDED)
1529:application-library/usb-cdc-device.c ****   {
1530:application-library/usb-cdc-device.c ****     pdev->dev_state = pdev->dev_old_state;
ARM GAS  /tmp/ccLxqwAV.s 			page 31


1531:application-library/usb-cdc-device.c ****   }
1532:application-library/usb-cdc-device.c **** 
1533:application-library/usb-cdc-device.c ****   return USBD_OK;
1534:application-library/usb-cdc-device.c **** }
1535:application-library/usb-cdc-device.c **** 
1536:application-library/usb-cdc-device.c **** /**
1537:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_SOF
1538:application-library/usb-cdc-device.c ****   *         Handle SOF event
1539:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1540:application-library/usb-cdc-device.c ****   * @retval status
1541:application-library/usb-cdc-device.c ****   */
1542:application-library/usb-cdc-device.c **** 
1543:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_SOF(USBD_HandleTypeDef *pdev)
1544:application-library/usb-cdc-device.c **** {
1545:application-library/usb-cdc-device.c ****   /* The SOF event can be distributed for all classes that support it */
1546:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
1547:application-library/usb-cdc-device.c ****   {
1548:application-library/usb-cdc-device.c ****     if (pdev->pClass[0] != NULL)
1549:application-library/usb-cdc-device.c ****     {
1550:application-library/usb-cdc-device.c ****       if (pdev->pClass[0]->SOF != NULL)
1551:application-library/usb-cdc-device.c ****       {
1552:application-library/usb-cdc-device.c ****         (void)pdev->pClass[0]->SOF(pdev);
1553:application-library/usb-cdc-device.c ****       }
1554:application-library/usb-cdc-device.c ****     }
1555:application-library/usb-cdc-device.c ****   }
1556:application-library/usb-cdc-device.c **** 
1557:application-library/usb-cdc-device.c ****   return USBD_OK;
1558:application-library/usb-cdc-device.c **** }
1559:application-library/usb-cdc-device.c **** 
1560:application-library/usb-cdc-device.c **** /**
1561:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_IsoINIncomplete
1562:application-library/usb-cdc-device.c ****   *         Handle iso in incomplete event
1563:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1564:application-library/usb-cdc-device.c ****   * @retval status
1565:application-library/usb-cdc-device.c ****   */
1566:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_IsoINIncomplete(USBD_HandleTypeDef *pdev,
1567:application-library/usb-cdc-device.c ****                                            uint8_t epnum)
1568:application-library/usb-cdc-device.c **** {
1569:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
1570:application-library/usb-cdc-device.c ****   {
1571:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1572:application-library/usb-cdc-device.c ****   }
1573:application-library/usb-cdc-device.c **** 
1574:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
1575:application-library/usb-cdc-device.c ****   {
1576:application-library/usb-cdc-device.c ****     if (pdev->pClass[pdev->classId]->IsoINIncomplete != NULL)
1577:application-library/usb-cdc-device.c ****     {
1578:application-library/usb-cdc-device.c ****       (void)pdev->pClass[pdev->classId]->IsoINIncomplete(pdev, epnum);
1579:application-library/usb-cdc-device.c ****     }
1580:application-library/usb-cdc-device.c ****   }
1581:application-library/usb-cdc-device.c **** 
1582:application-library/usb-cdc-device.c ****   return USBD_OK;
1583:application-library/usb-cdc-device.c **** }
1584:application-library/usb-cdc-device.c **** 
1585:application-library/usb-cdc-device.c **** /**
1586:application-library/usb-cdc-device.c ****   * @brief  Handle iso out incomplete event.
1587:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
ARM GAS  /tmp/ccLxqwAV.s 			page 32


1588:application-library/usb-cdc-device.c ****   * @retval status
1589:application-library/usb-cdc-device.c ****   */
1590:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_IsoOUTIncomplete(USBD_HandleTypeDef *pdev,
1591:application-library/usb-cdc-device.c ****                                             uint8_t epnum)
1592:application-library/usb-cdc-device.c **** {
1593:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
1594:application-library/usb-cdc-device.c ****   {
1595:application-library/usb-cdc-device.c ****     return USBD_FAIL;
1596:application-library/usb-cdc-device.c ****   }
1597:application-library/usb-cdc-device.c **** 
1598:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_CONFIGURED)
1599:application-library/usb-cdc-device.c ****   {
1600:application-library/usb-cdc-device.c ****     if (pdev->pClass[pdev->classId]->IsoOUTIncomplete != NULL)
1601:application-library/usb-cdc-device.c ****     {
1602:application-library/usb-cdc-device.c ****       (void)pdev->pClass[pdev->classId]->IsoOUTIncomplete(pdev, epnum);
1603:application-library/usb-cdc-device.c ****     }
1604:application-library/usb-cdc-device.c ****   }
1605:application-library/usb-cdc-device.c **** 
1606:application-library/usb-cdc-device.c ****   return USBD_OK;
1607:application-library/usb-cdc-device.c **** }
1608:application-library/usb-cdc-device.c **** 
1609:application-library/usb-cdc-device.c **** /**
1610:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevConnected
1611:application-library/usb-cdc-device.c ****   *         Handle device connection event
1612:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1613:application-library/usb-cdc-device.c ****   * @retval status
1614:application-library/usb-cdc-device.c ****   */
1615:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevConnected(USBD_HandleTypeDef *pdev)
1616:application-library/usb-cdc-device.c **** {
1617:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
1618:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1619:application-library/usb-cdc-device.c **** 
1620:application-library/usb-cdc-device.c ****   return USBD_OK;
1621:application-library/usb-cdc-device.c **** }
1622:application-library/usb-cdc-device.c **** 
1623:application-library/usb-cdc-device.c **** /**
1624:application-library/usb-cdc-device.c ****   * @brief  USBD_LL_DevDisconnected
1625:application-library/usb-cdc-device.c ****   *         Handle device disconnection event
1626:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1627:application-library/usb-cdc-device.c ****   * @retval status
1628:application-library/usb-cdc-device.c ****   */
1629:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_LL_DevDisconnected(USBD_HandleTypeDef *pdev)
1630:application-library/usb-cdc-device.c **** {
1631:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef   ret = USBD_OK;
1632:application-library/usb-cdc-device.c **** 
1633:application-library/usb-cdc-device.c ****   /* Free Class Resources */
1634:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_DEFAULT;
1635:application-library/usb-cdc-device.c **** 
1636:application-library/usb-cdc-device.c ****   if (pdev->pClass[0] != NULL)
1637:application-library/usb-cdc-device.c ****   {
1638:application-library/usb-cdc-device.c ****     if (pdev->pClass[0]->DeInit(pdev, (uint8_t)pdev->dev_config) != 0U)
1639:application-library/usb-cdc-device.c ****     {
1640:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
1641:application-library/usb-cdc-device.c ****     }
1642:application-library/usb-cdc-device.c ****   }
1643:application-library/usb-cdc-device.c **** 
1644:application-library/usb-cdc-device.c ****   return ret;
ARM GAS  /tmp/ccLxqwAV.s 			page 33


1645:application-library/usb-cdc-device.c **** }
1646:application-library/usb-cdc-device.c **** 
1647:application-library/usb-cdc-device.c **** /**
1648:application-library/usb-cdc-device.c ****   * @brief  Returns the class index relative to the selected endpoint
1649:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1650:application-library/usb-cdc-device.c ****   * @param  index : selected endpoint number
1651:application-library/usb-cdc-device.c ****   * @retval index of the class using the selected endpoint number. 0xFF if no class found.
1652:application-library/usb-cdc-device.c ****   */
1653:application-library/usb-cdc-device.c **** uint8_t USBD_CoreFindEP(USBD_HandleTypeDef *pdev, uint8_t index)
1654:application-library/usb-cdc-device.c **** {
1655:application-library/usb-cdc-device.c ****   UNUSED(pdev);
1656:application-library/usb-cdc-device.c ****   UNUSED(index);
1657:application-library/usb-cdc-device.c ****   return 0x00U;
1658:application-library/usb-cdc-device.c **** }
1659:application-library/usb-cdc-device.c **** 
1660:application-library/usb-cdc-device.c **** /**
1661:application-library/usb-cdc-device.c ****   * @brief  Returns the Endpoint descriptor
1662:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1663:application-library/usb-cdc-device.c ****   * @param  pConfDesc:  pointer to Bos descriptor
1664:application-library/usb-cdc-device.c ****   * @param  EpAddr:  endpoint address
1665:application-library/usb-cdc-device.c ****   * @retval pointer to video endpoint descriptor
1666:application-library/usb-cdc-device.c ****   */
1667:application-library/usb-cdc-device.c **** void *USBD_GetEpDesc(uint8_t *pConfDesc, uint8_t EpAddr)
1668:application-library/usb-cdc-device.c **** {
1669:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
1670:application-library/usb-cdc-device.c ****   USBD_ConfigDescTypeDef *desc = (USBD_ConfigDescTypeDef *)(void *)pConfDesc;
1671:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpDesc = NULL;
1672:application-library/usb-cdc-device.c ****   uint16_t ptr;
1673:application-library/usb-cdc-device.c **** 
1674:application-library/usb-cdc-device.c ****   if (desc->wTotalLength > desc->bLength)
1675:application-library/usb-cdc-device.c ****   {
1676:application-library/usb-cdc-device.c ****     ptr = desc->bLength;
1677:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
1678:application-library/usb-cdc-device.c ****     {
1679:application-library/usb-cdc-device.c ****       pdesc = USBD_GetNextDesc((uint8_t *)pdesc, &ptr);
1680:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
1681:application-library/usb-cdc-device.c ****       {
1682:application-library/usb-cdc-device.c ****         pEpDesc = (USBD_EpDescTypeDef *)(void *)pdesc;
1683:application-library/usb-cdc-device.c **** 
1684:application-library/usb-cdc-device.c ****         if (pEpDesc->bEndpointAddress == EpAddr)
1685:application-library/usb-cdc-device.c ****         {
1686:application-library/usb-cdc-device.c ****           break;
1687:application-library/usb-cdc-device.c ****         }
1688:application-library/usb-cdc-device.c ****         else
1689:application-library/usb-cdc-device.c ****         {
1690:application-library/usb-cdc-device.c ****           pEpDesc = NULL;
1691:application-library/usb-cdc-device.c ****         }
1692:application-library/usb-cdc-device.c ****       }
1693:application-library/usb-cdc-device.c ****     }
1694:application-library/usb-cdc-device.c ****   }
1695:application-library/usb-cdc-device.c **** 
1696:application-library/usb-cdc-device.c ****   return (void *)pEpDesc;
1697:application-library/usb-cdc-device.c **** }
1698:application-library/usb-cdc-device.c **** 
1699:application-library/usb-cdc-device.c **** /**
1700:application-library/usb-cdc-device.c ****   * @brief  Returns the next descriptor header
1701:application-library/usb-cdc-device.c ****   * @param  buf: Buffer where the descriptor is available
ARM GAS  /tmp/ccLxqwAV.s 			page 34


1702:application-library/usb-cdc-device.c ****   * @param  ptr: data pointer inside the descriptor
1703:application-library/usb-cdc-device.c ****   * @retval next header
1704:application-library/usb-cdc-device.c ****   */
1705:application-library/usb-cdc-device.c **** USBD_DescHeaderTypeDef *USBD_GetNextDesc(uint8_t *pbuf, uint16_t *ptr)
1706:application-library/usb-cdc-device.c **** {
1707:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pnext = (USBD_DescHeaderTypeDef *)(void *)pbuf;
1708:application-library/usb-cdc-device.c **** 
1709:application-library/usb-cdc-device.c ****   *ptr += pnext->bLength;
1710:application-library/usb-cdc-device.c ****   pnext = (USBD_DescHeaderTypeDef *)(void *)(pbuf + pnext->bLength);
1711:application-library/usb-cdc-device.c ****   return (pnext);
1712:application-library/usb-cdc-device.c **** }
1713:application-library/usb-cdc-device.c **** 
1714:application-library/usb-cdc-device.c **** /* usbd_core.c END ---- ---- ---- ---- */
1715:application-library/usb-cdc-device.c **** 
1716:application-library/usb-cdc-device.c **** 
1717:application-library/usb-cdc-device.c **** /* usbd_ctlreq.c BEGIN ---- ---- ---- ---- */
1718:application-library/usb-cdc-device.c **** /* Includes ------------------------------------------------------------------*/
1719:application-library/usb-cdc-device.c **** #include "usbd_ctlreq.h"
1720:application-library/usb-cdc-device.c **** #include "usbd_ioreq.h"
1721:application-library/usb-cdc-device.c **** 
1722:application-library/usb-cdc-device.c **** #ifdef USE_USBD_COMPOSITE
1723:application-library/usb-cdc-device.c **** #include "usbd_composite_builder.h"
1724:application-library/usb-cdc-device.c **** #endif /* USE_USBD_COMPOSITE */
1725:application-library/usb-cdc-device.c **** 
1726:application-library/usb-cdc-device.c **** /** @addtogroup STM32_USBD_STATE_DEVICE_LIBRARY
1727:application-library/usb-cdc-device.c ****   * @{
1728:application-library/usb-cdc-device.c ****   */
1729:application-library/usb-cdc-device.c **** 
1730:application-library/usb-cdc-device.c **** 
1731:application-library/usb-cdc-device.c **** /** @defgroup USBD_REQ
1732:application-library/usb-cdc-device.c ****   * @brief USB standard requests module
1733:application-library/usb-cdc-device.c ****   * @{
1734:application-library/usb-cdc-device.c ****   */
1735:application-library/usb-cdc-device.c **** 
1736:application-library/usb-cdc-device.c **** /** @defgroup USBD_REQ_Private_TypesDefinitions
1737:application-library/usb-cdc-device.c ****   * @{
1738:application-library/usb-cdc-device.c ****   */
1739:application-library/usb-cdc-device.c **** 
1740:application-library/usb-cdc-device.c **** /**
1741:application-library/usb-cdc-device.c ****   * @}
1742:application-library/usb-cdc-device.c ****   */
1743:application-library/usb-cdc-device.c **** 
1744:application-library/usb-cdc-device.c **** 
1745:application-library/usb-cdc-device.c **** /** @defgroup USBD_REQ_Private_Defines
1746:application-library/usb-cdc-device.c ****   * @{
1747:application-library/usb-cdc-device.c ****   */
1748:application-library/usb-cdc-device.c **** 
1749:application-library/usb-cdc-device.c **** /**
1750:application-library/usb-cdc-device.c ****   * @}
1751:application-library/usb-cdc-device.c ****   */
1752:application-library/usb-cdc-device.c **** 
1753:application-library/usb-cdc-device.c **** 
1754:application-library/usb-cdc-device.c **** /** @defgroup USBD_REQ_Private_Macros
1755:application-library/usb-cdc-device.c ****   * @{
1756:application-library/usb-cdc-device.c ****   */
1757:application-library/usb-cdc-device.c **** 
1758:application-library/usb-cdc-device.c **** /**
ARM GAS  /tmp/ccLxqwAV.s 			page 35


1759:application-library/usb-cdc-device.c ****   * @}
1760:application-library/usb-cdc-device.c ****   */
1761:application-library/usb-cdc-device.c **** 
1762:application-library/usb-cdc-device.c **** 
1763:application-library/usb-cdc-device.c **** /** @defgroup USBD_REQ_Private_Variables
1764:application-library/usb-cdc-device.c ****   * @{
1765:application-library/usb-cdc-device.c ****   */
1766:application-library/usb-cdc-device.c **** 
1767:application-library/usb-cdc-device.c **** /**
1768:application-library/usb-cdc-device.c ****   * @}
1769:application-library/usb-cdc-device.c ****   */
1770:application-library/usb-cdc-device.c **** 
1771:application-library/usb-cdc-device.c **** 
1772:application-library/usb-cdc-device.c **** /** @defgroup USBD_REQ_Private_FunctionPrototypes
1773:application-library/usb-cdc-device.c ****   * @{
1774:application-library/usb-cdc-device.c ****   */
1775:application-library/usb-cdc-device.c **** static void USBD_GetDescriptor(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
1776:application-library/usb-cdc-device.c **** static void USBD_SetAddress(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
1777:application-library/usb-cdc-device.c **** static USBD_StatusTypeDef USBD_SetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
1778:application-library/usb-cdc-device.c **** static void USBD_GetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
1779:application-library/usb-cdc-device.c **** static void USBD_GetStatus(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
1780:application-library/usb-cdc-device.c **** static void USBD_SetFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
1781:application-library/usb-cdc-device.c **** static void USBD_ClrFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req);
1782:application-library/usb-cdc-device.c **** static uint8_t USBD_GetLen(uint8_t *buf);
1783:application-library/usb-cdc-device.c **** 
1784:application-library/usb-cdc-device.c **** /**
1785:application-library/usb-cdc-device.c ****   * @}
1786:application-library/usb-cdc-device.c ****   */
1787:application-library/usb-cdc-device.c **** 
1788:application-library/usb-cdc-device.c **** 
1789:application-library/usb-cdc-device.c **** /** @defgroup USBD_REQ_Private_Functions
1790:application-library/usb-cdc-device.c ****   * @{
1791:application-library/usb-cdc-device.c ****   */
1792:application-library/usb-cdc-device.c **** 
1793:application-library/usb-cdc-device.c **** 
1794:application-library/usb-cdc-device.c **** /**
1795:application-library/usb-cdc-device.c ****   * @brief  USBD_StdDevReq
1796:application-library/usb-cdc-device.c ****   *         Handle standard usb device requests
1797:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1798:application-library/usb-cdc-device.c ****   * @param  req: usb request
1799:application-library/usb-cdc-device.c ****   * @retval status
1800:application-library/usb-cdc-device.c ****   */
1801:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdDevReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1802:application-library/usb-cdc-device.c **** {
1803:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1804:application-library/usb-cdc-device.c **** 
1805:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1806:application-library/usb-cdc-device.c ****   {
1807:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1808:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1809:application-library/usb-cdc-device.c ****       ret = (USBD_StatusTypeDef)pdev->pClass[pdev->classId]->Setup(pdev, req);
1810:application-library/usb-cdc-device.c ****       break;
1811:application-library/usb-cdc-device.c **** 
1812:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1813:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1814:application-library/usb-cdc-device.c ****       {
1815:application-library/usb-cdc-device.c ****         case USB_REQ_GET_DESCRIPTOR:
ARM GAS  /tmp/ccLxqwAV.s 			page 36


1816:application-library/usb-cdc-device.c ****           USBD_GetDescriptor(pdev, req);
1817:application-library/usb-cdc-device.c ****           break;
1818:application-library/usb-cdc-device.c **** 
1819:application-library/usb-cdc-device.c ****         case USB_REQ_SET_ADDRESS:
1820:application-library/usb-cdc-device.c ****           USBD_SetAddress(pdev, req);
1821:application-library/usb-cdc-device.c ****           break;
1822:application-library/usb-cdc-device.c **** 
1823:application-library/usb-cdc-device.c ****         case USB_REQ_SET_CONFIGURATION:
1824:application-library/usb-cdc-device.c ****           ret = USBD_SetConfig(pdev, req);
1825:application-library/usb-cdc-device.c ****           break;
1826:application-library/usb-cdc-device.c **** 
1827:application-library/usb-cdc-device.c ****         case USB_REQ_GET_CONFIGURATION:
1828:application-library/usb-cdc-device.c ****           USBD_GetConfig(pdev, req);
1829:application-library/usb-cdc-device.c ****           break;
1830:application-library/usb-cdc-device.c **** 
1831:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
1832:application-library/usb-cdc-device.c ****           USBD_GetStatus(pdev, req);
1833:application-library/usb-cdc-device.c ****           break;
1834:application-library/usb-cdc-device.c **** 
1835:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1836:application-library/usb-cdc-device.c ****           USBD_SetFeature(pdev, req);
1837:application-library/usb-cdc-device.c ****           break;
1838:application-library/usb-cdc-device.c **** 
1839:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1840:application-library/usb-cdc-device.c ****           USBD_ClrFeature(pdev, req);
1841:application-library/usb-cdc-device.c ****           break;
1842:application-library/usb-cdc-device.c **** 
1843:application-library/usb-cdc-device.c ****         default:
1844:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
1845:application-library/usb-cdc-device.c ****           break;
1846:application-library/usb-cdc-device.c ****       }
1847:application-library/usb-cdc-device.c ****       break;
1848:application-library/usb-cdc-device.c **** 
1849:application-library/usb-cdc-device.c ****     default:
1850:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
1851:application-library/usb-cdc-device.c ****       break;
1852:application-library/usb-cdc-device.c ****   }
1853:application-library/usb-cdc-device.c **** 
1854:application-library/usb-cdc-device.c ****   return ret;
1855:application-library/usb-cdc-device.c **** }
1856:application-library/usb-cdc-device.c **** 
1857:application-library/usb-cdc-device.c **** /**
1858:application-library/usb-cdc-device.c ****   * @brief  USBD_StdItfReq
1859:application-library/usb-cdc-device.c ****   *         Handle standard usb interface requests
1860:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1861:application-library/usb-cdc-device.c ****   * @param  req: usb request
1862:application-library/usb-cdc-device.c ****   * @retval status
1863:application-library/usb-cdc-device.c ****   */
1864:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdItfReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1865:application-library/usb-cdc-device.c **** {
1866:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1867:application-library/usb-cdc-device.c ****   uint8_t idx;
1868:application-library/usb-cdc-device.c **** 
1869:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1870:application-library/usb-cdc-device.c ****   {
1871:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1872:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
ARM GAS  /tmp/ccLxqwAV.s 			page 37


1873:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1874:application-library/usb-cdc-device.c ****       switch (pdev->dev_state)
1875:application-library/usb-cdc-device.c ****       {
1876:application-library/usb-cdc-device.c ****         case USBD_STATE_DEFAULT:
1877:application-library/usb-cdc-device.c ****         case USBD_STATE_ADDRESSED:
1878:application-library/usb-cdc-device.c ****         case USBD_STATE_CONFIGURED:
1879:application-library/usb-cdc-device.c **** 
1880:application-library/usb-cdc-device.c ****           if (LOBYTE(req->wIndex) <= USBD_MAX_NUM_INTERFACES)
1881:application-library/usb-cdc-device.c ****           {
1882:application-library/usb-cdc-device.c ****             /* Get the class index relative to this interface */
1883:application-library/usb-cdc-device.c ****             idx = 0x00U;
1884:application-library/usb-cdc-device.c ****             if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1885:application-library/usb-cdc-device.c ****             {
1886:application-library/usb-cdc-device.c ****               /* Call the class data out function to manage the request */
1887:application-library/usb-cdc-device.c ****               if (pdev->pClass[idx]->Setup != NULL)
1888:application-library/usb-cdc-device.c ****               {
1889:application-library/usb-cdc-device.c ****                 pdev->classId = idx;
1890:application-library/usb-cdc-device.c ****                 ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
1891:application-library/usb-cdc-device.c ****               }
1892:application-library/usb-cdc-device.c ****               else
1893:application-library/usb-cdc-device.c ****               {
1894:application-library/usb-cdc-device.c ****                 /* should never reach this condition */
1895:application-library/usb-cdc-device.c ****                 ret = USBD_FAIL;
1896:application-library/usb-cdc-device.c ****               }
1897:application-library/usb-cdc-device.c ****             }
1898:application-library/usb-cdc-device.c ****             else
1899:application-library/usb-cdc-device.c ****             {
1900:application-library/usb-cdc-device.c ****               /* No relative interface found */
1901:application-library/usb-cdc-device.c ****               ret = USBD_FAIL;
1902:application-library/usb-cdc-device.c ****             }
1903:application-library/usb-cdc-device.c **** 
1904:application-library/usb-cdc-device.c ****             if ((req->wLength == 0U) && (ret == USBD_OK))
1905:application-library/usb-cdc-device.c ****             {
1906:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendStatus(pdev);
1907:application-library/usb-cdc-device.c ****             }
1908:application-library/usb-cdc-device.c ****           }
1909:application-library/usb-cdc-device.c ****           else
1910:application-library/usb-cdc-device.c ****           {
1911:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
1912:application-library/usb-cdc-device.c ****           }
1913:application-library/usb-cdc-device.c ****           break;
1914:application-library/usb-cdc-device.c **** 
1915:application-library/usb-cdc-device.c ****         default:
1916:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
1917:application-library/usb-cdc-device.c ****           break;
1918:application-library/usb-cdc-device.c ****       }
1919:application-library/usb-cdc-device.c ****       break;
1920:application-library/usb-cdc-device.c **** 
1921:application-library/usb-cdc-device.c ****     default:
1922:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
1923:application-library/usb-cdc-device.c ****       break;
1924:application-library/usb-cdc-device.c ****   }
1925:application-library/usb-cdc-device.c **** 
1926:application-library/usb-cdc-device.c ****   return ret;
1927:application-library/usb-cdc-device.c **** }
1928:application-library/usb-cdc-device.c **** 
1929:application-library/usb-cdc-device.c **** /**
ARM GAS  /tmp/ccLxqwAV.s 			page 38


1930:application-library/usb-cdc-device.c ****   * @brief  USBD_StdEPReq
1931:application-library/usb-cdc-device.c ****   *         Handle standard usb endpoint requests
1932:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
1933:application-library/usb-cdc-device.c ****   * @param  req: usb request
1934:application-library/usb-cdc-device.c ****   * @retval status
1935:application-library/usb-cdc-device.c ****   */
1936:application-library/usb-cdc-device.c **** USBD_StatusTypeDef USBD_StdEPReq(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
1937:application-library/usb-cdc-device.c **** {
1938:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
1939:application-library/usb-cdc-device.c ****   uint8_t ep_addr;
1940:application-library/usb-cdc-device.c ****   uint8_t idx;
1941:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
1942:application-library/usb-cdc-device.c **** 
1943:application-library/usb-cdc-device.c ****   ep_addr = LOBYTE(req->wIndex);
1944:application-library/usb-cdc-device.c **** 
1945:application-library/usb-cdc-device.c ****   switch (req->bmRequest & USB_REQ_TYPE_MASK)
1946:application-library/usb-cdc-device.c ****   {
1947:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_CLASS:
1948:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_VENDOR:
1949:application-library/usb-cdc-device.c ****       /* Get the class index relative to this endpoint */
1950:application-library/usb-cdc-device.c ****       idx = USBD_CoreFindEP(pdev, ep_addr);
1951:application-library/usb-cdc-device.c ****       if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
1952:application-library/usb-cdc-device.c ****       {
1953:application-library/usb-cdc-device.c ****         pdev->classId = idx;
1954:application-library/usb-cdc-device.c ****         /* Call the class data out function to manage the request */
1955:application-library/usb-cdc-device.c ****         if (pdev->pClass[idx]->Setup != NULL)
1956:application-library/usb-cdc-device.c ****         {
1957:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->Setup(pdev, req);
1958:application-library/usb-cdc-device.c ****         }
1959:application-library/usb-cdc-device.c ****       }
1960:application-library/usb-cdc-device.c ****       break;
1961:application-library/usb-cdc-device.c **** 
1962:application-library/usb-cdc-device.c ****     case USB_REQ_TYPE_STANDARD:
1963:application-library/usb-cdc-device.c ****       switch (req->bRequest)
1964:application-library/usb-cdc-device.c ****       {
1965:application-library/usb-cdc-device.c ****         case USB_REQ_SET_FEATURE:
1966:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
1967:application-library/usb-cdc-device.c ****           {
1968:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
1969:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
1970:application-library/usb-cdc-device.c ****               {
1971:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, ep_addr);
1972:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
1973:application-library/usb-cdc-device.c ****               }
1974:application-library/usb-cdc-device.c ****               else
1975:application-library/usb-cdc-device.c ****               {
1976:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
1977:application-library/usb-cdc-device.c ****               }
1978:application-library/usb-cdc-device.c ****               break;
1979:application-library/usb-cdc-device.c **** 
1980:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
1981:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
1982:application-library/usb-cdc-device.c ****               {
1983:application-library/usb-cdc-device.c ****                 if ((ep_addr != 0x00U) && (ep_addr != 0x80U) && (req->wLength == 0x00U))
1984:application-library/usb-cdc-device.c ****                 {
1985:application-library/usb-cdc-device.c ****                   (void)USBD_LL_StallEP(pdev, ep_addr);
1986:application-library/usb-cdc-device.c ****                 }
ARM GAS  /tmp/ccLxqwAV.s 			page 39


1987:application-library/usb-cdc-device.c ****               }
1988:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendStatus(pdev);
1989:application-library/usb-cdc-device.c **** 
1990:application-library/usb-cdc-device.c ****               break;
1991:application-library/usb-cdc-device.c **** 
1992:application-library/usb-cdc-device.c ****             default:
1993:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
1994:application-library/usb-cdc-device.c ****               break;
1995:application-library/usb-cdc-device.c ****           }
1996:application-library/usb-cdc-device.c ****           break;
1997:application-library/usb-cdc-device.c **** 
1998:application-library/usb-cdc-device.c ****         case USB_REQ_CLEAR_FEATURE:
1999:application-library/usb-cdc-device.c **** 
2000:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
2001:application-library/usb-cdc-device.c ****           {
2002:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
2003:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
2004:application-library/usb-cdc-device.c ****               {
2005:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, ep_addr);
2006:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
2007:application-library/usb-cdc-device.c ****               }
2008:application-library/usb-cdc-device.c ****               else
2009:application-library/usb-cdc-device.c ****               {
2010:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
2011:application-library/usb-cdc-device.c ****               }
2012:application-library/usb-cdc-device.c ****               break;
2013:application-library/usb-cdc-device.c **** 
2014:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
2015:application-library/usb-cdc-device.c ****               if (req->wValue == USB_FEATURE_EP_HALT)
2016:application-library/usb-cdc-device.c ****               {
2017:application-library/usb-cdc-device.c ****                 if ((ep_addr & 0x7FU) != 0x00U)
2018:application-library/usb-cdc-device.c ****                 {
2019:application-library/usb-cdc-device.c ****                   (void)USBD_LL_ClearStallEP(pdev, ep_addr);
2020:application-library/usb-cdc-device.c ****                 }
2021:application-library/usb-cdc-device.c ****                 (void)USBD_CtlSendStatus(pdev);
2022:application-library/usb-cdc-device.c **** 
2023:application-library/usb-cdc-device.c ****                 /* Get the class index relative to this interface */
2024:application-library/usb-cdc-device.c ****                 idx = USBD_CoreFindEP(pdev, ep_addr);
2025:application-library/usb-cdc-device.c ****                 if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
2026:application-library/usb-cdc-device.c ****                 {
2027:application-library/usb-cdc-device.c ****                   pdev->classId = idx;
2028:application-library/usb-cdc-device.c ****                   /* Call the class data out function to manage the request */
2029:application-library/usb-cdc-device.c ****                   if (pdev->pClass[idx]->Setup != NULL)
2030:application-library/usb-cdc-device.c ****                   {
2031:application-library/usb-cdc-device.c ****                     ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
2032:application-library/usb-cdc-device.c ****                   }
2033:application-library/usb-cdc-device.c ****                 }
2034:application-library/usb-cdc-device.c ****               }
2035:application-library/usb-cdc-device.c ****               break;
2036:application-library/usb-cdc-device.c **** 
2037:application-library/usb-cdc-device.c ****             default:
2038:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
2039:application-library/usb-cdc-device.c ****               break;
2040:application-library/usb-cdc-device.c ****           }
2041:application-library/usb-cdc-device.c ****           break;
2042:application-library/usb-cdc-device.c **** 
2043:application-library/usb-cdc-device.c ****         case USB_REQ_GET_STATUS:
ARM GAS  /tmp/ccLxqwAV.s 			page 40


2044:application-library/usb-cdc-device.c ****           switch (pdev->dev_state)
2045:application-library/usb-cdc-device.c ****           {
2046:application-library/usb-cdc-device.c ****             case USBD_STATE_ADDRESSED:
2047:application-library/usb-cdc-device.c ****               if ((ep_addr != 0x00U) && (ep_addr != 0x80U))
2048:application-library/usb-cdc-device.c ****               {
2049:application-library/usb-cdc-device.c ****                 USBD_CtlError(pdev, req);
2050:application-library/usb-cdc-device.c ****                 break;
2051:application-library/usb-cdc-device.c ****               }
2052:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &pdev->ep_in[ep_addr & 0x7FU] : \
2053:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
2054:application-library/usb-cdc-device.c **** 
2055:application-library/usb-cdc-device.c ****               pep->status = 0x0000U;
2056:application-library/usb-cdc-device.c **** 
2057:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendData(pdev, (uint8_t *)&pep->status, 2U);
2058:application-library/usb-cdc-device.c ****               break;
2059:application-library/usb-cdc-device.c **** 
2060:application-library/usb-cdc-device.c ****             case USBD_STATE_CONFIGURED:
2061:application-library/usb-cdc-device.c ****               if ((ep_addr & 0x80U) == 0x80U)
2062:application-library/usb-cdc-device.c ****               {
2063:application-library/usb-cdc-device.c ****                 if (pdev->ep_in[ep_addr & 0xFU].is_used == 0U)
2064:application-library/usb-cdc-device.c ****                 {
2065:application-library/usb-cdc-device.c ****                   USBD_CtlError(pdev, req);
2066:application-library/usb-cdc-device.c ****                   break;
2067:application-library/usb-cdc-device.c ****                 }
2068:application-library/usb-cdc-device.c ****               }
2069:application-library/usb-cdc-device.c ****               else
2070:application-library/usb-cdc-device.c ****               {
2071:application-library/usb-cdc-device.c ****                 if (pdev->ep_out[ep_addr & 0xFU].is_used == 0U)
2072:application-library/usb-cdc-device.c ****                 {
2073:application-library/usb-cdc-device.c ****                   USBD_CtlError(pdev, req);
2074:application-library/usb-cdc-device.c ****                   break;
2075:application-library/usb-cdc-device.c ****                 }
2076:application-library/usb-cdc-device.c ****               }
2077:application-library/usb-cdc-device.c **** 
2078:application-library/usb-cdc-device.c ****               pep = ((ep_addr & 0x80U) == 0x80U) ? &pdev->ep_in[ep_addr & 0x7FU] : \
2079:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
2080:application-library/usb-cdc-device.c **** 
2081:application-library/usb-cdc-device.c ****               if ((ep_addr == 0x00U) || (ep_addr == 0x80U))
2082:application-library/usb-cdc-device.c ****               {
2083:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
2084:application-library/usb-cdc-device.c ****               }
2085:application-library/usb-cdc-device.c ****               else if (USBD_LL_IsStallEP(pdev, ep_addr) != 0U)
2086:application-library/usb-cdc-device.c ****               {
2087:application-library/usb-cdc-device.c ****                 pep->status = 0x0001U;
2088:application-library/usb-cdc-device.c ****               }
2089:application-library/usb-cdc-device.c ****               else
2090:application-library/usb-cdc-device.c ****               {
2091:application-library/usb-cdc-device.c ****                 pep->status = 0x0000U;
2092:application-library/usb-cdc-device.c ****               }
2093:application-library/usb-cdc-device.c **** 
2094:application-library/usb-cdc-device.c ****               (void)USBD_CtlSendData(pdev, (uint8_t *)&pep->status, 2U);
2095:application-library/usb-cdc-device.c ****               break;
2096:application-library/usb-cdc-device.c **** 
2097:application-library/usb-cdc-device.c ****             default:
2098:application-library/usb-cdc-device.c ****               USBD_CtlError(pdev, req);
2099:application-library/usb-cdc-device.c ****               break;
2100:application-library/usb-cdc-device.c ****           }
ARM GAS  /tmp/ccLxqwAV.s 			page 41


2101:application-library/usb-cdc-device.c ****           break;
2102:application-library/usb-cdc-device.c **** 
2103:application-library/usb-cdc-device.c ****         default:
2104:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2105:application-library/usb-cdc-device.c ****           break;
2106:application-library/usb-cdc-device.c ****       }
2107:application-library/usb-cdc-device.c ****       break;
2108:application-library/usb-cdc-device.c **** 
2109:application-library/usb-cdc-device.c ****     default:
2110:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2111:application-library/usb-cdc-device.c ****       break;
2112:application-library/usb-cdc-device.c ****   }
2113:application-library/usb-cdc-device.c **** 
2114:application-library/usb-cdc-device.c ****   return ret;
2115:application-library/usb-cdc-device.c **** }
2116:application-library/usb-cdc-device.c **** 
2117:application-library/usb-cdc-device.c **** 
2118:application-library/usb-cdc-device.c **** /**
2119:application-library/usb-cdc-device.c ****   * @brief  USBD_GetDescriptor
2120:application-library/usb-cdc-device.c ****   *         Handle Get Descriptor requests
2121:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2122:application-library/usb-cdc-device.c ****   * @param  req: usb request
2123:application-library/usb-cdc-device.c ****   * @retval status
2124:application-library/usb-cdc-device.c ****   */
2125:application-library/usb-cdc-device.c **** static void USBD_GetDescriptor(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2126:application-library/usb-cdc-device.c **** {
2127:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
2128:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
2129:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
2130:application-library/usb-cdc-device.c **** 
2131:application-library/usb-cdc-device.c ****   switch (req->wValue >> 8)
2132:application-library/usb-cdc-device.c ****   {
2133:application-library/usb-cdc-device.c **** #if ((USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1U))
2134:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_BOS:
2135:application-library/usb-cdc-device.c ****       if (pdev->pDesc->GetBOSDescriptor != NULL)
2136:application-library/usb-cdc-device.c ****       {
2137:application-library/usb-cdc-device.c ****         pbuf = pdev->pDesc->GetBOSDescriptor(pdev->dev_speed, &len);
2138:application-library/usb-cdc-device.c ****       }
2139:application-library/usb-cdc-device.c ****       else
2140:application-library/usb-cdc-device.c ****       {
2141:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2142:application-library/usb-cdc-device.c ****         err++;
2143:application-library/usb-cdc-device.c ****       }
2144:application-library/usb-cdc-device.c ****       break;
2145:application-library/usb-cdc-device.c **** #endif /* (USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1U) */
2146:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE:
2147:application-library/usb-cdc-device.c ****       pbuf = pdev->pDesc->GetDeviceDescriptor(pdev->dev_speed, &len);
2148:application-library/usb-cdc-device.c ****       break;
2149:application-library/usb-cdc-device.c **** 
2150:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_CONFIGURATION:
2151:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2152:application-library/usb-cdc-device.c ****       {
2153:application-library/usb-cdc-device.c **** #ifdef USE_USBD_COMPOSITE
2154:application-library/usb-cdc-device.c ****         if ((uint8_t)(pdev->NumClasses) > 0U)
2155:application-library/usb-cdc-device.c ****         {
2156:application-library/usb-cdc-device.c ****           pbuf   = (uint8_t *)USBD_CMPSIT.GetHSConfigDescriptor(&len);
2157:application-library/usb-cdc-device.c ****         }
ARM GAS  /tmp/ccLxqwAV.s 			page 42


2158:application-library/usb-cdc-device.c ****         else
2159:application-library/usb-cdc-device.c **** #endif /* USE_USBD_COMPOSITE */
2160:application-library/usb-cdc-device.c ****         {
2161:application-library/usb-cdc-device.c ****           pbuf = (uint8_t *)pdev->pClass[0]->GetHSConfigDescriptor(&len);
2162:application-library/usb-cdc-device.c ****         }
2163:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
2164:application-library/usb-cdc-device.c ****       }
2165:application-library/usb-cdc-device.c ****       else
2166:application-library/usb-cdc-device.c ****       {
2167:application-library/usb-cdc-device.c **** #ifdef USE_USBD_COMPOSITE
2168:application-library/usb-cdc-device.c ****         if ((uint8_t)(pdev->NumClasses) > 0U)
2169:application-library/usb-cdc-device.c ****         {
2170:application-library/usb-cdc-device.c ****           pbuf   = (uint8_t *)USBD_CMPSIT.GetFSConfigDescriptor(&len);
2171:application-library/usb-cdc-device.c ****         }
2172:application-library/usb-cdc-device.c ****         else
2173:application-library/usb-cdc-device.c **** #endif /* USE_USBD_COMPOSITE */
2174:application-library/usb-cdc-device.c ****         {
2175:application-library/usb-cdc-device.c ****           pbuf   = (uint8_t *)pdev->pClass[0]->GetFSConfigDescriptor(&len);
2176:application-library/usb-cdc-device.c ****         }
2177:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
2178:application-library/usb-cdc-device.c ****       }
2179:application-library/usb-cdc-device.c ****       break;
2180:application-library/usb-cdc-device.c **** 
2181:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_STRING:
2182:application-library/usb-cdc-device.c ****       switch ((uint8_t)(req->wValue))
2183:application-library/usb-cdc-device.c ****       {
2184:application-library/usb-cdc-device.c ****         case USBD_IDX_LANGID_STR:
2185:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetLangIDStrDescriptor != NULL)
2186:application-library/usb-cdc-device.c ****           {
2187:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetLangIDStrDescriptor(pdev->dev_speed, &len);
2188:application-library/usb-cdc-device.c ****           }
2189:application-library/usb-cdc-device.c ****           else
2190:application-library/usb-cdc-device.c ****           {
2191:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2192:application-library/usb-cdc-device.c ****             err++;
2193:application-library/usb-cdc-device.c ****           }
2194:application-library/usb-cdc-device.c ****           break;
2195:application-library/usb-cdc-device.c **** 
2196:application-library/usb-cdc-device.c ****         case USBD_IDX_MFC_STR:
2197:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetManufacturerStrDescriptor != NULL)
2198:application-library/usb-cdc-device.c ****           {
2199:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetManufacturerStrDescriptor(pdev->dev_speed, &len);
2200:application-library/usb-cdc-device.c ****           }
2201:application-library/usb-cdc-device.c ****           else
2202:application-library/usb-cdc-device.c ****           {
2203:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2204:application-library/usb-cdc-device.c ****             err++;
2205:application-library/usb-cdc-device.c ****           }
2206:application-library/usb-cdc-device.c ****           break;
2207:application-library/usb-cdc-device.c **** 
2208:application-library/usb-cdc-device.c ****         case USBD_IDX_PRODUCT_STR:
2209:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetProductStrDescriptor != NULL)
2210:application-library/usb-cdc-device.c ****           {
2211:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetProductStrDescriptor(pdev->dev_speed, &len);
2212:application-library/usb-cdc-device.c ****           }
2213:application-library/usb-cdc-device.c ****           else
2214:application-library/usb-cdc-device.c ****           {
ARM GAS  /tmp/ccLxqwAV.s 			page 43


2215:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2216:application-library/usb-cdc-device.c ****             err++;
2217:application-library/usb-cdc-device.c ****           }
2218:application-library/usb-cdc-device.c ****           break;
2219:application-library/usb-cdc-device.c **** 
2220:application-library/usb-cdc-device.c ****         case USBD_IDX_SERIAL_STR:
2221:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetSerialStrDescriptor != NULL)
2222:application-library/usb-cdc-device.c ****           {
2223:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetSerialStrDescriptor(pdev->dev_speed, &len);
2224:application-library/usb-cdc-device.c ****           }
2225:application-library/usb-cdc-device.c ****           else
2226:application-library/usb-cdc-device.c ****           {
2227:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2228:application-library/usb-cdc-device.c ****             err++;
2229:application-library/usb-cdc-device.c ****           }
2230:application-library/usb-cdc-device.c ****           break;
2231:application-library/usb-cdc-device.c **** 
2232:application-library/usb-cdc-device.c ****         case USBD_IDX_CONFIG_STR:
2233:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetConfigurationStrDescriptor != NULL)
2234:application-library/usb-cdc-device.c ****           {
2235:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetConfigurationStrDescriptor(pdev->dev_speed, &len);
2236:application-library/usb-cdc-device.c ****           }
2237:application-library/usb-cdc-device.c ****           else
2238:application-library/usb-cdc-device.c ****           {
2239:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2240:application-library/usb-cdc-device.c ****             err++;
2241:application-library/usb-cdc-device.c ****           }
2242:application-library/usb-cdc-device.c ****           break;
2243:application-library/usb-cdc-device.c **** 
2244:application-library/usb-cdc-device.c ****         case USBD_IDX_INTERFACE_STR:
2245:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetInterfaceStrDescriptor != NULL)
2246:application-library/usb-cdc-device.c ****           {
2247:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetInterfaceStrDescriptor(pdev->dev_speed, &len);
2248:application-library/usb-cdc-device.c ****           }
2249:application-library/usb-cdc-device.c ****           else
2250:application-library/usb-cdc-device.c ****           {
2251:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2252:application-library/usb-cdc-device.c ****             err++;
2253:application-library/usb-cdc-device.c ****           }
2254:application-library/usb-cdc-device.c ****           break;
2255:application-library/usb-cdc-device.c **** 
2256:application-library/usb-cdc-device.c ****         default:
2257:application-library/usb-cdc-device.c **** #if (USBD_SUPPORT_USER_STRING_DESC == 1U)
2258:application-library/usb-cdc-device.c ****           pbuf = NULL;
2259:application-library/usb-cdc-device.c **** 
2260:application-library/usb-cdc-device.c **** 
2261:application-library/usb-cdc-device.c ****           for (uint32_t idx = 0U; (idx < pdev->NumClasses); idx++)
2262:application-library/usb-cdc-device.c ****           {
2263:application-library/usb-cdc-device.c ****             if (pdev->pClass[idx]->GetUsrStrDescriptor != NULL)
2264:application-library/usb-cdc-device.c ****             {
2265:application-library/usb-cdc-device.c ****               pdev->classId = idx;
2266:application-library/usb-cdc-device.c ****               pbuf = pdev->pClass[idx]->GetUsrStrDescriptor(pdev, LOBYTE(req->wValue), &len);
2267:application-library/usb-cdc-device.c **** 
2268:application-library/usb-cdc-device.c ****               if (pbuf == NULL) /* This means that no class recognized the string index */
2269:application-library/usb-cdc-device.c ****               {
2270:application-library/usb-cdc-device.c ****                 continue;
2271:application-library/usb-cdc-device.c ****               }
ARM GAS  /tmp/ccLxqwAV.s 			page 44


2272:application-library/usb-cdc-device.c ****               else
2273:application-library/usb-cdc-device.c ****               {
2274:application-library/usb-cdc-device.c ****                 break;
2275:application-library/usb-cdc-device.c ****               }
2276:application-library/usb-cdc-device.c ****             }
2277:application-library/usb-cdc-device.c ****           }
2278:application-library/usb-cdc-device.c **** 
2279:application-library/usb-cdc-device.c **** #endif /* USBD_SUPPORT_USER_STRING_DESC  */
2280:application-library/usb-cdc-device.c **** 
2281:application-library/usb-cdc-device.c **** #if (USBD_CLASS_USER_STRING_DESC == 1U)
2282:application-library/usb-cdc-device.c ****           if (pdev->pDesc->GetUserStrDescriptor != NULL)
2283:application-library/usb-cdc-device.c ****           {
2284:application-library/usb-cdc-device.c ****             pbuf = pdev->pDesc->GetUserStrDescriptor(pdev->dev_speed, (req->wValue), &len);
2285:application-library/usb-cdc-device.c ****           }
2286:application-library/usb-cdc-device.c ****           else
2287:application-library/usb-cdc-device.c ****           {
2288:application-library/usb-cdc-device.c ****             USBD_CtlError(pdev, req);
2289:application-library/usb-cdc-device.c ****             err++;
2290:application-library/usb-cdc-device.c ****           }
2291:application-library/usb-cdc-device.c **** #endif /* USBD_SUPPORT_USER_STRING_DESC  */
2292:application-library/usb-cdc-device.c **** 
2293:application-library/usb-cdc-device.c **** #if ((USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U))
2294:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2295:application-library/usb-cdc-device.c ****           err++;
2296:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
2297:application-library/usb-cdc-device.c ****           break;
2298:application-library/usb-cdc-device.c ****       }
2299:application-library/usb-cdc-device.c ****       break;
2300:application-library/usb-cdc-device.c **** 
2301:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_DEVICE_QUALIFIER:
2302:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2303:application-library/usb-cdc-device.c ****       {
2304:application-library/usb-cdc-device.c **** #ifdef USE_USBD_COMPOSITE
2305:application-library/usb-cdc-device.c ****         if ((uint8_t)(pdev->NumClasses) > 0U)
2306:application-library/usb-cdc-device.c ****         {
2307:application-library/usb-cdc-device.c ****           pbuf = (uint8_t *)USBD_CMPSIT.GetDeviceQualifierDescriptor(&len);
2308:application-library/usb-cdc-device.c ****         }
2309:application-library/usb-cdc-device.c ****         else
2310:application-library/usb-cdc-device.c **** #endif /* USE_USBD_COMPOSITE */
2311:application-library/usb-cdc-device.c ****         {
2312:application-library/usb-cdc-device.c ****           pbuf = (uint8_t *)pdev->pClass[0]->GetDeviceQualifierDescriptor(&len);
2313:application-library/usb-cdc-device.c ****         }
2314:application-library/usb-cdc-device.c ****       }
2315:application-library/usb-cdc-device.c ****       else
2316:application-library/usb-cdc-device.c ****       {
2317:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2318:application-library/usb-cdc-device.c ****         err++;
2319:application-library/usb-cdc-device.c ****       }
2320:application-library/usb-cdc-device.c ****       break;
2321:application-library/usb-cdc-device.c **** 
2322:application-library/usb-cdc-device.c ****     case USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION:
2323:application-library/usb-cdc-device.c ****       if (pdev->dev_speed == USBD_SPEED_HIGH)
2324:application-library/usb-cdc-device.c ****       {
2325:application-library/usb-cdc-device.c **** #ifdef USE_USBD_COMPOSITE
2326:application-library/usb-cdc-device.c ****         if ((uint8_t)(pdev->NumClasses) > 0U)
2327:application-library/usb-cdc-device.c ****         {
2328:application-library/usb-cdc-device.c ****           pbuf = (uint8_t *)USBD_CMPSIT.GetOtherSpeedConfigDescriptor(&len);
ARM GAS  /tmp/ccLxqwAV.s 			page 45


2329:application-library/usb-cdc-device.c ****         }
2330:application-library/usb-cdc-device.c ****         else
2331:application-library/usb-cdc-device.c **** #endif /* USE_USBD_COMPOSITE */
2332:application-library/usb-cdc-device.c ****         {
2333:application-library/usb-cdc-device.c ****           pbuf = (uint8_t *)pdev->pClass[0]->GetOtherSpeedConfigDescriptor(&len);
2334:application-library/usb-cdc-device.c ****         }
2335:application-library/usb-cdc-device.c ****         pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
2336:application-library/usb-cdc-device.c ****       }
2337:application-library/usb-cdc-device.c ****       else
2338:application-library/usb-cdc-device.c ****       {
2339:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2340:application-library/usb-cdc-device.c ****         err++;
2341:application-library/usb-cdc-device.c ****       }
2342:application-library/usb-cdc-device.c ****       break;
2343:application-library/usb-cdc-device.c **** 
2344:application-library/usb-cdc-device.c ****     default:
2345:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2346:application-library/usb-cdc-device.c ****       err++;
2347:application-library/usb-cdc-device.c ****       break;
2348:application-library/usb-cdc-device.c ****   }
2349:application-library/usb-cdc-device.c **** 
2350:application-library/usb-cdc-device.c ****   if (err != 0U)
2351:application-library/usb-cdc-device.c ****   {
2352:application-library/usb-cdc-device.c ****     return;
2353:application-library/usb-cdc-device.c ****   }
2354:application-library/usb-cdc-device.c **** 
2355:application-library/usb-cdc-device.c ****   if (req->wLength != 0U)
2356:application-library/usb-cdc-device.c ****   {
2357:application-library/usb-cdc-device.c ****     if (len != 0U)
2358:application-library/usb-cdc-device.c ****     {
2359:application-library/usb-cdc-device.c ****       len = MIN(len, req->wLength);
2360:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, pbuf, len);
2361:application-library/usb-cdc-device.c ****     }
2362:application-library/usb-cdc-device.c ****     else
2363:application-library/usb-cdc-device.c ****     {
2364:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2365:application-library/usb-cdc-device.c ****     }
2366:application-library/usb-cdc-device.c ****   }
2367:application-library/usb-cdc-device.c ****   else
2368:application-library/usb-cdc-device.c ****   {
2369:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2370:application-library/usb-cdc-device.c ****   }
2371:application-library/usb-cdc-device.c **** }
2372:application-library/usb-cdc-device.c **** 
2373:application-library/usb-cdc-device.c **** 
2374:application-library/usb-cdc-device.c **** /**
2375:application-library/usb-cdc-device.c ****   * @brief  USBD_SetAddress
2376:application-library/usb-cdc-device.c ****   *         Set device address
2377:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2378:application-library/usb-cdc-device.c ****   * @param  req: usb request
2379:application-library/usb-cdc-device.c ****   * @retval status
2380:application-library/usb-cdc-device.c ****   */
2381:application-library/usb-cdc-device.c **** static void USBD_SetAddress(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2382:application-library/usb-cdc-device.c **** {
2383:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
2384:application-library/usb-cdc-device.c **** 
2385:application-library/usb-cdc-device.c ****   if ((req->wIndex == 0U) && (req->wLength == 0U) && (req->wValue < 128U))
ARM GAS  /tmp/ccLxqwAV.s 			page 46


2386:application-library/usb-cdc-device.c ****   {
2387:application-library/usb-cdc-device.c ****     dev_addr = (uint8_t)(req->wValue) & 0x7FU;
2388:application-library/usb-cdc-device.c **** 
2389:application-library/usb-cdc-device.c ****     if (pdev->dev_state == USBD_STATE_CONFIGURED)
2390:application-library/usb-cdc-device.c ****     {
2391:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2392:application-library/usb-cdc-device.c ****     }
2393:application-library/usb-cdc-device.c ****     else
2394:application-library/usb-cdc-device.c ****     {
2395:application-library/usb-cdc-device.c ****       pdev->dev_address = dev_addr;
2396:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(pdev, dev_addr);
2397:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendStatus(pdev);
2398:application-library/usb-cdc-device.c **** 
2399:application-library/usb-cdc-device.c ****       if (dev_addr != 0U)
2400:application-library/usb-cdc-device.c ****       {
2401:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_ADDRESSED;
2402:application-library/usb-cdc-device.c ****       }
2403:application-library/usb-cdc-device.c ****       else
2404:application-library/usb-cdc-device.c ****       {
2405:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_DEFAULT;
2406:application-library/usb-cdc-device.c ****       }
2407:application-library/usb-cdc-device.c ****     }
2408:application-library/usb-cdc-device.c ****   }
2409:application-library/usb-cdc-device.c ****   else
2410:application-library/usb-cdc-device.c ****   {
2411:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2412:application-library/usb-cdc-device.c ****   }
2413:application-library/usb-cdc-device.c **** }
2414:application-library/usb-cdc-device.c **** 
2415:application-library/usb-cdc-device.c **** /**
2416:application-library/usb-cdc-device.c ****   * @brief  USBD_SetConfig
2417:application-library/usb-cdc-device.c ****   *         Handle Set device configuration request
2418:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2419:application-library/usb-cdc-device.c ****   * @param  req: usb request
2420:application-library/usb-cdc-device.c ****   * @retval status
2421:application-library/usb-cdc-device.c ****   */
2422:application-library/usb-cdc-device.c **** static USBD_StatusTypeDef USBD_SetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2423:application-library/usb-cdc-device.c **** {
2424:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
2425:application-library/usb-cdc-device.c ****   static uint8_t cfgidx;
2426:application-library/usb-cdc-device.c **** 
2427:application-library/usb-cdc-device.c ****   cfgidx = (uint8_t)(req->wValue);
2428:application-library/usb-cdc-device.c **** 
2429:application-library/usb-cdc-device.c ****   if (cfgidx > USBD_MAX_NUM_CONFIGURATION)
2430:application-library/usb-cdc-device.c ****   {
2431:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2432:application-library/usb-cdc-device.c ****     return USBD_FAIL;
2433:application-library/usb-cdc-device.c ****   }
2434:application-library/usb-cdc-device.c **** 
2435:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2436:application-library/usb-cdc-device.c ****   {
2437:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2438:application-library/usb-cdc-device.c ****       if (cfgidx != 0U)
2439:application-library/usb-cdc-device.c ****       {
2440:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2441:application-library/usb-cdc-device.c **** 
2442:application-library/usb-cdc-device.c ****         ret = USBD_SetClassConfig(pdev, cfgidx);
ARM GAS  /tmp/ccLxqwAV.s 			page 47


2443:application-library/usb-cdc-device.c **** 
2444:application-library/usb-cdc-device.c ****         if (ret != USBD_OK)
2445:application-library/usb-cdc-device.c ****         {
2446:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2447:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
2448:application-library/usb-cdc-device.c ****         }
2449:application-library/usb-cdc-device.c ****         else
2450:application-library/usb-cdc-device.c ****         {
2451:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendStatus(pdev);
2452:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_CONFIGURED;
2453:application-library/usb-cdc-device.c ****         }
2454:application-library/usb-cdc-device.c ****       }
2455:application-library/usb-cdc-device.c ****       else
2456:application-library/usb-cdc-device.c ****       {
2457:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2458:application-library/usb-cdc-device.c ****       }
2459:application-library/usb-cdc-device.c ****       break;
2460:application-library/usb-cdc-device.c **** 
2461:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2462:application-library/usb-cdc-device.c ****       if (cfgidx == 0U)
2463:application-library/usb-cdc-device.c ****       {
2464:application-library/usb-cdc-device.c ****         pdev->dev_state = USBD_STATE_ADDRESSED;
2465:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2466:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, cfgidx);
2467:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2468:application-library/usb-cdc-device.c ****       }
2469:application-library/usb-cdc-device.c ****       else if (cfgidx != pdev->dev_config)
2470:application-library/usb-cdc-device.c ****       {
2471:application-library/usb-cdc-device.c ****         /* Clear old configuration */
2472:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
2473:application-library/usb-cdc-device.c **** 
2474:application-library/usb-cdc-device.c ****         /* set new configuration */
2475:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
2476:application-library/usb-cdc-device.c **** 
2477:application-library/usb-cdc-device.c ****         ret = USBD_SetClassConfig(pdev, cfgidx);
2478:application-library/usb-cdc-device.c **** 
2479:application-library/usb-cdc-device.c ****         if (ret != USBD_OK)
2480:application-library/usb-cdc-device.c ****         {
2481:application-library/usb-cdc-device.c ****           USBD_CtlError(pdev, req);
2482:application-library/usb-cdc-device.c ****           (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
2483:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
2484:application-library/usb-cdc-device.c ****         }
2485:application-library/usb-cdc-device.c ****         else
2486:application-library/usb-cdc-device.c ****         {
2487:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendStatus(pdev);
2488:application-library/usb-cdc-device.c ****         }
2489:application-library/usb-cdc-device.c ****       }
2490:application-library/usb-cdc-device.c ****       else
2491:application-library/usb-cdc-device.c ****       {
2492:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2493:application-library/usb-cdc-device.c ****       }
2494:application-library/usb-cdc-device.c ****       break;
2495:application-library/usb-cdc-device.c **** 
2496:application-library/usb-cdc-device.c ****     default:
2497:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2498:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(pdev, cfgidx);
2499:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
ARM GAS  /tmp/ccLxqwAV.s 			page 48


2500:application-library/usb-cdc-device.c ****       break;
2501:application-library/usb-cdc-device.c ****   }
2502:application-library/usb-cdc-device.c **** 
2503:application-library/usb-cdc-device.c ****   return ret;
2504:application-library/usb-cdc-device.c **** }
2505:application-library/usb-cdc-device.c **** 
2506:application-library/usb-cdc-device.c **** /**
2507:application-library/usb-cdc-device.c ****   * @brief  USBD_GetConfig
2508:application-library/usb-cdc-device.c ****   *         Handle Get device configuration request
2509:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2510:application-library/usb-cdc-device.c ****   * @param  req: usb request
2511:application-library/usb-cdc-device.c ****   * @retval status
2512:application-library/usb-cdc-device.c ****   */
2513:application-library/usb-cdc-device.c **** static void USBD_GetConfig(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2514:application-library/usb-cdc-device.c **** {
2515:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
2516:application-library/usb-cdc-device.c ****   {
2517:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2518:application-library/usb-cdc-device.c ****   }
2519:application-library/usb-cdc-device.c ****   else
2520:application-library/usb-cdc-device.c ****   {
2521:application-library/usb-cdc-device.c ****     switch (pdev->dev_state)
2522:application-library/usb-cdc-device.c ****     {
2523:application-library/usb-cdc-device.c ****       case USBD_STATE_DEFAULT:
2524:application-library/usb-cdc-device.c ****       case USBD_STATE_ADDRESSED:
2525:application-library/usb-cdc-device.c ****         pdev->dev_default_config = 0U;
2526:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_default_config, 1U);
2527:application-library/usb-cdc-device.c ****         break;
2528:application-library/usb-cdc-device.c **** 
2529:application-library/usb-cdc-device.c ****       case USBD_STATE_CONFIGURED:
2530:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_config, 1U);
2531:application-library/usb-cdc-device.c ****         break;
2532:application-library/usb-cdc-device.c **** 
2533:application-library/usb-cdc-device.c ****       default:
2534:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
2535:application-library/usb-cdc-device.c ****         break;
2536:application-library/usb-cdc-device.c ****     }
2537:application-library/usb-cdc-device.c ****   }
2538:application-library/usb-cdc-device.c **** }
2539:application-library/usb-cdc-device.c **** 
2540:application-library/usb-cdc-device.c **** /**
2541:application-library/usb-cdc-device.c ****   * @brief  USBD_GetStatus
2542:application-library/usb-cdc-device.c ****   *         Handle Get Status request
2543:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2544:application-library/usb-cdc-device.c ****   * @param  req: usb request
2545:application-library/usb-cdc-device.c ****   * @retval status
2546:application-library/usb-cdc-device.c ****   */
2547:application-library/usb-cdc-device.c **** static void USBD_GetStatus(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2548:application-library/usb-cdc-device.c **** {
2549:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2550:application-library/usb-cdc-device.c ****   {
2551:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2552:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2553:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2554:application-library/usb-cdc-device.c ****       if (req->wLength != 0x2U)
2555:application-library/usb-cdc-device.c ****       {
2556:application-library/usb-cdc-device.c ****         USBD_CtlError(pdev, req);
ARM GAS  /tmp/ccLxqwAV.s 			page 49


2557:application-library/usb-cdc-device.c ****         break;
2558:application-library/usb-cdc-device.c ****       }
2559:application-library/usb-cdc-device.c **** 
2560:application-library/usb-cdc-device.c **** #if (USBD_SELF_POWERED == 1U)
2561:application-library/usb-cdc-device.c ****       pdev->dev_config_status = USB_CONFIG_SELF_POWERED;
2562:application-library/usb-cdc-device.c **** #else
2563:application-library/usb-cdc-device.c ****       pdev->dev_config_status = 0U;
2564:application-library/usb-cdc-device.c **** #endif /* USBD_SELF_POWERED */
2565:application-library/usb-cdc-device.c **** 
2566:application-library/usb-cdc-device.c ****       if (pdev->dev_remote_wakeup != 0U)
2567:application-library/usb-cdc-device.c ****       {
2568:application-library/usb-cdc-device.c ****         pdev->dev_config_status |= USB_CONFIG_REMOTE_WAKEUP;
2569:application-library/usb-cdc-device.c ****       }
2570:application-library/usb-cdc-device.c **** 
2571:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_config_status, 2U);
2572:application-library/usb-cdc-device.c ****       break;
2573:application-library/usb-cdc-device.c **** 
2574:application-library/usb-cdc-device.c ****     default:
2575:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2576:application-library/usb-cdc-device.c ****       break;
2577:application-library/usb-cdc-device.c ****   }
2578:application-library/usb-cdc-device.c **** }
2579:application-library/usb-cdc-device.c **** 
2580:application-library/usb-cdc-device.c **** 
2581:application-library/usb-cdc-device.c **** /**
2582:application-library/usb-cdc-device.c ****   * @brief  USBD_SetFeature
2583:application-library/usb-cdc-device.c ****   *         Handle Set device feature request
2584:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2585:application-library/usb-cdc-device.c ****   * @param  req: usb request
2586:application-library/usb-cdc-device.c ****   * @retval status
2587:application-library/usb-cdc-device.c ****   */
2588:application-library/usb-cdc-device.c **** static void USBD_SetFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2589:application-library/usb-cdc-device.c **** {
2590:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2591:application-library/usb-cdc-device.c ****   {
2592:application-library/usb-cdc-device.c ****     pdev->dev_remote_wakeup = 1U;
2593:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2594:application-library/usb-cdc-device.c ****   }
2595:application-library/usb-cdc-device.c ****   else if (req->wValue == USB_FEATURE_TEST_MODE)
2596:application-library/usb-cdc-device.c ****   {
2597:application-library/usb-cdc-device.c ****     pdev->dev_test_mode = req->wIndex >> 8;
2598:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
2599:application-library/usb-cdc-device.c ****   }
2600:application-library/usb-cdc-device.c ****   else
2601:application-library/usb-cdc-device.c ****   {
2602:application-library/usb-cdc-device.c ****     USBD_CtlError(pdev, req);
2603:application-library/usb-cdc-device.c ****   }
2604:application-library/usb-cdc-device.c **** }
2605:application-library/usb-cdc-device.c **** 
2606:application-library/usb-cdc-device.c **** 
2607:application-library/usb-cdc-device.c **** /**
2608:application-library/usb-cdc-device.c ****   * @brief  USBD_ClrFeature
2609:application-library/usb-cdc-device.c ****   *         Handle clear device feature request
2610:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2611:application-library/usb-cdc-device.c ****   * @param  req: usb request
2612:application-library/usb-cdc-device.c ****   * @retval status
2613:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccLxqwAV.s 			page 50


2614:application-library/usb-cdc-device.c **** static void USBD_ClrFeature(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2615:application-library/usb-cdc-device.c **** {
2616:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
2617:application-library/usb-cdc-device.c ****   {
2618:application-library/usb-cdc-device.c ****     case USBD_STATE_DEFAULT:
2619:application-library/usb-cdc-device.c ****     case USBD_STATE_ADDRESSED:
2620:application-library/usb-cdc-device.c ****     case USBD_STATE_CONFIGURED:
2621:application-library/usb-cdc-device.c ****       if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
2622:application-library/usb-cdc-device.c ****       {
2623:application-library/usb-cdc-device.c ****         pdev->dev_remote_wakeup = 0U;
2624:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
2625:application-library/usb-cdc-device.c ****       }
2626:application-library/usb-cdc-device.c ****       break;
2627:application-library/usb-cdc-device.c **** 
2628:application-library/usb-cdc-device.c ****     default:
2629:application-library/usb-cdc-device.c ****       USBD_CtlError(pdev, req);
2630:application-library/usb-cdc-device.c ****       break;
2631:application-library/usb-cdc-device.c ****   }
2632:application-library/usb-cdc-device.c **** }
2633:application-library/usb-cdc-device.c **** 
2634:application-library/usb-cdc-device.c **** 
2635:application-library/usb-cdc-device.c **** /**
2636:application-library/usb-cdc-device.c ****   * @brief  USBD_ParseSetupRequest
2637:application-library/usb-cdc-device.c ****   *         Copy buffer into setup structure
2638:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2639:application-library/usb-cdc-device.c ****   * @param  req: usb request
2640:application-library/usb-cdc-device.c ****   * @retval None
2641:application-library/usb-cdc-device.c ****   */
2642:application-library/usb-cdc-device.c **** void USBD_ParseSetupRequest(USBD_SetupReqTypedef *req, uint8_t *pdata)
2643:application-library/usb-cdc-device.c **** {
2644:application-library/usb-cdc-device.c ****   uint8_t *pbuff = pdata;
2645:application-library/usb-cdc-device.c **** 
2646:application-library/usb-cdc-device.c ****   req->bmRequest = *(uint8_t *)(pbuff);
2647:application-library/usb-cdc-device.c **** 
2648:application-library/usb-cdc-device.c ****   pbuff++;
2649:application-library/usb-cdc-device.c ****   req->bRequest = *(uint8_t *)(pbuff);
2650:application-library/usb-cdc-device.c **** 
2651:application-library/usb-cdc-device.c ****   pbuff++;
2652:application-library/usb-cdc-device.c ****   req->wValue = SWAPBYTE(pbuff);
2653:application-library/usb-cdc-device.c **** 
2654:application-library/usb-cdc-device.c ****   pbuff++;
2655:application-library/usb-cdc-device.c ****   pbuff++;
2656:application-library/usb-cdc-device.c ****   req->wIndex = SWAPBYTE(pbuff);
2657:application-library/usb-cdc-device.c **** 
2658:application-library/usb-cdc-device.c ****   pbuff++;
2659:application-library/usb-cdc-device.c ****   pbuff++;
2660:application-library/usb-cdc-device.c ****   req->wLength = SWAPBYTE(pbuff);
2661:application-library/usb-cdc-device.c **** }
2662:application-library/usb-cdc-device.c **** 
2663:application-library/usb-cdc-device.c **** 
2664:application-library/usb-cdc-device.c **** /**
2665:application-library/usb-cdc-device.c ****   * @brief  USBD_CtlError
2666:application-library/usb-cdc-device.c ****   *         Handle USB low level Error
2667:application-library/usb-cdc-device.c ****   * @param  pdev: device instance
2668:application-library/usb-cdc-device.c ****   * @param  req: usb request
2669:application-library/usb-cdc-device.c ****   * @retval None
2670:application-library/usb-cdc-device.c ****   */
ARM GAS  /tmp/ccLxqwAV.s 			page 51


2671:application-library/usb-cdc-device.c **** void USBD_CtlError(USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef *req)
2672:application-library/usb-cdc-device.c **** {
2673:application-library/usb-cdc-device.c ****   UNUSED(req);
2674:application-library/usb-cdc-device.c **** 
2675:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0x80U);
2676:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0U);
2677:application-library/usb-cdc-device.c **** }
2678:application-library/usb-cdc-device.c **** 
2679:application-library/usb-cdc-device.c **** 
2680:application-library/usb-cdc-device.c **** /**
2681:application-library/usb-cdc-device.c ****   * @brief  USBD_GetString
2682:application-library/usb-cdc-device.c ****   *         Convert Ascii string into unicode one
2683:application-library/usb-cdc-device.c ****   * @param  desc : descriptor buffer
2684:application-library/usb-cdc-device.c ****   * @param  unicode : Formatted string buffer (unicode)
2685:application-library/usb-cdc-device.c ****   * @param  len : descriptor length
2686:application-library/usb-cdc-device.c ****   * @retval None
2687:application-library/usb-cdc-device.c ****   */
2688:application-library/usb-cdc-device.c **** void USBD_GetString(uint8_t *desc, uint8_t *unicode, uint16_t *len)
2689:application-library/usb-cdc-device.c **** {
2690:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
2691:application-library/usb-cdc-device.c ****   uint8_t *pdesc;
2692:application-library/usb-cdc-device.c **** 
2693:application-library/usb-cdc-device.c ****   if (desc == NULL)
2694:application-library/usb-cdc-device.c ****   {
2695:application-library/usb-cdc-device.c ****     return;
2696:application-library/usb-cdc-device.c ****   }
2697:application-library/usb-cdc-device.c **** 
2698:application-library/usb-cdc-device.c ****   pdesc = desc;
2699:application-library/usb-cdc-device.c ****   *len = ((uint16_t)USBD_GetLen(pdesc) * 2U) + 2U;
2700:application-library/usb-cdc-device.c **** 
2701:application-library/usb-cdc-device.c ****   unicode[idx] = *(uint8_t *)len;
2702:application-library/usb-cdc-device.c ****   idx++;
2703:application-library/usb-cdc-device.c ****   unicode[idx] = USB_DESC_TYPE_STRING;
2704:application-library/usb-cdc-device.c ****   idx++;
2705:application-library/usb-cdc-device.c **** 
2706:application-library/usb-cdc-device.c ****   while (*pdesc != (uint8_t)'\0')
2707:application-library/usb-cdc-device.c ****   {
2708:application-library/usb-cdc-device.c ****     unicode[idx] = *pdesc;
2709:application-library/usb-cdc-device.c ****     pdesc++;
2710:application-library/usb-cdc-device.c ****     idx++;
2711:application-library/usb-cdc-device.c **** 
2712:application-library/usb-cdc-device.c ****     unicode[idx] = 0U;
2713:application-library/usb-cdc-device.c ****     idx++;
2714:application-library/usb-cdc-device.c ****   }
2715:application-library/usb-cdc-device.c **** }
2716:application-library/usb-cdc-device.c **** 
2717:application-library/usb-cdc-device.c **** 
2718:application-library/usb-cdc-device.c **** /**
2719:application-library/usb-cdc-device.c ****   * @brief  USBD_GetLen
2720:application-library/usb-cdc-device.c ****   *         return the string length
2721:application-library/usb-cdc-device.c ****    * @param  buf : pointer to the ascii string buffer
2722:application-library/usb-cdc-device.c ****   * @retval string length
2723:application-library/usb-cdc-device.c ****   */
2724:application-library/usb-cdc-device.c **** static uint8_t USBD_GetLen(uint8_t *buf)
2725:application-library/usb-cdc-device.c **** {
 191              		.loc 1 2725 0
 192              		.cfi_startproc
ARM GAS  /tmp/ccLxqwAV.s 			page 52


 193              		@ args = 0, pretend = 0, frame = 0
 194              		@ frame_needed = 0, uses_anonymous_args = 0
 195              		@ link register save eliminated.
 196              	.LVL14:
2726:application-library/usb-cdc-device.c ****   uint8_t  len = 0U;
 197              		.loc 1 2726 0
 198 0000 0023     		movs	r3, #0
2727:application-library/usb-cdc-device.c ****   uint8_t *pbuff = buf;
2728:application-library/usb-cdc-device.c **** 
2729:application-library/usb-cdc-device.c ****   while (*pbuff != (uint8_t)'\0')
 199              		.loc 1 2729 0
 200 0002 02E0     		b	.L14
 201              	.LVL15:
 202              	.L15:
2730:application-library/usb-cdc-device.c ****   {
2731:application-library/usb-cdc-device.c ****     len++;
 203              		.loc 1 2731 0
 204 0004 0133     		adds	r3, r3, #1
 205              	.LVL16:
 206 0006 DBB2     		uxtb	r3, r3
 207              	.LVL17:
2732:application-library/usb-cdc-device.c ****     pbuff++;
 208              		.loc 1 2732 0
 209 0008 0130     		adds	r0, r0, #1
 210              	.LVL18:
 211              	.L14:
2729:application-library/usb-cdc-device.c ****   {
 212              		.loc 1 2729 0
 213 000a 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 214 000c 002A     		cmp	r2, #0
 215 000e F9D1     		bne	.L15
2733:application-library/usb-cdc-device.c ****   }
2734:application-library/usb-cdc-device.c **** 
2735:application-library/usb-cdc-device.c ****   return len;
2736:application-library/usb-cdc-device.c **** }
 216              		.loc 1 2736 0
 217 0010 1846     		mov	r0, r3
 218              	.LVL19:
 219 0012 7047     		bx	lr
 220              		.cfi_endproc
 221              	.LFE190:
 223              		.section	.text.USBD_CDC_Init,"ax",%progbits
 224              		.align	1
 225              		.global	USBD_CDC_Init
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
 229              		.fpu fpv4-sp-d16
 231              	USBD_CDC_Init:
 232              	.LFB139:
 451:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 233              		.loc 1 451 0
 234              		.cfi_startproc
 235              		@ args = 0, pretend = 0, frame = 0
 236              		@ frame_needed = 0, uses_anonymous_args = 0
 237              	.LVL20:
 238 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  /tmp/ccLxqwAV.s 			page 53


 239              	.LCFI1:
 240              		.cfi_def_cfa_offset 16
 241              		.cfi_offset 4, -16
 242              		.cfi_offset 5, -12
 243              		.cfi_offset 6, -8
 244              		.cfi_offset 14, -4
 245 0002 0446     		mov	r4, r0
 455:application-library/usb-cdc-device.c **** 
 246              		.loc 1 455 0
 247 0004 4FF40770 		mov	r0, #540
 248              	.LVL21:
 249 0008 FFF7FEFF 		bl	USBD_static_malloc
 250              	.LVL22:
 457:application-library/usb-cdc-device.c ****   {
 251              		.loc 1 457 0
 252 000c 0028     		cmp	r0, #0
 253 000e 48D0     		beq	.L24
 254 0010 0546     		mov	r5, r0
 463:application-library/usb-cdc-device.c **** 
 255              		.loc 1 463 0
 256 0012 4FF40772 		mov	r2, #540
 257 0016 0021     		movs	r1, #0
 258 0018 FFF7FEFF 		bl	memset
 259              	.LVL23:
 465:application-library/usb-cdc-device.c ****   pdev->pClassData = pdev->pClassDataCmsit[pdev->classId];
 260              		.loc 1 465 0
 261 001c D4F8D432 		ldr	r3, [r4, #724]
 262 0020 B033     		adds	r3, r3, #176
 263 0022 44F82350 		str	r5, [r4, r3, lsl #2]
 466:application-library/usb-cdc-device.c **** 
 264              		.loc 1 466 0
 265 0026 C4F8BC52 		str	r5, [r4, #700]
 468:application-library/usb-cdc-device.c ****   {
 266              		.loc 1 468 0
 267 002a 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 268 002c 002B     		cmp	r3, #0
 269 002e 40D1     		bne	.L19
 471:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_IN_PACKET_SIZE);
 270              		.loc 1 471 0
 271 0030 4FF40073 		mov	r3, #512
 272 0034 0222     		movs	r2, #2
 273 0036 8121     		movs	r1, #129
 274 0038 2046     		mov	r0, r4
 275 003a FFF7FEFF 		bl	USBD_LL_OpenEP
 276              	.LVL24:
 474:application-library/usb-cdc-device.c **** 
 277              		.loc 1 474 0
 278 003e 0126     		movs	r6, #1
 279 0040 2687     		strh	r6, [r4, #56]	@ movhi
 477:application-library/usb-cdc-device.c ****                          CDC_DATA_HS_OUT_PACKET_SIZE);
 280              		.loc 1 477 0
 281 0042 4FF40073 		mov	r3, #512
 282 0046 0222     		movs	r2, #2
 283 0048 3146     		mov	r1, r6
 284 004a 2046     		mov	r0, r4
 285 004c FFF7FEFF 		bl	USBD_LL_OpenEP
 286              	.LVL25:
ARM GAS  /tmp/ccLxqwAV.s 			page 54


 480:application-library/usb-cdc-device.c **** 
 287              		.loc 1 480 0
 288 0050 A4F87861 		strh	r6, [r4, #376]	@ movhi
 483:application-library/usb-cdc-device.c ****   }
 289              		.loc 1 483 0
 290 0054 1023     		movs	r3, #16
 291 0056 A4F84E30 		strh	r3, [r4, #78]	@ movhi
 292              	.L20:
 504:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 1U;
 293              		.loc 1 504 0
 294 005a 0823     		movs	r3, #8
 295 005c 0322     		movs	r2, #3
 296 005e 8221     		movs	r1, #130
 297 0060 2046     		mov	r0, r4
 298 0062 FFF7FEFF 		bl	USBD_LL_OpenEP
 299              	.LVL26:
 505:application-library/usb-cdc-device.c **** 
 300              		.loc 1 505 0
 301 0066 0123     		movs	r3, #1
 302 0068 A4F84C30 		strh	r3, [r4, #76]	@ movhi
 507:application-library/usb-cdc-device.c **** 
 303              		.loc 1 507 0
 304 006c 0026     		movs	r6, #0
 305 006e C5F80462 		str	r6, [r5, #516]
 510:application-library/usb-cdc-device.c **** 
 306              		.loc 1 510 0
 307 0072 D4F8D432 		ldr	r3, [r4, #724]
 308 0076 B033     		adds	r3, r3, #176
 309 0078 04EB8303 		add	r3, r4, r3, lsl #2
 310 007c 5B68     		ldr	r3, [r3, #4]
 311 007e 1B68     		ldr	r3, [r3]
 312 0080 9847     		blx	r3
 313              	.LVL27:
 513:application-library/usb-cdc-device.c ****   hcdc->RxState = 0U;
 314              		.loc 1 513 0
 315 0082 C5F81462 		str	r6, [r5, #532]
 514:application-library/usb-cdc-device.c **** 
 316              		.loc 1 514 0
 317 0086 C5F81862 		str	r6, [r5, #536]
 516:application-library/usb-cdc-device.c ****   {
 318              		.loc 1 516 0
 319 008a D5F80422 		ldr	r2, [r5, #516]
 320 008e 62B3     		cbz	r2, .L22
 521:application-library/usb-cdc-device.c ****   {
 321              		.loc 1 521 0
 322 0090 237C     		ldrb	r3, [r4, #16]	@ zero_extendqisi2
 323 0092 13B3     		cbz	r3, .L25
 530:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 324              		.loc 1 530 0
 325 0094 4023     		movs	r3, #64
 326 0096 0121     		movs	r1, #1
 327 0098 2046     		mov	r0, r4
 328 009a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 329              	.LVL28:
 534:application-library/usb-cdc-device.c **** }
 330              		.loc 1 534 0
 331 009e 0020     		movs	r0, #0
ARM GAS  /tmp/ccLxqwAV.s 			page 55


 332 00a0 70BD     		pop	{r4, r5, r6, pc}
 333              	.LVL29:
 334              	.L24:
 459:application-library/usb-cdc-device.c ****     return (uint8_t)USBD_EMEM;
 335              		.loc 1 459 0
 336 00a2 D4F8D432 		ldr	r3, [r4, #724]
 337 00a6 B033     		adds	r3, r3, #176
 338 00a8 0022     		movs	r2, #0
 339 00aa 44F82320 		str	r2, [r4, r3, lsl #2]
 460:application-library/usb-cdc-device.c ****   }
 340              		.loc 1 460 0
 341 00ae 0220     		movs	r0, #2
 342              	.LVL30:
 343 00b0 70BD     		pop	{r4, r5, r6, pc}
 344              	.LVL31:
 345              	.L19:
 488:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_IN_PACKET_SIZE);
 346              		.loc 1 488 0
 347 00b2 4023     		movs	r3, #64
 348 00b4 0222     		movs	r2, #2
 349 00b6 8121     		movs	r1, #129
 350 00b8 2046     		mov	r0, r4
 351 00ba FFF7FEFF 		bl	USBD_LL_OpenEP
 352              	.LVL32:
 491:application-library/usb-cdc-device.c **** 
 353              		.loc 1 491 0
 354 00be 0126     		movs	r6, #1
 355 00c0 2687     		strh	r6, [r4, #56]	@ movhi
 494:application-library/usb-cdc-device.c ****                          CDC_DATA_FS_OUT_PACKET_SIZE);
 356              		.loc 1 494 0
 357 00c2 4023     		movs	r3, #64
 358 00c4 0222     		movs	r2, #2
 359 00c6 3146     		mov	r1, r6
 360 00c8 2046     		mov	r0, r4
 361 00ca FFF7FEFF 		bl	USBD_LL_OpenEP
 362              	.LVL33:
 497:application-library/usb-cdc-device.c **** 
 363              		.loc 1 497 0
 364 00ce A4F87861 		strh	r6, [r4, #376]	@ movhi
 500:application-library/usb-cdc-device.c ****   }
 365              		.loc 1 500 0
 366 00d2 1023     		movs	r3, #16
 367 00d4 A4F84E30 		strh	r3, [r4, #78]	@ movhi
 368 00d8 BFE7     		b	.L20
 369              	.L25:
 524:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
 370              		.loc 1 524 0
 371 00da 4FF40073 		mov	r3, #512
 372 00de 0121     		movs	r1, #1
 373 00e0 2046     		mov	r0, r4
 374 00e2 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 375              	.LVL34:
 534:application-library/usb-cdc-device.c **** }
 376              		.loc 1 534 0
 377 00e6 3046     		mov	r0, r6
 378 00e8 70BD     		pop	{r4, r5, r6, pc}
 379              	.LVL35:
ARM GAS  /tmp/ccLxqwAV.s 			page 56


 380              	.L22:
 518:application-library/usb-cdc-device.c ****   }
 381              		.loc 1 518 0
 382 00ea 0220     		movs	r0, #2
 535:application-library/usb-cdc-device.c **** 
 383              		.loc 1 535 0
 384 00ec 70BD     		pop	{r4, r5, r6, pc}
 385              		.cfi_endproc
 386              	.LFE139:
 388              		.section	.text.USBD_CDC_DeInit,"ax",%progbits
 389              		.align	1
 390              		.global	USBD_CDC_DeInit
 391              		.syntax unified
 392              		.thumb
 393              		.thumb_func
 394              		.fpu fpv4-sp-d16
 396              	USBD_CDC_DeInit:
 397              	.LFB140:
 545:application-library/usb-cdc-device.c ****   UNUSED(cfgidx);
 398              		.loc 1 545 0
 399              		.cfi_startproc
 400              		@ args = 0, pretend = 0, frame = 0
 401              		@ frame_needed = 0, uses_anonymous_args = 0
 402              	.LVL36:
 403 0000 38B5     		push	{r3, r4, r5, lr}
 404              	.LCFI2:
 405              		.cfi_def_cfa_offset 16
 406              		.cfi_offset 3, -16
 407              		.cfi_offset 4, -12
 408              		.cfi_offset 5, -8
 409              		.cfi_offset 14, -4
 410 0002 0446     		mov	r4, r0
 549:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_IN_EP & 0xFU].is_used = 0U;
 411              		.loc 1 549 0
 412 0004 8121     		movs	r1, #129
 413              	.LVL37:
 414 0006 FFF7FEFF 		bl	USBD_LL_CloseEP
 415              	.LVL38:
 550:application-library/usb-cdc-device.c **** 
 416              		.loc 1 550 0
 417 000a 0025     		movs	r5, #0
 418 000c 2587     		strh	r5, [r4, #56]	@ movhi
 553:application-library/usb-cdc-device.c ****   pdev->ep_out[CDC_OUT_EP & 0xFU].is_used = 0U;
 419              		.loc 1 553 0
 420 000e 0121     		movs	r1, #1
 421 0010 2046     		mov	r0, r4
 422 0012 FFF7FEFF 		bl	USBD_LL_CloseEP
 423              	.LVL39:
 554:application-library/usb-cdc-device.c **** 
 424              		.loc 1 554 0
 425 0016 A4F87851 		strh	r5, [r4, #376]	@ movhi
 557:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].is_used = 0U;
 426              		.loc 1 557 0
 427 001a 8221     		movs	r1, #130
 428 001c 2046     		mov	r0, r4
 429 001e FFF7FEFF 		bl	USBD_LL_CloseEP
 430              	.LVL40:
ARM GAS  /tmp/ccLxqwAV.s 			page 57


 558:application-library/usb-cdc-device.c ****   pdev->ep_in[CDC_CMD_EP & 0xFU].bInterval = 0U;
 431              		.loc 1 558 0
 432 0022 A4F84C50 		strh	r5, [r4, #76]	@ movhi
 559:application-library/usb-cdc-device.c **** 
 433              		.loc 1 559 0
 434 0026 A4F84E50 		strh	r5, [r4, #78]	@ movhi
 562:application-library/usb-cdc-device.c ****   {
 435              		.loc 1 562 0
 436 002a D4F8D432 		ldr	r3, [r4, #724]
 437 002e 03F1B002 		add	r2, r3, #176
 438 0032 54F82220 		ldr	r2, [r4, r2, lsl #2]
 439 0036 9AB1     		cbz	r2, .L27
 564:application-library/usb-cdc-device.c ****     (void)USBD_free(pdev->pClassDataCmsit[pdev->classId]);
 440              		.loc 1 564 0
 441 0038 B033     		adds	r3, r3, #176
 442 003a 04EB8303 		add	r3, r4, r3, lsl #2
 443 003e 5B68     		ldr	r3, [r3, #4]
 444 0040 5B68     		ldr	r3, [r3, #4]
 445 0042 9847     		blx	r3
 446              	.LVL41:
 565:application-library/usb-cdc-device.c ****     pdev->pClassDataCmsit[pdev->classId] = NULL;
 447              		.loc 1 565 0
 448 0044 D4F8D432 		ldr	r3, [r4, #724]
 449 0048 B033     		adds	r3, r3, #176
 450 004a 54F82300 		ldr	r0, [r4, r3, lsl #2]
 451 004e FFF7FEFF 		bl	USBD_static_free
 452              	.LVL42:
 566:application-library/usb-cdc-device.c ****     pdev->pClassData = NULL;
 453              		.loc 1 566 0
 454 0052 D4F8D432 		ldr	r3, [r4, #724]
 455 0056 B033     		adds	r3, r3, #176
 456 0058 44F82350 		str	r5, [r4, r3, lsl #2]
 567:application-library/usb-cdc-device.c ****   }
 457              		.loc 1 567 0
 458 005c C4F8BC52 		str	r5, [r4, #700]
 459              	.L27:
 571:application-library/usb-cdc-device.c **** 
 460              		.loc 1 571 0
 461 0060 0020     		movs	r0, #0
 462 0062 38BD     		pop	{r3, r4, r5, pc}
 463              		.cfi_endproc
 464              	.LFE140:
 466              		.section	.text.USBD_CDC_DataIn,"ax",%progbits
 467              		.align	1
 468              		.global	USBD_CDC_DataIn
 469              		.syntax unified
 470              		.thumb
 471              		.thumb_func
 472              		.fpu fpv4-sp-d16
 474              	USBD_CDC_DataIn:
 475              	.LFB142:
 686:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc;
 476              		.loc 1 686 0
 477              		.cfi_startproc
 478              		@ args = 0, pretend = 0, frame = 0
 479              		@ frame_needed = 0, uses_anonymous_args = 0
 480              	.LVL43:
ARM GAS  /tmp/ccLxqwAV.s 			page 58


 481 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 482              	.LCFI3:
 483              		.cfi_def_cfa_offset 24
 484              		.cfi_offset 3, -24
 485              		.cfi_offset 4, -20
 486              		.cfi_offset 5, -16
 487              		.cfi_offset 6, -12
 488              		.cfi_offset 7, -8
 489              		.cfi_offset 14, -4
 688:application-library/usb-cdc-device.c **** 
 490              		.loc 1 688 0
 491 0002 D0F8C862 		ldr	r6, [r0, #712]
 492              	.LVL44:
 690:application-library/usb-cdc-device.c ****   {
 493              		.loc 1 690 0
 494 0006 D0F8D432 		ldr	r3, [r0, #724]
 495 000a B033     		adds	r3, r3, #176
 496 000c 50F82330 		ldr	r3, [r0, r3, lsl #2]
 497 0010 83B3     		cbz	r3, .L32
 498              	.LVL45:
 697:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 499              		.loc 1 697 0
 500 0012 01F00F04 		and	r4, r1, #15
 501 0016 04EB8405 		add	r5, r4, r4, lsl #2
 502 001a AA00     		lsls	r2, r5, #2
 503 001c 0244     		add	r2, r2, r0
 504 001e 9269     		ldr	r2, [r2, #24]
 505 0020 4AB1     		cbz	r2, .L31
 698:application-library/usb-cdc-device.c ****   {
 506              		.loc 1 698 0 discriminator 1
 507 0022 04EBC407 		add	r7, r4, r4, lsl #3
 508 0026 BD00     		lsls	r5, r7, #2
 509 0028 2E44     		add	r6, r6, r5
 510              	.LVL46:
 511 002a B66C     		ldr	r6, [r6, #72]
 512 002c B2FBF6F5 		udiv	r5, r2, r6
 513 0030 06FB1522 		mls	r2, r6, r5, r2
 697:application-library/usb-cdc-device.c ****       ((pdev->ep_in[epnum & 0xFU].total_length % hpcd->IN_ep[epnum & 0xFU].maxpacket) == 0U))
 514              		.loc 1 697 0 discriminator 1
 515 0034 92B1     		cbz	r2, .L35
 516              	.L31:
 708:application-library/usb-cdc-device.c **** 
 517              		.loc 1 708 0
 518 0036 0022     		movs	r2, #0
 519 0038 C3F81422 		str	r2, [r3, #532]
 520              	.LVL47:
 710:application-library/usb-cdc-device.c ****     {
 521              		.loc 1 710 0
 522 003c D0F8D422 		ldr	r2, [r0, #724]
 523 0040 B032     		adds	r2, r2, #176
 524 0042 00EB8200 		add	r0, r0, r2, lsl #2
 525              	.LVL48:
 526 0046 4268     		ldr	r2, [r0, #4]
 527 0048 1469     		ldr	r4, [r2, #16]
 528 004a ACB1     		cbz	r4, .L33
 712:application-library/usb-cdc-device.c ****     }
 529              		.loc 1 712 0
ARM GAS  /tmp/ccLxqwAV.s 			page 59


 530 004c 0A46     		mov	r2, r1
 531 004e 03F50471 		add	r1, r3, #528
 532              	.LVL49:
 533 0052 D3F80802 		ldr	r0, [r3, #520]
 534 0056 A047     		blx	r4
 535              	.LVL50:
 716:application-library/usb-cdc-device.c **** }
 536              		.loc 1 716 0
 537 0058 0020     		movs	r0, #0
 538 005a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 539              	.LVL51:
 540              	.L35:
 701:application-library/usb-cdc-device.c **** 
 541              		.loc 1 701 0
 542 005c 04EB8404 		add	r4, r4, r4, lsl #2
 543 0060 A300     		lsls	r3, r4, #2
 544              	.LVL52:
 545 0062 0344     		add	r3, r3, r0
 546 0064 0024     		movs	r4, #0
 547 0066 9C61     		str	r4, [r3, #24]
 548              	.LVL53:
 704:application-library/usb-cdc-device.c ****   }
 549              		.loc 1 704 0
 550 0068 2346     		mov	r3, r4
 551 006a 2246     		mov	r2, r4
 552 006c FFF7FEFF 		bl	USBD_LL_Transmit
 553              	.LVL54:
 716:application-library/usb-cdc-device.c **** }
 554              		.loc 1 716 0
 555 0070 2046     		mov	r0, r4
 704:application-library/usb-cdc-device.c ****   }
 556              		.loc 1 704 0
 557 0072 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 558              	.LVL55:
 559              	.L32:
 692:application-library/usb-cdc-device.c ****   }
 560              		.loc 1 692 0
 561 0074 0320     		movs	r0, #3
 562              	.LVL56:
 563 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 564              	.LVL57:
 565              	.L33:
 716:application-library/usb-cdc-device.c **** }
 566              		.loc 1 716 0
 567 0078 0020     		movs	r0, #0
 717:application-library/usb-cdc-device.c **** 
 568              		.loc 1 717 0
 569 007a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 570              		.cfi_endproc
 571              	.LFE142:
 573              		.section	.text.USBD_CDC_DataOut,"ax",%progbits
 574              		.align	1
 575              		.global	USBD_CDC_DataOut
 576              		.syntax unified
 577              		.thumb
 578              		.thumb_func
 579              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccLxqwAV.s 			page 60


 581              	USBD_CDC_DataOut:
 582              	.LFB143:
 729:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 583              		.loc 1 729 0
 584              		.cfi_startproc
 585              		@ args = 0, pretend = 0, frame = 0
 586              		@ frame_needed = 0, uses_anonymous_args = 0
 587              	.LVL58:
 588 0000 38B5     		push	{r3, r4, r5, lr}
 589              	.LCFI4:
 590              		.cfi_def_cfa_offset 16
 591              		.cfi_offset 3, -16
 592              		.cfi_offset 4, -12
 593              		.cfi_offset 5, -8
 594              		.cfi_offset 14, -4
 730:application-library/usb-cdc-device.c **** 
 595              		.loc 1 730 0
 596 0002 D0F8D432 		ldr	r3, [r0, #724]
 597 0006 B033     		adds	r3, r3, #176
 598 0008 50F82350 		ldr	r5, [r0, r3, lsl #2]
 599              	.LVL59:
 732:application-library/usb-cdc-device.c ****   {
 600              		.loc 1 732 0
 601 000c 95B1     		cbz	r5, .L38
 602 000e 0446     		mov	r4, r0
 738:application-library/usb-cdc-device.c **** 
 603              		.loc 1 738 0
 604 0010 FFF7FEFF 		bl	USBD_LL_GetRxDataSize
 605              	.LVL60:
 606 0014 C5F80C02 		str	r0, [r5, #524]
 743:application-library/usb-cdc-device.c **** 
 607              		.loc 1 743 0
 608 0018 D4F8D402 		ldr	r0, [r4, #724]
 609 001c B030     		adds	r0, r0, #176
 610 001e 04EB8000 		add	r0, r4, r0, lsl #2
 611 0022 4368     		ldr	r3, [r0, #4]
 612 0024 DB68     		ldr	r3, [r3, #12]
 613 0026 05F50371 		add	r1, r5, #524
 614 002a D5F80402 		ldr	r0, [r5, #516]
 615 002e 9847     		blx	r3
 616              	.LVL61:
 745:application-library/usb-cdc-device.c **** }
 617              		.loc 1 745 0
 618 0030 0020     		movs	r0, #0
 619 0032 38BD     		pop	{r3, r4, r5, pc}
 620              	.LVL62:
 621              	.L38:
 734:application-library/usb-cdc-device.c ****   }
 622              		.loc 1 734 0
 623 0034 0320     		movs	r0, #3
 624              	.LVL63:
 746:application-library/usb-cdc-device.c **** 
 625              		.loc 1 746 0
 626 0036 38BD     		pop	{r3, r4, r5, pc}
 627              		.cfi_endproc
 628              	.LFE143:
 630              		.section	.text.usb_device_init,"ax",%progbits
ARM GAS  /tmp/ccLxqwAV.s 			page 61


 631              		.align	1
 632              		.global	usb_device_init
 633              		.syntax unified
 634              		.thumb
 635              		.thumb_func
 636              		.fpu fpv4-sp-d16
 638              	usb_device_init:
 639              	.LFB138:
 360:application-library/usb-cdc-device.c ****   /* Init Device Library, add supported class and start the library. */
 640              		.loc 1 360 0
 641              		.cfi_startproc
 642              		@ args = 0, pretend = 0, frame = 0
 643              		@ frame_needed = 0, uses_anonymous_args = 0
 644 0000 38B5     		push	{r3, r4, r5, lr}
 645              	.LCFI5:
 646              		.cfi_def_cfa_offset 16
 647              		.cfi_offset 3, -16
 648              		.cfi_offset 4, -12
 649              		.cfi_offset 5, -8
 650              		.cfi_offset 14, -4
 364:application-library/usb-cdc-device.c ****   p_usbd_handle->pUserData[0] = NULL;
 651              		.loc 1 364 0
 652 0002 2749     		ldr	r1, .L44
 653 0004 0B68     		ldr	r3, [r1]
 654 0006 0022     		movs	r2, #0
 655 0008 C3F8B822 		str	r2, [r3, #696]
 365:application-library/usb-cdc-device.c ****   p_usbd_handle->pConfDesc = NULL;
 656              		.loc 1 365 0
 657 000c C3F8C422 		str	r2, [r3, #708]
 366:application-library/usb-cdc-device.c **** 
 658              		.loc 1 366 0
 659 0010 C3F8D022 		str	r2, [r3, #720]
 369:application-library/usb-cdc-device.c **** 
 660              		.loc 1 369 0
 661 0014 2348     		ldr	r0, .L44+4
 662 0016 C3F8B402 		str	r0, [r3, #692]
 372:application-library/usb-cdc-device.c ****   p_usbd_handle->id = DEVICE_FS; // DEVICE_FS (0)
 663              		.loc 1 372 0
 664 001a 0120     		movs	r0, #1
 665 001c 83F89C02 		strb	r0, [r3, #668]
 373:application-library/usb-cdc-device.c **** 
 666              		.loc 1 373 0
 667 0020 1A70     		strb	r2, [r3]
 381:application-library/usb-cdc-device.c ****   /* Link the driver to the stack. */
 668              		.loc 1 381 0
 669 0022 0B68     		ldr	r3, [r1]
 670 0024 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 671 0026 AAB1     		cbz	r2, .L43
 672              	.L41:
 408:application-library/usb-cdc-device.c **** 
 673              		.loc 1 408 0
 674 0028 1D4C     		ldr	r4, .L44
 675 002a 2568     		ldr	r5, [r4]
 676 002c 1E4B     		ldr	r3, .L44+8
 677 002e C5F8B832 		str	r3, [r5, #696]
 424:application-library/usb-cdc-device.c **** 
 678              		.loc 1 424 0
ARM GAS  /tmp/ccLxqwAV.s 			page 62


 679 0032 DB6A     		ldr	r3, [r3, #44]
 680 0034 0020     		movs	r0, #0
 681 0036 9847     		blx	r3
 682              	.LVL64:
 683 0038 C5F8D002 		str	r0, [r5, #720]
 430:application-library/usb-cdc-device.c **** 
 684              		.loc 1 430 0
 685 003c 2368     		ldr	r3, [r4]
 686 003e D3F8D422 		ldr	r2, [r3, #724]
 687 0042 B032     		adds	r2, r2, #176
 688 0044 03EB8203 		add	r3, r3, r2, lsl #2
 689 0048 184A     		ldr	r2, .L44+12
 690 004a 5A60     		str	r2, [r3, #4]
 435:application-library/usb-cdc-device.c **** }
 691              		.loc 1 435 0
 692 004c 1848     		ldr	r0, .L44+16
 693 004e FFF7FEFF 		bl	HAL_PCD_Start
 694              	.LVL65:
 695 0052 38BD     		pop	{r3, r4, r5, pc}
 696              	.L43:
 383:application-library/usb-cdc-device.c ****                                            /* pData is the pointer to upper stack handler. */
 697              		.loc 1 383 0
 698 0054 164C     		ldr	r4, .L44+16
 699 0056 C4F80835 		str	r3, [r4, #1288]
 385:application-library/usb-cdc-device.c **** 
 700              		.loc 1 385 0
 701 005a C3F8C842 		str	r4, [r3, #712]
 387:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dev_endpoints = 4;
 702              		.loc 1 387 0
 703 005e 4FF0A043 		mov	r3, #1342177280
 704 0062 2360     		str	r3, [r4]
 388:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.speed = PCD_SPEED_FULL;
 705              		.loc 1 388 0
 706 0064 0423     		movs	r3, #4
 707 0066 6360     		str	r3, [r4, #4]
 389:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.dma_enable = DISABLE;
 708              		.loc 1 389 0
 709 0068 0223     		movs	r3, #2
 710 006a E360     		str	r3, [r4, #12]
 390:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.phy_itface = PCD_PHY_EMBEDDED;
 711              		.loc 1 390 0
 712 006c 0025     		movs	r5, #0
 713 006e 2561     		str	r5, [r4, #16]
 391:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.Sof_enable = DISABLE;
 714              		.loc 1 391 0
 715 0070 A361     		str	r3, [r4, #24]
 392:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.low_power_enable = DISABLE;
 716              		.loc 1 392 0
 717 0072 E561     		str	r5, [r4, #28]
 393:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.lpm_enable = DISABLE;
 718              		.loc 1 393 0
 719 0074 2562     		str	r5, [r4, #32]
 394:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.vbus_sensing_enable = DISABLE;
 720              		.loc 1 394 0
 721 0076 6562     		str	r5, [r4, #36]
 395:application-library/usb-cdc-device.c ****   hpcd_USB_OTG_FS.Init.use_dedicated_ep1 = DISABLE;
 722              		.loc 1 395 0
ARM GAS  /tmp/ccLxqwAV.s 			page 63


 723 0078 E562     		str	r5, [r4, #44]
 396:application-library/usb-cdc-device.c **** 
 724              		.loc 1 396 0
 725 007a 2563     		str	r5, [r4, #48]
 398:application-library/usb-cdc-device.c ****   /* in stm32f4xx_hal_pcd_ex.h */ 
 726              		.loc 1 398 0
 727 007c 2046     		mov	r0, r4
 728 007e FFF7FEFF 		bl	HAL_PCD_Init
 729              	.LVL66:
 400:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 0, 0x40); /* set TX FIFO 0 with size 0x40 */ 
 730              		.loc 1 400 0
 731 0082 8021     		movs	r1, #128
 732 0084 2046     		mov	r0, r4
 733 0086 FFF7FEFF 		bl	HAL_PCDEx_SetRxFiFo
 734              	.LVL67:
 401:application-library/usb-cdc-device.c ****   HAL_PCDEx_SetTxFiFo(&hpcd_USB_OTG_FS, 1, 0x80); /* set TX FIFO 1 with size 0x80 */
 735              		.loc 1 401 0
 736 008a 4022     		movs	r2, #64
 737 008c 2946     		mov	r1, r5
 738 008e 2046     		mov	r0, r4
 739 0090 FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 740              	.LVL68:
 402:application-library/usb-cdc-device.c ****   }
 741              		.loc 1 402 0
 742 0094 8022     		movs	r2, #128
 743 0096 0121     		movs	r1, #1
 744 0098 2046     		mov	r0, r4
 745 009a FFF7FEFF 		bl	HAL_PCDEx_SetTxFiFo
 746              	.LVL69:
 747 009e C3E7     		b	.L41
 748              	.L45:
 749              		.align	2
 750              	.L44:
 751 00a0 00000000 		.word	.LANCHOR1
 752 00a4 00000000 		.word	FS_Desc
 753 00a8 00000000 		.word	.LANCHOR2
 754 00ac 00000000 		.word	.LANCHOR3
 755 00b0 00000000 		.word	hpcd_USB_OTG_FS
 756              		.cfi_endproc
 757              	.LFE138:
 759              		.section	.text.USBD_CDC_RegisterInterface,"ax",%progbits
 760              		.align	1
 761              		.global	USBD_CDC_RegisterInterface
 762              		.syntax unified
 763              		.thumb
 764              		.thumb_func
 765              		.fpu fpv4-sp-d16
 767              	USBD_CDC_RegisterInterface:
 768              	.LFB149:
 885:application-library/usb-cdc-device.c ****   if (fops == NULL)
 769              		.loc 1 885 0
 770              		.cfi_startproc
 771              		@ args = 0, pretend = 0, frame = 0
 772              		@ frame_needed = 0, uses_anonymous_args = 0
 773              		@ link register save eliminated.
 774              	.LVL70:
 886:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccLxqwAV.s 			page 64


 775              		.loc 1 886 0
 776 0000 39B1     		cbz	r1, .L48
 891:application-library/usb-cdc-device.c **** 
 777              		.loc 1 891 0
 778 0002 D0F8D432 		ldr	r3, [r0, #724]
 779 0006 B033     		adds	r3, r3, #176
 780 0008 00EB8300 		add	r0, r0, r3, lsl #2
 781              	.LVL71:
 782 000c 4160     		str	r1, [r0, #4]
 893:application-library/usb-cdc-device.c **** }
 783              		.loc 1 893 0
 784 000e 0020     		movs	r0, #0
 785 0010 7047     		bx	lr
 786              	.LVL72:
 787              	.L48:
 888:application-library/usb-cdc-device.c ****   }
 788              		.loc 1 888 0
 789 0012 0320     		movs	r0, #3
 790              	.LVL73:
 894:application-library/usb-cdc-device.c **** 
 791              		.loc 1 894 0
 792 0014 7047     		bx	lr
 793              		.cfi_endproc
 794              	.LFE149:
 796              		.section	.text.USBD_CDC_SetTxBuffer,"ax",%progbits
 797              		.align	1
 798              		.global	USBD_CDC_SetTxBuffer
 799              		.syntax unified
 800              		.thumb
 801              		.thumb_func
 802              		.fpu fpv4-sp-d16
 804              	USBD_CDC_SetTxBuffer:
 805              	.LFB150:
 905:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 806              		.loc 1 905 0
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 0, uses_anonymous_args = 0
 810              		@ link register save eliminated.
 811              	.LVL74:
 906:application-library/usb-cdc-device.c **** 
 812              		.loc 1 906 0
 813 0000 D0F8D432 		ldr	r3, [r0, #724]
 814 0004 B033     		adds	r3, r3, #176
 815 0006 50F82330 		ldr	r3, [r0, r3, lsl #2]
 816              	.LVL75:
 908:application-library/usb-cdc-device.c ****   {
 817              		.loc 1 908 0
 818 000a 2BB1     		cbz	r3, .L51
 913:application-library/usb-cdc-device.c ****   hcdc->TxLength = length;
 819              		.loc 1 913 0
 820 000c C3F80812 		str	r1, [r3, #520]
 914:application-library/usb-cdc-device.c **** 
 821              		.loc 1 914 0
 822 0010 C3F81022 		str	r2, [r3, #528]
 916:application-library/usb-cdc-device.c **** }
 823              		.loc 1 916 0
ARM GAS  /tmp/ccLxqwAV.s 			page 65


 824 0014 0020     		movs	r0, #0
 825              	.LVL76:
 826 0016 7047     		bx	lr
 827              	.LVL77:
 828              	.L51:
 910:application-library/usb-cdc-device.c ****   }
 829              		.loc 1 910 0
 830 0018 0320     		movs	r0, #3
 831              	.LVL78:
 917:application-library/usb-cdc-device.c **** 
 832              		.loc 1 917 0
 833 001a 7047     		bx	lr
 834              		.cfi_endproc
 835              	.LFE150:
 837              		.section	.text.USBD_CDC_SetRxBuffer,"ax",%progbits
 838              		.align	1
 839              		.global	USBD_CDC_SetRxBuffer
 840              		.syntax unified
 841              		.thumb
 842              		.thumb_func
 843              		.fpu fpv4-sp-d16
 845              	USBD_CDC_SetRxBuffer:
 846              	.LFB151:
 926:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 847              		.loc 1 926 0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 0
 850              		@ frame_needed = 0, uses_anonymous_args = 0
 851              		@ link register save eliminated.
 852              	.LVL79:
 927:application-library/usb-cdc-device.c **** 
 853              		.loc 1 927 0
 854 0000 D0F8D432 		ldr	r3, [r0, #724]
 855 0004 B033     		adds	r3, r3, #176
 856 0006 50F82330 		ldr	r3, [r0, r3, lsl #2]
 857              	.LVL80:
 929:application-library/usb-cdc-device.c ****   {
 858              		.loc 1 929 0
 859 000a 1BB1     		cbz	r3, .L54
 934:application-library/usb-cdc-device.c **** 
 860              		.loc 1 934 0
 861 000c C3F80412 		str	r1, [r3, #516]
 936:application-library/usb-cdc-device.c **** }
 862              		.loc 1 936 0
 863 0010 0020     		movs	r0, #0
 864              	.LVL81:
 865 0012 7047     		bx	lr
 866              	.LVL82:
 867              	.L54:
 931:application-library/usb-cdc-device.c ****   }
 868              		.loc 1 931 0
 869 0014 0320     		movs	r0, #3
 870              	.LVL83:
 937:application-library/usb-cdc-device.c **** 
 871              		.loc 1 937 0
 872 0016 7047     		bx	lr
 873              		.cfi_endproc
ARM GAS  /tmp/ccLxqwAV.s 			page 66


 874              	.LFE151:
 876              		.section	.text.CDC_Init_FS,"ax",%progbits
 877              		.align	1
 878              		.global	CDC_Init_FS
 879              		.syntax unified
 880              		.thumb
 881              		.thumb_func
 882              		.fpu fpv4-sp-d16
 884              	CDC_Init_FS:
 885              	.LFB132:
 203:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 3 */
 886              		.loc 1 203 0
 887              		.cfi_startproc
 888              		@ args = 0, pretend = 0, frame = 0
 889              		@ frame_needed = 0, uses_anonymous_args = 0
 890 0000 10B5     		push	{r4, lr}
 891              	.LCFI6:
 892              		.cfi_def_cfa_offset 8
 893              		.cfi_offset 4, -8
 894              		.cfi_offset 14, -4
 206:application-library/usb-cdc-device.c ****   USBD_CDC_SetRxBuffer(&hUsbDeviceFS, UserRxBufferFS);
 895              		.loc 1 206 0
 896 0002 064C     		ldr	r4, .L57
 897 0004 0022     		movs	r2, #0
 898 0006 0649     		ldr	r1, .L57+4
 899 0008 2046     		mov	r0, r4
 900 000a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 901              	.LVL84:
 207:application-library/usb-cdc-device.c ****   return (USBD_OK);
 902              		.loc 1 207 0
 903 000e 0549     		ldr	r1, .L57+8
 904 0010 2046     		mov	r0, r4
 905 0012 FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 906              	.LVL85:
 210:application-library/usb-cdc-device.c **** 
 907              		.loc 1 210 0
 908 0016 0020     		movs	r0, #0
 909 0018 10BD     		pop	{r4, pc}
 910              	.L58:
 911 001a 00BF     		.align	2
 912              	.L57:
 913 001c 00000000 		.word	hUsbDeviceFS
 914 0020 00000000 		.word	UserTxBufferFS
 915 0024 00000000 		.word	UserRxBufferFS
 916              		.cfi_endproc
 917              	.LFE132:
 919              		.section	.text.USBD_CDC_TransmitPacket,"ax",%progbits
 920              		.align	1
 921              		.global	USBD_CDC_TransmitPacket
 922              		.syntax unified
 923              		.thumb
 924              		.thumb_func
 925              		.fpu fpv4-sp-d16
 927              	USBD_CDC_TransmitPacket:
 928              	.LFB152:
 946:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 929              		.loc 1 946 0
ARM GAS  /tmp/ccLxqwAV.s 			page 67


 930              		.cfi_startproc
 931              		@ args = 0, pretend = 0, frame = 0
 932              		@ frame_needed = 0, uses_anonymous_args = 0
 933              	.LVL86:
 934 0000 08B5     		push	{r3, lr}
 935              	.LCFI7:
 936              		.cfi_def_cfa_offset 8
 937              		.cfi_offset 3, -8
 938              		.cfi_offset 14, -4
 947:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_BUSY;
 939              		.loc 1 947 0
 940 0002 D0F8D432 		ldr	r3, [r0, #724]
 941 0006 B033     		adds	r3, r3, #176
 942 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 943              	.LVL87:
 950:application-library/usb-cdc-device.c ****   {
 944              		.loc 1 950 0
 945 000c 9AB1     		cbz	r2, .L61
 955:application-library/usb-cdc-device.c ****   {
 946              		.loc 1 955 0
 947 000e D2F81432 		ldr	r3, [r2, #532]
 948 0012 0BB1     		cbz	r3, .L64
 948:application-library/usb-cdc-device.c **** 
 949              		.loc 1 948 0
 950 0014 0120     		movs	r0, #1
 951              	.LVL88:
 970:application-library/usb-cdc-device.c **** 
 952              		.loc 1 970 0
 953 0016 08BD     		pop	{r3, pc}
 954              	.LVL89:
 955              	.L64:
 958:application-library/usb-cdc-device.c **** 
 956              		.loc 1 958 0
 957 0018 0123     		movs	r3, #1
 958 001a C2F81432 		str	r3, [r2, #532]
 961:application-library/usb-cdc-device.c **** 
 959              		.loc 1 961 0
 960 001e D2F81032 		ldr	r3, [r2, #528]
 961 0022 C362     		str	r3, [r0, #44]
 964:application-library/usb-cdc-device.c **** 
 962              		.loc 1 964 0
 963 0024 D2F81032 		ldr	r3, [r2, #528]
 964 0028 D2F80822 		ldr	r2, [r2, #520]
 965              	.LVL90:
 966 002c 8121     		movs	r1, #129
 967 002e FFF7FEFF 		bl	USBD_LL_Transmit
 968              	.LVL91:
 966:application-library/usb-cdc-device.c ****   }
 969              		.loc 1 966 0
 970 0032 0020     		movs	r0, #0
 971 0034 08BD     		pop	{r3, pc}
 972              	.LVL92:
 973              	.L61:
 952:application-library/usb-cdc-device.c ****   }
 974              		.loc 1 952 0
 975 0036 0320     		movs	r0, #3
 976              	.LVL93:
ARM GAS  /tmp/ccLxqwAV.s 			page 68


 977 0038 08BD     		pop	{r3, pc}
 978              		.cfi_endproc
 979              	.LFE152:
 981              		.section	.text.CDC_Transmit_FS,"ax",%progbits
 982              		.align	1
 983              		.global	CDC_Transmit_FS
 984              		.syntax unified
 985              		.thumb
 986              		.thumb_func
 987              		.fpu fpv4-sp-d16
 989              	CDC_Transmit_FS:
 990              	.LFB136:
 317:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 991              		.loc 1 317 0
 992              		.cfi_startproc
 993              		@ args = 0, pretend = 0, frame = 0
 994              		@ frame_needed = 0, uses_anonymous_args = 0
 995              	.LVL94:
 320:application-library/usb-cdc-device.c **** 
 996              		.loc 1 320 0
 997 0000 094B     		ldr	r3, .L73
 998 0002 D3F8BC32 		ldr	r3, [r3, #700]
 999              	.LVL95:
 322:application-library/usb-cdc-device.c ****     return USBD_BUSY;
 1000              		.loc 1 322 0
 1001 0006 D3F81432 		ldr	r3, [r3, #532]
 1002              	.LVL96:
 1003 000a 0BB1     		cbz	r3, .L72
 323:application-library/usb-cdc-device.c ****   }
 1004              		.loc 1 323 0
 1005 000c 0120     		movs	r0, #1
 1006              	.LVL97:
 1007 000e 7047     		bx	lr
 1008              	.LVL98:
 1009              	.L72:
 317:application-library/usb-cdc-device.c ****   uint8_t result = USBD_OK;
 1010              		.loc 1 317 0
 1011 0010 10B5     		push	{r4, lr}
 1012              	.LCFI8:
 1013              		.cfi_def_cfa_offset 8
 1014              		.cfi_offset 4, -8
 1015              		.cfi_offset 14, -4
 1016 0012 0A46     		mov	r2, r1
 1017 0014 0146     		mov	r1, r0
 1018              	.LVL99:
 325:application-library/usb-cdc-device.c ****   result = USBD_CDC_TransmitPacket(&hUsbDeviceFS);
 1019              		.loc 1 325 0
 1020 0016 044C     		ldr	r4, .L73
 1021 0018 2046     		mov	r0, r4
 1022              	.LVL100:
 1023 001a FFF7FEFF 		bl	USBD_CDC_SetTxBuffer
 1024              	.LVL101:
 326:application-library/usb-cdc-device.c ****   /* USER CODE END 7 */
 1025              		.loc 1 326 0
 1026 001e 2046     		mov	r0, r4
 1027 0020 FFF7FEFF 		bl	USBD_CDC_TransmitPacket
 1028              	.LVL102:
ARM GAS  /tmp/ccLxqwAV.s 			page 69


 328:application-library/usb-cdc-device.c **** }
 1029              		.loc 1 328 0
 1030 0024 10BD     		pop	{r4, pc}
 1031              	.L74:
 1032 0026 00BF     		.align	2
 1033              	.L73:
 1034 0028 00000000 		.word	hUsbDeviceFS
 1035              		.cfi_endproc
 1036              	.LFE136:
 1038              		.section	.text.USBD_CDC_ReceivePacket,"ax",%progbits
 1039              		.align	1
 1040              		.global	USBD_CDC_ReceivePacket
 1041              		.syntax unified
 1042              		.thumb
 1043              		.thumb_func
 1044              		.fpu fpv4-sp-d16
 1046              	USBD_CDC_ReceivePacket:
 1047              	.LFB153:
 979:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 1048              		.loc 1 979 0
 1049              		.cfi_startproc
 1050              		@ args = 0, pretend = 0, frame = 0
 1051              		@ frame_needed = 0, uses_anonymous_args = 0
 1052              	.LVL103:
 1053 0000 08B5     		push	{r3, lr}
 1054              	.LCFI9:
 1055              		.cfi_def_cfa_offset 8
 1056              		.cfi_offset 3, -8
 1057              		.cfi_offset 14, -4
 980:application-library/usb-cdc-device.c **** 
 1058              		.loc 1 980 0
 1059 0002 D0F8D432 		ldr	r3, [r0, #724]
 1060 0006 B033     		adds	r3, r3, #176
 1061 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 1062              	.LVL104:
 982:application-library/usb-cdc-device.c ****   {
 1063              		.loc 1 982 0
 1064 000c 92B1     		cbz	r2, .L78
 987:application-library/usb-cdc-device.c ****   {
 1065              		.loc 1 987 0
 1066 000e 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 1067 0010 3BB1     		cbz	r3, .L80
 996:application-library/usb-cdc-device.c ****                                  CDC_DATA_FS_OUT_PACKET_SIZE);
 1068              		.loc 1 996 0
 1069 0012 4023     		movs	r3, #64
 1070 0014 D2F80422 		ldr	r2, [r2, #516]
 1071              	.LVL105:
 1072 0018 0121     		movs	r1, #1
 1073 001a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1074              	.LVL106:
1000:application-library/usb-cdc-device.c **** }
 1075              		.loc 1 1000 0
 1076 001e 0020     		movs	r0, #0
 1077 0020 08BD     		pop	{r3, pc}
 1078              	.LVL107:
 1079              	.L80:
 990:application-library/usb-cdc-device.c ****                                  CDC_DATA_HS_OUT_PACKET_SIZE);
ARM GAS  /tmp/ccLxqwAV.s 			page 70


 1080              		.loc 1 990 0
 1081 0022 4FF40073 		mov	r3, #512
 1082 0026 D2F80422 		ldr	r2, [r2, #516]
 1083              	.LVL108:
 1084 002a 0121     		movs	r1, #1
 1085 002c FFF7FEFF 		bl	USBD_LL_PrepareReceive
 1086              	.LVL109:
1000:application-library/usb-cdc-device.c **** }
 1087              		.loc 1 1000 0
 1088 0030 0020     		movs	r0, #0
 1089 0032 08BD     		pop	{r3, pc}
 1090              	.LVL110:
 1091              	.L78:
 984:application-library/usb-cdc-device.c ****   }
 1092              		.loc 1 984 0
 1093 0034 0320     		movs	r0, #3
 1094              	.LVL111:
1001:application-library/usb-cdc-device.c **** 
 1095              		.loc 1 1001 0
 1096 0036 08BD     		pop	{r3, pc}
 1097              		.cfi_endproc
 1098              	.LFE153:
 1100              		.section	.text.CDC_Receive_FS,"ax",%progbits
 1101              		.align	1
 1102              		.global	CDC_Receive_FS
 1103              		.syntax unified
 1104              		.thumb
 1105              		.thumb_func
 1106              		.fpu fpv4-sp-d16
 1108              	CDC_Receive_FS:
 1109              	.LFB135:
 293:application-library/usb-cdc-device.c ****   /* USER CODE BEGIN 6 */
 1110              		.loc 1 293 0
 1111              		.cfi_startproc
 1112              		@ args = 0, pretend = 0, frame = 64
 1113              		@ frame_needed = 0, uses_anonymous_args = 0
 1114              	.LVL112:
 1115 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 1116              	.LCFI10:
 1117              		.cfi_def_cfa_offset 20
 1118              		.cfi_offset 4, -20
 1119              		.cfi_offset 5, -16
 1120              		.cfi_offset 6, -12
 1121              		.cfi_offset 7, -8
 1122              		.cfi_offset 14, -4
 1123 0002 91B0     		sub	sp, sp, #68
 1124              	.LCFI11:
 1125              		.cfi_def_cfa_offset 88
 1126 0004 0446     		mov	r4, r0
 1127 0006 0E46     		mov	r6, r1
 296:application-library/usb-cdc-device.c ****   USBD_CDC_ReceivePacket(&hUsbDeviceFS);
 1128              		.loc 1 296 0
 1129 0008 164D     		ldr	r5, .L83
 1130 000a 0146     		mov	r1, r0
 1131              	.LVL113:
 1132 000c 2846     		mov	r0, r5
 1133              	.LVL114:
ARM GAS  /tmp/ccLxqwAV.s 			page 71


 1134 000e FFF7FEFF 		bl	USBD_CDC_SetRxBuffer
 1135              	.LVL115:
 297:application-library/usb-cdc-device.c **** 
 1136              		.loc 1 297 0
 1137 0012 2846     		mov	r0, r5
 1138 0014 FFF7FEFF 		bl	USBD_CDC_ReceivePacket
 1139              	.LVL116:
 299:application-library/usb-cdc-device.c ****   uint8_t len = (uint8_t)*Len;
 1140              		.loc 1 299 0
 1141 0018 4025     		movs	r5, #64
 1142 001a 2A46     		mov	r2, r5
 1143 001c 0021     		movs	r1, #0
 1144 001e 6846     		mov	r0, sp
 1145 0020 FFF7FEFF 		bl	memset
 1146              	.LVL117:
 1147 0024 3678     		ldrb	r6, [r6]	@ zero_extendqisi2
 1148              	.LVL118:
 301:application-library/usb-cdc-device.c **** 
 1149              		.loc 1 301 0
 1150 0026 3246     		mov	r2, r6
 1151 0028 2146     		mov	r1, r4
 1152 002a 6846     		mov	r0, sp
 1153 002c FFF7FEFF 		bl	memcpy
 1154              	.LVL119:
 303:application-library/usb-cdc-device.c ****   memset(Buf, '\0', len);   // clear the Buf also
 1155              		.loc 1 303 0
 1156 0030 6846     		mov	r0, sp
 1157 0032 FFF7FEFF 		bl	strlen
 1158              	.LVL120:
 1159 0036 0746     		mov	r7, r0
 1160 0038 0DEB0002 		add	r2, sp, r0
 1161 003c 0A4B     		ldr	r3, .L83+4
 1162 003e 03CB     		ldmia	r3!, {r0, r1}
 1163 0040 4DF80700 		str	r0, [sp, r7]	@ unaligned
 1164 0044 5160     		str	r1, [r2, #4]	@ unaligned
 1165 0046 1B88     		ldrh	r3, [r3]	@ unaligned
 1166 0048 1381     		strh	r3, [r2, #8]	@ unaligned
 304:application-library/usb-cdc-device.c ****   CDC_Transmit_FS(received_msg, sizeof(received_msg));
 1167              		.loc 1 304 0
 1168 004a 3246     		mov	r2, r6
 1169 004c 0021     		movs	r1, #0
 1170 004e 2046     		mov	r0, r4
 1171 0050 FFF7FEFF 		bl	memset
 1172              	.LVL121:
 305:application-library/usb-cdc-device.c ****   return (USBD_OK);
 1173              		.loc 1 305 0
 1174 0054 2946     		mov	r1, r5
 1175 0056 6846     		mov	r0, sp
 1176 0058 FFF7FEFF 		bl	CDC_Transmit_FS
 1177              	.LVL122:
 308:application-library/usb-cdc-device.c **** 
 1178              		.loc 1 308 0
 1179 005c 0020     		movs	r0, #0
 1180 005e 11B0     		add	sp, sp, #68
 1181              	.LCFI12:
 1182              		.cfi_def_cfa_offset 20
 1183              		@ sp needed
ARM GAS  /tmp/ccLxqwAV.s 			page 72


 1184 0060 F0BD     		pop	{r4, r5, r6, r7, pc}
 1185              	.LVL123:
 1186              	.L84:
 1187 0062 00BF     		.align	2
 1188              	.L83:
 1189 0064 00000000 		.word	hUsbDeviceFS
 1190 0068 00000000 		.word	.LC0
 1191              		.cfi_endproc
 1192              	.LFE135:
 1194              		.section	.text.USBD_Init,"ax",%progbits
 1195              		.align	1
 1196              		.global	USBD_Init
 1197              		.syntax unified
 1198              		.thumb
 1199              		.thumb_func
 1200              		.fpu fpv4-sp-d16
 1202              	USBD_Init:
 1203              	.LFB154:
1016:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 1204              		.loc 1 1016 0
 1205              		.cfi_startproc
 1206              		@ args = 0, pretend = 0, frame = 0
 1207              		@ frame_needed = 0, uses_anonymous_args = 0
 1208              	.LVL124:
1019:application-library/usb-cdc-device.c ****   {
 1209              		.loc 1 1019 0
 1210 0000 98B1     		cbz	r0, .L88
1016:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 1211              		.loc 1 1016 0
 1212 0002 08B5     		push	{r3, lr}
 1213              	.LCFI13:
 1214              		.cfi_def_cfa_offset 8
 1215              		.cfi_offset 3, -8
 1216              		.cfi_offset 14, -4
 1217 0004 0346     		mov	r3, r0
1024:application-library/usb-cdc-device.c ****   pdev->pUserData[0] = NULL;
 1218              		.loc 1 1024 0
 1219 0006 0020     		movs	r0, #0
 1220              	.LVL125:
 1221 0008 C3F8B802 		str	r0, [r3, #696]
1025:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
 1222              		.loc 1 1025 0
 1223 000c C3F8C402 		str	r0, [r3, #708]
1026:application-library/usb-cdc-device.c **** 
 1224              		.loc 1 1026 0
 1225 0010 C3F8D002 		str	r0, [r3, #720]
1029:application-library/usb-cdc-device.c ****   {
 1226              		.loc 1 1029 0
 1227 0014 09B1     		cbz	r1, .L87
1031:application-library/usb-cdc-device.c ****   }
 1228              		.loc 1 1031 0
 1229 0016 C3F8B412 		str	r1, [r3, #692]
 1230              	.L87:
 1231 001a 1846     		mov	r0, r3
1034:application-library/usb-cdc-device.c ****   pdev->id = id; // DEVICE_FS (0)
 1232              		.loc 1 1034 0
 1233 001c 0123     		movs	r3, #1
ARM GAS  /tmp/ccLxqwAV.s 			page 73


 1234              	.LVL126:
 1235 001e 80F89C32 		strb	r3, [r0, #668]
1035:application-library/usb-cdc-device.c ****   /* Initialize low level driver */
 1236              		.loc 1 1035 0
 1237 0022 0270     		strb	r2, [r0]
1037:application-library/usb-cdc-device.c **** 
 1238              		.loc 1 1037 0
 1239 0024 FFF7FEFF 		bl	USBD_LL_Init
 1240              	.LVL127:
1039:application-library/usb-cdc-device.c **** }
 1241              		.loc 1 1039 0
 1242 0028 08BD     		pop	{r3, pc}
 1243              	.LVL128:
 1244              	.L88:
 1245              	.LCFI14:
 1246              		.cfi_def_cfa_offset 0
 1247              		.cfi_restore 3
 1248              		.cfi_restore 14
1021:application-library/usb-cdc-device.c ****   }
 1249              		.loc 1 1021 0
 1250 002a 0320     		movs	r0, #3
 1251              	.LVL129:
 1252 002c 7047     		bx	lr
 1253              		.cfi_endproc
 1254              	.LFE154:
 1256              		.section	.text.USBD_DeInit,"ax",%progbits
 1257              		.align	1
 1258              		.global	USBD_DeInit
 1259              		.syntax unified
 1260              		.thumb
 1261              		.thumb_func
 1262              		.fpu fpv4-sp-d16
 1264              	USBD_DeInit:
 1265              	.LFB155:
1049:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 1266              		.loc 1 1049 0
 1267              		.cfi_startproc
 1268              		@ args = 0, pretend = 0, frame = 0
 1269              		@ frame_needed = 0, uses_anonymous_args = 0
 1270              	.LVL130:
 1271 0000 10B5     		push	{r4, lr}
 1272              	.LCFI15:
 1273              		.cfi_def_cfa_offset 8
 1274              		.cfi_offset 4, -8
 1275              		.cfi_offset 14, -4
 1276 0002 0446     		mov	r4, r0
1053:application-library/usb-cdc-device.c **** 
 1277              		.loc 1 1053 0
 1278 0004 FFF7FEFF 		bl	USBD_LL_Stop
 1279              	.LVL131:
1056:application-library/usb-cdc-device.c **** 
 1280              		.loc 1 1056 0
 1281 0008 0123     		movs	r3, #1
 1282 000a 84F89C32 		strb	r3, [r4, #668]
1059:application-library/usb-cdc-device.c ****   {
 1283              		.loc 1 1059 0
 1284 000e D4F8B832 		ldr	r3, [r4, #696]
ARM GAS  /tmp/ccLxqwAV.s 			page 74


 1285 0012 1BB1     		cbz	r3, .L94
1061:application-library/usb-cdc-device.c ****   }
 1286              		.loc 1 1061 0
 1287 0014 5B68     		ldr	r3, [r3, #4]
 1288 0016 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 1289 0018 2046     		mov	r0, r4
 1290 001a 9847     		blx	r3
 1291              	.LVL132:
 1292              	.L94:
1064:application-library/usb-cdc-device.c **** 
 1293              		.loc 1 1064 0
 1294 001c 0023     		movs	r3, #0
 1295 001e C4F8C432 		str	r3, [r4, #708]
1067:application-library/usb-cdc-device.c ****   pdev->pConfDesc = NULL;
 1296              		.loc 1 1067 0
 1297 0022 C4F8B432 		str	r3, [r4, #692]
1068:application-library/usb-cdc-device.c **** 
 1298              		.loc 1 1068 0
 1299 0026 C4F8D032 		str	r3, [r4, #720]
1071:application-library/usb-cdc-device.c **** 
 1300              		.loc 1 1071 0
 1301 002a 2046     		mov	r0, r4
 1302 002c FFF7FEFF 		bl	USBD_LL_DeInit
 1303              	.LVL133:
1074:application-library/usb-cdc-device.c **** 
 1304              		.loc 1 1074 0
 1305 0030 10BD     		pop	{r4, pc}
 1306              		.cfi_endproc
 1307              	.LFE155:
 1309              		.section	.text.USBD_RegisterClass,"ax",%progbits
 1310              		.align	1
 1311              		.global	USBD_RegisterClass
 1312              		.syntax unified
 1313              		.thumb
 1314              		.thumb_func
 1315              		.fpu fpv4-sp-d16
 1317              	USBD_RegisterClass:
 1318              	.LFB156:
1084:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 1319              		.loc 1 1084 0
 1320              		.cfi_startproc
 1321              		@ args = 0, pretend = 0, frame = 8
 1322              		@ frame_needed = 0, uses_anonymous_args = 0
 1323              	.LVL134:
 1324 0000 10B5     		push	{r4, lr}
 1325              	.LCFI16:
 1326              		.cfi_def_cfa_offset 8
 1327              		.cfi_offset 4, -8
 1328              		.cfi_offset 14, -4
 1329 0002 82B0     		sub	sp, sp, #8
 1330              	.LCFI17:
 1331              		.cfi_def_cfa_offset 16
1085:application-library/usb-cdc-device.c **** 
 1332              		.loc 1 1085 0
 1333 0004 0023     		movs	r3, #0
 1334 0006 ADF80630 		strh	r3, [sp, #6]	@ movhi
1087:application-library/usb-cdc-device.c ****   {
ARM GAS  /tmp/ccLxqwAV.s 			page 75


 1335              		.loc 1 1087 0
 1336 000a B1B1     		cbz	r1, .L99
 1337 000c 0446     		mov	r4, r0
1092:application-library/usb-cdc-device.c **** 
 1338              		.loc 1 1092 0
 1339 000e C4F8B812 		str	r1, [r4, #696]
1095:application-library/usb-cdc-device.c ****   {
 1340              		.loc 1 1095 0
 1341 0012 D0F8D432 		ldr	r3, [r0, #724]
 1342 0016 AE33     		adds	r3, r3, #174
 1343 0018 50F82330 		ldr	r3, [r0, r3, lsl #2]
 1344 001c DB6A     		ldr	r3, [r3, #44]
 1345 001e 23B1     		cbz	r3, .L98
1097:application-library/usb-cdc-device.c ****   }
 1346              		.loc 1 1097 0
 1347 0020 0DF10600 		add	r0, sp, #6
 1348              	.LVL135:
 1349 0024 9847     		blx	r3
 1350              	.LVL136:
 1351 0026 C4F8D002 		str	r0, [r4, #720]
 1352              	.L98:
1100:application-library/usb-cdc-device.c ****   return USBD_OK;
 1353              		.loc 1 1100 0
 1354 002a D4F8D832 		ldr	r3, [r4, #728]
 1355 002e 0133     		adds	r3, r3, #1
 1356 0030 C4F8D832 		str	r3, [r4, #728]
1101:application-library/usb-cdc-device.c **** }
 1357              		.loc 1 1101 0
 1358 0034 0020     		movs	r0, #0
 1359              	.LVL137:
 1360              	.L97:
1102:application-library/usb-cdc-device.c **** 
 1361              		.loc 1 1102 0
 1362 0036 02B0     		add	sp, sp, #8
 1363              	.LCFI18:
 1364              		.cfi_remember_state
 1365              		.cfi_def_cfa_offset 8
 1366              		@ sp needed
 1367 0038 10BD     		pop	{r4, pc}
 1368              	.LVL138:
 1369              	.L99:
 1370              	.LCFI19:
 1371              		.cfi_restore_state
1089:application-library/usb-cdc-device.c ****   }
 1372              		.loc 1 1089 0
 1373 003a 0320     		movs	r0, #3
 1374              	.LVL139:
 1375 003c FBE7     		b	.L97
 1376              		.cfi_endproc
 1377              	.LFE156:
 1379              		.section	.text.USBD_Start,"ax",%progbits
 1380              		.align	1
 1381              		.global	USBD_Start
 1382              		.syntax unified
 1383              		.thumb
 1384              		.thumb_func
 1385              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccLxqwAV.s 			page 76


 1387              	USBD_Start:
 1388              	.LFB157:
1112:application-library/usb-cdc-device.c ****   /* Start the low level driver  */
 1389              		.loc 1 1112 0
 1390              		.cfi_startproc
 1391              		@ args = 0, pretend = 0, frame = 0
 1392              		@ frame_needed = 0, uses_anonymous_args = 0
 1393              	.LVL140:
 1394 0000 08B5     		push	{r3, lr}
 1395              	.LCFI20:
 1396              		.cfi_def_cfa_offset 8
 1397              		.cfi_offset 3, -8
 1398              		.cfi_offset 14, -4
 1399              	.LVL141:
1119:application-library/usb-cdc-device.c **** 
 1400              		.loc 1 1119 0
 1401 0002 D0F8C802 		ldr	r0, [r0, #712]
 1402              	.LVL142:
 1403 0006 FFF7FEFF 		bl	HAL_PCD_Start
 1404              	.LVL143:
1122:application-library/usb-cdc-device.c ****   {
 1405              		.loc 1 1122 0
 1406 000a 18B1     		cbz	r0, .L103
 1407 000c 0228     		cmp	r0, #2
 1408 000e 03D0     		beq	.L104
1128:application-library/usb-cdc-device.c ****     break;
 1409              		.loc 1 1128 0
 1410 0010 0320     		movs	r0, #3
 1411              	.LVL144:
1142:application-library/usb-cdc-device.c **** 
 1412              		.loc 1 1142 0
 1413 0012 08BD     		pop	{r3, pc}
 1414              	.LVL145:
 1415              	.L103:
1125:application-library/usb-cdc-device.c ****     break;
 1416              		.loc 1 1125 0
 1417 0014 0020     		movs	r0, #0
 1418              	.LVL146:
 1419 0016 08BD     		pop	{r3, pc}
 1420              	.LVL147:
 1421              	.L104:
1131:application-library/usb-cdc-device.c ****     break;
 1422              		.loc 1 1131 0
 1423 0018 0120     		movs	r0, #1
 1424              	.LVL148:
1132:application-library/usb-cdc-device.c ****     case HAL_TIMEOUT :
 1425              		.loc 1 1132 0
 1426 001a 08BD     		pop	{r3, pc}
 1427              		.cfi_endproc
 1428              	.LFE157:
 1430              		.section	.text.USBD_Stop,"ax",%progbits
 1431              		.align	1
 1432              		.global	USBD_Stop
 1433              		.syntax unified
 1434              		.thumb
 1435              		.thumb_func
 1436              		.fpu fpv4-sp-d16
ARM GAS  /tmp/ccLxqwAV.s 			page 77


 1438              	USBD_Stop:
 1439              	.LFB158:
1152:application-library/usb-cdc-device.c ****   /* Disconnect USB Device */
 1440              		.loc 1 1152 0
 1441              		.cfi_startproc
 1442              		@ args = 0, pretend = 0, frame = 0
 1443              		@ frame_needed = 0, uses_anonymous_args = 0
 1444              	.LVL149:
 1445 0000 10B5     		push	{r4, lr}
 1446              	.LCFI21:
 1447              		.cfi_def_cfa_offset 8
 1448              		.cfi_offset 4, -8
 1449              		.cfi_offset 14, -4
 1450 0002 0446     		mov	r4, r0
1154:application-library/usb-cdc-device.c **** 
 1451              		.loc 1 1154 0
 1452 0004 FFF7FEFF 		bl	USBD_LL_Stop
 1453              	.LVL150:
1157:application-library/usb-cdc-device.c ****   {
 1454              		.loc 1 1157 0
 1455 0008 D4F8B832 		ldr	r3, [r4, #696]
 1456 000c 1BB1     		cbz	r3, .L109
1159:application-library/usb-cdc-device.c ****   }
 1457              		.loc 1 1159 0
 1458 000e 5B68     		ldr	r3, [r3, #4]
 1459 0010 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
 1460 0012 2046     		mov	r0, r4
 1461 0014 9847     		blx	r3
 1462              	.LVL151:
 1463              	.L109:
1163:application-library/usb-cdc-device.c **** 
 1464              		.loc 1 1163 0
 1465 0016 0020     		movs	r0, #0
 1466 0018 10BD     		pop	{r4, pc}
 1467              		.cfi_endproc
 1468              	.LFE158:
 1470              		.section	.text.USBD_RunTestMode,"ax",%progbits
 1471              		.align	1
 1472              		.global	USBD_RunTestMode
 1473              		.syntax unified
 1474              		.thumb
 1475              		.thumb_func
 1476              		.fpu fpv4-sp-d16
 1478              	USBD_RunTestMode:
 1479              	.LFB159:
1172:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
 1480              		.loc 1 1172 0
 1481              		.cfi_startproc
 1482              		@ args = 0, pretend = 0, frame = 0
 1483              		@ frame_needed = 0, uses_anonymous_args = 0
 1484              		@ link register save eliminated.
 1485              	.LVL152:
1177:application-library/usb-cdc-device.c **** 
 1486              		.loc 1 1177 0
 1487 0000 0020     		movs	r0, #0
 1488              	.LVL153:
 1489 0002 7047     		bx	lr
ARM GAS  /tmp/ccLxqwAV.s 			page 78


 1490              		.cfi_endproc
 1491              	.LFE159:
 1493              		.section	.text.USBD_SetClassConfig,"ax",%progbits
 1494              		.align	1
 1495              		.global	USBD_SetClassConfig
 1496              		.syntax unified
 1497              		.thumb
 1498              		.thumb_func
 1499              		.fpu fpv4-sp-d16
 1501              	USBD_SetClassConfig:
 1502              	.LFB160:
1188:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 1503              		.loc 1 1188 0
 1504              		.cfi_startproc
 1505              		@ args = 0, pretend = 0, frame = 0
 1506              		@ frame_needed = 0, uses_anonymous_args = 0
 1507              	.LVL154:
 1508 0000 08B5     		push	{r3, lr}
 1509              	.LCFI22:
 1510              		.cfi_def_cfa_offset 8
 1511              		.cfi_offset 3, -8
 1512              		.cfi_offset 14, -4
 1513              	.LVL155:
1191:application-library/usb-cdc-device.c ****   {
 1514              		.loc 1 1191 0
 1515 0002 D0F8B832 		ldr	r3, [r0, #696]
 1516 0006 13B1     		cbz	r3, .L114
1194:application-library/usb-cdc-device.c ****   }
 1517              		.loc 1 1194 0
 1518 0008 1B68     		ldr	r3, [r3]
 1519 000a 9847     		blx	r3
 1520              	.LVL156:
 1521 000c 08BD     		pop	{r3, pc}
 1522              	.LVL157:
 1523              	.L114:
1189:application-library/usb-cdc-device.c **** 
 1524              		.loc 1 1189 0
 1525 000e 0020     		movs	r0, #0
 1526              	.LVL158:
1198:application-library/usb-cdc-device.c **** 
 1527              		.loc 1 1198 0
 1528 0010 08BD     		pop	{r3, pc}
 1529              		.cfi_endproc
 1530              	.LFE160:
 1532              		.section	.text.USBD_ClrClassConfig,"ax",%progbits
 1533              		.align	1
 1534              		.global	USBD_ClrClassConfig
 1535              		.syntax unified
 1536              		.thumb
 1537              		.thumb_func
 1538              		.fpu fpv4-sp-d16
 1540              	USBD_ClrClassConfig:
 1541              	.LFB161:
1208:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 1542              		.loc 1 1208 0
 1543              		.cfi_startproc
 1544              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccLxqwAV.s 			page 79


 1545              		@ frame_needed = 0, uses_anonymous_args = 0
 1546              	.LVL159:
 1547 0000 08B5     		push	{r3, lr}
 1548              	.LCFI23:
 1549              		.cfi_def_cfa_offset 8
 1550              		.cfi_offset 3, -8
 1551              		.cfi_offset 14, -4
 1552              	.LVL160:
1212:application-library/usb-cdc-device.c ****   {
 1553              		.loc 1 1212 0
 1554 0002 D0F8B832 		ldr	r3, [r0, #696]
 1555 0006 5B68     		ldr	r3, [r3, #4]
 1556 0008 9847     		blx	r3
 1557              	.LVL161:
 1558 000a 00B1     		cbz	r0, .L117
1214:application-library/usb-cdc-device.c ****   }
 1559              		.loc 1 1214 0
 1560 000c 0320     		movs	r0, #3
 1561              	.L117:
 1562              	.LVL162:
1218:application-library/usb-cdc-device.c **** 
 1563              		.loc 1 1218 0
 1564 000e 08BD     		pop	{r3, pc}
 1565              		.cfi_endproc
 1566              	.LFE161:
 1568              		.section	.text.USBD_LL_Reset,"ax",%progbits
 1569              		.align	1
 1570              		.global	USBD_LL_Reset
 1571              		.syntax unified
 1572              		.thumb
 1573              		.thumb_func
 1574              		.fpu fpv4-sp-d16
 1576              	USBD_LL_Reset:
 1577              	.LFB165:
1455:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 1578              		.loc 1 1455 0
 1579              		.cfi_startproc
 1580              		@ args = 0, pretend = 0, frame = 0
 1581              		@ frame_needed = 0, uses_anonymous_args = 0
 1582              	.LVL163:
 1583 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1584              	.LCFI24:
 1585              		.cfi_def_cfa_offset 24
 1586              		.cfi_offset 3, -24
 1587              		.cfi_offset 4, -20
 1588              		.cfi_offset 5, -16
 1589              		.cfi_offset 6, -12
 1590              		.cfi_offset 7, -8
 1591              		.cfi_offset 14, -4
 1592 0002 0446     		mov	r4, r0
 1593              	.LVL164:
1459:application-library/usb-cdc-device.c ****   pdev->ep0_state = USBD_EP0_IDLE;
 1594              		.loc 1 1459 0
 1595 0004 0123     		movs	r3, #1
 1596 0006 80F89C32 		strb	r3, [r0, #668]
1460:application-library/usb-cdc-device.c ****   pdev->dev_config = 0U;
 1597              		.loc 1 1460 0
ARM GAS  /tmp/ccLxqwAV.s 			page 80


 1598 000a 0023     		movs	r3, #0
 1599 000c C0F89432 		str	r3, [r0, #660]
1461:application-library/usb-cdc-device.c ****   pdev->dev_remote_wakeup = 0U;
 1600              		.loc 1 1461 0
 1601 0010 4360     		str	r3, [r0, #4]
1462:application-library/usb-cdc-device.c ****   pdev->dev_test_mode = 0U;
 1602              		.loc 1 1462 0
 1603 0012 C0F8A432 		str	r3, [r0, #676]
1463:application-library/usb-cdc-device.c **** 
 1604              		.loc 1 1463 0
 1605 0016 80F8A032 		strb	r3, [r0, #672]
1466:application-library/usb-cdc-device.c ****   {
 1606              		.loc 1 1466 0
 1607 001a D0F8B832 		ldr	r3, [r0, #696]
 1608 001e EBB1     		cbz	r3, .L122
1468:application-library/usb-cdc-device.c ****     {
 1609              		.loc 1 1468 0
 1610 0020 5B68     		ldr	r3, [r3, #4]
 1611 0022 EBB1     		cbz	r3, .L123
1470:application-library/usb-cdc-device.c ****       {
 1612              		.loc 1 1470 0
 1613 0024 0021     		movs	r1, #0
 1614 0026 9847     		blx	r3
 1615              	.LVL165:
 1616 0028 B0B1     		cbz	r0, .L126
1472:application-library/usb-cdc-device.c ****       }
 1617              		.loc 1 1472 0
 1618 002a 0327     		movs	r7, #3
 1619              	.L121:
 1620              	.LVL166:
1478:application-library/usb-cdc-device.c ****   pdev->ep_out[0x00U & 0xFU].is_used = 1U;
 1621              		.loc 1 1478 0
 1622 002c 4023     		movs	r3, #64
 1623 002e 0022     		movs	r2, #0
 1624 0030 1146     		mov	r1, r2
 1625 0032 2046     		mov	r0, r4
 1626 0034 FFF7FEFF 		bl	USBD_LL_OpenEP
 1627              	.LVL167:
1479:application-library/usb-cdc-device.c **** 
 1628              		.loc 1 1479 0
 1629 0038 0126     		movs	r6, #1
 1630 003a A4F86461 		strh	r6, [r4, #356]	@ movhi
1481:application-library/usb-cdc-device.c **** 
 1631              		.loc 1 1481 0
 1632 003e 4025     		movs	r5, #64
 1633 0040 C4F86051 		str	r5, [r4, #352]
1484:application-library/usb-cdc-device.c ****   pdev->ep_in[0x80U & 0xFU].is_used = 1U;
 1634              		.loc 1 1484 0
 1635 0044 2B46     		mov	r3, r5
 1636 0046 0022     		movs	r2, #0
 1637 0048 8021     		movs	r1, #128
 1638 004a 2046     		mov	r0, r4
 1639 004c FFF7FEFF 		bl	USBD_LL_OpenEP
 1640              	.LVL168:
1485:application-library/usb-cdc-device.c **** 
 1641              		.loc 1 1485 0
 1642 0050 A684     		strh	r6, [r4, #36]	@ movhi
ARM GAS  /tmp/ccLxqwAV.s 			page 81


1487:application-library/usb-cdc-device.c **** 
 1643              		.loc 1 1487 0
 1644 0052 2562     		str	r5, [r4, #32]
1490:application-library/usb-cdc-device.c **** 
 1645              		.loc 1 1490 0
 1646 0054 3846     		mov	r0, r7
 1647 0056 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1648              	.LVL169:
 1649              	.L126:
1456:application-library/usb-cdc-device.c **** 
 1650              		.loc 1 1456 0
 1651 0058 0027     		movs	r7, #0
 1652 005a E7E7     		b	.L121
 1653              	.LVL170:
 1654              	.L122:
 1655 005c 0027     		movs	r7, #0
 1656 005e E5E7     		b	.L121
 1657              	.L123:
 1658 0060 0027     		movs	r7, #0
 1659 0062 E3E7     		b	.L121
 1660              		.cfi_endproc
 1661              	.LFE165:
 1663              		.section	.text.USBD_LL_SetSpeed,"ax",%progbits
 1664              		.align	1
 1665              		.global	USBD_LL_SetSpeed
 1666              		.syntax unified
 1667              		.thumb
 1668              		.thumb_func
 1669              		.fpu fpv4-sp-d16
 1671              	USBD_LL_SetSpeed:
 1672              	.LFB166:
1500:application-library/usb-cdc-device.c ****   pdev->dev_speed = speed;
 1673              		.loc 1 1500 0
 1674              		.cfi_startproc
 1675              		@ args = 0, pretend = 0, frame = 0
 1676              		@ frame_needed = 0, uses_anonymous_args = 0
 1677              		@ link register save eliminated.
 1678              	.LVL171:
1501:application-library/usb-cdc-device.c **** 
 1679              		.loc 1 1501 0
 1680 0000 0174     		strb	r1, [r0, #16]
1504:application-library/usb-cdc-device.c **** 
 1681              		.loc 1 1504 0
 1682 0002 0020     		movs	r0, #0
 1683              	.LVL172:
 1684 0004 7047     		bx	lr
 1685              		.cfi_endproc
 1686              	.LFE166:
 1688              		.section	.text.USBD_LL_Suspend,"ax",%progbits
 1689              		.align	1
 1690              		.global	USBD_LL_Suspend
 1691              		.syntax unified
 1692              		.thumb
 1693              		.thumb_func
 1694              		.fpu fpv4-sp-d16
 1696              	USBD_LL_Suspend:
 1697              	.LFB167:
ARM GAS  /tmp/ccLxqwAV.s 			page 82


1514:application-library/usb-cdc-device.c ****   pdev->dev_old_state = pdev->dev_state;
 1698              		.loc 1 1514 0
 1699              		.cfi_startproc
 1700              		@ args = 0, pretend = 0, frame = 0
 1701              		@ frame_needed = 0, uses_anonymous_args = 0
 1702              		@ link register save eliminated.
 1703              	.LVL173:
1515:application-library/usb-cdc-device.c ****   pdev->dev_state = USBD_STATE_SUSPENDED;
 1704              		.loc 1 1515 0
 1705 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1706 0004 DBB2     		uxtb	r3, r3
 1707 0006 80F89D32 		strb	r3, [r0, #669]
1516:application-library/usb-cdc-device.c ****   return USBD_OK;
 1708              		.loc 1 1516 0
 1709 000a 0423     		movs	r3, #4
 1710 000c 80F89C32 		strb	r3, [r0, #668]
1518:application-library/usb-cdc-device.c **** 
 1711              		.loc 1 1518 0
 1712 0010 0020     		movs	r0, #0
 1713              	.LVL174:
 1714 0012 7047     		bx	lr
 1715              		.cfi_endproc
 1716              	.LFE167:
 1718              		.section	.text.USBD_LL_Resume,"ax",%progbits
 1719              		.align	1
 1720              		.global	USBD_LL_Resume
 1721              		.syntax unified
 1722              		.thumb
 1723              		.thumb_func
 1724              		.fpu fpv4-sp-d16
 1726              	USBD_LL_Resume:
 1727              	.LFB168:
1527:application-library/usb-cdc-device.c ****   if (pdev->dev_state == USBD_STATE_SUSPENDED)
 1728              		.loc 1 1527 0
 1729              		.cfi_startproc
 1730              		@ args = 0, pretend = 0, frame = 0
 1731              		@ frame_needed = 0, uses_anonymous_args = 0
 1732              		@ link register save eliminated.
 1733              	.LVL175:
1528:application-library/usb-cdc-device.c ****   {
 1734              		.loc 1 1528 0
 1735 0000 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1736 0004 DBB2     		uxtb	r3, r3
 1737 0006 042B     		cmp	r3, #4
 1738 0008 01D0     		beq	.L131
 1739              	.L130:
1534:application-library/usb-cdc-device.c **** 
 1740              		.loc 1 1534 0
 1741 000a 0020     		movs	r0, #0
 1742              	.LVL176:
 1743 000c 7047     		bx	lr
 1744              	.LVL177:
 1745              	.L131:
1530:application-library/usb-cdc-device.c ****   }
 1746              		.loc 1 1530 0
 1747 000e 90F89D32 		ldrb	r3, [r0, #669]	@ zero_extendqisi2
 1748 0012 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/ccLxqwAV.s 			page 83


 1749 0014 80F89C32 		strb	r3, [r0, #668]
 1750 0018 F7E7     		b	.L130
 1751              		.cfi_endproc
 1752              	.LFE168:
 1754              		.section	.text.USBD_LL_SOF,"ax",%progbits
 1755              		.align	1
 1756              		.global	USBD_LL_SOF
 1757              		.syntax unified
 1758              		.thumb
 1759              		.thumb_func
 1760              		.fpu fpv4-sp-d16
 1762              	USBD_LL_SOF:
 1763              	.LFB169:
1544:application-library/usb-cdc-device.c ****   /* The SOF event can be distributed for all classes that support it */
 1764              		.loc 1 1544 0
 1765              		.cfi_startproc
 1766              		@ args = 0, pretend = 0, frame = 0
 1767              		@ frame_needed = 0, uses_anonymous_args = 0
 1768              	.LVL178:
 1769 0000 08B5     		push	{r3, lr}
 1770              	.LCFI25:
 1771              		.cfi_def_cfa_offset 8
 1772              		.cfi_offset 3, -8
 1773              		.cfi_offset 14, -4
1546:application-library/usb-cdc-device.c ****   {
 1774              		.loc 1 1546 0
 1775 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1776 0006 DBB2     		uxtb	r3, r3
 1777 0008 032B     		cmp	r3, #3
 1778 000a 01D0     		beq	.L135
 1779              	.LVL179:
 1780              	.L133:
1558:application-library/usb-cdc-device.c **** 
 1781              		.loc 1 1558 0
 1782 000c 0020     		movs	r0, #0
 1783 000e 08BD     		pop	{r3, pc}
 1784              	.LVL180:
 1785              	.L135:
1548:application-library/usb-cdc-device.c ****     {
 1786              		.loc 1 1548 0
 1787 0010 D0F8B832 		ldr	r3, [r0, #696]
 1788 0014 002B     		cmp	r3, #0
 1789 0016 F9D0     		beq	.L133
1550:application-library/usb-cdc-device.c ****       {
 1790              		.loc 1 1550 0
 1791 0018 DB69     		ldr	r3, [r3, #28]
 1792 001a 002B     		cmp	r3, #0
 1793 001c F6D0     		beq	.L133
1552:application-library/usb-cdc-device.c ****       }
 1794              		.loc 1 1552 0
 1795 001e 9847     		blx	r3
 1796              	.LVL181:
 1797 0020 F4E7     		b	.L133
 1798              		.cfi_endproc
 1799              	.LFE169:
 1801              		.section	.text.USBD_LL_IsoINIncomplete,"ax",%progbits
 1802              		.align	1
ARM GAS  /tmp/ccLxqwAV.s 			page 84


 1803              		.global	USBD_LL_IsoINIncomplete
 1804              		.syntax unified
 1805              		.thumb
 1806              		.thumb_func
 1807              		.fpu fpv4-sp-d16
 1809              	USBD_LL_IsoINIncomplete:
 1810              	.LFB170:
1568:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
 1811              		.loc 1 1568 0
 1812              		.cfi_startproc
 1813              		@ args = 0, pretend = 0, frame = 0
 1814              		@ frame_needed = 0, uses_anonymous_args = 0
 1815              	.LVL182:
 1816 0000 08B5     		push	{r3, lr}
 1817              	.LCFI26:
 1818              		.cfi_def_cfa_offset 8
 1819              		.cfi_offset 3, -8
 1820              		.cfi_offset 14, -4
1569:application-library/usb-cdc-device.c ****   {
 1821              		.loc 1 1569 0
 1822 0002 D0F8D432 		ldr	r3, [r0, #724]
 1823 0006 AE33     		adds	r3, r3, #174
 1824 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 1825 000c 5AB1     		cbz	r2, .L138
1574:application-library/usb-cdc-device.c ****   {
 1826              		.loc 1 1574 0
 1827 000e 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1828 0012 DBB2     		uxtb	r3, r3
 1829 0014 032B     		cmp	r3, #3
 1830 0016 01D0     		beq	.L142
1582:application-library/usb-cdc-device.c **** }
 1831              		.loc 1 1582 0
 1832 0018 0020     		movs	r0, #0
 1833              	.LVL183:
 1834 001a 08BD     		pop	{r3, pc}
 1835              	.LVL184:
 1836              	.L142:
1576:application-library/usb-cdc-device.c ****     {
 1837              		.loc 1 1576 0
 1838 001c 136A     		ldr	r3, [r2, #32]
 1839 001e 23B1     		cbz	r3, .L140
1578:application-library/usb-cdc-device.c ****     }
 1840              		.loc 1 1578 0
 1841 0020 9847     		blx	r3
 1842              	.LVL185:
1582:application-library/usb-cdc-device.c **** }
 1843              		.loc 1 1582 0
 1844 0022 0020     		movs	r0, #0
 1845 0024 08BD     		pop	{r3, pc}
 1846              	.LVL186:
 1847              	.L138:
1571:application-library/usb-cdc-device.c ****   }
 1848              		.loc 1 1571 0
 1849 0026 0320     		movs	r0, #3
 1850              	.LVL187:
 1851 0028 08BD     		pop	{r3, pc}
 1852              	.LVL188:
ARM GAS  /tmp/ccLxqwAV.s 			page 85


 1853              	.L140:
1582:application-library/usb-cdc-device.c **** }
 1854              		.loc 1 1582 0
 1855 002a 0020     		movs	r0, #0
 1856              	.LVL189:
1583:application-library/usb-cdc-device.c **** 
 1857              		.loc 1 1583 0
 1858 002c 08BD     		pop	{r3, pc}
 1859              		.cfi_endproc
 1860              	.LFE170:
 1862              		.section	.text.USBD_LL_IsoOUTIncomplete,"ax",%progbits
 1863              		.align	1
 1864              		.global	USBD_LL_IsoOUTIncomplete
 1865              		.syntax unified
 1866              		.thumb
 1867              		.thumb_func
 1868              		.fpu fpv4-sp-d16
 1870              	USBD_LL_IsoOUTIncomplete:
 1871              	.LFB171:
1592:application-library/usb-cdc-device.c ****   if (pdev->pClass[pdev->classId] == NULL)
 1872              		.loc 1 1592 0
 1873              		.cfi_startproc
 1874              		@ args = 0, pretend = 0, frame = 0
 1875              		@ frame_needed = 0, uses_anonymous_args = 0
 1876              	.LVL190:
 1877 0000 08B5     		push	{r3, lr}
 1878              	.LCFI27:
 1879              		.cfi_def_cfa_offset 8
 1880              		.cfi_offset 3, -8
 1881              		.cfi_offset 14, -4
1593:application-library/usb-cdc-device.c ****   {
 1882              		.loc 1 1593 0
 1883 0002 D0F8D432 		ldr	r3, [r0, #724]
 1884 0006 AE33     		adds	r3, r3, #174
 1885 0008 50F82320 		ldr	r2, [r0, r3, lsl #2]
 1886 000c 5AB1     		cbz	r2, .L145
1598:application-library/usb-cdc-device.c ****   {
 1887              		.loc 1 1598 0
 1888 000e 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 1889 0012 DBB2     		uxtb	r3, r3
 1890 0014 032B     		cmp	r3, #3
 1891 0016 01D0     		beq	.L149
1606:application-library/usb-cdc-device.c **** }
 1892              		.loc 1 1606 0
 1893 0018 0020     		movs	r0, #0
 1894              	.LVL191:
 1895 001a 08BD     		pop	{r3, pc}
 1896              	.LVL192:
 1897              	.L149:
1600:application-library/usb-cdc-device.c ****     {
 1898              		.loc 1 1600 0
 1899 001c 536A     		ldr	r3, [r2, #36]
 1900 001e 23B1     		cbz	r3, .L147
1602:application-library/usb-cdc-device.c ****     }
 1901              		.loc 1 1602 0
 1902 0020 9847     		blx	r3
 1903              	.LVL193:
ARM GAS  /tmp/ccLxqwAV.s 			page 86


1606:application-library/usb-cdc-device.c **** }
 1904              		.loc 1 1606 0
 1905 0022 0020     		movs	r0, #0
 1906 0024 08BD     		pop	{r3, pc}
 1907              	.LVL194:
 1908              	.L145:
1595:application-library/usb-cdc-device.c ****   }
 1909              		.loc 1 1595 0
 1910 0026 0320     		movs	r0, #3
 1911              	.LVL195:
 1912 0028 08BD     		pop	{r3, pc}
 1913              	.LVL196:
 1914              	.L147:
1606:application-library/usb-cdc-device.c **** }
 1915              		.loc 1 1606 0
 1916 002a 0020     		movs	r0, #0
 1917              	.LVL197:
1607:application-library/usb-cdc-device.c **** 
 1918              		.loc 1 1607 0
 1919 002c 08BD     		pop	{r3, pc}
 1920              		.cfi_endproc
 1921              	.LFE171:
 1923              		.section	.text.USBD_LL_DevConnected,"ax",%progbits
 1924              		.align	1
 1925              		.global	USBD_LL_DevConnected
 1926              		.syntax unified
 1927              		.thumb
 1928              		.thumb_func
 1929              		.fpu fpv4-sp-d16
 1931              	USBD_LL_DevConnected:
 1932              	.LFB172:
1616:application-library/usb-cdc-device.c ****   /* Prevent unused argument compilation warning */
 1933              		.loc 1 1616 0
 1934              		.cfi_startproc
 1935              		@ args = 0, pretend = 0, frame = 0
 1936              		@ frame_needed = 0, uses_anonymous_args = 0
 1937              		@ link register save eliminated.
 1938              	.LVL198:
1621:application-library/usb-cdc-device.c **** 
 1939              		.loc 1 1621 0
 1940 0000 0020     		movs	r0, #0
 1941              	.LVL199:
 1942 0002 7047     		bx	lr
 1943              		.cfi_endproc
 1944              	.LFE172:
 1946              		.section	.text.USBD_LL_DevDisconnected,"ax",%progbits
 1947              		.align	1
 1948              		.global	USBD_LL_DevDisconnected
 1949              		.syntax unified
 1950              		.thumb
 1951              		.thumb_func
 1952              		.fpu fpv4-sp-d16
 1954              	USBD_LL_DevDisconnected:
 1955              	.LFB173:
1630:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef   ret = USBD_OK;
 1956              		.loc 1 1630 0
 1957              		.cfi_startproc
ARM GAS  /tmp/ccLxqwAV.s 			page 87


 1958              		@ args = 0, pretend = 0, frame = 0
 1959              		@ frame_needed = 0, uses_anonymous_args = 0
 1960              	.LVL200:
 1961 0000 08B5     		push	{r3, lr}
 1962              	.LCFI28:
 1963              		.cfi_def_cfa_offset 8
 1964              		.cfi_offset 3, -8
 1965              		.cfi_offset 14, -4
 1966              	.LVL201:
1634:application-library/usb-cdc-device.c **** 
 1967              		.loc 1 1634 0
 1968 0002 0123     		movs	r3, #1
 1969 0004 80F89C32 		strb	r3, [r0, #668]
1636:application-library/usb-cdc-device.c ****   {
 1970              		.loc 1 1636 0
 1971 0008 D0F8B832 		ldr	r3, [r0, #696]
 1972 000c 33B1     		cbz	r3, .L153
1638:application-library/usb-cdc-device.c ****     {
 1973              		.loc 1 1638 0
 1974 000e 5B68     		ldr	r3, [r3, #4]
 1975 0010 0179     		ldrb	r1, [r0, #4]	@ zero_extendqisi2
 1976 0012 9847     		blx	r3
 1977              	.LVL202:
 1978 0014 08B1     		cbz	r0, .L156
1640:application-library/usb-cdc-device.c ****     }
 1979              		.loc 1 1640 0
 1980 0016 0320     		movs	r0, #3
 1981              	.LVL203:
1645:application-library/usb-cdc-device.c **** 
 1982              		.loc 1 1645 0
 1983 0018 08BD     		pop	{r3, pc}
 1984              	.LVL204:
 1985              	.L156:
 1986 001a 08BD     		pop	{r3, pc}
 1987              	.LVL205:
 1988              	.L153:
1631:application-library/usb-cdc-device.c **** 
 1989              		.loc 1 1631 0
 1990 001c 0020     		movs	r0, #0
 1991              	.LVL206:
 1992 001e 08BD     		pop	{r3, pc}
 1993              		.cfi_endproc
 1994              	.LFE173:
 1996              		.section	.text.USBD_CoreFindEP,"ax",%progbits
 1997              		.align	1
 1998              		.global	USBD_CoreFindEP
 1999              		.syntax unified
 2000              		.thumb
 2001              		.thumb_func
 2002              		.fpu fpv4-sp-d16
 2004              	USBD_CoreFindEP:
 2005              	.LFB174:
1654:application-library/usb-cdc-device.c ****   UNUSED(pdev);
 2006              		.loc 1 1654 0
 2007              		.cfi_startproc
 2008              		@ args = 0, pretend = 0, frame = 0
 2009              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccLxqwAV.s 			page 88


 2010              		@ link register save eliminated.
 2011              	.LVL207:
1658:application-library/usb-cdc-device.c **** 
 2012              		.loc 1 1658 0
 2013 0000 0020     		movs	r0, #0
 2014              	.LVL208:
 2015 0002 7047     		bx	lr
 2016              		.cfi_endproc
 2017              	.LFE174:
 2019              		.section	.text.USBD_LL_DataOutStage,"ax",%progbits
 2020              		.align	1
 2021              		.global	USBD_LL_DataOutStage
 2022              		.syntax unified
 2023              		.thumb
 2024              		.thumb_func
 2025              		.fpu fpv4-sp-d16
 2027              	USBD_LL_DataOutStage:
 2028              	.LFB163:
1268:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 2029              		.loc 1 1268 0
 2030              		.cfi_startproc
 2031              		@ args = 0, pretend = 0, frame = 0
 2032              		@ frame_needed = 0, uses_anonymous_args = 0
 2033              	.LVL209:
 2034 0000 38B5     		push	{r3, r4, r5, lr}
 2035              	.LCFI29:
 2036              		.cfi_def_cfa_offset 16
 2037              		.cfi_offset 3, -16
 2038              		.cfi_offset 4, -12
 2039              		.cfi_offset 5, -8
 2040              		.cfi_offset 14, -4
 2041 0002 0446     		mov	r4, r0
 2042              	.LVL210:
1273:application-library/usb-cdc-device.c ****   {
 2043              		.loc 1 1273 0
 2044 0004 0D46     		mov	r5, r1
 2045 0006 0029     		cmp	r1, #0
 2046 0008 3DD1     		bne	.L159
 2047 000a 1346     		mov	r3, r2
 2048              	.LVL211:
1277:application-library/usb-cdc-device.c ****     {
 2049              		.loc 1 1277 0
 2050 000c D0F89422 		ldr	r2, [r0, #660]
 2051              	.LVL212:
 2052 0010 032A     		cmp	r2, #3
 2053 0012 01D0     		beq	.L171
1353:application-library/usb-cdc-device.c **** }
 2054              		.loc 1 1353 0
 2055 0014 0020     		movs	r0, #0
 2056              	.LVL213:
 2057 0016 38BD     		pop	{r3, r4, r5, pc}
 2058              	.LVL214:
 2059              	.L171:
1279:application-library/usb-cdc-device.c ****       {
 2060              		.loc 1 1279 0
 2061 0018 D0F85C11 		ldr	r1, [r0, #348]
 2062              	.LVL215:
ARM GAS  /tmp/ccLxqwAV.s 			page 89


 2063 001c D0F86021 		ldr	r2, [r0, #352]
 2064 0020 9142     		cmp	r1, r2
 2065 0022 15D8     		bhi	.L172
1288:application-library/usb-cdc-device.c ****         {
 2066              		.loc 1 1288 0
 2067 0024 90F8AA32 		ldrb	r3, [r0, #682]	@ zero_extendqisi2
 2068              	.LVL216:
 2069 0028 03F01F03 		and	r3, r3, #31
 2070 002c 022B     		cmp	r3, #2
 2071 002e 04D1     		bne	.L162
1301:application-library/usb-cdc-device.c ****             break;
 2072              		.loc 1 1301 0
 2073 0030 90F8AE12 		ldrb	r1, [r0, #686]	@ zero_extendqisi2
 2074 0034 FFF7FEFF 		bl	USBD_CoreFindEP
 2075              	.LVL217:
 2076 0038 0546     		mov	r5, r0
 2077              	.LVL218:
 2078              	.L162:
1310:application-library/usb-cdc-device.c ****         {
 2079              		.loc 1 1310 0
 2080 003a 25B9     		cbnz	r5, .L164
1313:application-library/usb-cdc-device.c ****           {
 2081              		.loc 1 1313 0
 2082 003c 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 2083 0040 DBB2     		uxtb	r3, r3
 2084 0042 032B     		cmp	r3, #3
 2085 0044 0FD0     		beq	.L173
 2086              	.LVL219:
 2087              	.L164:
1323:application-library/usb-cdc-device.c ****       }
 2088              		.loc 1 1323 0
 2089 0046 2046     		mov	r0, r4
 2090 0048 FFF7FEFF 		bl	USBD_CtlSendStatus
 2091              	.LVL220:
1353:application-library/usb-cdc-device.c **** }
 2092              		.loc 1 1353 0
 2093 004c 0020     		movs	r0, #0
 2094 004e 38BD     		pop	{r3, r4, r5, pc}
 2095              	.LVL221:
 2096              	.L172:
1281:application-library/usb-cdc-device.c **** 
 2097              		.loc 1 1281 0
 2098 0050 891A     		subs	r1, r1, r2
 2099 0052 C0F85C11 		str	r1, [r0, #348]
1283:application-library/usb-cdc-device.c ****       }
 2100              		.loc 1 1283 0
 2101 0056 8A42     		cmp	r2, r1
 2102 0058 28BF     		it	cs
 2103 005a 0A46     		movcs	r2, r1
 2104 005c 1946     		mov	r1, r3
 2105 005e FFF7FEFF 		bl	USBD_CtlContinueRx
 2106              	.LVL222:
1353:application-library/usb-cdc-device.c **** }
 2107              		.loc 1 1353 0
 2108 0062 0020     		movs	r0, #0
 2109 0064 38BD     		pop	{r3, r4, r5, pc}
 2110              	.LVL223:
ARM GAS  /tmp/ccLxqwAV.s 			page 90


 2111              	.L173:
1315:application-library/usb-cdc-device.c ****             {
 2112              		.loc 1 1315 0
 2113 0066 05F1AE03 		add	r3, r5, #174
 2114 006a 54F82330 		ldr	r3, [r4, r3, lsl #2]
 2115 006e 1B69     		ldr	r3, [r3, #16]
 2116 0070 002B     		cmp	r3, #0
 2117 0072 E8D0     		beq	.L164
1317:application-library/usb-cdc-device.c ****               pdev->pClass[idx]->EP0_RxReady(pdev);
 2118              		.loc 1 1317 0
 2119 0074 C4F8D452 		str	r5, [r4, #724]
1318:application-library/usb-cdc-device.c ****             }
 2120              		.loc 1 1318 0
 2121 0078 AE35     		adds	r5, r5, #174
 2122              	.LVL224:
 2123 007a 54F82530 		ldr	r3, [r4, r5, lsl #2]
 2124 007e 1B69     		ldr	r3, [r3, #16]
 2125 0080 2046     		mov	r0, r4
 2126 0082 9847     		blx	r3
 2127              	.LVL225:
 2128 0084 DFE7     		b	.L164
 2129              	.LVL226:
 2130              	.L159:
1333:application-library/usb-cdc-device.c **** 
 2131              		.loc 1 1333 0
 2132 0086 01F07F01 		and	r1, r1, #127
 2133              	.LVL227:
 2134 008a FFF7FEFF 		bl	USBD_CoreFindEP
 2135              	.LVL228:
1335:application-library/usb-cdc-device.c ****     {
 2136              		.loc 1 1335 0
 2137 008e 0246     		mov	r2, r0
 2138 0090 C0B9     		cbnz	r0, .L167
1338:application-library/usb-cdc-device.c ****       {
 2139              		.loc 1 1338 0
 2140 0092 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 2141 0096 DBB2     		uxtb	r3, r3
 2142 0098 032B     		cmp	r3, #3
 2143 009a 01D0     		beq	.L174
1270:application-library/usb-cdc-device.c ****   uint8_t idx;
 2144              		.loc 1 1270 0
 2145 009c 0020     		movs	r0, #0
 2146              	.LVL229:
 2147 009e 38BD     		pop	{r3, r4, r5, pc}
 2148              	.LVL230:
 2149              	.L174:
1340:application-library/usb-cdc-device.c ****         {
 2150              		.loc 1 1340 0
 2151 00a0 00F1AE03 		add	r3, r0, #174
 2152 00a4 54F82330 		ldr	r3, [r4, r3, lsl #2]
 2153 00a8 9B69     		ldr	r3, [r3, #24]
 2154 00aa 4BB1     		cbz	r3, .L169
1342:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataOut(pdev, epnum);
 2155              		.loc 1 1342 0
 2156 00ac C4F8D402 		str	r0, [r4, #724]
1343:application-library/usb-cdc-device.c ****         }
 2157              		.loc 1 1343 0
ARM GAS  /tmp/ccLxqwAV.s 			page 91


 2158 00b0 AE32     		adds	r2, r2, #174
 2159 00b2 54F82230 		ldr	r3, [r4, r2, lsl #2]
 2160 00b6 9B69     		ldr	r3, [r3, #24]
 2161 00b8 2946     		mov	r1, r5
 2162 00ba 2046     		mov	r0, r4
 2163              	.LVL231:
 2164 00bc 9847     		blx	r3
 2165              	.LVL232:
 2166 00be 38BD     		pop	{r3, r4, r5, pc}
 2167              	.LVL233:
 2168              	.L169:
1270:application-library/usb-cdc-device.c ****   uint8_t idx;
 2169              		.loc 1 1270 0
 2170 00c0 0020     		movs	r0, #0
 2171              	.LVL234:
 2172 00c2 38BD     		pop	{r3, r4, r5, pc}
 2173              	.LVL235:
 2174              	.L167:
1353:application-library/usb-cdc-device.c **** }
 2175              		.loc 1 1353 0
 2176 00c4 0020     		movs	r0, #0
 2177              	.LVL236:
1354:application-library/usb-cdc-device.c **** 
 2178              		.loc 1 1354 0
 2179 00c6 38BD     		pop	{r3, r4, r5, pc}
 2180              		.cfi_endproc
 2181              	.LFE163:
 2183              		.section	.text.USBD_LL_DataInStage,"ax",%progbits
 2184              		.align	1
 2185              		.global	USBD_LL_DataInStage
 2186              		.syntax unified
 2187              		.thumb
 2188              		.thumb_func
 2189              		.fpu fpv4-sp-d16
 2191              	USBD_LL_DataInStage:
 2192              	.LFB164:
1365:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 2193              		.loc 1 1365 0
 2194              		.cfi_startproc
 2195              		@ args = 0, pretend = 0, frame = 0
 2196              		@ frame_needed = 0, uses_anonymous_args = 0
 2197              	.LVL237:
 2198 0000 38B5     		push	{r3, r4, r5, lr}
 2199              	.LCFI30:
 2200              		.cfi_def_cfa_offset 16
 2201              		.cfi_offset 3, -16
 2202              		.cfi_offset 4, -12
 2203              		.cfi_offset 5, -8
 2204              		.cfi_offset 14, -4
 2205 0002 0446     		mov	r4, r0
1370:application-library/usb-cdc-device.c ****   {
 2206              		.loc 1 1370 0
 2207 0004 0029     		cmp	r1, #0
 2208 0006 4BD1     		bne	.L176
 2209 0008 1346     		mov	r3, r2
 2210              	.LVL238:
1374:application-library/usb-cdc-device.c ****     {
ARM GAS  /tmp/ccLxqwAV.s 			page 92


 2211              		.loc 1 1374 0
 2212 000a D0F89422 		ldr	r2, [r0, #660]
 2213              	.LVL239:
 2214 000e 022A     		cmp	r2, #2
 2215 0010 07D0     		beq	.L187
 2216              	.LVL240:
 2217              	.L177:
1414:application-library/usb-cdc-device.c ****     {
 2218              		.loc 1 1414 0
 2219 0012 94F8A032 		ldrb	r3, [r4, #672]	@ zero_extendqisi2
 2220 0016 002B     		cmp	r3, #0
 2221 0018 60D0     		beq	.L182
1417:application-library/usb-cdc-device.c ****     }
 2222              		.loc 1 1417 0
 2223 001a 0020     		movs	r0, #0
 2224 001c 84F8A002 		strb	r0, [r4, #672]
 2225 0020 38BD     		pop	{r3, r4, r5, pc}
 2226              	.LVL241:
 2227              	.L187:
1376:application-library/usb-cdc-device.c ****       {
 2228              		.loc 1 1376 0
 2229 0022 C269     		ldr	r2, [r0, #28]
 2230 0024 016A     		ldr	r1, [r0, #32]
 2231              	.LVL242:
 2232 0026 8A42     		cmp	r2, r1
 2233 0028 0ED8     		bhi	.L188
1388:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 2234              		.loc 1 1388 0
 2235 002a 8A42     		cmp	r2, r1
 2236 002c 18D0     		beq	.L189
 2237              	.LVL243:
 2238              	.L179:
1400:application-library/usb-cdc-device.c ****           {
 2239              		.loc 1 1400 0
 2240 002e 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 2241 0032 DBB2     		uxtb	r3, r3
 2242 0034 032B     		cmp	r3, #3
 2243 0036 27D0     		beq	.L190
 2244              	.LVL244:
 2245              	.L180:
1408:application-library/usb-cdc-device.c ****           (void)USBD_CtlReceiveStatus(pdev);
 2246              		.loc 1 1408 0
 2247 0038 8021     		movs	r1, #128
 2248 003a 2046     		mov	r0, r4
 2249 003c FFF7FEFF 		bl	USBD_LL_StallEP
 2250              	.LVL245:
1409:application-library/usb-cdc-device.c ****         }
 2251              		.loc 1 1409 0
 2252 0040 2046     		mov	r0, r4
 2253 0042 FFF7FEFF 		bl	USBD_CtlReceiveStatus
 2254              	.LVL246:
 2255 0046 E4E7     		b	.L177
 2256              	.LVL247:
 2257              	.L188:
1378:application-library/usb-cdc-device.c **** 
 2258              		.loc 1 1378 0
 2259 0048 521A     		subs	r2, r2, r1
ARM GAS  /tmp/ccLxqwAV.s 			page 93


 2260 004a C261     		str	r2, [r0, #28]
1380:application-library/usb-cdc-device.c **** 
 2261              		.loc 1 1380 0
 2262 004c 1946     		mov	r1, r3
 2263 004e FFF7FEFF 		bl	USBD_CtlContinueSendData
 2264              	.LVL248:
1383:application-library/usb-cdc-device.c ****       }
 2265              		.loc 1 1383 0
 2266 0052 0023     		movs	r3, #0
 2267 0054 1A46     		mov	r2, r3
 2268 0056 1946     		mov	r1, r3
 2269 0058 2046     		mov	r0, r4
 2270 005a FFF7FEFF 		bl	USBD_LL_PrepareReceive
 2271              	.LVL249:
 2272 005e D8E7     		b	.L177
 2273              	.LVL250:
 2274              	.L189:
1389:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
 2275              		.loc 1 1389 0 discriminator 1
 2276 0060 8369     		ldr	r3, [r0, #24]
 2277              	.LVL251:
1388:application-library/usb-cdc-device.c ****             (pep->total_length >= pep->maxpacket) &&
 2278              		.loc 1 1388 0 discriminator 1
 2279 0062 9942     		cmp	r1, r3
 2280 0064 E3D8     		bhi	.L179
1390:application-library/usb-cdc-device.c ****         {
 2281              		.loc 1 1390 0
 2282 0066 D0F89822 		ldr	r2, [r0, #664]
1389:application-library/usb-cdc-device.c ****             (pep->total_length < pdev->ep0_data_len))
 2283              		.loc 1 1389 0
 2284 006a 9342     		cmp	r3, r2
 2285 006c DFD2     		bcs	.L179
1392:application-library/usb-cdc-device.c ****           pdev->ep0_data_len = 0U;
 2286              		.loc 1 1392 0
 2287 006e 0022     		movs	r2, #0
 2288 0070 1146     		mov	r1, r2
 2289 0072 FFF7FEFF 		bl	USBD_CtlContinueSendData
 2290              	.LVL252:
1393:application-library/usb-cdc-device.c **** 
 2291              		.loc 1 1393 0
 2292 0076 0021     		movs	r1, #0
 2293 0078 C4F89812 		str	r1, [r4, #664]
1396:application-library/usb-cdc-device.c ****         }
 2294              		.loc 1 1396 0
 2295 007c 0B46     		mov	r3, r1
 2296 007e 0A46     		mov	r2, r1
 2297 0080 2046     		mov	r0, r4
 2298 0082 FFF7FEFF 		bl	USBD_LL_PrepareReceive
 2299              	.LVL253:
 2300 0086 C4E7     		b	.L177
 2301              	.LVL254:
 2302              	.L190:
1402:application-library/usb-cdc-device.c ****             {
 2303              		.loc 1 1402 0
 2304 0088 D4F8B832 		ldr	r3, [r4, #696]
 2305 008c DA68     		ldr	r2, [r3, #12]
 2306 008e 002A     		cmp	r2, #0
ARM GAS  /tmp/ccLxqwAV.s 			page 94


 2307 0090 D2D0     		beq	.L180
1404:application-library/usb-cdc-device.c ****               pdev->pClass[0]->EP0_TxSent(pdev);
 2308              		.loc 1 1404 0
 2309 0092 0022     		movs	r2, #0
 2310 0094 C4F8D422 		str	r2, [r4, #724]
1405:application-library/usb-cdc-device.c ****             }
 2311              		.loc 1 1405 0
 2312 0098 DB68     		ldr	r3, [r3, #12]
 2313 009a 2046     		mov	r0, r4
 2314              	.LVL255:
 2315 009c 9847     		blx	r3
 2316              	.LVL256:
 2317 009e CBE7     		b	.L180
 2318              	.LVL257:
 2319              	.L176:
 2320 00a0 0D46     		mov	r5, r1
1423:application-library/usb-cdc-device.c **** 
 2321              		.loc 1 1423 0
 2322 00a2 41F08001 		orr	r1, r1, #128
 2323              	.LVL258:
 2324 00a6 FFF7FEFF 		bl	USBD_CoreFindEP
 2325              	.LVL259:
1425:application-library/usb-cdc-device.c ****     {
 2326              		.loc 1 1425 0
 2327 00aa 0246     		mov	r2, r0
 2328 00ac C0B9     		cbnz	r0, .L183
1428:application-library/usb-cdc-device.c ****       {
 2329              		.loc 1 1428 0
 2330 00ae 94F89C32 		ldrb	r3, [r4, #668]	@ zero_extendqisi2
 2331 00b2 DBB2     		uxtb	r3, r3
 2332 00b4 032B     		cmp	r3, #3
 2333 00b6 01D0     		beq	.L191
1444:application-library/usb-cdc-device.c **** }
 2334              		.loc 1 1444 0
 2335 00b8 0020     		movs	r0, #0
 2336              	.LVL260:
 2337 00ba 38BD     		pop	{r3, r4, r5, pc}
 2338              	.LVL261:
 2339              	.L191:
1430:application-library/usb-cdc-device.c ****         {
 2340              		.loc 1 1430 0
 2341 00bc 00F1AE03 		add	r3, r0, #174
 2342 00c0 54F82330 		ldr	r3, [r4, r3, lsl #2]
 2343 00c4 5B69     		ldr	r3, [r3, #20]
 2344 00c6 6BB1     		cbz	r3, .L185
1432:application-library/usb-cdc-device.c ****           ret = (USBD_StatusTypeDef)pdev->pClass[idx]->DataIn(pdev, epnum);
 2345              		.loc 1 1432 0
 2346 00c8 C4F8D402 		str	r0, [r4, #724]
1433:application-library/usb-cdc-device.c **** 
 2347              		.loc 1 1433 0
 2348 00cc AE32     		adds	r2, r2, #174
 2349 00ce 54F82230 		ldr	r3, [r4, r2, lsl #2]
 2350 00d2 5B69     		ldr	r3, [r3, #20]
 2351 00d4 2946     		mov	r1, r5
 2352 00d6 2046     		mov	r0, r4
 2353              	.LVL262:
 2354 00d8 9847     		blx	r3
ARM GAS  /tmp/ccLxqwAV.s 			page 95


 2355              	.LVL263:
 2356 00da 38BD     		pop	{r3, r4, r5, pc}
 2357              	.LVL264:
 2358              	.L182:
1444:application-library/usb-cdc-device.c **** }
 2359              		.loc 1 1444 0
 2360 00dc 0020     		movs	r0, #0
 2361 00de 38BD     		pop	{r3, r4, r5, pc}
 2362              	.LVL265:
 2363              	.L183:
 2364 00e0 0020     		movs	r0, #0
 2365              	.LVL266:
 2366 00e2 38BD     		pop	{r3, r4, r5, pc}
 2367              	.LVL267:
 2368              	.L185:
 2369 00e4 0020     		movs	r0, #0
 2370              	.LVL268:
1445:application-library/usb-cdc-device.c **** 
 2371              		.loc 1 1445 0
 2372 00e6 38BD     		pop	{r3, r4, r5, pc}
 2373              		.cfi_endproc
 2374              	.LFE164:
 2376              		.section	.text.USBD_GetNextDesc,"ax",%progbits
 2377              		.align	1
 2378              		.global	USBD_GetNextDesc
 2379              		.syntax unified
 2380              		.thumb
 2381              		.thumb_func
 2382              		.fpu fpv4-sp-d16
 2384              	USBD_GetNextDesc:
 2385              	.LFB176:
1706:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pnext = (USBD_DescHeaderTypeDef *)(void *)pbuf;
 2386              		.loc 1 1706 0
 2387              		.cfi_startproc
 2388              		@ args = 0, pretend = 0, frame = 0
 2389              		@ frame_needed = 0, uses_anonymous_args = 0
 2390              		@ link register save eliminated.
 2391              	.LVL269:
1709:application-library/usb-cdc-device.c ****   pnext = (USBD_DescHeaderTypeDef *)(void *)(pbuf + pnext->bLength);
 2392              		.loc 1 1709 0
 2393 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2394 0002 0A88     		ldrh	r2, [r1]
 2395 0004 1344     		add	r3, r3, r2
 2396 0006 0B80     		strh	r3, [r1]	@ movhi
1710:application-library/usb-cdc-device.c ****   return (pnext);
 2397              		.loc 1 1710 0
 2398 0008 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2399              	.LVL270:
1712:application-library/usb-cdc-device.c **** 
 2400              		.loc 1 1712 0
 2401 000a 1844     		add	r0, r0, r3
 2402              	.LVL271:
 2403 000c 7047     		bx	lr
 2404              		.cfi_endproc
 2405              	.LFE176:
 2407              		.section	.text.USBD_GetEpDesc,"ax",%progbits
 2408              		.align	1
ARM GAS  /tmp/ccLxqwAV.s 			page 96


 2409              		.global	USBD_GetEpDesc
 2410              		.syntax unified
 2411              		.thumb
 2412              		.thumb_func
 2413              		.fpu fpv4-sp-d16
 2415              	USBD_GetEpDesc:
 2416              	.LFB175:
1668:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 2417              		.loc 1 1668 0
 2418              		.cfi_startproc
 2419              		@ args = 0, pretend = 0, frame = 8
 2420              		@ frame_needed = 0, uses_anonymous_args = 0
 2421              	.LVL272:
1674:application-library/usb-cdc-device.c ****   {
 2422              		.loc 1 1674 0
 2423 0000 4288     		ldrh	r2, [r0, #2]	@ unaligned
 2424 0002 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 2425 0004 9A42     		cmp	r2, r3
 2426 0006 18D9     		bls	.L197
1668:application-library/usb-cdc-device.c ****   USBD_DescHeaderTypeDef *pdesc = (USBD_DescHeaderTypeDef *)(void *)pConfDesc;
 2427              		.loc 1 1668 0
 2428 0008 30B5     		push	{r4, r5, lr}
 2429              	.LCFI31:
 2430              		.cfi_def_cfa_offset 12
 2431              		.cfi_offset 4, -12
 2432              		.cfi_offset 5, -8
 2433              		.cfi_offset 14, -4
 2434 000a 83B0     		sub	sp, sp, #12
 2435              	.LCFI32:
 2436              		.cfi_def_cfa_offset 24
 2437 000c 0D46     		mov	r5, r1
 2438 000e 0446     		mov	r4, r0
1676:application-library/usb-cdc-device.c ****     while (ptr < desc->wTotalLength)
 2439              		.loc 1 1676 0
 2440 0010 ADF80630 		strh	r3, [sp, #6]	@ movhi
 2441              	.LVL273:
 2442              	.L195:
1677:application-library/usb-cdc-device.c ****     {
 2443              		.loc 1 1677 0
 2444 0014 6288     		ldrh	r2, [r4, #2]	@ unaligned
 2445 0016 BDF80630 		ldrh	r3, [sp, #6]
 2446 001a 9A42     		cmp	r2, r3
 2447 001c 0AD9     		bls	.L203
1679:application-library/usb-cdc-device.c ****       if (pdesc->bDescriptorType == USB_DESC_TYPE_ENDPOINT)
 2448              		.loc 1 1679 0
 2449 001e 0DF10601 		add	r1, sp, #6
 2450 0022 FFF7FEFF 		bl	USBD_GetNextDesc
 2451              	.LVL274:
1680:application-library/usb-cdc-device.c ****       {
 2452              		.loc 1 1680 0
 2453 0026 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 2454 0028 052B     		cmp	r3, #5
 2455 002a F3D1     		bne	.L195
 2456              	.LVL275:
1684:application-library/usb-cdc-device.c ****         {
 2457              		.loc 1 1684 0
 2458 002c 8378     		ldrb	r3, [r0, #2]	@ zero_extendqisi2
ARM GAS  /tmp/ccLxqwAV.s 			page 97


 2459 002e AB42     		cmp	r3, r5
 2460 0030 F0D1     		bne	.L195
 2461 0032 00E0     		b	.L194
 2462              	.LVL276:
 2463              	.L203:
 2464 0034 0020     		movs	r0, #0
 2465              	.LVL277:
 2466              	.L194:
1697:application-library/usb-cdc-device.c **** 
 2467              		.loc 1 1697 0
 2468 0036 03B0     		add	sp, sp, #12
 2469              	.LCFI33:
 2470              		.cfi_def_cfa_offset 12
 2471              		@ sp needed
 2472 0038 30BD     		pop	{r4, r5, pc}
 2473              	.LVL278:
 2474              	.L197:
 2475              	.LCFI34:
 2476              		.cfi_def_cfa_offset 0
 2477              		.cfi_restore 4
 2478              		.cfi_restore 5
 2479              		.cfi_restore 14
1671:application-library/usb-cdc-device.c ****   uint16_t ptr;
 2480              		.loc 1 1671 0
 2481 003a 0020     		movs	r0, #0
 2482              	.LVL279:
 2483 003c 7047     		bx	lr
 2484              		.cfi_endproc
 2485              	.LFE175:
 2487              		.section	.text.USBD_CDC_GetFSCfgDesc,"ax",%progbits
 2488              		.align	1
 2489              		.global	USBD_CDC_GetFSCfgDesc
 2490              		.syntax unified
 2491              		.thumb
 2492              		.thumb_func
 2493              		.fpu fpv4-sp-d16
 2495              	USBD_CDC_GetFSCfgDesc:
 2496              	.LFB145:
 779:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 2497              		.loc 1 779 0
 2498              		.cfi_startproc
 2499              		@ args = 0, pretend = 0, frame = 0
 2500              		@ frame_needed = 0, uses_anonymous_args = 0
 2501              	.LVL280:
 2502 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2503              	.LCFI35:
 2504              		.cfi_def_cfa_offset 24
 2505              		.cfi_offset 3, -24
 2506              		.cfi_offset 4, -20
 2507              		.cfi_offset 5, -16
 2508              		.cfi_offset 6, -12
 2509              		.cfi_offset 7, -8
 2510              		.cfi_offset 14, -4
 2511 0002 0746     		mov	r7, r0
 780:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 2512              		.loc 1 780 0
 2513 0004 0F4C     		ldr	r4, .L209
ARM GAS  /tmp/ccLxqwAV.s 			page 98


 2514 0006 8221     		movs	r1, #130
 2515 0008 2046     		mov	r0, r4
 2516              	.LVL281:
 2517 000a FFF7FEFF 		bl	USBD_GetEpDesc
 2518              	.LVL282:
 2519 000e 0646     		mov	r6, r0
 2520              	.LVL283:
 781:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 2521              		.loc 1 781 0
 2522 0010 0121     		movs	r1, #1
 2523 0012 2046     		mov	r0, r4
 2524              	.LVL284:
 2525 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 2526              	.LVL285:
 2527 0018 0546     		mov	r5, r0
 2528              	.LVL286:
 782:application-library/usb-cdc-device.c **** 
 2529              		.loc 1 782 0
 2530 001a 8121     		movs	r1, #129
 2531 001c 2046     		mov	r0, r4
 2532              	.LVL287:
 2533 001e FFF7FEFF 		bl	USBD_GetEpDesc
 2534              	.LVL288:
 784:application-library/usb-cdc-device.c ****   {
 2535              		.loc 1 784 0
 2536 0022 0EB1     		cbz	r6, .L205
 786:application-library/usb-cdc-device.c ****   }
 2537              		.loc 1 786 0
 2538 0024 1023     		movs	r3, #16
 2539 0026 B371     		strb	r3, [r6, #6]
 2540              	.L205:
 789:application-library/usb-cdc-device.c ****   {
 2541              		.loc 1 789 0
 2542 0028 1DB1     		cbz	r5, .L206
 791:application-library/usb-cdc-device.c ****   }
 2543              		.loc 1 791 0
 2544 002a 4023     		movs	r3, #64
 2545 002c 2B71     		strb	r3, [r5, #4]
 2546 002e 0023     		movs	r3, #0
 2547 0030 6B71     		strb	r3, [r5, #5]
 2548              	.L206:
 794:application-library/usb-cdc-device.c ****   {
 2549              		.loc 1 794 0
 2550 0032 18B1     		cbz	r0, .L207
 796:application-library/usb-cdc-device.c ****   }
 2551              		.loc 1 796 0
 2552 0034 4023     		movs	r3, #64
 2553 0036 0371     		strb	r3, [r0, #4]
 2554 0038 0023     		movs	r3, #0
 2555 003a 4371     		strb	r3, [r0, #5]
 2556              	.L207:
 799:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 2557              		.loc 1 799 0
 2558 003c 4323     		movs	r3, #67
 2559 003e 3B80     		strh	r3, [r7]	@ movhi
 801:application-library/usb-cdc-device.c **** 
 2560              		.loc 1 801 0
ARM GAS  /tmp/ccLxqwAV.s 			page 99


 2561 0040 0048     		ldr	r0, .L209
 2562              	.LVL289:
 2563 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2564              	.LVL290:
 2565              	.L210:
 2566              		.align	2
 2567              	.L209:
 2568 0044 00000000 		.word	.LANCHOR4
 2569              		.cfi_endproc
 2570              	.LFE145:
 2572              		.section	.text.USBD_CDC_GetHSCfgDesc,"ax",%progbits
 2573              		.align	1
 2574              		.global	USBD_CDC_GetHSCfgDesc
 2575              		.syntax unified
 2576              		.thumb
 2577              		.thumb_func
 2578              		.fpu fpv4-sp-d16
 2580              	USBD_CDC_GetHSCfgDesc:
 2581              	.LFB146:
 809:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 2582              		.loc 1 809 0
 2583              		.cfi_startproc
 2584              		@ args = 0, pretend = 0, frame = 0
 2585              		@ frame_needed = 0, uses_anonymous_args = 0
 2586              	.LVL291:
 2587 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2588              	.LCFI36:
 2589              		.cfi_def_cfa_offset 24
 2590              		.cfi_offset 3, -24
 2591              		.cfi_offset 4, -20
 2592              		.cfi_offset 5, -16
 2593              		.cfi_offset 6, -12
 2594              		.cfi_offset 7, -8
 2595              		.cfi_offset 14, -4
 2596 0002 0746     		mov	r7, r0
 810:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 2597              		.loc 1 810 0
 2598 0004 0F4C     		ldr	r4, .L216
 2599 0006 8221     		movs	r1, #130
 2600 0008 2046     		mov	r0, r4
 2601              	.LVL292:
 2602 000a FFF7FEFF 		bl	USBD_GetEpDesc
 2603              	.LVL293:
 2604 000e 0646     		mov	r6, r0
 2605              	.LVL294:
 811:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 2606              		.loc 1 811 0
 2607 0010 0121     		movs	r1, #1
 2608 0012 2046     		mov	r0, r4
 2609              	.LVL295:
 2610 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 2611              	.LVL296:
 2612 0018 0546     		mov	r5, r0
 2613              	.LVL297:
 812:application-library/usb-cdc-device.c **** 
 2614              		.loc 1 812 0
 2615 001a 8121     		movs	r1, #129
ARM GAS  /tmp/ccLxqwAV.s 			page 100


 2616 001c 2046     		mov	r0, r4
 2617              	.LVL298:
 2618 001e FFF7FEFF 		bl	USBD_GetEpDesc
 2619              	.LVL299:
 814:application-library/usb-cdc-device.c ****   {
 2620              		.loc 1 814 0
 2621 0022 0EB1     		cbz	r6, .L212
 816:application-library/usb-cdc-device.c ****   }
 2622              		.loc 1 816 0
 2623 0024 1023     		movs	r3, #16
 2624 0026 B371     		strb	r3, [r6, #6]
 2625              	.L212:
 819:application-library/usb-cdc-device.c ****   {
 2626              		.loc 1 819 0
 2627 0028 1DB1     		cbz	r5, .L213
 821:application-library/usb-cdc-device.c ****   }
 2628              		.loc 1 821 0
 2629 002a 0023     		movs	r3, #0
 2630 002c 2B71     		strb	r3, [r5, #4]
 2631 002e 0223     		movs	r3, #2
 2632 0030 6B71     		strb	r3, [r5, #5]
 2633              	.L213:
 824:application-library/usb-cdc-device.c ****   {
 2634              		.loc 1 824 0
 2635 0032 18B1     		cbz	r0, .L214
 826:application-library/usb-cdc-device.c ****   }
 2636              		.loc 1 826 0
 2637 0034 0023     		movs	r3, #0
 2638 0036 0371     		strb	r3, [r0, #4]
 2639 0038 0223     		movs	r3, #2
 2640 003a 4371     		strb	r3, [r0, #5]
 2641              	.L214:
 829:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 2642              		.loc 1 829 0
 2643 003c 4323     		movs	r3, #67
 2644 003e 3B80     		strh	r3, [r7]	@ movhi
 831:application-library/usb-cdc-device.c **** 
 2645              		.loc 1 831 0
 2646 0040 0048     		ldr	r0, .L216
 2647              	.LVL300:
 2648 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2649              	.LVL301:
 2650              	.L217:
 2651              		.align	2
 2652              	.L216:
 2653 0044 00000000 		.word	.LANCHOR4
 2654              		.cfi_endproc
 2655              	.LFE146:
 2657              		.section	.text.USBD_CDC_GetOtherSpeedCfgDesc,"ax",%progbits
 2658              		.align	1
 2659              		.global	USBD_CDC_GetOtherSpeedCfgDesc
 2660              		.syntax unified
 2661              		.thumb
 2662              		.thumb_func
 2663              		.fpu fpv4-sp-d16
 2665              	USBD_CDC_GetOtherSpeedCfgDesc:
 2666              	.LFB147:
ARM GAS  /tmp/ccLxqwAV.s 			page 101


 840:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpCmdDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_CMD_EP);
 2667              		.loc 1 840 0
 2668              		.cfi_startproc
 2669              		@ args = 0, pretend = 0, frame = 0
 2670              		@ frame_needed = 0, uses_anonymous_args = 0
 2671              	.LVL302:
 2672 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2673              	.LCFI37:
 2674              		.cfi_def_cfa_offset 24
 2675              		.cfi_offset 3, -24
 2676              		.cfi_offset 4, -20
 2677              		.cfi_offset 5, -16
 2678              		.cfi_offset 6, -12
 2679              		.cfi_offset 7, -8
 2680              		.cfi_offset 14, -4
 2681 0002 0746     		mov	r7, r0
 841:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpOutDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_OUT_EP);
 2682              		.loc 1 841 0
 2683 0004 0F4C     		ldr	r4, .L223
 2684 0006 8221     		movs	r1, #130
 2685 0008 2046     		mov	r0, r4
 2686              	.LVL303:
 2687 000a FFF7FEFF 		bl	USBD_GetEpDesc
 2688              	.LVL304:
 2689 000e 0646     		mov	r6, r0
 2690              	.LVL305:
 842:application-library/usb-cdc-device.c ****   USBD_EpDescTypeDef *pEpInDesc = USBD_GetEpDesc(USBD_CDC_CfgDesc, CDC_IN_EP);
 2691              		.loc 1 842 0
 2692 0010 0121     		movs	r1, #1
 2693 0012 2046     		mov	r0, r4
 2694              	.LVL306:
 2695 0014 FFF7FEFF 		bl	USBD_GetEpDesc
 2696              	.LVL307:
 2697 0018 0546     		mov	r5, r0
 2698              	.LVL308:
 843:application-library/usb-cdc-device.c **** 
 2699              		.loc 1 843 0
 2700 001a 8121     		movs	r1, #129
 2701 001c 2046     		mov	r0, r4
 2702              	.LVL309:
 2703 001e FFF7FEFF 		bl	USBD_GetEpDesc
 2704              	.LVL310:
 845:application-library/usb-cdc-device.c ****   {
 2705              		.loc 1 845 0
 2706 0022 0EB1     		cbz	r6, .L219
 847:application-library/usb-cdc-device.c ****   }
 2707              		.loc 1 847 0
 2708 0024 1023     		movs	r3, #16
 2709 0026 B371     		strb	r3, [r6, #6]
 2710              	.L219:
 850:application-library/usb-cdc-device.c ****   {
 2711              		.loc 1 850 0
 2712 0028 1DB1     		cbz	r5, .L220
 852:application-library/usb-cdc-device.c ****   }
 2713              		.loc 1 852 0
 2714 002a 4023     		movs	r3, #64
 2715 002c 2B71     		strb	r3, [r5, #4]
ARM GAS  /tmp/ccLxqwAV.s 			page 102


 2716 002e 0023     		movs	r3, #0
 2717 0030 6B71     		strb	r3, [r5, #5]
 2718              	.L220:
 855:application-library/usb-cdc-device.c ****   {
 2719              		.loc 1 855 0
 2720 0032 18B1     		cbz	r0, .L221
 857:application-library/usb-cdc-device.c ****   }
 2721              		.loc 1 857 0
 2722 0034 4023     		movs	r3, #64
 2723 0036 0371     		strb	r3, [r0, #4]
 2724 0038 0023     		movs	r3, #0
 2725 003a 4371     		strb	r3, [r0, #5]
 2726              	.L221:
 860:application-library/usb-cdc-device.c ****   return USBD_CDC_CfgDesc;
 2727              		.loc 1 860 0
 2728 003c 4323     		movs	r3, #67
 2729 003e 3B80     		strh	r3, [r7]	@ movhi
 862:application-library/usb-cdc-device.c **** 
 2730              		.loc 1 862 0
 2731 0040 0048     		ldr	r0, .L223
 2732              	.LVL311:
 2733 0042 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2734              	.LVL312:
 2735              	.L224:
 2736              		.align	2
 2737              	.L223:
 2738 0044 00000000 		.word	.LANCHOR4
 2739              		.cfi_endproc
 2740              	.LFE147:
 2742              		.section	.text.USBD_ParseSetupRequest,"ax",%progbits
 2743              		.align	1
 2744              		.global	USBD_ParseSetupRequest
 2745              		.syntax unified
 2746              		.thumb
 2747              		.thumb_func
 2748              		.fpu fpv4-sp-d16
 2750              	USBD_ParseSetupRequest:
 2751              	.LFB187:
2643:application-library/usb-cdc-device.c ****   uint8_t *pbuff = pdata;
 2752              		.loc 1 2643 0
 2753              		.cfi_startproc
 2754              		@ args = 0, pretend = 0, frame = 0
 2755              		@ frame_needed = 0, uses_anonymous_args = 0
 2756              		@ link register save eliminated.
 2757              	.LVL313:
2646:application-library/usb-cdc-device.c **** 
 2758              		.loc 1 2646 0
 2759 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 2760 0002 0370     		strb	r3, [r0]
 2761              	.LVL314:
2649:application-library/usb-cdc-device.c **** 
 2762              		.loc 1 2649 0
 2763 0004 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2764 0006 4370     		strb	r3, [r0, #1]
 2765              	.LVL315:
 2766              	.LBB8:
 2767              	.LBB9:
ARM GAS  /tmp/ccLxqwAV.s 			page 103


 2768              		.file 2 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h"
   1:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /**
   2:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   ******************************************************************************
   3:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @file    usbd_def.h
   4:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @author  MCD Application Team
   5:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @brief   General defines for the usb device library
   6:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   ******************************************************************************
   7:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @attention
   8:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   *
   9:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * Copyright (c) 2015 STMicroelectronics.
  10:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * All rights reserved.
  11:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   *
  12:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * This software is licensed under terms that can be found in the LICENSE file
  13:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * in the root directory of this software component.
  14:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   *
  16:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   ******************************************************************************
  17:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
  18:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  19:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* Define to prevent recursive inclusion -------------------------------------*/
  20:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef __USBD_DEF_H
  21:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define __USBD_DEF_H
  22:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  23:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifdef __cplusplus
  24:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** extern "C" {
  25:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif
  26:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  27:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* Includes ------------------------------------------------------------------*/
  28:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #include "usbd_conf.h"
  29:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  30:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /** @addtogroup STM32_USBD_DEVICE_LIBRARY
  31:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @{
  32:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
  33:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  34:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /** @defgroup USB_DEF
  35:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @brief general defines for the usb device library file
  36:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @{
  37:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
  38:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  39:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /** @defgroup USB_DEF_Exported_Defines
  40:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @{
  41:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
  42:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  43:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef NULL
  44:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define NULL                                            0U
  45:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* NULL */
  46:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  47:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_MAX_NUM_INTERFACES
  48:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_MAX_NUM_INTERFACES                         1U
  49:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  50:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  51:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_MAX_NUM_CONFIGURATION
  52:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_MAX_NUM_CONFIGURATION                      1U
  53:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_MAX_NUM_CONFIGURATION */
  54:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  55:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifdef USE_USBD_COMPOSITE
  56:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_MAX_SUPPORTED_CLASS
ARM GAS  /tmp/ccLxqwAV.s 			page 104


  57:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_MAX_SUPPORTED_CLASS                       4U
  58:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_MAX_SUPPORTED_CLASS */
  59:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #else
  60:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_MAX_SUPPORTED_CLASS
  61:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_MAX_SUPPORTED_CLASS                       1U
  62:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_MAX_SUPPORTED_CLASS */
  63:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USE_USBD_COMPOSITE */
  64:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  65:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_MAX_CLASS_ENDPOINTS
  66:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_MAX_CLASS_ENDPOINTS                       5U
  67:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_MAX_CLASS_ENDPOINTS */
  68:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  69:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_MAX_CLASS_INTERFACES
  70:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_MAX_CLASS_INTERFACES                      5U
  71:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_MAX_CLASS_INTERFACES */
  72:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  73:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_LPM_ENABLED
  74:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_LPM_ENABLED                                0U
  75:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_LPM_ENABLED */
  76:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  77:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_SELF_POWERED
  78:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_SELF_POWERED                               1U
  79:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /*USBD_SELF_POWERED */
  80:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  81:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_MAX_POWER
  82:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_MAX_POWER                                  0x32U /* 100 mA */
  83:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_MAX_POWER */
  84:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  85:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_SUPPORT_USER_STRING_DESC
  86:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_SUPPORT_USER_STRING_DESC                   0U
  87:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC */
  88:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  89:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifndef USBD_CLASS_USER_STRING_DESC
  90:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_CLASS_USER_STRING_DESC                     0U
  91:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
  92:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
  93:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_DEV_QUALIFIER_DESC                     0x0AU
  94:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_DEV_DESC                               0x12U
  95:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_CFG_DESC                               0x09U
  96:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_IF_DESC                                0x09U
  97:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_EP_DESC                                0x07U
  98:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_OTG_DESC                               0x03U
  99:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_LANGID_STR_DESC                        0x04U
 100:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_LEN_OTHER_SPEED_DESC_SIZ                   0x09U
 101:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 102:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USBD_IDX_LANGID_STR                            0x00U
 103:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USBD_IDX_MFC_STR                               0x01U
 104:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USBD_IDX_PRODUCT_STR                           0x02U
 105:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USBD_IDX_SERIAL_STR                            0x03U
 106:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USBD_IDX_CONFIG_STR                            0x04U
 107:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USBD_IDX_INTERFACE_STR                         0x05U
 108:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 109:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_TYPE_STANDARD                          0x00U
 110:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_TYPE_CLASS                             0x20U
 111:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_TYPE_VENDOR                            0x40U
 112:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_TYPE_MASK                              0x60U
 113:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
ARM GAS  /tmp/ccLxqwAV.s 			page 105


 114:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_RECIPIENT_DEVICE                       0x00U
 115:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_RECIPIENT_INTERFACE                    0x01U
 116:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_RECIPIENT_ENDPOINT                     0x02U
 117:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_RECIPIENT_MASK                         0x03U
 118:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 119:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_GET_STATUS                             0x00U
 120:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_CLEAR_FEATURE                          0x01U
 121:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_SET_FEATURE                            0x03U
 122:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_SET_ADDRESS                            0x05U
 123:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_GET_DESCRIPTOR                         0x06U
 124:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_SET_DESCRIPTOR                         0x07U
 125:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_GET_CONFIGURATION                      0x08U
 126:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_SET_CONFIGURATION                      0x09U
 127:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_GET_INTERFACE                          0x0AU
 128:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_SET_INTERFACE                          0x0BU
 129:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_REQ_SYNCH_FRAME                            0x0CU
 130:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 131:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_DEVICE                           0x01U
 132:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_CONFIGURATION                    0x02U
 133:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_STRING                           0x03U
 134:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_INTERFACE                        0x04U
 135:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_ENDPOINT                         0x05U
 136:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_DEVICE_QUALIFIER                 0x06U
 137:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION        0x07U
 138:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_IAD                              0x0BU
 139:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define  USB_DESC_TYPE_BOS                              0x0FU
 140:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 141:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_CONFIG_REMOTE_WAKEUP                        0x02U
 142:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_CONFIG_SELF_POWERED                         0x01U
 143:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 144:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_FEATURE_EP_HALT                             0x00U
 145:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_FEATURE_REMOTE_WAKEUP                       0x01U
 146:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_FEATURE_TEST_MODE                           0x02U
 147:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 148:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_DEVICE_CAPABITY_TYPE                        0x10U
 149:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 150:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_CONF_DESC_SIZE                              0x09U
 151:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_IF_DESC_SIZE                                0x09U
 152:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_EP_DESC_SIZE                                0x07U
 153:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_IAD_DESC_SIZE                               0x08U
 154:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 155:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_HS_MAX_PACKET_SIZE                          512U
 156:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_FS_MAX_PACKET_SIZE                          64U
 157:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USB_MAX_EP0_SIZE                                64U
 158:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 159:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /*  Device Status */
 160:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_STATE_DEFAULT                              0x01U
 161:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_STATE_ADDRESSED                            0x02U
 162:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_STATE_CONFIGURED                           0x03U
 163:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_STATE_SUSPENDED                            0x04U
 164:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 165:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 166:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /*  EP0 State */
 167:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP0_IDLE                                   0x00U
 168:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP0_SETUP                                  0x01U
 169:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP0_DATA_IN                                0x02U
 170:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP0_DATA_OUT                               0x03U
ARM GAS  /tmp/ccLxqwAV.s 			page 106


 171:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP0_STATUS_IN                              0x04U
 172:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP0_STATUS_OUT                             0x05U
 173:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP0_STALL                                  0x06U
 174:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 175:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP_TYPE_CTRL                               0x00U
 176:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP_TYPE_ISOC                               0x01U
 177:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP_TYPE_BULK                               0x02U
 178:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP_TYPE_INTR                               0x03U
 179:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 180:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifdef USE_USBD_COMPOSITE
 181:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP_IN                                      0x80U
 182:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_EP_OUT                                     0x00U
 183:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_FUNC_DESCRIPTOR_TYPE                       0x24U
 184:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_DESC_SUBTYPE_ACM                           0x0FU
 185:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_DESC_ECM_BCD_LOW                           0x00U
 186:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #define USBD_DESC_ECM_BCD_HIGH                          0x10U
 187:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USE_USBD_COMPOSITE */
 188:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /**
 189:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @}
 190:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
 191:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 192:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 193:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /** @defgroup USBD_DEF_Exported_TypesDefinitions
 194:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @{
 195:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
 196:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 197:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef  struct  usb_setup_req
 198:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 199:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bmRequest;
 200:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bRequest;
 201:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t  wValue;
 202:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t  wIndex;
 203:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t  wLength;
 204:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_SetupReqTypedef;
 205:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 206:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct
 207:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 208:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bLength;
 209:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bDescriptorType;
 210:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t  wTotalLength;
 211:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bNumInterfaces;
 212:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bConfigurationValue;
 213:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   iConfiguration;
 214:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bmAttributes;
 215:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bMaxPower;
 216:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } __PACKED USBD_ConfigDescTypeDef;
 217:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 218:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct
 219:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 220:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bLength;
 221:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bDescriptorType;
 222:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t  wTotalLength;
 223:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bNumDeviceCaps;
 224:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_BosDescTypeDef;
 225:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 226:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct
 227:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
ARM GAS  /tmp/ccLxqwAV.s 			page 107


 228:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bLength;
 229:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bDescriptorType;
 230:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bEndpointAddress;
 231:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bmAttributes;
 232:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t  wMaxPacketSize;
 233:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t   bInterval;
 234:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } __PACKED USBD_EpDescTypeDef;
 235:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 236:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef  struct
 237:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 238:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  bLength;
 239:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  bDescriptorType;
 240:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  bDescriptorSubType;
 241:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_DescHeaderTypeDef;
 242:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 243:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** struct _USBD_HandleTypeDef;
 244:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 245:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct _Device_cb
 246:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 247:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*Init)(struct _USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 248:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*DeInit)(struct _USBD_HandleTypeDef *pdev, uint8_t cfgidx);
 249:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   /* Control Endpoints*/
 250:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*Setup)(struct _USBD_HandleTypeDef *pdev, USBD_SetupReqTypedef  *req);
 251:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*EP0_TxSent)(struct _USBD_HandleTypeDef *pdev);
 252:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*EP0_RxReady)(struct _USBD_HandleTypeDef *pdev);
 253:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   /* Class Specific Endpoints*/
 254:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*DataIn)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 255:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*DataOut)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 256:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*SOF)(struct _USBD_HandleTypeDef *pdev);
 257:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*IsoINIncomplete)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 258:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t (*IsoOUTIncomplete)(struct _USBD_HandleTypeDef *pdev, uint8_t epnum);
 259:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 260:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  *(*GetHSConfigDescriptor)(uint16_t *length);
 261:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  *(*GetFSConfigDescriptor)(uint16_t *length);
 262:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  *(*GetOtherSpeedConfigDescriptor)(uint16_t *length);
 263:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  *(*GetDeviceQualifierDescriptor)(uint16_t *length);
 264:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #if (USBD_SUPPORT_USER_STRING_DESC == 1U)
 265:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t  *(*GetUsrStrDescriptor)(struct _USBD_HandleTypeDef *pdev, uint8_t index,  uint16_t *leng
 266:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_SUPPORT_USER_STRING_DESC  */
 267:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 268:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_ClassTypeDef;
 269:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 270:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* Following USB Device Speed */
 271:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef enum
 272:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 273:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_SPEED_HIGH  = 0U,
 274:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_SPEED_FULL  = 1U,
 275:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_SPEED_LOW   = 2U,
 276:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_SpeedTypeDef;
 277:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 278:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* Following USB Device status */
 279:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef enum
 280:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 281:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_OK = 0U,
 282:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_BUSY,
 283:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_EMEM,
 284:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_FAIL,
ARM GAS  /tmp/ccLxqwAV.s 			page 108


 285:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_StatusTypeDef;
 286:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 287:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* USB Device descriptors structure */
 288:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct
 289:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 290:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetDeviceDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 291:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetLangIDStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 292:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetManufacturerStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 293:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetProductStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 294:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetSerialStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 295:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetConfigurationStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 296:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetInterfaceStrDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 297:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #if (USBD_CLASS_USER_STRING_DESC == 1)
 298:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetUserStrDescriptor)(USBD_SpeedTypeDef speed, uint8_t idx, uint16_t *length);
 299:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USBD_CLASS_USER_STRING_DESC */
 300:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #if ((USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1))
 301:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *(*GetBOSDescriptor)(USBD_SpeedTypeDef speed, uint16_t *length);
 302:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* (USBD_LPM_ENABLED == 1U) || (USBD_CLASS_BOS_ENABLED == 1) */
 303:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_DescriptorsTypeDef;
 304:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 305:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* USB Device handle structure */
 306:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct
 307:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 308:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t status;
 309:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t total_length;
 310:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t rem_length;
 311:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t maxpacket;
 312:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t is_used;
 313:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t bInterval;
 314:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_EndpointTypeDef;
 315:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 316:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifdef USE_USBD_COMPOSITE
 317:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef enum
 318:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 319:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_NONE    = 0,
 320:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_HID     = 1,
 321:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_CDC     = 2,
 322:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_MSC     = 3,
 323:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_DFU     = 4,
 324:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_CHID    = 5,
 325:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_AUDIO   = 6,
 326:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_ECM     = 7,
 327:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_RNDIS   = 8,
 328:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_MTP     = 9,
 329:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_VIDEO   = 10,
 330:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_PRINTER = 11,
 331:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CLASS_TYPE_CCID    = 12,
 332:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_CompositeClassTypeDef;
 333:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 334:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 335:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* USB Device handle structure */
 336:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct
 337:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 338:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                     add;
 339:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                     type;
 340:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                     size;
 341:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                     is_used;
ARM GAS  /tmp/ccLxqwAV.s 			page 109


 342:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_EPTypeDef;
 343:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 344:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* USB Device handle structure */
 345:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct
 346:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 347:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_CompositeClassTypeDef   ClassType;
 348:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                     ClassId;
 349:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                     Active;
 350:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                     NumEps;
 351:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_EPTypeDef               Eps[USBD_MAX_CLASS_ENDPOINTS];
 352:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                      *EpAdd;
 353:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                     NumIf;
 354:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                      Ifs[USBD_MAX_CLASS_INTERFACES];
 355:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                     CurrPcktSze;
 356:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_CompositeElementTypeDef;
 357:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USE_USBD_COMPOSITE */
 358:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 359:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* USB Device handle structure */
 360:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef struct _USBD_HandleTypeDef
 361:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 362:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                 id;
 363:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                dev_config;
 364:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                dev_default_config;
 365:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                dev_config_status;
 366:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_SpeedTypeDef       dev_speed;
 367:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_EndpointTypeDef    ep_in[16];
 368:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_EndpointTypeDef    ep_out[16];
 369:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   __IO uint32_t           ep0_state;
 370:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                ep0_data_len;
 371:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   __IO uint8_t            dev_state;
 372:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   __IO uint8_t            dev_old_state;
 373:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                 dev_address;
 374:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                 dev_connection_status;
 375:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                 dev_test_mode;
 376:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                dev_remote_wakeup;
 377:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t                 ConfIdx;
 378:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 379:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_SetupReqTypedef    request;
 380:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_DescriptorsTypeDef *pDesc;
 381:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_ClassTypeDef       *pClass[USBD_MAX_SUPPORTED_CLASS];
 382:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   void                    *pClassData;
 383:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   void                    *pClassDataCmsit[USBD_MAX_SUPPORTED_CLASS];
 384:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   void                    *pUserData[USBD_MAX_SUPPORTED_CLASS];
 385:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   void                    *pData;
 386:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   void                    *pBosDesc;
 387:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   void                    *pConfDesc;
 388:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                classId;
 389:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint32_t                NumClasses;
 390:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #ifdef USE_USBD_COMPOSITE
 391:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   USBD_CompositeElementTypeDef tclasslist[USBD_MAX_SUPPORTED_CLASS];
 392:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** #endif /* USE_USBD_COMPOSITE */
 393:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_HandleTypeDef;
 394:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 395:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /* USB Device endpoint direction */
 396:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef enum
 397:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 398:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   OUT   = 0x00,
ARM GAS  /tmp/ccLxqwAV.s 			page 110


 399:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   IN    = 0x80,
 400:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_EPDirectionTypeDef;
 401:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 402:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** typedef enum
 403:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 404:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   NETWORK_CONNECTION = 0x00,
 405:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   RESPONSE_AVAILABLE = 0x01,
 406:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   CONNECTION_SPEED_CHANGE = 0x2A
 407:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** } USBD_CDC_NotifCodeTypeDef;
 408:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /**
 409:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @}
 410:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
 411:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 412:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 413:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 414:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** /** @defgroup USBD_DEF_Exported_Macros
 415:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   * @{
 416:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   */
 417:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** __STATIC_INLINE uint16_t SWAPBYTE(uint8_t *addr)
 418:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** {
 419:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint16_t _SwapVal, _Byte1, _Byte2;
 420:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   uint8_t *_pbuff = addr;
 421:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 422:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   _Byte1 = *(uint8_t *)_pbuff;
 2769              		.loc 2 422 0
 2770 0008 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 2771              	.LVL316:
 423:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   _pbuff++;
 424:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   _Byte2 = *(uint8_t *)_pbuff;
 2772              		.loc 2 424 0
 2773 000a CA78     		ldrb	r2, [r1, #3]	@ zero_extendqisi2
 2774              	.LVL317:
 425:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 426:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   _SwapVal = (_Byte2 << 8) | _Byte1;
 2775              		.loc 2 426 0
 2776 000c 43EA0223 		orr	r3, r3, r2, lsl #8
 2777              	.LVL318:
 2778              	.LBE9:
 2779              	.LBE8:
2652:application-library/usb-cdc-device.c **** 
 2780              		.loc 1 2652 0
 2781 0010 4380     		strh	r3, [r0, #2]	@ movhi
 2782              	.LVL319:
 2783              	.LBB10:
 2784              	.LBB11:
 422:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   _pbuff++;
 2785              		.loc 2 422 0
 2786 0012 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 2787              	.LVL320:
 424:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 2788              		.loc 2 424 0
 2789 0014 4A79     		ldrb	r2, [r1, #5]	@ zero_extendqisi2
 2790              	.LVL321:
 2791              		.loc 2 426 0
 2792 0016 43EA0223 		orr	r3, r3, r2, lsl #8
 2793              	.LVL322:
 2794              	.LBE11:
ARM GAS  /tmp/ccLxqwAV.s 			page 111


 2795              	.LBE10:
2656:application-library/usb-cdc-device.c **** 
 2796              		.loc 1 2656 0
 2797 001a 8380     		strh	r3, [r0, #4]	@ movhi
 2798              	.LVL323:
 2799              	.LBB12:
 2800              	.LBB13:
 422:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h ****   _pbuff++;
 2801              		.loc 2 422 0
 2802 001c 8B79     		ldrb	r3, [r1, #6]	@ zero_extendqisi2
 2803              	.LVL324:
 424:Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_def.h **** 
 2804              		.loc 2 424 0
 2805 001e CA79     		ldrb	r2, [r1, #7]	@ zero_extendqisi2
 2806              	.LVL325:
 2807              		.loc 2 426 0
 2808 0020 43EA0223 		orr	r3, r3, r2, lsl #8
 2809              	.LVL326:
 2810              	.LBE13:
 2811              	.LBE12:
2660:application-library/usb-cdc-device.c **** }
 2812              		.loc 1 2660 0
 2813 0024 C380     		strh	r3, [r0, #6]	@ movhi
 2814              	.LVL327:
 2815 0026 7047     		bx	lr
 2816              		.cfi_endproc
 2817              	.LFE187:
 2819              		.section	.text.USBD_CtlError,"ax",%progbits
 2820              		.align	1
 2821              		.global	USBD_CtlError
 2822              		.syntax unified
 2823              		.thumb
 2824              		.thumb_func
 2825              		.fpu fpv4-sp-d16
 2827              	USBD_CtlError:
 2828              	.LFB188:
2672:application-library/usb-cdc-device.c ****   UNUSED(req);
 2829              		.loc 1 2672 0
 2830              		.cfi_startproc
 2831              		@ args = 0, pretend = 0, frame = 0
 2832              		@ frame_needed = 0, uses_anonymous_args = 0
 2833              	.LVL328:
 2834 0000 10B5     		push	{r4, lr}
 2835              	.LCFI38:
 2836              		.cfi_def_cfa_offset 8
 2837              		.cfi_offset 4, -8
 2838              		.cfi_offset 14, -4
 2839 0002 0446     		mov	r4, r0
2675:application-library/usb-cdc-device.c ****   (void)USBD_LL_StallEP(pdev, 0U);
 2840              		.loc 1 2675 0
 2841 0004 8021     		movs	r1, #128
 2842              	.LVL329:
 2843 0006 FFF7FEFF 		bl	USBD_LL_StallEP
 2844              	.LVL330:
2676:application-library/usb-cdc-device.c **** }
 2845              		.loc 1 2676 0
 2846 000a 0021     		movs	r1, #0
ARM GAS  /tmp/ccLxqwAV.s 			page 112


 2847 000c 2046     		mov	r0, r4
 2848 000e FFF7FEFF 		bl	USBD_LL_StallEP
 2849              	.LVL331:
 2850 0012 10BD     		pop	{r4, pc}
 2851              		.cfi_endproc
 2852              	.LFE188:
 2854              		.section	.text.USBD_CDC_Setup,"ax",%progbits
 2855              		.align	1
 2856              		.global	USBD_CDC_Setup
 2857              		.syntax unified
 2858              		.thumb
 2859              		.thumb_func
 2860              		.fpu fpv4-sp-d16
 2862              	USBD_CDC_Setup:
 2863              	.LFB141:
 582:application-library/usb-cdc-device.c ****   USBD_CDC_HandleTypeDef *hcdc = (USBD_CDC_HandleTypeDef *)pdev->pClassDataCmsit[pdev->classId];
 2864              		.loc 1 582 0
 2865              		.cfi_startproc
 2866              		@ args = 0, pretend = 0, frame = 8
 2867              		@ frame_needed = 0, uses_anonymous_args = 0
 2868              	.LVL332:
 2869 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2870              	.LCFI39:
 2871              		.cfi_def_cfa_offset 20
 2872              		.cfi_offset 4, -20
 2873              		.cfi_offset 5, -16
 2874              		.cfi_offset 6, -12
 2875              		.cfi_offset 7, -8
 2876              		.cfi_offset 14, -4
 2877 0002 83B0     		sub	sp, sp, #12
 2878              	.LCFI40:
 2879              		.cfi_def_cfa_offset 32
 583:application-library/usb-cdc-device.c ****   uint16_t len;
 2880              		.loc 1 583 0
 2881 0004 D0F8D472 		ldr	r7, [r0, #724]
 2882 0008 07F1B003 		add	r3, r7, #176
 2883 000c 50F82360 		ldr	r6, [r0, r3, lsl #2]
 2884              	.LVL333:
 585:application-library/usb-cdc-device.c ****   uint16_t status_info = 0U;
 2885              		.loc 1 585 0
 2886 0010 0023     		movs	r3, #0
 2887 0012 8DF80730 		strb	r3, [sp, #7]
 586:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 2888              		.loc 1 586 0
 2889 0016 ADF80430 		strh	r3, [sp, #4]	@ movhi
 2890              	.LVL334:
 589:application-library/usb-cdc-device.c ****   {
 2891              		.loc 1 589 0
 2892 001a 002E     		cmp	r6, #0
 2893 001c 75D0     		beq	.L243
 2894 001e 0D46     		mov	r5, r1
 2895 0020 0446     		mov	r4, r0
 594:application-library/usb-cdc-device.c ****   {
 2896              		.loc 1 594 0
 2897 0022 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 2898 0024 13F06002 		ands	r2, r3, #96
 2899 0028 34D0     		beq	.L231
ARM GAS  /tmp/ccLxqwAV.s 			page 113


 2900 002a 202A     		cmp	r2, #32
 2901 002c 69D1     		bne	.L247
 597:application-library/usb-cdc-device.c ****       {
 2902              		.loc 1 597 0
 2903 002e CA88     		ldrh	r2, [r1, #6]
 2904 0030 2AB3     		cbz	r2, .L233
 599:application-library/usb-cdc-device.c ****         {
 2905              		.loc 1 599 0
 2906 0032 13F0800F 		tst	r3, #128
 2907 0036 0ED1     		bne	.L249
 610:application-library/usb-cdc-device.c ****           hcdc->CmdLength = (uint8_t)MIN(req->wLength, USB_MAX_EP0_SIZE);
 2908              		.loc 1 610 0
 2909 0038 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2910 003a 86F80032 		strb	r3, [r6, #512]
 611:application-library/usb-cdc-device.c **** 
 2911              		.loc 1 611 0
 2912 003e CA88     		ldrh	r2, [r1, #6]
 2913 0040 3F2A     		cmp	r2, #63
 2914 0042 1AD8     		bhi	.L244
 611:application-library/usb-cdc-device.c **** 
 2915              		.loc 1 611 0 is_stmt 0 discriminator 1
 2916 0044 D2B2     		uxtb	r2, r2
 2917              	.L235:
 611:application-library/usb-cdc-device.c **** 
 2918              		.loc 1 611 0 discriminator 4
 2919 0046 86F80122 		strb	r2, [r6, #513]
 613:application-library/usb-cdc-device.c ****         }
 2920              		.loc 1 613 0 is_stmt 1 discriminator 4
 2921 004a 3146     		mov	r1, r6
 2922              	.LVL335:
 2923 004c 2046     		mov	r0, r4
 2924              	.LVL336:
 2925 004e FFF7FEFF 		bl	USBD_CtlPrepareRx
 2926              	.LVL337:
 587:application-library/usb-cdc-device.c **** 
 2927              		.loc 1 587 0 discriminator 4
 2928 0052 0020     		movs	r0, #0
 2929 0054 5AE0     		b	.L229
 2930              	.LVL338:
 2931              	.L249:
 601:application-library/usb-cdc-device.c ****                                                                            (uint8_t *)hcdc->data,
 2932              		.loc 1 601 0
 2933 0056 B037     		adds	r7, r7, #176
 2934 0058 00EB8707 		add	r7, r0, r7, lsl #2
 2935 005c 7B68     		ldr	r3, [r7, #4]
 2936 005e 9B68     		ldr	r3, [r3, #8]
 2937 0060 3146     		mov	r1, r6
 2938              	.LVL339:
 2939 0062 6878     		ldrb	r0, [r5, #1]	@ zero_extendqisi2
 2940              	.LVL340:
 2941 0064 9847     		blx	r3
 2942              	.LVL341:
 605:application-library/usb-cdc-device.c ****           (void)USBD_CtlSendData(pdev, (uint8_t *)hcdc->data, len);
 2943              		.loc 1 605 0
 2944 0066 EA88     		ldrh	r2, [r5, #6]
 2945              	.LVL342:
 606:application-library/usb-cdc-device.c ****         }
ARM GAS  /tmp/ccLxqwAV.s 			page 114


 2946              		.loc 1 606 0
 2947 0068 072A     		cmp	r2, #7
 2948 006a 28BF     		it	cs
 2949 006c 0722     		movcs	r2, #7
 2950              	.LVL343:
 2951 006e 3146     		mov	r1, r6
 2952 0070 2046     		mov	r0, r4
 2953 0072 FFF7FEFF 		bl	USBD_CtlSendData
 2954              	.LVL344:
 587:application-library/usb-cdc-device.c **** 
 2955              		.loc 1 587 0
 2956 0076 0020     		movs	r0, #0
 2957 0078 48E0     		b	.L229
 2958              	.LVL345:
 2959              	.L244:
 611:application-library/usb-cdc-device.c **** 
 2960              		.loc 1 611 0
 2961 007a 4022     		movs	r2, #64
 2962 007c E3E7     		b	.L235
 2963              	.L233:
 618:application-library/usb-cdc-device.c ****                                                                          (uint8_t *)req, 0U);
 2964              		.loc 1 618 0
 2965 007e 07F1B000 		add	r0, r7, #176
 2966              	.LVL346:
 2967 0082 04EB8000 		add	r0, r4, r0, lsl #2
 2968 0086 4368     		ldr	r3, [r0, #4]
 2969 0088 9B68     		ldr	r3, [r3, #8]
 2970 008a 0022     		movs	r2, #0
 2971 008c 4878     		ldrb	r0, [r1, #1]	@ zero_extendqisi2
 2972 008e 9847     		blx	r3
 2973              	.LVL347:
 587:application-library/usb-cdc-device.c **** 
 2974              		.loc 1 587 0
 2975 0090 0020     		movs	r0, #0
 2976 0092 3BE0     		b	.L229
 2977              	.LVL348:
 2978              	.L231:
 624:application-library/usb-cdc-device.c ****       {
 2979              		.loc 1 624 0
 2980 0094 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 2981 0096 0B2B     		cmp	r3, #11
 2982 0098 2FD8     		bhi	.L236
 2983 009a DFE803F0 		tbb	[pc, r3]
 2984              	.L238:
 2985 009e 06       		.byte	(.L237-.L238)/2
 2986 009f 39       		.byte	(.L245-.L238)/2
 2987 00a0 2E       		.byte	(.L236-.L238)/2
 2988 00a1 2E       		.byte	(.L236-.L238)/2
 2989 00a2 2E       		.byte	(.L236-.L238)/2
 2990 00a3 2E       		.byte	(.L236-.L238)/2
 2991 00a4 2E       		.byte	(.L236-.L238)/2
 2992 00a5 2E       		.byte	(.L236-.L238)/2
 2993 00a6 2E       		.byte	(.L236-.L238)/2
 2994 00a7 2E       		.byte	(.L236-.L238)/2
 2995 00a8 15       		.byte	(.L239-.L238)/2
 2996 00a9 25       		.byte	(.L240-.L238)/2
 2997              		.p2align 1
ARM GAS  /tmp/ccLxqwAV.s 			page 115


 2998              	.L237:
 627:application-library/usb-cdc-device.c ****           {
 2999              		.loc 1 627 0
 3000 00aa 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3001 00ae DBB2     		uxtb	r3, r3
 3002 00b0 032B     		cmp	r3, #3
 3003 00b2 03D0     		beq	.L250
 633:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 3004              		.loc 1 633 0
 3005 00b4 FFF7FEFF 		bl	USBD_CtlError
 3006              	.LVL349:
 634:application-library/usb-cdc-device.c ****           }
 3007              		.loc 1 634 0
 3008 00b8 0320     		movs	r0, #3
 3009 00ba 27E0     		b	.L229
 3010              	.LVL350:
 3011              	.L250:
 629:application-library/usb-cdc-device.c ****           }
 3012              		.loc 1 629 0
 3013 00bc 0222     		movs	r2, #2
 3014 00be 01A9     		add	r1, sp, #4
 3015              	.LVL351:
 3016 00c0 FFF7FEFF 		bl	USBD_CtlSendData
 3017              	.LVL352:
 587:application-library/usb-cdc-device.c **** 
 3018              		.loc 1 587 0
 3019 00c4 0020     		movs	r0, #0
 3020 00c6 21E0     		b	.L229
 3021              	.LVL353:
 3022              	.L239:
 639:application-library/usb-cdc-device.c ****           {
 3023              		.loc 1 639 0
 3024 00c8 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3025 00cc DBB2     		uxtb	r3, r3
 3026 00ce 032B     		cmp	r3, #3
 3027 00d0 03D0     		beq	.L251
 645:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 3028              		.loc 1 645 0
 3029 00d2 FFF7FEFF 		bl	USBD_CtlError
 3030              	.LVL354:
 646:application-library/usb-cdc-device.c ****           }
 3031              		.loc 1 646 0
 3032 00d6 0320     		movs	r0, #3
 3033 00d8 18E0     		b	.L229
 3034              	.LVL355:
 3035              	.L251:
 641:application-library/usb-cdc-device.c ****           }
 3036              		.loc 1 641 0
 3037 00da 0122     		movs	r2, #1
 3038 00dc 0DF10701 		add	r1, sp, #7
 3039              	.LVL356:
 3040 00e0 FFF7FEFF 		bl	USBD_CtlSendData
 3041              	.LVL357:
 587:application-library/usb-cdc-device.c **** 
 3042              		.loc 1 587 0
 3043 00e4 0020     		movs	r0, #0
 3044 00e6 11E0     		b	.L229
ARM GAS  /tmp/ccLxqwAV.s 			page 116


 3045              	.LVL358:
 3046              	.L240:
 651:application-library/usb-cdc-device.c ****           {
 3047              		.loc 1 651 0
 3048 00e8 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3049 00ec DBB2     		uxtb	r3, r3
 3050 00ee 032B     		cmp	r3, #3
 3051 00f0 10D0     		beq	.L246
 653:application-library/usb-cdc-device.c ****             ret = USBD_FAIL;
 3052              		.loc 1 653 0
 3053 00f2 FFF7FEFF 		bl	USBD_CtlError
 3054              	.LVL359:
 654:application-library/usb-cdc-device.c ****           }
 3055              		.loc 1 654 0
 3056 00f6 0320     		movs	r0, #3
 3057 00f8 08E0     		b	.L229
 3058              	.LVL360:
 3059              	.L236:
 662:application-library/usb-cdc-device.c ****           ret = USBD_FAIL;
 3060              		.loc 1 662 0
 3061 00fa FFF7FEFF 		bl	USBD_CtlError
 3062              	.LVL361:
 663:application-library/usb-cdc-device.c ****           break;
 3063              		.loc 1 663 0
 3064 00fe 0320     		movs	r0, #3
 664:application-library/usb-cdc-device.c ****       }
 3065              		.loc 1 664 0
 3066 0100 04E0     		b	.L229
 3067              	.LVL362:
 3068              	.L247:
 669:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 3069              		.loc 1 669 0
 3070 0102 FFF7FEFF 		bl	USBD_CtlError
 3071              	.LVL363:
 670:application-library/usb-cdc-device.c ****       break;
 3072              		.loc 1 670 0
 3073 0106 0320     		movs	r0, #3
 671:application-library/usb-cdc-device.c ****   }
 3074              		.loc 1 671 0
 3075 0108 00E0     		b	.L229
 3076              	.LVL364:
 3077              	.L243:
 591:application-library/usb-cdc-device.c ****   }
 3078              		.loc 1 591 0
 3079 010a 0320     		movs	r0, #3
 3080              	.LVL365:
 3081              	.L229:
 675:application-library/usb-cdc-device.c **** 
 3082              		.loc 1 675 0
 3083 010c 03B0     		add	sp, sp, #12
 3084              	.LCFI41:
 3085              		.cfi_remember_state
 3086              		.cfi_def_cfa_offset 20
 3087              		@ sp needed
 3088 010e F0BD     		pop	{r4, r5, r6, r7, pc}
 3089              	.LVL366:
 3090              	.L245:
ARM GAS  /tmp/ccLxqwAV.s 			page 117


 3091              	.LCFI42:
 3092              		.cfi_restore_state
 587:application-library/usb-cdc-device.c **** 
 3093              		.loc 1 587 0
 3094 0110 0020     		movs	r0, #0
 3095              	.LVL367:
 3096 0112 FBE7     		b	.L229
 3097              	.LVL368:
 3098              	.L246:
 3099 0114 0020     		movs	r0, #0
 3100              	.LVL369:
 3101 0116 F9E7     		b	.L229
 3102              		.cfi_endproc
 3103              	.LFE141:
 3105              		.section	.text.USBD_GetDescriptor,"ax",%progbits
 3106              		.align	1
 3107              		.syntax unified
 3108              		.thumb
 3109              		.thumb_func
 3110              		.fpu fpv4-sp-d16
 3112              	USBD_GetDescriptor:
 3113              	.LFB180:
2126:application-library/usb-cdc-device.c ****   uint16_t len = 0U;
 3114              		.loc 1 2126 0
 3115              		.cfi_startproc
 3116              		@ args = 0, pretend = 0, frame = 8
 3117              		@ frame_needed = 0, uses_anonymous_args = 0
 3118              	.LVL370:
 3119 0000 30B5     		push	{r4, r5, lr}
 3120              	.LCFI43:
 3121              		.cfi_def_cfa_offset 12
 3122              		.cfi_offset 4, -12
 3123              		.cfi_offset 5, -8
 3124              		.cfi_offset 14, -4
 3125 0002 83B0     		sub	sp, sp, #12
 3126              	.LCFI44:
 3127              		.cfi_def_cfa_offset 24
 3128 0004 0446     		mov	r4, r0
 3129 0006 0D46     		mov	r5, r1
2127:application-library/usb-cdc-device.c ****   uint8_t *pbuf = NULL;
 3130              		.loc 1 2127 0
 3131 0008 0023     		movs	r3, #0
 3132 000a ADF80630 		strh	r3, [sp, #6]	@ movhi
 3133              	.LVL371:
2131:application-library/usb-cdc-device.c ****   {
 3134              		.loc 1 2131 0
 3135 000e 4A88     		ldrh	r2, [r1, #2]
 3136 0010 130A     		lsrs	r3, r2, #8
 3137 0012 013B     		subs	r3, r3, #1
 3138 0014 062B     		cmp	r3, #6
 3139 0016 00F2C980 		bhi	.L253
 3140 001a DFE803F0 		tbb	[pc, r3]
 3141              	.LVL372:
 3142              	.L255:
 3143 001e 04       		.byte	(.L254-.L255)/2
 3144 001f 21       		.byte	(.L256-.L255)/2
 3145 0020 37       		.byte	(.L257-.L255)/2
ARM GAS  /tmp/ccLxqwAV.s 			page 118


 3146 0021 C7       		.byte	(.L253-.L255)/2
 3147 0022 C7       		.byte	(.L253-.L255)/2
 3148 0023 A5       		.byte	(.L258-.L255)/2
 3149 0024 B5       		.byte	(.L259-.L255)/2
 3150 0025 00       		.p2align 1
 3151              	.L254:
2147:application-library/usb-cdc-device.c ****       break;
 3152              		.loc 1 2147 0
 3153 0026 D0F8B432 		ldr	r3, [r0, #692]
 3154 002a 1B68     		ldr	r3, [r3]
 3155 002c 0DF10601 		add	r1, sp, #6
 3156 0030 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3157              	.LVL373:
 3158 0032 9847     		blx	r3
 3159              	.LVL374:
2129:application-library/usb-cdc-device.c **** 
 3160              		.loc 1 2129 0
 3161 0034 0023     		movs	r3, #0
 3162              	.LVL375:
 3163              	.L260:
2350:application-library/usb-cdc-device.c ****   {
 3164              		.loc 1 2350 0
 3165 0036 8BB9     		cbnz	r3, .L252
2355:application-library/usb-cdc-device.c ****   {
 3166              		.loc 1 2355 0
 3167 0038 EA88     		ldrh	r2, [r5, #6]
 3168 003a 002A     		cmp	r2, #0
 3169 003c 00F0C180 		beq	.L279
2357:application-library/usb-cdc-device.c ****     {
 3170              		.loc 1 2357 0
 3171 0040 BDF80630 		ldrh	r3, [sp, #6]
 3172              	.LVL376:
 3173 0044 002B     		cmp	r3, #0
 3174 0046 00F0B780 		beq	.L280
2359:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendData(pdev, pbuf, len);
 3175              		.loc 1 2359 0
 3176 004a 9A42     		cmp	r2, r3
 3177 004c 28BF     		it	cs
 3178 004e 1A46     		movcs	r2, r3
 3179 0050 ADF80620 		strh	r2, [sp, #6]	@ movhi
2360:application-library/usb-cdc-device.c ****     }
 3180              		.loc 1 2360 0
 3181 0054 0146     		mov	r1, r0
 3182 0056 2046     		mov	r0, r4
 3183              	.LVL377:
 3184 0058 FFF7FEFF 		bl	USBD_CtlSendData
 3185              	.LVL378:
 3186              	.L252:
2371:application-library/usb-cdc-device.c **** 
 3187              		.loc 1 2371 0
 3188 005c 03B0     		add	sp, sp, #12
 3189              	.LCFI45:
 3190              		.cfi_remember_state
 3191              		.cfi_def_cfa_offset 12
 3192              		@ sp needed
 3193 005e 30BD     		pop	{r4, r5, pc}
 3194              	.LVL379:
ARM GAS  /tmp/ccLxqwAV.s 			page 119


 3195              	.L256:
 3196              	.LCFI46:
 3197              		.cfi_restore_state
2151:application-library/usb-cdc-device.c ****       {
 3198              		.loc 1 2151 0
 3199 0060 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 3200 0062 4BB9     		cbnz	r3, .L261
2161:application-library/usb-cdc-device.c ****         }
 3201              		.loc 1 2161 0
 3202 0064 D0F8B832 		ldr	r3, [r0, #696]
 3203 0068 9B6A     		ldr	r3, [r3, #40]
 3204 006a 0DF10600 		add	r0, sp, #6
 3205              	.LVL380:
 3206 006e 9847     		blx	r3
 3207              	.LVL381:
2163:application-library/usb-cdc-device.c ****       }
 3208              		.loc 1 2163 0
 3209 0070 0223     		movs	r3, #2
 3210 0072 4370     		strb	r3, [r0, #1]
2129:application-library/usb-cdc-device.c **** 
 3211              		.loc 1 2129 0
 3212 0074 0023     		movs	r3, #0
 3213 0076 DEE7     		b	.L260
 3214              	.LVL382:
 3215              	.L261:
2175:application-library/usb-cdc-device.c ****         }
 3216              		.loc 1 2175 0
 3217 0078 D0F8B832 		ldr	r3, [r0, #696]
 3218 007c DB6A     		ldr	r3, [r3, #44]
 3219 007e 0DF10600 		add	r0, sp, #6
 3220              	.LVL383:
 3221 0082 9847     		blx	r3
 3222              	.LVL384:
2177:application-library/usb-cdc-device.c ****       }
 3223              		.loc 1 2177 0
 3224 0084 0223     		movs	r3, #2
 3225 0086 4370     		strb	r3, [r0, #1]
2129:application-library/usb-cdc-device.c **** 
 3226              		.loc 1 2129 0
 3227 0088 0023     		movs	r3, #0
 3228 008a D4E7     		b	.L260
 3229              	.LVL385:
 3230              	.L257:
2182:application-library/usb-cdc-device.c ****       {
 3231              		.loc 1 2182 0
 3232 008c D2B2     		uxtb	r2, r2
 3233 008e 052A     		cmp	r2, #5
 3234 0090 64D8     		bhi	.L262
 3235 0092 DFE802F0 		tbb	[pc, r2]
 3236              	.L264:
 3237 0096 03       		.byte	(.L263-.L264)/2
 3238 0097 13       		.byte	(.L265-.L264)/2
 3239 0098 23       		.byte	(.L266-.L264)/2
 3240 0099 33       		.byte	(.L267-.L264)/2
 3241 009a 43       		.byte	(.L268-.L264)/2
 3242 009b 53       		.byte	(.L269-.L264)/2
 3243              		.p2align 1
ARM GAS  /tmp/ccLxqwAV.s 			page 120


 3244              	.L263:
2185:application-library/usb-cdc-device.c ****           {
 3245              		.loc 1 2185 0
 3246 009c D0F8B432 		ldr	r3, [r0, #692]
 3247 00a0 5B68     		ldr	r3, [r3, #4]
 3248 00a2 2BB1     		cbz	r3, .L270
2187:application-library/usb-cdc-device.c ****           }
 3249              		.loc 1 2187 0
 3250 00a4 0DF10601 		add	r1, sp, #6
 3251 00a8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3252              	.LVL386:
 3253 00aa 9847     		blx	r3
 3254              	.LVL387:
2129:application-library/usb-cdc-device.c **** 
 3255              		.loc 1 2129 0
 3256 00ac 0023     		movs	r3, #0
 3257 00ae C2E7     		b	.L260
 3258              	.LVL388:
 3259              	.L270:
2191:application-library/usb-cdc-device.c ****             err++;
 3260              		.loc 1 2191 0
 3261 00b0 2946     		mov	r1, r5
 3262 00b2 FFF7FEFF 		bl	USBD_CtlError
 3263              	.LVL389:
2192:application-library/usb-cdc-device.c ****           }
 3264              		.loc 1 2192 0
 3265 00b6 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3266              		.loc 1 2128 0
 3267 00b8 0020     		movs	r0, #0
 3268 00ba BCE7     		b	.L260
 3269              	.LVL390:
 3270              	.L265:
2197:application-library/usb-cdc-device.c ****           {
 3271              		.loc 1 2197 0
 3272 00bc D0F8B432 		ldr	r3, [r0, #692]
 3273 00c0 9B68     		ldr	r3, [r3, #8]
 3274 00c2 2BB1     		cbz	r3, .L271
2199:application-library/usb-cdc-device.c ****           }
 3275              		.loc 1 2199 0
 3276 00c4 0DF10601 		add	r1, sp, #6
 3277 00c8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3278              	.LVL391:
 3279 00ca 9847     		blx	r3
 3280              	.LVL392:
2129:application-library/usb-cdc-device.c **** 
 3281              		.loc 1 2129 0
 3282 00cc 0023     		movs	r3, #0
 3283 00ce B2E7     		b	.L260
 3284              	.LVL393:
 3285              	.L271:
2203:application-library/usb-cdc-device.c ****             err++;
 3286              		.loc 1 2203 0
 3287 00d0 2946     		mov	r1, r5
 3288 00d2 FFF7FEFF 		bl	USBD_CtlError
 3289              	.LVL394:
2204:application-library/usb-cdc-device.c ****           }
ARM GAS  /tmp/ccLxqwAV.s 			page 121


 3290              		.loc 1 2204 0
 3291 00d6 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3292              		.loc 1 2128 0
 3293 00d8 0020     		movs	r0, #0
 3294 00da ACE7     		b	.L260
 3295              	.LVL395:
 3296              	.L266:
2209:application-library/usb-cdc-device.c ****           {
 3297              		.loc 1 2209 0
 3298 00dc D0F8B432 		ldr	r3, [r0, #692]
 3299 00e0 DB68     		ldr	r3, [r3, #12]
 3300 00e2 2BB1     		cbz	r3, .L272
2211:application-library/usb-cdc-device.c ****           }
 3301              		.loc 1 2211 0
 3302 00e4 0DF10601 		add	r1, sp, #6
 3303 00e8 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3304              	.LVL396:
 3305 00ea 9847     		blx	r3
 3306              	.LVL397:
2129:application-library/usb-cdc-device.c **** 
 3307              		.loc 1 2129 0
 3308 00ec 0023     		movs	r3, #0
 3309 00ee A2E7     		b	.L260
 3310              	.LVL398:
 3311              	.L272:
2215:application-library/usb-cdc-device.c ****             err++;
 3312              		.loc 1 2215 0
 3313 00f0 2946     		mov	r1, r5
 3314 00f2 FFF7FEFF 		bl	USBD_CtlError
 3315              	.LVL399:
2216:application-library/usb-cdc-device.c ****           }
 3316              		.loc 1 2216 0
 3317 00f6 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3318              		.loc 1 2128 0
 3319 00f8 0020     		movs	r0, #0
 3320 00fa 9CE7     		b	.L260
 3321              	.LVL400:
 3322              	.L267:
2221:application-library/usb-cdc-device.c ****           {
 3323              		.loc 1 2221 0
 3324 00fc D0F8B432 		ldr	r3, [r0, #692]
 3325 0100 1B69     		ldr	r3, [r3, #16]
 3326 0102 2BB1     		cbz	r3, .L273
2223:application-library/usb-cdc-device.c ****           }
 3327              		.loc 1 2223 0
 3328 0104 0DF10601 		add	r1, sp, #6
 3329 0108 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3330              	.LVL401:
 3331 010a 9847     		blx	r3
 3332              	.LVL402:
2129:application-library/usb-cdc-device.c **** 
 3333              		.loc 1 2129 0
 3334 010c 0023     		movs	r3, #0
 3335 010e 92E7     		b	.L260
 3336              	.LVL403:
ARM GAS  /tmp/ccLxqwAV.s 			page 122


 3337              	.L273:
2227:application-library/usb-cdc-device.c ****             err++;
 3338              		.loc 1 2227 0
 3339 0110 2946     		mov	r1, r5
 3340 0112 FFF7FEFF 		bl	USBD_CtlError
 3341              	.LVL404:
2228:application-library/usb-cdc-device.c ****           }
 3342              		.loc 1 2228 0
 3343 0116 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3344              		.loc 1 2128 0
 3345 0118 0020     		movs	r0, #0
 3346 011a 8CE7     		b	.L260
 3347              	.LVL405:
 3348              	.L268:
2233:application-library/usb-cdc-device.c ****           {
 3349              		.loc 1 2233 0
 3350 011c D0F8B432 		ldr	r3, [r0, #692]
 3351 0120 5B69     		ldr	r3, [r3, #20]
 3352 0122 2BB1     		cbz	r3, .L274
2235:application-library/usb-cdc-device.c ****           }
 3353              		.loc 1 2235 0
 3354 0124 0DF10601 		add	r1, sp, #6
 3355 0128 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3356              	.LVL406:
 3357 012a 9847     		blx	r3
 3358              	.LVL407:
2129:application-library/usb-cdc-device.c **** 
 3359              		.loc 1 2129 0
 3360 012c 0023     		movs	r3, #0
 3361 012e 82E7     		b	.L260
 3362              	.LVL408:
 3363              	.L274:
2239:application-library/usb-cdc-device.c ****             err++;
 3364              		.loc 1 2239 0
 3365 0130 2946     		mov	r1, r5
 3366 0132 FFF7FEFF 		bl	USBD_CtlError
 3367              	.LVL409:
2240:application-library/usb-cdc-device.c ****           }
 3368              		.loc 1 2240 0
 3369 0136 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3370              		.loc 1 2128 0
 3371 0138 0020     		movs	r0, #0
 3372 013a 7CE7     		b	.L260
 3373              	.LVL410:
 3374              	.L269:
2245:application-library/usb-cdc-device.c ****           {
 3375              		.loc 1 2245 0
 3376 013c D0F8B432 		ldr	r3, [r0, #692]
 3377 0140 9B69     		ldr	r3, [r3, #24]
 3378 0142 2BB1     		cbz	r3, .L275
2247:application-library/usb-cdc-device.c ****           }
 3379              		.loc 1 2247 0
 3380 0144 0DF10601 		add	r1, sp, #6
 3381 0148 007C     		ldrb	r0, [r0, #16]	@ zero_extendqisi2
 3382              	.LVL411:
ARM GAS  /tmp/ccLxqwAV.s 			page 123


 3383 014a 9847     		blx	r3
 3384              	.LVL412:
2129:application-library/usb-cdc-device.c **** 
 3385              		.loc 1 2129 0
 3386 014c 0023     		movs	r3, #0
 3387 014e 72E7     		b	.L260
 3388              	.LVL413:
 3389              	.L275:
2251:application-library/usb-cdc-device.c ****             err++;
 3390              		.loc 1 2251 0
 3391 0150 2946     		mov	r1, r5
 3392 0152 FFF7FEFF 		bl	USBD_CtlError
 3393              	.LVL414:
2252:application-library/usb-cdc-device.c ****           }
 3394              		.loc 1 2252 0
 3395 0156 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3396              		.loc 1 2128 0
 3397 0158 0020     		movs	r0, #0
 3398 015a 6CE7     		b	.L260
 3399              	.LVL415:
 3400              	.L262:
2294:application-library/usb-cdc-device.c ****           err++;
 3401              		.loc 1 2294 0
 3402 015c 2946     		mov	r1, r5
 3403 015e FFF7FEFF 		bl	USBD_CtlError
 3404              	.LVL416:
2295:application-library/usb-cdc-device.c **** #endif /* (USBD_CLASS_USER_STRING_DESC == 0U) && (USBD_SUPPORT_USER_STRING_DESC == 0U) */
 3405              		.loc 1 2295 0
 3406 0162 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3407              		.loc 1 2128 0
 3408 0164 0020     		movs	r0, #0
2297:application-library/usb-cdc-device.c ****       }
 3409              		.loc 1 2297 0
 3410 0166 66E7     		b	.L260
 3411              	.LVL417:
 3412              	.L258:
2302:application-library/usb-cdc-device.c ****       {
 3413              		.loc 1 2302 0
 3414 0168 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 3415 016a 3BB9     		cbnz	r3, .L276
2312:application-library/usb-cdc-device.c ****         }
 3416              		.loc 1 2312 0
 3417 016c D0F8B832 		ldr	r3, [r0, #696]
 3418 0170 5B6B     		ldr	r3, [r3, #52]
 3419 0172 0DF10600 		add	r0, sp, #6
 3420              	.LVL418:
 3421 0176 9847     		blx	r3
 3422              	.LVL419:
2129:application-library/usb-cdc-device.c **** 
 3423              		.loc 1 2129 0
 3424 0178 0023     		movs	r3, #0
 3425 017a 5CE7     		b	.L260
 3426              	.LVL420:
 3427              	.L276:
2317:application-library/usb-cdc-device.c ****         err++;
ARM GAS  /tmp/ccLxqwAV.s 			page 124


 3428              		.loc 1 2317 0
 3429 017c 2946     		mov	r1, r5
 3430 017e FFF7FEFF 		bl	USBD_CtlError
 3431              	.LVL421:
2318:application-library/usb-cdc-device.c ****       }
 3432              		.loc 1 2318 0
 3433 0182 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3434              		.loc 1 2128 0
 3435 0184 0020     		movs	r0, #0
 3436 0186 56E7     		b	.L260
 3437              	.LVL422:
 3438              	.L259:
2323:application-library/usb-cdc-device.c ****       {
 3439              		.loc 1 2323 0
 3440 0188 037C     		ldrb	r3, [r0, #16]	@ zero_extendqisi2
 3441 018a 4BB9     		cbnz	r3, .L277
2333:application-library/usb-cdc-device.c ****         }
 3442              		.loc 1 2333 0
 3443 018c D0F8B832 		ldr	r3, [r0, #696]
 3444 0190 1B6B     		ldr	r3, [r3, #48]
 3445 0192 0DF10600 		add	r0, sp, #6
 3446              	.LVL423:
 3447 0196 9847     		blx	r3
 3448              	.LVL424:
2335:application-library/usb-cdc-device.c ****       }
 3449              		.loc 1 2335 0
 3450 0198 0723     		movs	r3, #7
 3451 019a 4370     		strb	r3, [r0, #1]
2129:application-library/usb-cdc-device.c **** 
 3452              		.loc 1 2129 0
 3453 019c 0023     		movs	r3, #0
 3454 019e 4AE7     		b	.L260
 3455              	.LVL425:
 3456              	.L277:
2339:application-library/usb-cdc-device.c ****         err++;
 3457              		.loc 1 2339 0
 3458 01a0 2946     		mov	r1, r5
 3459 01a2 FFF7FEFF 		bl	USBD_CtlError
 3460              	.LVL426:
2340:application-library/usb-cdc-device.c ****       }
 3461              		.loc 1 2340 0
 3462 01a6 0123     		movs	r3, #1
2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3463              		.loc 1 2128 0
 3464 01a8 0020     		movs	r0, #0
 3465 01aa 44E7     		b	.L260
 3466              	.LVL427:
 3467              	.L253:
2345:application-library/usb-cdc-device.c ****       err++;
 3468              		.loc 1 2345 0
 3469 01ac 2946     		mov	r1, r5
 3470 01ae FFF7FEFF 		bl	USBD_CtlError
 3471              	.LVL428:
2346:application-library/usb-cdc-device.c ****       break;
 3472              		.loc 1 2346 0
 3473 01b2 0123     		movs	r3, #1
ARM GAS  /tmp/ccLxqwAV.s 			page 125


2128:application-library/usb-cdc-device.c ****   uint8_t err = 0U;
 3474              		.loc 1 2128 0
 3475 01b4 0020     		movs	r0, #0
2347:application-library/usb-cdc-device.c ****   }
 3476              		.loc 1 2347 0
 3477 01b6 3EE7     		b	.L260
 3478              	.LVL429:
 3479              	.L280:
2364:application-library/usb-cdc-device.c ****     }
 3480              		.loc 1 2364 0
 3481 01b8 2946     		mov	r1, r5
 3482 01ba 2046     		mov	r0, r4
 3483              	.LVL430:
 3484 01bc FFF7FEFF 		bl	USBD_CtlError
 3485              	.LVL431:
 3486 01c0 4CE7     		b	.L252
 3487              	.LVL432:
 3488              	.L279:
2369:application-library/usb-cdc-device.c ****   }
 3489              		.loc 1 2369 0
 3490 01c2 2046     		mov	r0, r4
 3491              	.LVL433:
 3492 01c4 FFF7FEFF 		bl	USBD_CtlSendStatus
 3493              	.LVL434:
 3494 01c8 48E7     		b	.L252
 3495              		.cfi_endproc
 3496              	.LFE180:
 3498              		.section	.text.USBD_SetAddress,"ax",%progbits
 3499              		.align	1
 3500              		.syntax unified
 3501              		.thumb
 3502              		.thumb_func
 3503              		.fpu fpv4-sp-d16
 3505              	USBD_SetAddress:
 3506              	.LFB181:
2382:application-library/usb-cdc-device.c ****   uint8_t  dev_addr;
 3507              		.loc 1 2382 0
 3508              		.cfi_startproc
 3509              		@ args = 0, pretend = 0, frame = 0
 3510              		@ frame_needed = 0, uses_anonymous_args = 0
 3511              	.LVL435:
 3512 0000 38B5     		push	{r3, r4, r5, lr}
 3513              	.LCFI47:
 3514              		.cfi_def_cfa_offset 16
 3515              		.cfi_offset 3, -16
 3516              		.cfi_offset 4, -12
 3517              		.cfi_offset 5, -8
 3518              		.cfi_offset 14, -4
 3519 0002 0446     		mov	r4, r0
2385:application-library/usb-cdc-device.c ****   {
 3520              		.loc 1 2385 0
 3521 0004 8B88     		ldrh	r3, [r1, #4]
 3522 0006 FBB9     		cbnz	r3, .L285
2385:application-library/usb-cdc-device.c ****   {
 3523              		.loc 1 2385 0 is_stmt 0 discriminator 1
 3524 0008 CB88     		ldrh	r3, [r1, #6]
 3525 000a EBB9     		cbnz	r3, .L285
ARM GAS  /tmp/ccLxqwAV.s 			page 126


2385:application-library/usb-cdc-device.c ****   {
 3526              		.loc 1 2385 0 discriminator 2
 3527 000c 4B88     		ldrh	r3, [r1, #2]
 3528 000e 7F2B     		cmp	r3, #127
 3529 0010 1AD8     		bhi	.L285
2387:application-library/usb-cdc-device.c **** 
 3530              		.loc 1 2387 0 is_stmt 1
 3531 0012 03F07F05 		and	r5, r3, #127
 3532              	.LVL436:
2389:application-library/usb-cdc-device.c ****     {
 3533              		.loc 1 2389 0
 3534 0016 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3535 001a DBB2     		uxtb	r3, r3
 3536 001c 032B     		cmp	r3, #3
 3537 001e 0CD0     		beq	.L290
2395:application-library/usb-cdc-device.c ****       (void)USBD_LL_SetUSBAddress(pdev, dev_addr);
 3538              		.loc 1 2395 0
 3539 0020 80F89E52 		strb	r5, [r0, #670]
2396:application-library/usb-cdc-device.c ****       (void)USBD_CtlSendStatus(pdev);
 3540              		.loc 1 2396 0
 3541 0024 2946     		mov	r1, r5
 3542              	.LVL437:
 3543 0026 FFF7FEFF 		bl	USBD_LL_SetUSBAddress
 3544              	.LVL438:
2397:application-library/usb-cdc-device.c **** 
 3545              		.loc 1 2397 0
 3546 002a 2046     		mov	r0, r4
 3547 002c FFF7FEFF 		bl	USBD_CtlSendStatus
 3548              	.LVL439:
2399:application-library/usb-cdc-device.c ****       {
 3549              		.loc 1 2399 0
 3550 0030 35B1     		cbz	r5, .L288
2401:application-library/usb-cdc-device.c ****       }
 3551              		.loc 1 2401 0
 3552 0032 0223     		movs	r3, #2
 3553 0034 84F89C32 		strb	r3, [r4, #668]
 3554 0038 38BD     		pop	{r3, r4, r5, pc}
 3555              	.LVL440:
 3556              	.L290:
2391:application-library/usb-cdc-device.c ****     }
 3557              		.loc 1 2391 0
 3558 003a FFF7FEFF 		bl	USBD_CtlError
 3559              	.LVL441:
 3560 003e 38BD     		pop	{r3, r4, r5, pc}
 3561              	.LVL442:
 3562              	.L288:
2405:application-library/usb-cdc-device.c ****       }
 3563              		.loc 1 2405 0
 3564 0040 0123     		movs	r3, #1
 3565 0042 84F89C32 		strb	r3, [r4, #668]
 3566 0046 38BD     		pop	{r3, r4, r5, pc}
 3567              	.LVL443:
 3568              	.L285:
2411:application-library/usb-cdc-device.c ****   }
 3569              		.loc 1 2411 0
 3570 0048 2046     		mov	r0, r4
 3571              	.LVL444:
ARM GAS  /tmp/ccLxqwAV.s 			page 127


 3572 004a FFF7FEFF 		bl	USBD_CtlError
 3573              	.LVL445:
 3574 004e 38BD     		pop	{r3, r4, r5, pc}
 3575              		.cfi_endproc
 3576              	.LFE181:
 3578              		.section	.text.USBD_SetConfig,"ax",%progbits
 3579              		.align	1
 3580              		.syntax unified
 3581              		.thumb
 3582              		.thumb_func
 3583              		.fpu fpv4-sp-d16
 3585              	USBD_SetConfig:
 3586              	.LFB182:
2423:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 3587              		.loc 1 2423 0
 3588              		.cfi_startproc
 3589              		@ args = 0, pretend = 0, frame = 0
 3590              		@ frame_needed = 0, uses_anonymous_args = 0
 3591              	.LVL446:
 3592 0000 70B5     		push	{r4, r5, r6, lr}
 3593              	.LCFI48:
 3594              		.cfi_def_cfa_offset 16
 3595              		.cfi_offset 4, -16
 3596              		.cfi_offset 5, -12
 3597              		.cfi_offset 6, -8
 3598              		.cfi_offset 14, -4
 3599 0002 0446     		mov	r4, r0
 3600 0004 0D46     		mov	r5, r1
 3601              	.LVL447:
2427:application-library/usb-cdc-device.c **** 
 3602              		.loc 1 2427 0
 3603 0006 8978     		ldrb	r1, [r1, #2]	@ zero_extendqisi2
 3604              	.LVL448:
 3605 0008 304B     		ldr	r3, .L305
 3606 000a 1970     		strb	r1, [r3]
2429:application-library/usb-cdc-device.c ****   {
 3607              		.loc 1 2429 0
 3608 000c 0129     		cmp	r1, #1
 3609 000e 05D9     		bls	.L292
2431:application-library/usb-cdc-device.c ****     return USBD_FAIL;
 3610              		.loc 1 2431 0
 3611 0010 2946     		mov	r1, r5
 3612 0012 FFF7FEFF 		bl	USBD_CtlError
 3613              	.LVL449:
2432:application-library/usb-cdc-device.c ****   }
 3614              		.loc 1 2432 0
 3615 0016 0326     		movs	r6, #3
 3616              	.LVL450:
 3617              	.L293:
2504:application-library/usb-cdc-device.c **** 
 3618              		.loc 1 2504 0
 3619 0018 3046     		mov	r0, r6
 3620 001a 70BD     		pop	{r4, r5, r6, pc}
 3621              	.LVL451:
 3622              	.L292:
2435:application-library/usb-cdc-device.c ****   {
 3623              		.loc 1 2435 0
ARM GAS  /tmp/ccLxqwAV.s 			page 128


 3624 001c 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3625 0020 DBB2     		uxtb	r3, r3
 3626 0022 022B     		cmp	r3, #2
 3627 0024 0BD0     		beq	.L295
 3628 0026 032B     		cmp	r3, #3
 3629 0028 22D0     		beq	.L296
2497:application-library/usb-cdc-device.c ****       (void)USBD_ClrClassConfig(pdev, cfgidx);
 3630              		.loc 1 2497 0
 3631 002a 2946     		mov	r1, r5
 3632 002c FFF7FEFF 		bl	USBD_CtlError
 3633              	.LVL452:
2498:application-library/usb-cdc-device.c ****       ret = USBD_FAIL;
 3634              		.loc 1 2498 0
 3635 0030 264B     		ldr	r3, .L305
 3636 0032 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3637 0034 2046     		mov	r0, r4
 3638 0036 FFF7FEFF 		bl	USBD_ClrClassConfig
 3639              	.LVL453:
2499:application-library/usb-cdc-device.c ****       break;
 3640              		.loc 1 2499 0
 3641 003a 0326     		movs	r6, #3
2500:application-library/usb-cdc-device.c ****   }
 3642              		.loc 1 2500 0
 3643 003c ECE7     		b	.L293
 3644              	.LVL454:
 3645              	.L295:
2438:application-library/usb-cdc-device.c ****       {
 3646              		.loc 1 2438 0
 3647 003e 99B1     		cbz	r1, .L297
2440:application-library/usb-cdc-device.c **** 
 3648              		.loc 1 2440 0
 3649 0040 4160     		str	r1, [r0, #4]
2442:application-library/usb-cdc-device.c **** 
 3650              		.loc 1 2442 0
 3651 0042 FFF7FEFF 		bl	USBD_SetClassConfig
 3652              	.LVL455:
2444:application-library/usb-cdc-device.c ****         {
 3653              		.loc 1 2444 0
 3654 0046 0646     		mov	r6, r0
 3655 0048 38B1     		cbz	r0, .L298
2446:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
 3656              		.loc 1 2446 0
 3657 004a 2946     		mov	r1, r5
 3658 004c 2046     		mov	r0, r4
 3659              	.LVL456:
 3660 004e FFF7FEFF 		bl	USBD_CtlError
 3661              	.LVL457:
2447:application-library/usb-cdc-device.c ****         }
 3662              		.loc 1 2447 0
 3663 0052 0223     		movs	r3, #2
 3664 0054 84F89C32 		strb	r3, [r4, #668]
 3665 0058 DEE7     		b	.L293
 3666              	.LVL458:
 3667              	.L298:
2451:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_CONFIGURED;
 3668              		.loc 1 2451 0
 3669 005a 2046     		mov	r0, r4
ARM GAS  /tmp/ccLxqwAV.s 			page 129


 3670              	.LVL459:
 3671 005c FFF7FEFF 		bl	USBD_CtlSendStatus
 3672              	.LVL460:
2452:application-library/usb-cdc-device.c ****         }
 3673              		.loc 1 2452 0
 3674 0060 0323     		movs	r3, #3
 3675 0062 84F89C32 		strb	r3, [r4, #668]
 3676 0066 D7E7     		b	.L293
 3677              	.LVL461:
 3678              	.L297:
2457:application-library/usb-cdc-device.c ****       }
 3679              		.loc 1 2457 0
 3680 0068 FFF7FEFF 		bl	USBD_CtlSendStatus
 3681              	.LVL462:
2424:application-library/usb-cdc-device.c ****   static uint8_t cfgidx;
 3682              		.loc 1 2424 0
 3683 006c 0026     		movs	r6, #0
 3684 006e D3E7     		b	.L293
 3685              	.LVL463:
 3686              	.L296:
2462:application-library/usb-cdc-device.c ****       {
 3687              		.loc 1 2462 0
 3688 0070 C9B1     		cbz	r1, .L304
2469:application-library/usb-cdc-device.c ****       {
 3689              		.loc 1 2469 0
 3690 0072 4368     		ldr	r3, [r0, #4]
 3691 0074 9942     		cmp	r1, r3
 3692 0076 25D0     		beq	.L300
2472:application-library/usb-cdc-device.c **** 
 3693              		.loc 1 2472 0
 3694 0078 D9B2     		uxtb	r1, r3
 3695 007a FFF7FEFF 		bl	USBD_ClrClassConfig
 3696              	.LVL464:
2475:application-library/usb-cdc-device.c **** 
 3697              		.loc 1 2475 0
 3698 007e 134B     		ldr	r3, .L305
 3699 0080 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 3700 0082 6160     		str	r1, [r4, #4]
2477:application-library/usb-cdc-device.c **** 
 3701              		.loc 1 2477 0
 3702 0084 2046     		mov	r0, r4
 3703 0086 FFF7FEFF 		bl	USBD_SetClassConfig
 3704              	.LVL465:
2479:application-library/usb-cdc-device.c ****         {
 3705              		.loc 1 2479 0
 3706 008a 0646     		mov	r6, r0
 3707 008c B0B1     		cbz	r0, .L301
2481:application-library/usb-cdc-device.c ****           (void)USBD_ClrClassConfig(pdev, (uint8_t)pdev->dev_config);
 3708              		.loc 1 2481 0
 3709 008e 2946     		mov	r1, r5
 3710 0090 2046     		mov	r0, r4
 3711              	.LVL466:
 3712 0092 FFF7FEFF 		bl	USBD_CtlError
 3713              	.LVL467:
2482:application-library/usb-cdc-device.c ****           pdev->dev_state = USBD_STATE_ADDRESSED;
 3714              		.loc 1 2482 0
 3715 0096 2179     		ldrb	r1, [r4, #4]	@ zero_extendqisi2
ARM GAS  /tmp/ccLxqwAV.s 			page 130


 3716 0098 2046     		mov	r0, r4
 3717 009a FFF7FEFF 		bl	USBD_ClrClassConfig
 3718              	.LVL468:
2483:application-library/usb-cdc-device.c ****         }
 3719              		.loc 1 2483 0
 3720 009e 0223     		movs	r3, #2
 3721 00a0 84F89C32 		strb	r3, [r4, #668]
 3722 00a4 B8E7     		b	.L293
 3723              	.LVL469:
 3724              	.L304:
2464:application-library/usb-cdc-device.c ****         pdev->dev_config = cfgidx;
 3725              		.loc 1 2464 0
 3726 00a6 0223     		movs	r3, #2
 3727 00a8 80F89C32 		strb	r3, [r0, #668]
2465:application-library/usb-cdc-device.c ****         (void)USBD_ClrClassConfig(pdev, cfgidx);
 3728              		.loc 1 2465 0
 3729 00ac 4160     		str	r1, [r0, #4]
2466:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
 3730              		.loc 1 2466 0
 3731 00ae FFF7FEFF 		bl	USBD_ClrClassConfig
 3732              	.LVL470:
2467:application-library/usb-cdc-device.c ****       }
 3733              		.loc 1 2467 0
 3734 00b2 2046     		mov	r0, r4
 3735 00b4 FFF7FEFF 		bl	USBD_CtlSendStatus
 3736              	.LVL471:
2424:application-library/usb-cdc-device.c ****   static uint8_t cfgidx;
 3737              		.loc 1 2424 0
 3738 00b8 0026     		movs	r6, #0
 3739 00ba ADE7     		b	.L293
 3740              	.LVL472:
 3741              	.L301:
2487:application-library/usb-cdc-device.c ****         }
 3742              		.loc 1 2487 0
 3743 00bc 2046     		mov	r0, r4
 3744              	.LVL473:
 3745 00be FFF7FEFF 		bl	USBD_CtlSendStatus
 3746              	.LVL474:
 3747 00c2 A9E7     		b	.L293
 3748              	.LVL475:
 3749              	.L300:
2492:application-library/usb-cdc-device.c ****       }
 3750              		.loc 1 2492 0
 3751 00c4 FFF7FEFF 		bl	USBD_CtlSendStatus
 3752              	.LVL476:
2424:application-library/usb-cdc-device.c ****   static uint8_t cfgidx;
 3753              		.loc 1 2424 0
 3754 00c8 0026     		movs	r6, #0
 3755 00ca A5E7     		b	.L293
 3756              	.L306:
 3757              		.align	2
 3758              	.L305:
 3759 00cc 00000000 		.word	.LANCHOR5
 3760              		.cfi_endproc
 3761              	.LFE182:
 3763              		.section	.text.USBD_GetConfig,"ax",%progbits
 3764              		.align	1
ARM GAS  /tmp/ccLxqwAV.s 			page 131


 3765              		.syntax unified
 3766              		.thumb
 3767              		.thumb_func
 3768              		.fpu fpv4-sp-d16
 3770              	USBD_GetConfig:
 3771              	.LFB183:
2514:application-library/usb-cdc-device.c ****   if (req->wLength != 1U)
 3772              		.loc 1 2514 0
 3773              		.cfi_startproc
 3774              		@ args = 0, pretend = 0, frame = 0
 3775              		@ frame_needed = 0, uses_anonymous_args = 0
 3776              	.LVL477:
 3777 0000 08B5     		push	{r3, lr}
 3778              	.LCFI49:
 3779              		.cfi_def_cfa_offset 8
 3780              		.cfi_offset 3, -8
 3781              		.cfi_offset 14, -4
2515:application-library/usb-cdc-device.c ****   {
 3782              		.loc 1 2515 0
 3783 0002 CB88     		ldrh	r3, [r1, #6]
 3784 0004 012B     		cmp	r3, #1
 3785 0006 0DD1     		bne	.L314
2521:application-library/usb-cdc-device.c ****     {
 3786              		.loc 1 2521 0
 3787 0008 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3788 000c 03F0FF02 		and	r2, r3, #255
 3789 0010 9BB1     		cbz	r3, .L310
 3790 0012 022A     		cmp	r2, #2
 3791 0014 09D9     		bls	.L311
 3792 0016 032A     		cmp	r2, #3
 3793 0018 0FD1     		bne	.L310
2530:application-library/usb-cdc-device.c ****         break;
 3794              		.loc 1 2530 0
 3795 001a 0122     		movs	r2, #1
 3796 001c 011D     		adds	r1, r0, #4
 3797              	.LVL478:
 3798 001e FFF7FEFF 		bl	USBD_CtlSendData
 3799              	.LVL479:
2531:application-library/usb-cdc-device.c **** 
 3800              		.loc 1 2531 0
 3801 0022 08BD     		pop	{r3, pc}
 3802              	.LVL480:
 3803              	.L314:
2517:application-library/usb-cdc-device.c ****   }
 3804              		.loc 1 2517 0
 3805 0024 FFF7FEFF 		bl	USBD_CtlError
 3806              	.LVL481:
 3807 0028 08BD     		pop	{r3, pc}
 3808              	.LVL482:
 3809              	.L311:
2525:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendData(pdev, (uint8_t *)&pdev->dev_default_config, 1U);
 3810              		.loc 1 2525 0
 3811 002a 0146     		mov	r1, r0
 3812              	.LVL483:
 3813 002c 0023     		movs	r3, #0
 3814 002e 41F8083F 		str	r3, [r1, #8]!
2526:application-library/usb-cdc-device.c ****         break;
ARM GAS  /tmp/ccLxqwAV.s 			page 132


 3815              		.loc 1 2526 0
 3816 0032 0122     		movs	r2, #1
 3817 0034 FFF7FEFF 		bl	USBD_CtlSendData
 3818              	.LVL484:
2527:application-library/usb-cdc-device.c **** 
 3819              		.loc 1 2527 0
 3820 0038 08BD     		pop	{r3, pc}
 3821              	.LVL485:
 3822              	.L310:
2534:application-library/usb-cdc-device.c ****         break;
 3823              		.loc 1 2534 0
 3824 003a FFF7FEFF 		bl	USBD_CtlError
 3825              	.LVL486:
 3826 003e 08BD     		pop	{r3, pc}
 3827              		.cfi_endproc
 3828              	.LFE183:
 3830              		.section	.text.USBD_GetStatus,"ax",%progbits
 3831              		.align	1
 3832              		.syntax unified
 3833              		.thumb
 3834              		.thumb_func
 3835              		.fpu fpv4-sp-d16
 3837              	USBD_GetStatus:
 3838              	.LFB184:
2548:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
 3839              		.loc 1 2548 0
 3840              		.cfi_startproc
 3841              		@ args = 0, pretend = 0, frame = 0
 3842              		@ frame_needed = 0, uses_anonymous_args = 0
 3843              	.LVL487:
 3844 0000 08B5     		push	{r3, lr}
 3845              	.LCFI50:
 3846              		.cfi_def_cfa_offset 8
 3847              		.cfi_offset 3, -8
 3848              		.cfi_offset 14, -4
2549:application-library/usb-cdc-device.c ****   {
 3849              		.loc 1 2549 0
 3850 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3851 0006 013B     		subs	r3, r3, #1
 3852 0008 022B     		cmp	r3, #2
 3853 000a 12D8     		bhi	.L316
2554:application-library/usb-cdc-device.c ****       {
 3854              		.loc 1 2554 0
 3855 000c CB88     		ldrh	r3, [r1, #6]
 3856 000e 022B     		cmp	r3, #2
 3857 0010 0CD1     		bne	.L322
2561:application-library/usb-cdc-device.c **** #else
 3858              		.loc 1 2561 0
 3859 0012 0123     		movs	r3, #1
 3860 0014 C360     		str	r3, [r0, #12]
2566:application-library/usb-cdc-device.c ****       {
 3861              		.loc 1 2566 0
 3862 0016 D0F8A432 		ldr	r3, [r0, #676]
 3863 001a 0BB1     		cbz	r3, .L320
2568:application-library/usb-cdc-device.c ****       }
 3864              		.loc 1 2568 0
 3865 001c 0323     		movs	r3, #3
ARM GAS  /tmp/ccLxqwAV.s 			page 133


 3866 001e C360     		str	r3, [r0, #12]
 3867              	.L320:
2571:application-library/usb-cdc-device.c ****       break;
 3868              		.loc 1 2571 0
 3869 0020 0222     		movs	r2, #2
 3870 0022 00F10C01 		add	r1, r0, #12
 3871              	.LVL488:
 3872 0026 FFF7FEFF 		bl	USBD_CtlSendData
 3873              	.LVL489:
2572:application-library/usb-cdc-device.c **** 
 3874              		.loc 1 2572 0
 3875 002a 08BD     		pop	{r3, pc}
 3876              	.LVL490:
 3877              	.L322:
2556:application-library/usb-cdc-device.c ****         break;
 3878              		.loc 1 2556 0
 3879 002c FFF7FEFF 		bl	USBD_CtlError
 3880              	.LVL491:
2557:application-library/usb-cdc-device.c ****       }
 3881              		.loc 1 2557 0
 3882 0030 08BD     		pop	{r3, pc}
 3883              	.LVL492:
 3884              	.L316:
2575:application-library/usb-cdc-device.c ****       break;
 3885              		.loc 1 2575 0
 3886 0032 FFF7FEFF 		bl	USBD_CtlError
 3887              	.LVL493:
 3888 0036 08BD     		pop	{r3, pc}
 3889              		.cfi_endproc
 3890              	.LFE184:
 3892              		.section	.text.USBD_SetFeature,"ax",%progbits
 3893              		.align	1
 3894              		.syntax unified
 3895              		.thumb
 3896              		.thumb_func
 3897              		.fpu fpv4-sp-d16
 3899              	USBD_SetFeature:
 3900              	.LFB185:
2589:application-library/usb-cdc-device.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
 3901              		.loc 1 2589 0
 3902              		.cfi_startproc
 3903              		@ args = 0, pretend = 0, frame = 0
 3904              		@ frame_needed = 0, uses_anonymous_args = 0
 3905              	.LVL494:
 3906 0000 08B5     		push	{r3, lr}
 3907              	.LCFI51:
 3908              		.cfi_def_cfa_offset 8
 3909              		.cfi_offset 3, -8
 3910              		.cfi_offset 14, -4
2590:application-library/usb-cdc-device.c ****   {
 3911              		.loc 1 2590 0
 3912 0002 4B88     		ldrh	r3, [r1, #2]
 3913 0004 012B     		cmp	r3, #1
 3914 0006 04D0     		beq	.L328
2595:application-library/usb-cdc-device.c ****   {
 3915              		.loc 1 2595 0
 3916 0008 022B     		cmp	r3, #2
ARM GAS  /tmp/ccLxqwAV.s 			page 134


 3917 000a 07D0     		beq	.L329
2602:application-library/usb-cdc-device.c ****   }
 3918              		.loc 1 2602 0
 3919 000c FFF7FEFF 		bl	USBD_CtlError
 3920              	.LVL495:
 3921 0010 08BD     		pop	{r3, pc}
 3922              	.LVL496:
 3923              	.L328:
2592:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
 3924              		.loc 1 2592 0
 3925 0012 C0F8A432 		str	r3, [r0, #676]
2593:application-library/usb-cdc-device.c ****   }
 3926              		.loc 1 2593 0
 3927 0016 FFF7FEFF 		bl	USBD_CtlSendStatus
 3928              	.LVL497:
 3929 001a 08BD     		pop	{r3, pc}
 3930              	.LVL498:
 3931              	.L329:
2597:application-library/usb-cdc-device.c ****     (void)USBD_CtlSendStatus(pdev);
 3932              		.loc 1 2597 0
 3933 001c 8B88     		ldrh	r3, [r1, #4]
 3934 001e 1B0A     		lsrs	r3, r3, #8
 3935 0020 80F8A032 		strb	r3, [r0, #672]
2598:application-library/usb-cdc-device.c ****   }
 3936              		.loc 1 2598 0
 3937 0024 FFF7FEFF 		bl	USBD_CtlSendStatus
 3938              	.LVL499:
 3939 0028 08BD     		pop	{r3, pc}
 3940              		.cfi_endproc
 3941              	.LFE185:
 3943              		.section	.text.USBD_ClrFeature,"ax",%progbits
 3944              		.align	1
 3945              		.syntax unified
 3946              		.thumb
 3947              		.thumb_func
 3948              		.fpu fpv4-sp-d16
 3950              	USBD_ClrFeature:
 3951              	.LFB186:
2615:application-library/usb-cdc-device.c ****   switch (pdev->dev_state)
 3952              		.loc 1 2615 0
 3953              		.cfi_startproc
 3954              		@ args = 0, pretend = 0, frame = 0
 3955              		@ frame_needed = 0, uses_anonymous_args = 0
 3956              	.LVL500:
 3957 0000 08B5     		push	{r3, lr}
 3958              	.LCFI52:
 3959              		.cfi_def_cfa_offset 8
 3960              		.cfi_offset 3, -8
 3961              		.cfi_offset 14, -4
2616:application-library/usb-cdc-device.c ****   {
 3962              		.loc 1 2616 0
 3963 0002 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 3964 0006 013B     		subs	r3, r3, #1
 3965 0008 022B     		cmp	r3, #2
 3966 000a 09D8     		bhi	.L331
2621:application-library/usb-cdc-device.c ****       {
 3967              		.loc 1 2621 0
ARM GAS  /tmp/ccLxqwAV.s 			page 135


 3968 000c 4B88     		ldrh	r3, [r1, #2]
 3969 000e 012B     		cmp	r3, #1
 3970 0010 00D0     		beq	.L335
 3971              	.LVL501:
 3972              	.L330:
 3973 0012 08BD     		pop	{r3, pc}
 3974              	.LVL502:
 3975              	.L335:
2623:application-library/usb-cdc-device.c ****         (void)USBD_CtlSendStatus(pdev);
 3976              		.loc 1 2623 0
 3977 0014 0023     		movs	r3, #0
 3978 0016 C0F8A432 		str	r3, [r0, #676]
2624:application-library/usb-cdc-device.c ****       }
 3979              		.loc 1 2624 0
 3980 001a FFF7FEFF 		bl	USBD_CtlSendStatus
 3981              	.LVL503:
 3982 001e 08BD     		pop	{r3, pc}
 3983              	.LVL504:
 3984              	.L331:
2629:application-library/usb-cdc-device.c ****       break;
 3985              		.loc 1 2629 0
 3986 0020 FFF7FEFF 		bl	USBD_CtlError
 3987              	.LVL505:
2632:application-library/usb-cdc-device.c **** 
 3988              		.loc 1 2632 0
 3989 0024 F5E7     		b	.L330
 3990              		.cfi_endproc
 3991              	.LFE186:
 3993              		.section	.text.USBD_StdDevReq,"ax",%progbits
 3994              		.align	1
 3995              		.global	USBD_StdDevReq
 3996              		.syntax unified
 3997              		.thumb
 3998              		.thumb_func
 3999              		.fpu fpv4-sp-d16
 4001              	USBD_StdDevReq:
 4002              	.LFB177:
1802:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4003              		.loc 1 1802 0
 4004              		.cfi_startproc
 4005              		@ args = 0, pretend = 0, frame = 0
 4006              		@ frame_needed = 0, uses_anonymous_args = 0
 4007              	.LVL506:
 4008 0000 08B5     		push	{r3, lr}
 4009              	.LCFI53:
 4010              		.cfi_def_cfa_offset 8
 4011              		.cfi_offset 3, -8
 4012              		.cfi_offset 14, -4
 4013              	.LVL507:
1805:application-library/usb-cdc-device.c ****   {
 4014              		.loc 1 1805 0
 4015 0002 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 4016 0004 03F06003 		and	r3, r3, #96
 4017 0008 202B     		cmp	r3, #32
 4018 000a 06D0     		beq	.L338
 4019 000c 402B     		cmp	r3, #64
 4020 000e 04D0     		beq	.L338
ARM GAS  /tmp/ccLxqwAV.s 			page 136


 4021 0010 5BB1     		cbz	r3, .L352
1850:application-library/usb-cdc-device.c ****       break;
 4022              		.loc 1 1850 0
 4023 0012 FFF7FEFF 		bl	USBD_CtlError
 4024              	.LVL508:
1803:application-library/usb-cdc-device.c **** 
 4025              		.loc 1 1803 0
 4026 0016 0020     		movs	r0, #0
 4027              	.LVL509:
1855:application-library/usb-cdc-device.c **** 
 4028              		.loc 1 1855 0
 4029 0018 08BD     		pop	{r3, pc}
 4030              	.LVL510:
 4031              	.L338:
1809:application-library/usb-cdc-device.c ****       break;
 4032              		.loc 1 1809 0
 4033 001a D0F8D432 		ldr	r3, [r0, #724]
 4034 001e AE33     		adds	r3, r3, #174
 4035 0020 50F82330 		ldr	r3, [r0, r3, lsl #2]
 4036 0024 9B68     		ldr	r3, [r3, #8]
 4037 0026 9847     		blx	r3
 4038              	.LVL511:
1810:application-library/usb-cdc-device.c **** 
 4039              		.loc 1 1810 0
 4040 0028 08BD     		pop	{r3, pc}
 4041              	.LVL512:
 4042              	.L352:
1813:application-library/usb-cdc-device.c ****       {
 4043              		.loc 1 1813 0
 4044 002a 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4045 002c 092B     		cmp	r3, #9
 4046 002e 21D8     		bhi	.L341
 4047 0030 DFE803F0 		tbb	[pc, r3]
 4048              	.L343:
 4049 0034 14       		.byte	(.L342-.L343)/2
 4050 0035 1C       		.byte	(.L344-.L343)/2
 4051 0036 20       		.byte	(.L341-.L343)/2
 4052 0037 18       		.byte	(.L345-.L343)/2
 4053 0038 20       		.byte	(.L341-.L343)/2
 4054 0039 09       		.byte	(.L346-.L343)/2
 4055 003a 05       		.byte	(.L347-.L343)/2
 4056 003b 20       		.byte	(.L341-.L343)/2
 4057 003c 10       		.byte	(.L348-.L343)/2
 4058 003d 0D       		.byte	(.L349-.L343)/2
 4059              		.p2align 1
 4060              	.L347:
1816:application-library/usb-cdc-device.c ****           break;
 4061              		.loc 1 1816 0
 4062 003e FFF7FEFF 		bl	USBD_GetDescriptor
 4063              	.LVL513:
1803:application-library/usb-cdc-device.c **** 
 4064              		.loc 1 1803 0
 4065 0042 0020     		movs	r0, #0
1817:application-library/usb-cdc-device.c **** 
 4066              		.loc 1 1817 0
 4067 0044 08BD     		pop	{r3, pc}
 4068              	.LVL514:
ARM GAS  /tmp/ccLxqwAV.s 			page 137


 4069              	.L346:
1820:application-library/usb-cdc-device.c ****           break;
 4070              		.loc 1 1820 0
 4071 0046 FFF7FEFF 		bl	USBD_SetAddress
 4072              	.LVL515:
1803:application-library/usb-cdc-device.c **** 
 4073              		.loc 1 1803 0
 4074 004a 0020     		movs	r0, #0
1821:application-library/usb-cdc-device.c **** 
 4075              		.loc 1 1821 0
 4076 004c 08BD     		pop	{r3, pc}
 4077              	.LVL516:
 4078              	.L349:
1824:application-library/usb-cdc-device.c ****           break;
 4079              		.loc 1 1824 0
 4080 004e FFF7FEFF 		bl	USBD_SetConfig
 4081              	.LVL517:
1825:application-library/usb-cdc-device.c **** 
 4082              		.loc 1 1825 0
 4083 0052 08BD     		pop	{r3, pc}
 4084              	.LVL518:
 4085              	.L348:
1828:application-library/usb-cdc-device.c ****           break;
 4086              		.loc 1 1828 0
 4087 0054 FFF7FEFF 		bl	USBD_GetConfig
 4088              	.LVL519:
1803:application-library/usb-cdc-device.c **** 
 4089              		.loc 1 1803 0
 4090 0058 0020     		movs	r0, #0
1829:application-library/usb-cdc-device.c **** 
 4091              		.loc 1 1829 0
 4092 005a 08BD     		pop	{r3, pc}
 4093              	.LVL520:
 4094              	.L342:
1832:application-library/usb-cdc-device.c ****           break;
 4095              		.loc 1 1832 0
 4096 005c FFF7FEFF 		bl	USBD_GetStatus
 4097              	.LVL521:
1803:application-library/usb-cdc-device.c **** 
 4098              		.loc 1 1803 0
 4099 0060 0020     		movs	r0, #0
1833:application-library/usb-cdc-device.c **** 
 4100              		.loc 1 1833 0
 4101 0062 08BD     		pop	{r3, pc}
 4102              	.LVL522:
 4103              	.L345:
1836:application-library/usb-cdc-device.c ****           break;
 4104              		.loc 1 1836 0
 4105 0064 FFF7FEFF 		bl	USBD_SetFeature
 4106              	.LVL523:
1803:application-library/usb-cdc-device.c **** 
 4107              		.loc 1 1803 0
 4108 0068 0020     		movs	r0, #0
1837:application-library/usb-cdc-device.c **** 
 4109              		.loc 1 1837 0
 4110 006a 08BD     		pop	{r3, pc}
 4111              	.LVL524:
ARM GAS  /tmp/ccLxqwAV.s 			page 138


 4112              	.L344:
1840:application-library/usb-cdc-device.c ****           break;
 4113              		.loc 1 1840 0
 4114 006c FFF7FEFF 		bl	USBD_ClrFeature
 4115              	.LVL525:
1803:application-library/usb-cdc-device.c **** 
 4116              		.loc 1 1803 0
 4117 0070 0020     		movs	r0, #0
1841:application-library/usb-cdc-device.c **** 
 4118              		.loc 1 1841 0
 4119 0072 08BD     		pop	{r3, pc}
 4120              	.LVL526:
 4121              	.L341:
1844:application-library/usb-cdc-device.c ****           break;
 4122              		.loc 1 1844 0
 4123 0074 FFF7FEFF 		bl	USBD_CtlError
 4124              	.LVL527:
1803:application-library/usb-cdc-device.c **** 
 4125              		.loc 1 1803 0
 4126 0078 0020     		movs	r0, #0
1845:application-library/usb-cdc-device.c ****       }
 4127              		.loc 1 1845 0
 4128 007a 08BD     		pop	{r3, pc}
 4129              		.cfi_endproc
 4130              	.LFE177:
 4132              		.section	.text.USBD_StdItfReq,"ax",%progbits
 4133              		.align	1
 4134              		.global	USBD_StdItfReq
 4135              		.syntax unified
 4136              		.thumb
 4137              		.thumb_func
 4138              		.fpu fpv4-sp-d16
 4140              	USBD_StdItfReq:
 4141              	.LFB178:
1865:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret = USBD_OK;
 4142              		.loc 1 1865 0
 4143              		.cfi_startproc
 4144              		@ args = 0, pretend = 0, frame = 0
 4145              		@ frame_needed = 0, uses_anonymous_args = 0
 4146              	.LVL528:
 4147 0000 70B5     		push	{r4, r5, r6, lr}
 4148              	.LCFI54:
 4149              		.cfi_def_cfa_offset 16
 4150              		.cfi_offset 4, -16
 4151              		.cfi_offset 5, -12
 4152              		.cfi_offset 6, -8
 4153              		.cfi_offset 14, -4
 4154 0002 0546     		mov	r5, r0
 4155 0004 0C46     		mov	r4, r1
 4156              	.LVL529:
1869:application-library/usb-cdc-device.c ****   {
 4157              		.loc 1 1869 0
 4158 0006 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 4159 0008 03F06003 		and	r3, r3, #96
 4160 000c 202B     		cmp	r3, #32
 4161 000e 07D0     		beq	.L355
 4162 0010 402B     		cmp	r3, #64
ARM GAS  /tmp/ccLxqwAV.s 			page 139


 4163 0012 05D0     		beq	.L355
 4164 0014 23B1     		cbz	r3, .L355
1922:application-library/usb-cdc-device.c ****       break;
 4165              		.loc 1 1922 0
 4166 0016 FFF7FEFF 		bl	USBD_CtlError
 4167              	.LVL530:
1866:application-library/usb-cdc-device.c ****   uint8_t idx;
 4168              		.loc 1 1866 0
 4169 001a 0026     		movs	r6, #0
 4170              	.LVL531:
 4171              	.L360:
1927:application-library/usb-cdc-device.c **** 
 4172              		.loc 1 1927 0
 4173 001c 3046     		mov	r0, r6
 4174 001e 70BD     		pop	{r4, r5, r6, pc}
 4175              	.LVL532:
 4176              	.L355:
1874:application-library/usb-cdc-device.c ****       {
 4177              		.loc 1 1874 0
 4178 0020 95F89C32 		ldrb	r3, [r5, #668]	@ zero_extendqisi2
 4179 0024 013B     		subs	r3, r3, #1
 4180 0026 022B     		cmp	r3, #2
 4181 0028 1FD8     		bhi	.L356
1880:application-library/usb-cdc-device.c ****           {
 4182              		.loc 1 1880 0
 4183 002a 2379     		ldrb	r3, [r4, #4]	@ zero_extendqisi2
 4184 002c 012B     		cmp	r3, #1
 4185 002e 16D8     		bhi	.L358
 4186              	.LVL533:
1887:application-library/usb-cdc-device.c ****               {
 4187              		.loc 1 1887 0
 4188 0030 D5F8B832 		ldr	r3, [r5, #696]
 4189 0034 9A68     		ldr	r2, [r3, #8]
 4190 0036 82B1     		cbz	r2, .L361
1889:application-library/usb-cdc-device.c ****                 ret = (USBD_StatusTypeDef)(pdev->pClass[idx]->Setup(pdev, req));
 4191              		.loc 1 1889 0
 4192 0038 0022     		movs	r2, #0
 4193 003a C5F8D422 		str	r2, [r5, #724]
1890:application-library/usb-cdc-device.c ****               }
 4194              		.loc 1 1890 0
 4195 003e 9B68     		ldr	r3, [r3, #8]
 4196 0040 2146     		mov	r1, r4
 4197              	.LVL534:
 4198 0042 2846     		mov	r0, r5
 4199              	.LVL535:
 4200 0044 9847     		blx	r3
 4201              	.LVL536:
 4202 0046 0646     		mov	r6, r0
 4203              	.LVL537:
 4204              	.L359:
1904:application-library/usb-cdc-device.c ****             {
 4205              		.loc 1 1904 0
 4206 0048 E388     		ldrh	r3, [r4, #6]
 4207 004a 002B     		cmp	r3, #0
 4208 004c E6D1     		bne	.L360
1904:application-library/usb-cdc-device.c ****             {
 4209              		.loc 1 1904 0 is_stmt 0 discriminator 1
ARM GAS  /tmp/ccLxqwAV.s 			page 140


 4210 004e 002E     		cmp	r6, #0
 4211 0050 E4D1     		bne	.L360
1906:application-library/usb-cdc-device.c ****             }
 4212              		.loc 1 1906 0 is_stmt 1
 4213 0052 2846     		mov	r0, r5
 4214 0054 FFF7FEFF 		bl	USBD_CtlSendStatus
 4215              	.LVL538:
 4216 0058 E0E7     		b	.L360
 4217              	.LVL539:
 4218              	.L361:
1895:application-library/usb-cdc-device.c ****               }
 4219              		.loc 1 1895 0
 4220 005a 0326     		movs	r6, #3
 4221 005c F4E7     		b	.L359
 4222              	.LVL540:
 4223              	.L358:
1911:application-library/usb-cdc-device.c ****           }
 4224              		.loc 1 1911 0
 4225 005e 2146     		mov	r1, r4
 4226              	.LVL541:
 4227 0060 2846     		mov	r0, r5
 4228              	.LVL542:
 4229 0062 FFF7FEFF 		bl	USBD_CtlError
 4230              	.LVL543:
1866:application-library/usb-cdc-device.c ****   uint8_t idx;
 4231              		.loc 1 1866 0
 4232 0066 0026     		movs	r6, #0
 4233 0068 D8E7     		b	.L360
 4234              	.LVL544:
 4235              	.L356:
1916:application-library/usb-cdc-device.c ****           break;
 4236              		.loc 1 1916 0
 4237 006a 2146     		mov	r1, r4
 4238              	.LVL545:
 4239 006c 2846     		mov	r0, r5
 4240              	.LVL546:
 4241 006e FFF7FEFF 		bl	USBD_CtlError
 4242              	.LVL547:
1866:application-library/usb-cdc-device.c ****   uint8_t idx;
 4243              		.loc 1 1866 0
 4244 0072 0026     		movs	r6, #0
1917:application-library/usb-cdc-device.c ****       }
 4245              		.loc 1 1917 0
 4246 0074 D2E7     		b	.L360
 4247              		.cfi_endproc
 4248              	.LFE178:
 4250              		.section	.text.USBD_StdEPReq,"ax",%progbits
 4251              		.align	1
 4252              		.global	USBD_StdEPReq
 4253              		.syntax unified
 4254              		.thumb
 4255              		.thumb_func
 4256              		.fpu fpv4-sp-d16
 4258              	USBD_StdEPReq:
 4259              	.LFB179:
1937:application-library/usb-cdc-device.c ****   USBD_EndpointTypeDef *pep;
 4260              		.loc 1 1937 0
ARM GAS  /tmp/ccLxqwAV.s 			page 141


 4261              		.cfi_startproc
 4262              		@ args = 0, pretend = 0, frame = 0
 4263              		@ frame_needed = 0, uses_anonymous_args = 0
 4264              	.LVL548:
 4265 0000 70B5     		push	{r4, r5, r6, lr}
 4266              	.LCFI55:
 4267              		.cfi_def_cfa_offset 16
 4268              		.cfi_offset 4, -16
 4269              		.cfi_offset 5, -12
 4270              		.cfi_offset 6, -8
 4271              		.cfi_offset 14, -4
 4272 0002 0546     		mov	r5, r0
 4273 0004 0C46     		mov	r4, r1
 4274              	.LVL549:
1943:application-library/usb-cdc-device.c **** 
 4275              		.loc 1 1943 0
 4276 0006 8A88     		ldrh	r2, [r1, #4]
 4277 0008 D6B2     		uxtb	r6, r2
 4278              	.LVL550:
1945:application-library/usb-cdc-device.c ****   {
 4279              		.loc 1 1945 0
 4280 000a 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 4281 000c 03F06003 		and	r3, r3, #96
 4282 0010 202B     		cmp	r3, #32
 4283 0012 06D0     		beq	.L366
 4284 0014 402B     		cmp	r3, #64
 4285 0016 04D0     		beq	.L366
 4286 0018 C3B1     		cbz	r3, .L408
2110:application-library/usb-cdc-device.c ****       break;
 4287              		.loc 1 2110 0
 4288 001a FFF7FEFF 		bl	USBD_CtlError
 4289              	.LVL551:
1941:application-library/usb-cdc-device.c **** 
 4290              		.loc 1 1941 0
 4291 001e 0020     		movs	r0, #0
2111:application-library/usb-cdc-device.c ****   }
 4292              		.loc 1 2111 0
 4293 0020 70BD     		pop	{r4, r5, r6, pc}
 4294              	.LVL552:
 4295              	.L366:
1950:application-library/usb-cdc-device.c ****       if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
 4296              		.loc 1 1950 0
 4297 0022 3146     		mov	r1, r6
 4298              	.LVL553:
 4299 0024 2846     		mov	r0, r5
 4300              	.LVL554:
 4301 0026 FFF7FEFF 		bl	USBD_CoreFindEP
 4302              	.LVL555:
1951:application-library/usb-cdc-device.c ****       {
 4303              		.loc 1 1951 0
 4304 002a 0028     		cmp	r0, #0
 4305 002c 40F00281 		bne	.L397
1953:application-library/usb-cdc-device.c ****         /* Call the class data out function to manage the request */
 4306              		.loc 1 1953 0
 4307 0030 C5F8D402 		str	r0, [r5, #724]
1955:application-library/usb-cdc-device.c ****         {
 4308              		.loc 1 1955 0
ARM GAS  /tmp/ccLxqwAV.s 			page 142


 4309 0034 00F1AE02 		add	r2, r0, #174
 4310 0038 55F82220 		ldr	r2, [r5, r2, lsl #2]
 4311 003c 9268     		ldr	r2, [r2, #8]
 4312 003e 002A     		cmp	r2, #0
 4313 0040 00F0FA80 		beq	.L398
1957:application-library/usb-cdc-device.c ****         }
 4314              		.loc 1 1957 0
 4315 0044 2146     		mov	r1, r4
 4316 0046 2846     		mov	r0, r5
 4317              	.LVL556:
 4318 0048 9047     		blx	r2
 4319              	.LVL557:
 4320 004a 70BD     		pop	{r4, r5, r6, pc}
 4321              	.LVL558:
 4322              	.L408:
1963:application-library/usb-cdc-device.c ****       {
 4323              		.loc 1 1963 0
 4324 004c 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4325 004e 012B     		cmp	r3, #1
 4326 0050 31D0     		beq	.L370
 4327 0052 002B     		cmp	r3, #0
 4328 0054 6FD0     		beq	.L371
 4329 0056 032B     		cmp	r3, #3
 4330 0058 40F0E880 		bne	.L403
1966:application-library/usb-cdc-device.c ****           {
 4331              		.loc 1 1966 0
 4332 005c 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4333 0060 DBB2     		uxtb	r3, r3
 4334 0062 022B     		cmp	r3, #2
 4335 0064 05D0     		beq	.L374
 4336 0066 032B     		cmp	r3, #3
 4337 0068 15D0     		beq	.L375
1993:application-library/usb-cdc-device.c ****               break;
 4338              		.loc 1 1993 0
 4339 006a FFF7FEFF 		bl	USBD_CtlError
 4340              	.LVL559:
1941:application-library/usb-cdc-device.c **** 
 4341              		.loc 1 1941 0
 4342 006e 0020     		movs	r0, #0
1994:application-library/usb-cdc-device.c ****           }
 4343              		.loc 1 1994 0
 4344 0070 70BD     		pop	{r4, r5, r6, pc}
 4345              	.LVL560:
 4346              	.L374:
1969:application-library/usb-cdc-device.c ****               {
 4347              		.loc 1 1969 0
 4348 0072 56B1     		cbz	r6, .L376
1969:application-library/usb-cdc-device.c ****               {
 4349              		.loc 1 1969 0 is_stmt 0 discriminator 1
 4350 0074 802E     		cmp	r6, #128
 4351 0076 08D0     		beq	.L376
1971:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
 4352              		.loc 1 1971 0 is_stmt 1
 4353 0078 3146     		mov	r1, r6
 4354              	.LVL561:
 4355 007a FFF7FEFF 		bl	USBD_LL_StallEP
 4356              	.LVL562:
ARM GAS  /tmp/ccLxqwAV.s 			page 143


1972:application-library/usb-cdc-device.c ****               }
 4357              		.loc 1 1972 0
 4358 007e 8021     		movs	r1, #128
 4359 0080 2846     		mov	r0, r5
 4360 0082 FFF7FEFF 		bl	USBD_LL_StallEP
 4361              	.LVL563:
1941:application-library/usb-cdc-device.c **** 
 4362              		.loc 1 1941 0
 4363 0086 0020     		movs	r0, #0
1972:application-library/usb-cdc-device.c ****               }
 4364              		.loc 1 1972 0
 4365 0088 70BD     		pop	{r4, r5, r6, pc}
 4366              	.LVL564:
 4367              	.L376:
1976:application-library/usb-cdc-device.c ****               }
 4368              		.loc 1 1976 0
 4369 008a 2146     		mov	r1, r4
 4370              	.LVL565:
 4371 008c 2846     		mov	r0, r5
 4372              	.LVL566:
 4373 008e FFF7FEFF 		bl	USBD_CtlError
 4374              	.LVL567:
1941:application-library/usb-cdc-device.c **** 
 4375              		.loc 1 1941 0
 4376 0092 0020     		movs	r0, #0
 4377 0094 70BD     		pop	{r4, r5, r6, pc}
 4378              	.LVL568:
 4379              	.L375:
1981:application-library/usb-cdc-device.c ****               {
 4380              		.loc 1 1981 0
 4381 0096 4B88     		ldrh	r3, [r1, #2]
 4382 0098 23B9     		cbnz	r3, .L377
1983:application-library/usb-cdc-device.c ****                 {
 4383              		.loc 1 1983 0
 4384 009a 1EB1     		cbz	r6, .L377
1983:application-library/usb-cdc-device.c ****                 {
 4385              		.loc 1 1983 0 is_stmt 0 discriminator 1
 4386 009c 802E     		cmp	r6, #128
 4387 009e 01D0     		beq	.L377
1983:application-library/usb-cdc-device.c ****                 {
 4388              		.loc 1 1983 0 discriminator 2
 4389 00a0 CB88     		ldrh	r3, [r1, #6]
 4390 00a2 23B1     		cbz	r3, .L409
 4391              	.LVL569:
 4392              	.L377:
1988:application-library/usb-cdc-device.c **** 
 4393              		.loc 1 1988 0 is_stmt 1
 4394 00a4 2846     		mov	r0, r5
 4395 00a6 FFF7FEFF 		bl	USBD_CtlSendStatus
 4396              	.LVL570:
1941:application-library/usb-cdc-device.c **** 
 4397              		.loc 1 1941 0
 4398 00aa 0020     		movs	r0, #0
1990:application-library/usb-cdc-device.c **** 
 4399              		.loc 1 1990 0
 4400 00ac 70BD     		pop	{r4, r5, r6, pc}
 4401              	.LVL571:
ARM GAS  /tmp/ccLxqwAV.s 			page 144


 4402              	.L409:
1985:application-library/usb-cdc-device.c ****                 }
 4403              		.loc 1 1985 0
 4404 00ae 3146     		mov	r1, r6
 4405              	.LVL572:
 4406 00b0 FFF7FEFF 		bl	USBD_LL_StallEP
 4407              	.LVL573:
 4408 00b4 F6E7     		b	.L377
 4409              	.LVL574:
 4410              	.L370:
2000:application-library/usb-cdc-device.c ****           {
 4411              		.loc 1 2000 0
 4412 00b6 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4413 00ba DBB2     		uxtb	r3, r3
 4414 00bc 022B     		cmp	r3, #2
 4415 00be 05D0     		beq	.L379
 4416 00c0 032B     		cmp	r3, #3
 4417 00c2 15D0     		beq	.L380
2038:application-library/usb-cdc-device.c ****               break;
 4418              		.loc 1 2038 0
 4419 00c4 FFF7FEFF 		bl	USBD_CtlError
 4420              	.LVL575:
1941:application-library/usb-cdc-device.c **** 
 4421              		.loc 1 1941 0
 4422 00c8 0020     		movs	r0, #0
2039:application-library/usb-cdc-device.c ****           }
 4423              		.loc 1 2039 0
 4424 00ca 70BD     		pop	{r4, r5, r6, pc}
 4425              	.LVL576:
 4426              	.L379:
2003:application-library/usb-cdc-device.c ****               {
 4427              		.loc 1 2003 0
 4428 00cc 56B1     		cbz	r6, .L381
2003:application-library/usb-cdc-device.c ****               {
 4429              		.loc 1 2003 0 is_stmt 0 discriminator 1
 4430 00ce 802E     		cmp	r6, #128
 4431 00d0 08D0     		beq	.L381
2005:application-library/usb-cdc-device.c ****                 (void)USBD_LL_StallEP(pdev, 0x80U);
 4432              		.loc 1 2005 0 is_stmt 1
 4433 00d2 3146     		mov	r1, r6
 4434              	.LVL577:
 4435 00d4 FFF7FEFF 		bl	USBD_LL_StallEP
 4436              	.LVL578:
2006:application-library/usb-cdc-device.c ****               }
 4437              		.loc 1 2006 0
 4438 00d8 8021     		movs	r1, #128
 4439 00da 2846     		mov	r0, r5
 4440 00dc FFF7FEFF 		bl	USBD_LL_StallEP
 4441              	.LVL579:
1941:application-library/usb-cdc-device.c **** 
 4442              		.loc 1 1941 0
 4443 00e0 0020     		movs	r0, #0
2006:application-library/usb-cdc-device.c ****               }
 4444              		.loc 1 2006 0
 4445 00e2 70BD     		pop	{r4, r5, r6, pc}
 4446              	.LVL580:
 4447              	.L381:
ARM GAS  /tmp/ccLxqwAV.s 			page 145


2010:application-library/usb-cdc-device.c ****               }
 4448              		.loc 1 2010 0
 4449 00e4 2146     		mov	r1, r4
 4450              	.LVL581:
 4451 00e6 2846     		mov	r0, r5
 4452              	.LVL582:
 4453 00e8 FFF7FEFF 		bl	USBD_CtlError
 4454              	.LVL583:
1941:application-library/usb-cdc-device.c **** 
 4455              		.loc 1 1941 0
 4456 00ec 0020     		movs	r0, #0
 4457 00ee 70BD     		pop	{r4, r5, r6, pc}
 4458              	.LVL584:
 4459              	.L380:
2015:application-library/usb-cdc-device.c ****               {
 4460              		.loc 1 2015 0
 4461 00f0 4B88     		ldrh	r3, [r1, #2]
 4462 00f2 002B     		cmp	r3, #0
 4463 00f4 40F0A280 		bne	.L399
2017:application-library/usb-cdc-device.c ****                 {
 4464              		.loc 1 2017 0
 4465 00f8 16F07F0F 		tst	r6, #127
 4466 00fc 17D1     		bne	.L410
 4467              	.LVL585:
 4468              	.L382:
2021:application-library/usb-cdc-device.c **** 
 4469              		.loc 1 2021 0
 4470 00fe 2846     		mov	r0, r5
 4471 0100 FFF7FEFF 		bl	USBD_CtlSendStatus
 4472              	.LVL586:
2024:application-library/usb-cdc-device.c ****                 if (((uint8_t)idx != 0xFFU) && (idx < USBD_MAX_SUPPORTED_CLASS))
 4473              		.loc 1 2024 0
 4474 0104 3146     		mov	r1, r6
 4475 0106 2846     		mov	r0, r5
 4476 0108 FFF7FEFF 		bl	USBD_CoreFindEP
 4477              	.LVL587:
2025:application-library/usb-cdc-device.c ****                 {
 4478              		.loc 1 2025 0
 4479 010c 0346     		mov	r3, r0
 4480 010e 0028     		cmp	r0, #0
 4481 0110 40F09680 		bne	.L400
2027:application-library/usb-cdc-device.c ****                   /* Call the class data out function to manage the request */
 4482              		.loc 1 2027 0
 4483 0114 C5F8D402 		str	r0, [r5, #724]
2029:application-library/usb-cdc-device.c ****                   {
 4484              		.loc 1 2029 0
 4485 0118 AE33     		adds	r3, r3, #174
 4486 011a 55F82330 		ldr	r3, [r5, r3, lsl #2]
 4487 011e 9B68     		ldr	r3, [r3, #8]
 4488 0120 002B     		cmp	r3, #0
 4489 0122 00F08F80 		beq	.L401
2031:application-library/usb-cdc-device.c ****                   }
 4490              		.loc 1 2031 0
 4491 0126 2146     		mov	r1, r4
 4492 0128 2846     		mov	r0, r5
 4493              	.LVL588:
 4494 012a 9847     		blx	r3
ARM GAS  /tmp/ccLxqwAV.s 			page 146


 4495              	.LVL589:
 4496 012c 70BD     		pop	{r4, r5, r6, pc}
 4497              	.LVL590:
 4498              	.L410:
2019:application-library/usb-cdc-device.c ****                 }
 4499              		.loc 1 2019 0
 4500 012e 3146     		mov	r1, r6
 4501              	.LVL591:
 4502 0130 FFF7FEFF 		bl	USBD_LL_ClearStallEP
 4503              	.LVL592:
 4504 0134 E3E7     		b	.L382
 4505              	.LVL593:
 4506              	.L371:
2044:application-library/usb-cdc-device.c ****           {
 4507              		.loc 1 2044 0
 4508 0136 90F89C32 		ldrb	r3, [r0, #668]	@ zero_extendqisi2
 4509 013a DBB2     		uxtb	r3, r3
 4510 013c 022B     		cmp	r3, #2
 4511 013e 05D0     		beq	.L384
 4512 0140 032B     		cmp	r3, #3
 4513 0142 28D0     		beq	.L385
2098:application-library/usb-cdc-device.c ****               break;
 4514              		.loc 1 2098 0
 4515 0144 FFF7FEFF 		bl	USBD_CtlError
 4516              	.LVL594:
1941:application-library/usb-cdc-device.c **** 
 4517              		.loc 1 1941 0
 4518 0148 0020     		movs	r0, #0
2099:application-library/usb-cdc-device.c ****           }
 4519              		.loc 1 2099 0
 4520 014a 70BD     		pop	{r4, r5, r6, pc}
 4521              	.LVL595:
 4522              	.L384:
2047:application-library/usb-cdc-device.c ****               {
 4523              		.loc 1 2047 0
 4524 014c 0EB1     		cbz	r6, .L386
2047:application-library/usb-cdc-device.c ****               {
 4525              		.loc 1 2047 0 is_stmt 0 discriminator 1
 4526 014e 802E     		cmp	r6, #128
 4527 0150 13D1     		bne	.L411
 4528              	.L386:
2052:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4529              		.loc 1 2052 0 is_stmt 1
 4530 0152 12F0800F 		tst	r2, #128
 4531 0156 14D1     		bne	.L412
2053:application-library/usb-cdc-device.c **** 
 4532              		.loc 1 2053 0 discriminator 2
 4533 0158 06F07F06 		and	r6, r6, #127
 4534              	.LVL596:
2052:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4535              		.loc 1 2052 0 discriminator 2
 4536 015c 06EB8606 		add	r6, r6, r6, lsl #2
 4537 0160 B300     		lsls	r3, r6, #2
 4538 0162 03F5A871 		add	r1, r3, #336
 4539              	.LVL597:
 4540 0166 2944     		add	r1, r1, r5
 4541 0168 0431     		adds	r1, r1, #4
ARM GAS  /tmp/ccLxqwAV.s 			page 147


 4542              	.L388:
 4543              	.LVL598:
2055:application-library/usb-cdc-device.c **** 
 4544              		.loc 1 2055 0 discriminator 4
 4545 016a 0024     		movs	r4, #0
 4546              	.LVL599:
 4547 016c 0C60     		str	r4, [r1]
2057:application-library/usb-cdc-device.c ****               break;
 4548              		.loc 1 2057 0 discriminator 4
 4549 016e 0222     		movs	r2, #2
 4550              	.LVL600:
 4551 0170 2846     		mov	r0, r5
 4552              	.LVL601:
 4553 0172 FFF7FEFF 		bl	USBD_CtlSendData
 4554              	.LVL602:
1941:application-library/usb-cdc-device.c **** 
 4555              		.loc 1 1941 0 discriminator 4
 4556 0176 2046     		mov	r0, r4
2058:application-library/usb-cdc-device.c **** 
 4557              		.loc 1 2058 0 discriminator 4
 4558 0178 70BD     		pop	{r4, r5, r6, pc}
 4559              	.LVL603:
 4560              	.L411:
2049:application-library/usb-cdc-device.c ****                 break;
 4561              		.loc 1 2049 0
 4562 017a FFF7FEFF 		bl	USBD_CtlError
 4563              	.LVL604:
1941:application-library/usb-cdc-device.c **** 
 4564              		.loc 1 1941 0
 4565 017e 0020     		movs	r0, #0
2050:application-library/usb-cdc-device.c ****               }
 4566              		.loc 1 2050 0
 4567 0180 70BD     		pop	{r4, r5, r6, pc}
 4568              	.LVL605:
 4569              	.L412:
2052:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4570              		.loc 1 2052 0 discriminator 1
 4571 0182 06F07F06 		and	r6, r6, #127
 4572              	.LVL606:
 4573 0186 06EB8606 		add	r6, r6, r6, lsl #2
 4574 018a B300     		lsls	r3, r6, #2
 4575 018c 03F11001 		add	r1, r3, #16
 4576              	.LVL607:
 4577 0190 2944     		add	r1, r1, r5
 4578 0192 0431     		adds	r1, r1, #4
 4579 0194 E9E7     		b	.L388
 4580              	.LVL608:
 4581              	.L385:
2061:application-library/usb-cdc-device.c ****               {
 4582              		.loc 1 2061 0
 4583 0196 52B2     		sxtb	r2, r2
 4584 0198 002A     		cmp	r2, #0
 4585 019a 1EDB     		blt	.L413
2071:application-library/usb-cdc-device.c ****                 {
 4586              		.loc 1 2071 0
 4587 019c 06F00F03 		and	r3, r6, #15
 4588 01a0 03EB8303 		add	r3, r3, r3, lsl #2
ARM GAS  /tmp/ccLxqwAV.s 			page 148


 4589 01a4 9900     		lsls	r1, r3, #2
 4590              	.LVL609:
 4591 01a6 0144     		add	r1, r1, r0
 4592 01a8 B1F86431 		ldrh	r3, [r1, #356]
 4593 01ac 1BB3     		cbz	r3, .L414
 4594              	.L390:
2078:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4595              		.loc 1 2078 0
 4596 01ae 002A     		cmp	r2, #0
 4597 01b0 26DB     		blt	.L415
2079:application-library/usb-cdc-device.c **** 
 4598              		.loc 1 2079 0 discriminator 2
 4599 01b2 06F07F02 		and	r2, r6, #127
2078:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4600              		.loc 1 2078 0 discriminator 2
 4601 01b6 02EB8202 		add	r2, r2, r2, lsl #2
 4602 01ba 9300     		lsls	r3, r2, #2
 4603 01bc 03F5A874 		add	r4, r3, #336
 4604              	.LVL610:
 4605 01c0 2C44     		add	r4, r4, r5
 4606 01c2 0434     		adds	r4, r4, #4
 4607              	.L392:
 4608              	.LVL611:
2081:application-library/usb-cdc-device.c ****               {
 4609              		.loc 1 2081 0 discriminator 4
 4610 01c4 36B3     		cbz	r6, .L393
2081:application-library/usb-cdc-device.c ****               {
 4611              		.loc 1 2081 0 is_stmt 0 discriminator 1
 4612 01c6 802E     		cmp	r6, #128
 4613 01c8 24D0     		beq	.L393
2085:application-library/usb-cdc-device.c ****               {
 4614              		.loc 1 2085 0 is_stmt 1
 4615 01ca 3146     		mov	r1, r6
 4616 01cc 2846     		mov	r0, r5
 4617              	.LVL612:
 4618 01ce FFF7FEFF 		bl	USBD_LL_IsStallEP
 4619              	.LVL613:
 4620 01d2 40B3     		cbz	r0, .L396
2087:application-library/usb-cdc-device.c ****               }
 4621              		.loc 1 2087 0
 4622 01d4 0123     		movs	r3, #1
 4623 01d6 2360     		str	r3, [r4]
 4624 01d8 1EE0     		b	.L395
 4625              	.LVL614:
 4626              	.L413:
2063:application-library/usb-cdc-device.c ****                 {
 4627              		.loc 1 2063 0
 4628 01da 06F00F03 		and	r3, r6, #15
 4629 01de 03EB8303 		add	r3, r3, r3, lsl #2
 4630 01e2 9900     		lsls	r1, r3, #2
 4631              	.LVL615:
 4632 01e4 0144     		add	r1, r1, r0
 4633 01e6 8B8C     		ldrh	r3, [r1, #36]
 4634 01e8 002B     		cmp	r3, #0
 4635 01ea E0D1     		bne	.L390
2065:application-library/usb-cdc-device.c ****                   break;
 4636              		.loc 1 2065 0
ARM GAS  /tmp/ccLxqwAV.s 			page 149


 4637 01ec 2146     		mov	r1, r4
 4638 01ee FFF7FEFF 		bl	USBD_CtlError
 4639              	.LVL616:
1941:application-library/usb-cdc-device.c **** 
 4640              		.loc 1 1941 0
 4641 01f2 0020     		movs	r0, #0
2066:application-library/usb-cdc-device.c ****                 }
 4642              		.loc 1 2066 0
 4643 01f4 70BD     		pop	{r4, r5, r6, pc}
 4644              	.LVL617:
 4645              	.L414:
2073:application-library/usb-cdc-device.c ****                   break;
 4646              		.loc 1 2073 0
 4647 01f6 2146     		mov	r1, r4
 4648 01f8 FFF7FEFF 		bl	USBD_CtlError
 4649              	.LVL618:
1941:application-library/usb-cdc-device.c **** 
 4650              		.loc 1 1941 0
 4651 01fc 0020     		movs	r0, #0
2074:application-library/usb-cdc-device.c ****                 }
 4652              		.loc 1 2074 0
 4653 01fe 70BD     		pop	{r4, r5, r6, pc}
 4654              	.LVL619:
 4655              	.L415:
2078:application-library/usb-cdc-device.c ****                     &pdev->ep_out[ep_addr & 0x7FU];
 4656              		.loc 1 2078 0 discriminator 1
 4657 0200 06F07F02 		and	r2, r6, #127
 4658 0204 02EB8202 		add	r2, r2, r2, lsl #2
 4659 0208 9300     		lsls	r3, r2, #2
 4660 020a 03F11004 		add	r4, r3, #16
 4661              	.LVL620:
 4662 020e 2C44     		add	r4, r4, r5
 4663 0210 0434     		adds	r4, r4, #4
 4664 0212 D7E7     		b	.L392
 4665              	.LVL621:
 4666              	.L393:
2083:application-library/usb-cdc-device.c ****               }
 4667              		.loc 1 2083 0
 4668 0214 0023     		movs	r3, #0
 4669 0216 2360     		str	r3, [r4]
 4670              	.LVL622:
 4671              	.L395:
2094:application-library/usb-cdc-device.c ****               break;
 4672              		.loc 1 2094 0
 4673 0218 0222     		movs	r2, #2
 4674 021a 2146     		mov	r1, r4
 4675 021c 2846     		mov	r0, r5
 4676 021e FFF7FEFF 		bl	USBD_CtlSendData
 4677              	.LVL623:
1941:application-library/usb-cdc-device.c **** 
 4678              		.loc 1 1941 0
 4679 0222 0020     		movs	r0, #0
2095:application-library/usb-cdc-device.c **** 
 4680              		.loc 1 2095 0
 4681 0224 70BD     		pop	{r4, r5, r6, pc}
 4682              	.LVL624:
 4683              	.L396:
ARM GAS  /tmp/ccLxqwAV.s 			page 150


2091:application-library/usb-cdc-device.c ****               }
 4684              		.loc 1 2091 0
 4685 0226 0023     		movs	r3, #0
 4686 0228 2360     		str	r3, [r4]
 4687 022a F5E7     		b	.L395
 4688              	.LVL625:
 4689              	.L403:
2104:application-library/usb-cdc-device.c ****           break;
 4690              		.loc 1 2104 0
 4691 022c FFF7FEFF 		bl	USBD_CtlError
 4692              	.LVL626:
1941:application-library/usb-cdc-device.c **** 
 4693              		.loc 1 1941 0
 4694 0230 0020     		movs	r0, #0
2105:application-library/usb-cdc-device.c ****       }
 4695              		.loc 1 2105 0
 4696 0232 70BD     		pop	{r4, r5, r6, pc}
 4697              	.LVL627:
 4698              	.L397:
1941:application-library/usb-cdc-device.c **** 
 4699              		.loc 1 1941 0
 4700 0234 0020     		movs	r0, #0
 4701              	.LVL628:
 4702 0236 70BD     		pop	{r4, r5, r6, pc}
 4703              	.LVL629:
 4704              	.L398:
 4705 0238 0020     		movs	r0, #0
 4706              	.LVL630:
 4707 023a 70BD     		pop	{r4, r5, r6, pc}
 4708              	.LVL631:
 4709              	.L399:
 4710 023c 0020     		movs	r0, #0
 4711              	.LVL632:
 4712 023e 70BD     		pop	{r4, r5, r6, pc}
 4713              	.LVL633:
 4714              	.L400:
 4715 0240 0020     		movs	r0, #0
 4716              	.LVL634:
 4717 0242 70BD     		pop	{r4, r5, r6, pc}
 4718              	.LVL635:
 4719              	.L401:
 4720 0244 0020     		movs	r0, #0
 4721              	.LVL636:
2115:application-library/usb-cdc-device.c **** 
 4722              		.loc 1 2115 0
 4723 0246 70BD     		pop	{r4, r5, r6, pc}
 4724              		.cfi_endproc
 4725              	.LFE179:
 4727              		.section	.text.USBD_LL_SetupStage,"ax",%progbits
 4728              		.align	1
 4729              		.global	USBD_LL_SetupStage
 4730              		.syntax unified
 4731              		.thumb
 4732              		.thumb_func
 4733              		.fpu fpv4-sp-d16
 4735              	USBD_LL_SetupStage:
 4736              	.LFB162:
ARM GAS  /tmp/ccLxqwAV.s 			page 151


1227:application-library/usb-cdc-device.c ****   USBD_StatusTypeDef ret;
 4737              		.loc 1 1227 0
 4738              		.cfi_startproc
 4739              		@ args = 0, pretend = 0, frame = 0
 4740              		@ frame_needed = 0, uses_anonymous_args = 0
 4741              	.LVL637:
 4742 0000 38B5     		push	{r3, r4, r5, lr}
 4743              	.LCFI56:
 4744              		.cfi_def_cfa_offset 16
 4745              		.cfi_offset 3, -16
 4746              		.cfi_offset 4, -12
 4747              		.cfi_offset 5, -8
 4748              		.cfi_offset 14, -4
 4749 0002 0446     		mov	r4, r0
1230:application-library/usb-cdc-device.c **** 
 4750              		.loc 1 1230 0
 4751 0004 00F2AA25 		addw	r5, r0, #682
 4752 0008 2846     		mov	r0, r5
 4753              	.LVL638:
 4754 000a FFF7FEFF 		bl	USBD_ParseSetupRequest
 4755              	.LVL639:
1232:application-library/usb-cdc-device.c **** 
 4756              		.loc 1 1232 0
 4757 000e 0123     		movs	r3, #1
 4758 0010 C4F89432 		str	r3, [r4, #660]
1234:application-library/usb-cdc-device.c **** 
 4759              		.loc 1 1234 0
 4760 0014 B4F8B032 		ldrh	r3, [r4, #688]
 4761 0018 C4F89832 		str	r3, [r4, #664]
1236:application-library/usb-cdc-device.c ****   {
 4762              		.loc 1 1236 0
 4763 001c 94F8AA12 		ldrb	r1, [r4, #682]	@ zero_extendqisi2
 4764 0020 01F01F03 		and	r3, r1, #31
 4765 0024 012B     		cmp	r3, #1
 4766 0026 0DD0     		beq	.L418
 4767 0028 3BB1     		cbz	r3, .L419
 4768 002a 022B     		cmp	r3, #2
 4769 002c 0FD0     		beq	.L420
1251:application-library/usb-cdc-device.c ****       break;
 4770              		.loc 1 1251 0
 4771 002e 01F08001 		and	r1, r1, #128
 4772 0032 2046     		mov	r0, r4
 4773 0034 FFF7FEFF 		bl	USBD_LL_StallEP
 4774              	.LVL640:
1256:application-library/usb-cdc-device.c **** 
 4775              		.loc 1 1256 0
 4776 0038 38BD     		pop	{r3, r4, r5, pc}
 4777              	.LVL641:
 4778              	.L419:
1239:application-library/usb-cdc-device.c ****       break;
 4779              		.loc 1 1239 0
 4780 003a 2946     		mov	r1, r5
 4781 003c 2046     		mov	r0, r4
 4782 003e FFF7FEFF 		bl	USBD_StdDevReq
 4783              	.LVL642:
1240:application-library/usb-cdc-device.c **** 
 4784              		.loc 1 1240 0
ARM GAS  /tmp/ccLxqwAV.s 			page 152


 4785 0042 38BD     		pop	{r3, r4, r5, pc}
 4786              	.LVL643:
 4787              	.L418:
1243:application-library/usb-cdc-device.c ****       break;
 4788              		.loc 1 1243 0
 4789 0044 2946     		mov	r1, r5
 4790 0046 2046     		mov	r0, r4
 4791 0048 FFF7FEFF 		bl	USBD_StdItfReq
 4792              	.LVL644:
1244:application-library/usb-cdc-device.c **** 
 4793              		.loc 1 1244 0
 4794 004c 38BD     		pop	{r3, r4, r5, pc}
 4795              	.LVL645:
 4796              	.L420:
1247:application-library/usb-cdc-device.c ****       break;
 4797              		.loc 1 1247 0
 4798 004e 2946     		mov	r1, r5
 4799 0050 2046     		mov	r0, r4
 4800 0052 FFF7FEFF 		bl	USBD_StdEPReq
 4801              	.LVL646:
1248:application-library/usb-cdc-device.c **** 
 4802              		.loc 1 1248 0
 4803 0056 38BD     		pop	{r3, r4, r5, pc}
 4804              		.cfi_endproc
 4805              	.LFE162:
 4807              		.section	.text.USBD_GetString,"ax",%progbits
 4808              		.align	1
 4809              		.global	USBD_GetString
 4810              		.syntax unified
 4811              		.thumb
 4812              		.thumb_func
 4813              		.fpu fpv4-sp-d16
 4815              	USBD_GetString:
 4816              	.LFB189:
2689:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 4817              		.loc 1 2689 0
 4818              		.cfi_startproc
 4819              		@ args = 0, pretend = 0, frame = 0
 4820              		@ frame_needed = 0, uses_anonymous_args = 0
 4821              	.LVL647:
2693:application-library/usb-cdc-device.c ****   {
 4822              		.loc 1 2693 0
 4823 0000 C8B1     		cbz	r0, .L429
2689:application-library/usb-cdc-device.c ****   uint8_t idx = 0U;
 4824              		.loc 1 2689 0
 4825 0002 70B5     		push	{r4, r5, r6, lr}
 4826              	.LCFI57:
 4827              		.cfi_def_cfa_offset 16
 4828              		.cfi_offset 4, -16
 4829              		.cfi_offset 5, -12
 4830              		.cfi_offset 6, -8
 4831              		.cfi_offset 14, -4
 4832 0004 0D46     		mov	r5, r1
 4833 0006 1646     		mov	r6, r2
 4834 0008 0446     		mov	r4, r0
 4835              	.LVL648:
2699:application-library/usb-cdc-device.c **** 
ARM GAS  /tmp/ccLxqwAV.s 			page 153


 4836              		.loc 1 2699 0
 4837 000a FFF7FEFF 		bl	USBD_GetLen
 4838              	.LVL649:
 4839 000e 0130     		adds	r0, r0, #1
 4840 0010 4000     		lsls	r0, r0, #1
 4841 0012 3080     		strh	r0, [r6]	@ movhi
2701:application-library/usb-cdc-device.c ****   idx++;
 4842              		.loc 1 2701 0
 4843 0014 2870     		strb	r0, [r5]
 4844              	.LVL650:
2703:application-library/usb-cdc-device.c ****   idx++;
 4845              		.loc 1 2703 0
 4846 0016 0323     		movs	r3, #3
 4847 0018 6B70     		strb	r3, [r5, #1]
 4848              	.LVL651:
2704:application-library/usb-cdc-device.c **** 
 4849              		.loc 1 2704 0
 4850 001a 0223     		movs	r3, #2
2706:application-library/usb-cdc-device.c ****   {
 4851              		.loc 1 2706 0
 4852 001c 07E0     		b	.L426
 4853              	.LVL652:
 4854              	.L427:
2708:application-library/usb-cdc-device.c ****     pdesc++;
 4855              		.loc 1 2708 0
 4856 001e EA54     		strb	r2, [r5, r3]
2709:application-library/usb-cdc-device.c ****     idx++;
 4857              		.loc 1 2709 0
 4858 0020 0134     		adds	r4, r4, #1
 4859              	.LVL653:
2710:application-library/usb-cdc-device.c **** 
 4860              		.loc 1 2710 0
 4861 0022 5A1C     		adds	r2, r3, #1
 4862 0024 D2B2     		uxtb	r2, r2
 4863              	.LVL654:
2712:application-library/usb-cdc-device.c ****     idx++;
 4864              		.loc 1 2712 0
 4865 0026 0021     		movs	r1, #0
 4866 0028 A954     		strb	r1, [r5, r2]
2713:application-library/usb-cdc-device.c ****   }
 4867              		.loc 1 2713 0
 4868 002a 0233     		adds	r3, r3, #2
 4869 002c DBB2     		uxtb	r3, r3
 4870              	.LVL655:
 4871              	.L426:
2706:application-library/usb-cdc-device.c ****   {
 4872              		.loc 1 2706 0
 4873 002e 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 4874 0030 002A     		cmp	r2, #0
 4875 0032 F4D1     		bne	.L427
 4876 0034 70BD     		pop	{r4, r5, r6, pc}
 4877              	.LVL656:
 4878              	.L429:
 4879              	.LCFI58:
 4880              		.cfi_def_cfa_offset 0
 4881              		.cfi_restore 4
 4882              		.cfi_restore 5
ARM GAS  /tmp/ccLxqwAV.s 			page 154


 4883              		.cfi_restore 6
 4884              		.cfi_restore 14
 4885 0036 7047     		bx	lr
 4886              		.cfi_endproc
 4887              	.LFE189:
 4889              		.global	USBD_Interface_fops_FS
 4890              		.global	USBD_CDC_CfgDesc
 4891              		.global	USBD_CDC
 4892              		.global	USBD_CDC_DeviceQualifierDesc
 4893              		.global	p_usbd_handle
 4894              		.comm	hUsbDeviceFS,732,4
 4895              		.comm	UserTxBufferFS,2048,4
 4896              		.comm	UserRxBufferFS,2048,4
 4897              		.section	.bss.cfgidx.10245,"aw",%nobits
 4898              		.set	.LANCHOR5,. + 0
 4901              	cfgidx.10245:
 4902 0000 00       		.space	1
 4903              		.section	.data.USBD_CDC,"aw",%progbits
 4904              		.align	2
 4905              		.set	.LANCHOR2,. + 0
 4908              	USBD_CDC:
 4909 0000 00000000 		.word	USBD_CDC_Init
 4910 0004 00000000 		.word	USBD_CDC_DeInit
 4911 0008 00000000 		.word	USBD_CDC_Setup
 4912 000c 00000000 		.word	0
 4913 0010 00000000 		.word	USBD_CDC_EP0_RxReady
 4914 0014 00000000 		.word	USBD_CDC_DataIn
 4915 0018 00000000 		.word	USBD_CDC_DataOut
 4916 001c 00000000 		.word	0
 4917 0020 00000000 		.word	0
 4918 0024 00000000 		.word	0
 4919 0028 00000000 		.word	USBD_CDC_GetHSCfgDesc
 4920 002c 00000000 		.word	USBD_CDC_GetFSCfgDesc
 4921 0030 00000000 		.word	USBD_CDC_GetOtherSpeedCfgDesc
 4922 0034 00000000 		.word	USBD_CDC_GetDeviceQualifierDescriptor
 4923              		.section	.data.USBD_CDC_CfgDesc,"aw",%progbits
 4924              		.align	2
 4925              		.set	.LANCHOR4,. + 0
 4928              	USBD_CDC_CfgDesc:
 4929 0000 09       		.byte	9
 4930 0001 02       		.byte	2
 4931 0002 43       		.byte	67
 4932 0003 00       		.byte	0
 4933 0004 02       		.byte	2
 4934 0005 01       		.byte	1
 4935 0006 00       		.byte	0
 4936 0007 C0       		.byte	-64
 4937 0008 32       		.byte	50
 4938 0009 09       		.byte	9
 4939 000a 04       		.byte	4
 4940 000b 00       		.byte	0
 4941 000c 00       		.byte	0
 4942 000d 01       		.byte	1
 4943 000e 02       		.byte	2
 4944 000f 02       		.byte	2
 4945 0010 01       		.byte	1
 4946 0011 00       		.byte	0
ARM GAS  /tmp/ccLxqwAV.s 			page 155


 4947 0012 05       		.byte	5
 4948 0013 24       		.byte	36
 4949 0014 00       		.byte	0
 4950 0015 10       		.byte	16
 4951 0016 01       		.byte	1
 4952 0017 05       		.byte	5
 4953 0018 24       		.byte	36
 4954 0019 01       		.byte	1
 4955 001a 00       		.byte	0
 4956 001b 01       		.byte	1
 4957 001c 04       		.byte	4
 4958 001d 24       		.byte	36
 4959 001e 02       		.byte	2
 4960 001f 02       		.byte	2
 4961 0020 05       		.byte	5
 4962 0021 24       		.byte	36
 4963 0022 06       		.byte	6
 4964 0023 00       		.byte	0
 4965 0024 01       		.byte	1
 4966 0025 07       		.byte	7
 4967 0026 05       		.byte	5
 4968 0027 82       		.byte	-126
 4969 0028 03       		.byte	3
 4970 0029 08       		.byte	8
 4971 002a 00       		.byte	0
 4972 002b 10       		.byte	16
 4973 002c 09       		.byte	9
 4974 002d 04       		.byte	4
 4975 002e 01       		.byte	1
 4976 002f 00       		.byte	0
 4977 0030 02       		.byte	2
 4978 0031 0A       		.byte	10
 4979 0032 00       		.byte	0
 4980 0033 00       		.byte	0
 4981 0034 00       		.byte	0
 4982 0035 07       		.byte	7
 4983 0036 05       		.byte	5
 4984 0037 01       		.byte	1
 4985 0038 02       		.byte	2
 4986 0039 40       		.byte	64
 4987 003a 00       		.byte	0
 4988 003b 00       		.byte	0
 4989 003c 07       		.byte	7
 4990 003d 05       		.byte	5
 4991 003e 81       		.byte	-127
 4992 003f 02       		.byte	2
 4993 0040 40       		.byte	64
 4994 0041 00       		.byte	0
 4995 0042 00       		.byte	0
 4996              		.section	.data.USBD_CDC_DeviceQualifierDesc,"aw",%progbits
 4997              		.align	2
 4998              		.set	.LANCHOR0,. + 0
 5001              	USBD_CDC_DeviceQualifierDesc:
 5002 0000 0A       		.byte	10
 5003 0001 06       		.byte	6
 5004 0002 00       		.byte	0
 5005 0003 02       		.byte	2
ARM GAS  /tmp/ccLxqwAV.s 			page 156


 5006 0004 00       		.byte	0
 5007 0005 00       		.byte	0
 5008 0006 00       		.byte	0
 5009 0007 40       		.byte	64
 5010 0008 01       		.byte	1
 5011 0009 00       		.byte	0
 5012              		.section	.data.USBD_Interface_fops_FS,"aw",%progbits
 5013              		.align	2
 5014              		.set	.LANCHOR3,. + 0
 5017              	USBD_Interface_fops_FS:
 5018 0000 00000000 		.word	CDC_Init_FS
 5019 0004 00000000 		.word	CDC_DeInit_FS
 5020 0008 00000000 		.word	CDC_Control_FS
 5021 000c 00000000 		.word	CDC_Receive_FS
 5022 0010 00000000 		.word	CDC_TransmitCplt_FS
 5023              		.section	.data.p_usbd_handle,"aw",%progbits
 5024              		.align	2
 5025              		.set	.LANCHOR1,. + 0
 5028              	p_usbd_handle:
 5029 0000 00000000 		.word	hUsbDeviceFS
 5030              		.section	.rodata.CDC_Receive_FS.str1.4,"aMS",%progbits,1
 5031              		.align	2
 5032              	.LC0:
 5033 0000 20656368 		.ascii	" echoed.\012\000"
 5033      6F65642E 
 5033      0A00
 5034              		.text
 5035              	.Letext0:
 5036              		.file 3 "/usr/include/newlib/machine/_default_types.h"
 5037              		.file 4 "/usr/include/newlib/sys/_stdint.h"
 5038              		.file 5 "Drivers/CMSIS/Include/core_cm4.h"
 5039              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 5040              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f401xe.h"
 5041              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 5042              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 5043              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_usb.h"
 5044              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd.h"
 5045              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 5046              		.file 13 "/usr/include/newlib/sys/lock.h"
 5047              		.file 14 "/usr/include/newlib/sys/_types.h"
 5048              		.file 15 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 5049              		.file 16 "/usr/include/newlib/sys/reent.h"
 5050              		.file 17 "/usr/include/newlib/stdlib.h"
 5051              		.file 18 "application-library/usb-cdc-device.h"
 5052              		.file 19 "USB_DEVICE/App/usbd_desc.h"
 5053              		.file 20 "Middlewares/ST/STM32_USB_Device_Library/Core/Inc/usbd_ioreq.h"
 5054              		.file 21 "USB_DEVICE/Target/usbd_conf.h"
 5055              		.file 22 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_pcd_ex.h"
 5056              		.file 23 "<built-in>"
ARM GAS  /tmp/ccLxqwAV.s 			page 157


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb-cdc-device.c
     /tmp/ccLxqwAV.s:18     .text.CDC_DeInit_FS:0000000000000000 $t
     /tmp/ccLxqwAV.s:25     .text.CDC_DeInit_FS:0000000000000000 CDC_DeInit_FS
     /tmp/ccLxqwAV.s:40     .text.CDC_Control_FS:0000000000000000 $t
     /tmp/ccLxqwAV.s:47     .text.CDC_Control_FS:0000000000000000 CDC_Control_FS
     /tmp/ccLxqwAV.s:63     .text.CDC_TransmitCplt_FS:0000000000000000 $t
     /tmp/ccLxqwAV.s:70     .text.CDC_TransmitCplt_FS:0000000000000000 CDC_TransmitCplt_FS
     /tmp/ccLxqwAV.s:86     .text.USBD_CDC_EP0_RxReady:0000000000000000 $t
     /tmp/ccLxqwAV.s:93     .text.USBD_CDC_EP0_RxReady:0000000000000000 USBD_CDC_EP0_RxReady
     /tmp/ccLxqwAV.s:153    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 $t
     /tmp/ccLxqwAV.s:160    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000000 USBD_CDC_GetDeviceQualifierDescriptor
     /tmp/ccLxqwAV.s:178    .text.USBD_CDC_GetDeviceQualifierDescriptor:0000000000000008 $d
     /tmp/ccLxqwAV.s:183    .text.USBD_GetLen:0000000000000000 $t
     /tmp/ccLxqwAV.s:189    .text.USBD_GetLen:0000000000000000 USBD_GetLen
     /tmp/ccLxqwAV.s:224    .text.USBD_CDC_Init:0000000000000000 $t
     /tmp/ccLxqwAV.s:231    .text.USBD_CDC_Init:0000000000000000 USBD_CDC_Init
     /tmp/ccLxqwAV.s:389    .text.USBD_CDC_DeInit:0000000000000000 $t
     /tmp/ccLxqwAV.s:396    .text.USBD_CDC_DeInit:0000000000000000 USBD_CDC_DeInit
     /tmp/ccLxqwAV.s:467    .text.USBD_CDC_DataIn:0000000000000000 $t
     /tmp/ccLxqwAV.s:474    .text.USBD_CDC_DataIn:0000000000000000 USBD_CDC_DataIn
     /tmp/ccLxqwAV.s:574    .text.USBD_CDC_DataOut:0000000000000000 $t
     /tmp/ccLxqwAV.s:581    .text.USBD_CDC_DataOut:0000000000000000 USBD_CDC_DataOut
     /tmp/ccLxqwAV.s:631    .text.usb_device_init:0000000000000000 $t
     /tmp/ccLxqwAV.s:638    .text.usb_device_init:0000000000000000 usb_device_init
     /tmp/ccLxqwAV.s:751    .text.usb_device_init:00000000000000a0 $d
     /tmp/ccLxqwAV.s:760    .text.USBD_CDC_RegisterInterface:0000000000000000 $t
     /tmp/ccLxqwAV.s:767    .text.USBD_CDC_RegisterInterface:0000000000000000 USBD_CDC_RegisterInterface
     /tmp/ccLxqwAV.s:797    .text.USBD_CDC_SetTxBuffer:0000000000000000 $t
     /tmp/ccLxqwAV.s:804    .text.USBD_CDC_SetTxBuffer:0000000000000000 USBD_CDC_SetTxBuffer
     /tmp/ccLxqwAV.s:838    .text.USBD_CDC_SetRxBuffer:0000000000000000 $t
     /tmp/ccLxqwAV.s:845    .text.USBD_CDC_SetRxBuffer:0000000000000000 USBD_CDC_SetRxBuffer
     /tmp/ccLxqwAV.s:877    .text.CDC_Init_FS:0000000000000000 $t
     /tmp/ccLxqwAV.s:884    .text.CDC_Init_FS:0000000000000000 CDC_Init_FS
     /tmp/ccLxqwAV.s:913    .text.CDC_Init_FS:000000000000001c $d
                            *COM*:00000000000002dc hUsbDeviceFS
                            *COM*:0000000000000800 UserTxBufferFS
                            *COM*:0000000000000800 UserRxBufferFS
     /tmp/ccLxqwAV.s:920    .text.USBD_CDC_TransmitPacket:0000000000000000 $t
     /tmp/ccLxqwAV.s:927    .text.USBD_CDC_TransmitPacket:0000000000000000 USBD_CDC_TransmitPacket
     /tmp/ccLxqwAV.s:982    .text.CDC_Transmit_FS:0000000000000000 $t
     /tmp/ccLxqwAV.s:989    .text.CDC_Transmit_FS:0000000000000000 CDC_Transmit_FS
     /tmp/ccLxqwAV.s:1034   .text.CDC_Transmit_FS:0000000000000028 $d
     /tmp/ccLxqwAV.s:1039   .text.USBD_CDC_ReceivePacket:0000000000000000 $t
     /tmp/ccLxqwAV.s:1046   .text.USBD_CDC_ReceivePacket:0000000000000000 USBD_CDC_ReceivePacket
     /tmp/ccLxqwAV.s:1101   .text.CDC_Receive_FS:0000000000000000 $t
     /tmp/ccLxqwAV.s:1108   .text.CDC_Receive_FS:0000000000000000 CDC_Receive_FS
     /tmp/ccLxqwAV.s:1189   .text.CDC_Receive_FS:0000000000000064 $d
     /tmp/ccLxqwAV.s:1195   .text.USBD_Init:0000000000000000 $t
     /tmp/ccLxqwAV.s:1202   .text.USBD_Init:0000000000000000 USBD_Init
     /tmp/ccLxqwAV.s:1257   .text.USBD_DeInit:0000000000000000 $t
     /tmp/ccLxqwAV.s:1264   .text.USBD_DeInit:0000000000000000 USBD_DeInit
     /tmp/ccLxqwAV.s:1310   .text.USBD_RegisterClass:0000000000000000 $t
     /tmp/ccLxqwAV.s:1317   .text.USBD_RegisterClass:0000000000000000 USBD_RegisterClass
     /tmp/ccLxqwAV.s:1380   .text.USBD_Start:0000000000000000 $t
     /tmp/ccLxqwAV.s:1387   .text.USBD_Start:0000000000000000 USBD_Start
     /tmp/ccLxqwAV.s:1431   .text.USBD_Stop:0000000000000000 $t
ARM GAS  /tmp/ccLxqwAV.s 			page 158


     /tmp/ccLxqwAV.s:1438   .text.USBD_Stop:0000000000000000 USBD_Stop
     /tmp/ccLxqwAV.s:1471   .text.USBD_RunTestMode:0000000000000000 $t
     /tmp/ccLxqwAV.s:1478   .text.USBD_RunTestMode:0000000000000000 USBD_RunTestMode
     /tmp/ccLxqwAV.s:1494   .text.USBD_SetClassConfig:0000000000000000 $t
     /tmp/ccLxqwAV.s:1501   .text.USBD_SetClassConfig:0000000000000000 USBD_SetClassConfig
     /tmp/ccLxqwAV.s:1533   .text.USBD_ClrClassConfig:0000000000000000 $t
     /tmp/ccLxqwAV.s:1540   .text.USBD_ClrClassConfig:0000000000000000 USBD_ClrClassConfig
     /tmp/ccLxqwAV.s:1569   .text.USBD_LL_Reset:0000000000000000 $t
     /tmp/ccLxqwAV.s:1576   .text.USBD_LL_Reset:0000000000000000 USBD_LL_Reset
     /tmp/ccLxqwAV.s:1664   .text.USBD_LL_SetSpeed:0000000000000000 $t
     /tmp/ccLxqwAV.s:1671   .text.USBD_LL_SetSpeed:0000000000000000 USBD_LL_SetSpeed
     /tmp/ccLxqwAV.s:1689   .text.USBD_LL_Suspend:0000000000000000 $t
     /tmp/ccLxqwAV.s:1696   .text.USBD_LL_Suspend:0000000000000000 USBD_LL_Suspend
     /tmp/ccLxqwAV.s:1719   .text.USBD_LL_Resume:0000000000000000 $t
     /tmp/ccLxqwAV.s:1726   .text.USBD_LL_Resume:0000000000000000 USBD_LL_Resume
     /tmp/ccLxqwAV.s:1755   .text.USBD_LL_SOF:0000000000000000 $t
     /tmp/ccLxqwAV.s:1762   .text.USBD_LL_SOF:0000000000000000 USBD_LL_SOF
     /tmp/ccLxqwAV.s:1802   .text.USBD_LL_IsoINIncomplete:0000000000000000 $t
     /tmp/ccLxqwAV.s:1809   .text.USBD_LL_IsoINIncomplete:0000000000000000 USBD_LL_IsoINIncomplete
     /tmp/ccLxqwAV.s:1863   .text.USBD_LL_IsoOUTIncomplete:0000000000000000 $t
     /tmp/ccLxqwAV.s:1870   .text.USBD_LL_IsoOUTIncomplete:0000000000000000 USBD_LL_IsoOUTIncomplete
     /tmp/ccLxqwAV.s:1924   .text.USBD_LL_DevConnected:0000000000000000 $t
     /tmp/ccLxqwAV.s:1931   .text.USBD_LL_DevConnected:0000000000000000 USBD_LL_DevConnected
     /tmp/ccLxqwAV.s:1947   .text.USBD_LL_DevDisconnected:0000000000000000 $t
     /tmp/ccLxqwAV.s:1954   .text.USBD_LL_DevDisconnected:0000000000000000 USBD_LL_DevDisconnected
     /tmp/ccLxqwAV.s:1997   .text.USBD_CoreFindEP:0000000000000000 $t
     /tmp/ccLxqwAV.s:2004   .text.USBD_CoreFindEP:0000000000000000 USBD_CoreFindEP
     /tmp/ccLxqwAV.s:2020   .text.USBD_LL_DataOutStage:0000000000000000 $t
     /tmp/ccLxqwAV.s:2027   .text.USBD_LL_DataOutStage:0000000000000000 USBD_LL_DataOutStage
     /tmp/ccLxqwAV.s:2184   .text.USBD_LL_DataInStage:0000000000000000 $t
     /tmp/ccLxqwAV.s:2191   .text.USBD_LL_DataInStage:0000000000000000 USBD_LL_DataInStage
     /tmp/ccLxqwAV.s:2377   .text.USBD_GetNextDesc:0000000000000000 $t
     /tmp/ccLxqwAV.s:2384   .text.USBD_GetNextDesc:0000000000000000 USBD_GetNextDesc
     /tmp/ccLxqwAV.s:2408   .text.USBD_GetEpDesc:0000000000000000 $t
     /tmp/ccLxqwAV.s:2415   .text.USBD_GetEpDesc:0000000000000000 USBD_GetEpDesc
     /tmp/ccLxqwAV.s:2488   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 $t
     /tmp/ccLxqwAV.s:2495   .text.USBD_CDC_GetFSCfgDesc:0000000000000000 USBD_CDC_GetFSCfgDesc
     /tmp/ccLxqwAV.s:2568   .text.USBD_CDC_GetFSCfgDesc:0000000000000044 $d
     /tmp/ccLxqwAV.s:2573   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 $t
     /tmp/ccLxqwAV.s:2580   .text.USBD_CDC_GetHSCfgDesc:0000000000000000 USBD_CDC_GetHSCfgDesc
     /tmp/ccLxqwAV.s:2653   .text.USBD_CDC_GetHSCfgDesc:0000000000000044 $d
     /tmp/ccLxqwAV.s:2658   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 $t
     /tmp/ccLxqwAV.s:2665   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000000 USBD_CDC_GetOtherSpeedCfgDesc
     /tmp/ccLxqwAV.s:2738   .text.USBD_CDC_GetOtherSpeedCfgDesc:0000000000000044 $d
     /tmp/ccLxqwAV.s:2743   .text.USBD_ParseSetupRequest:0000000000000000 $t
     /tmp/ccLxqwAV.s:2750   .text.USBD_ParseSetupRequest:0000000000000000 USBD_ParseSetupRequest
     /tmp/ccLxqwAV.s:2820   .text.USBD_CtlError:0000000000000000 $t
     /tmp/ccLxqwAV.s:2827   .text.USBD_CtlError:0000000000000000 USBD_CtlError
     /tmp/ccLxqwAV.s:2855   .text.USBD_CDC_Setup:0000000000000000 $t
     /tmp/ccLxqwAV.s:2862   .text.USBD_CDC_Setup:0000000000000000 USBD_CDC_Setup
     /tmp/ccLxqwAV.s:2985   .text.USBD_CDC_Setup:000000000000009e $d
     /tmp/ccLxqwAV.s:2997   .text.USBD_CDC_Setup:00000000000000aa $t
     /tmp/ccLxqwAV.s:3106   .text.USBD_GetDescriptor:0000000000000000 $t
     /tmp/ccLxqwAV.s:3112   .text.USBD_GetDescriptor:0000000000000000 USBD_GetDescriptor
     /tmp/ccLxqwAV.s:3143   .text.USBD_GetDescriptor:000000000000001e $d
     /tmp/ccLxqwAV.s:3237   .text.USBD_GetDescriptor:0000000000000096 $d
     /tmp/ccLxqwAV.s:3243   .text.USBD_GetDescriptor:000000000000009c $t
ARM GAS  /tmp/ccLxqwAV.s 			page 159


     /tmp/ccLxqwAV.s:3499   .text.USBD_SetAddress:0000000000000000 $t
     /tmp/ccLxqwAV.s:3505   .text.USBD_SetAddress:0000000000000000 USBD_SetAddress
     /tmp/ccLxqwAV.s:3579   .text.USBD_SetConfig:0000000000000000 $t
     /tmp/ccLxqwAV.s:3585   .text.USBD_SetConfig:0000000000000000 USBD_SetConfig
     /tmp/ccLxqwAV.s:3759   .text.USBD_SetConfig:00000000000000cc $d
     /tmp/ccLxqwAV.s:3764   .text.USBD_GetConfig:0000000000000000 $t
     /tmp/ccLxqwAV.s:3770   .text.USBD_GetConfig:0000000000000000 USBD_GetConfig
     /tmp/ccLxqwAV.s:3831   .text.USBD_GetStatus:0000000000000000 $t
     /tmp/ccLxqwAV.s:3837   .text.USBD_GetStatus:0000000000000000 USBD_GetStatus
     /tmp/ccLxqwAV.s:3893   .text.USBD_SetFeature:0000000000000000 $t
     /tmp/ccLxqwAV.s:3899   .text.USBD_SetFeature:0000000000000000 USBD_SetFeature
     /tmp/ccLxqwAV.s:3944   .text.USBD_ClrFeature:0000000000000000 $t
     /tmp/ccLxqwAV.s:3950   .text.USBD_ClrFeature:0000000000000000 USBD_ClrFeature
     /tmp/ccLxqwAV.s:3994   .text.USBD_StdDevReq:0000000000000000 $t
     /tmp/ccLxqwAV.s:4001   .text.USBD_StdDevReq:0000000000000000 USBD_StdDevReq
     /tmp/ccLxqwAV.s:4049   .text.USBD_StdDevReq:0000000000000034 $d
     /tmp/ccLxqwAV.s:4059   .text.USBD_StdDevReq:000000000000003e $t
     /tmp/ccLxqwAV.s:4133   .text.USBD_StdItfReq:0000000000000000 $t
     /tmp/ccLxqwAV.s:4140   .text.USBD_StdItfReq:0000000000000000 USBD_StdItfReq
     /tmp/ccLxqwAV.s:4251   .text.USBD_StdEPReq:0000000000000000 $t
     /tmp/ccLxqwAV.s:4258   .text.USBD_StdEPReq:0000000000000000 USBD_StdEPReq
     /tmp/ccLxqwAV.s:4728   .text.USBD_LL_SetupStage:0000000000000000 $t
     /tmp/ccLxqwAV.s:4735   .text.USBD_LL_SetupStage:0000000000000000 USBD_LL_SetupStage
     /tmp/ccLxqwAV.s:4808   .text.USBD_GetString:0000000000000000 $t
     /tmp/ccLxqwAV.s:4815   .text.USBD_GetString:0000000000000000 USBD_GetString
     /tmp/ccLxqwAV.s:5017   .data.USBD_Interface_fops_FS:0000000000000000 USBD_Interface_fops_FS
     /tmp/ccLxqwAV.s:4928   .data.USBD_CDC_CfgDesc:0000000000000000 USBD_CDC_CfgDesc
     /tmp/ccLxqwAV.s:4908   .data.USBD_CDC:0000000000000000 USBD_CDC
     /tmp/ccLxqwAV.s:5001   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 USBD_CDC_DeviceQualifierDesc
     /tmp/ccLxqwAV.s:5028   .data.p_usbd_handle:0000000000000000 p_usbd_handle
     /tmp/ccLxqwAV.s:4901   .bss.cfgidx.10245:0000000000000000 cfgidx.10245
     /tmp/ccLxqwAV.s:4902   .bss.cfgidx.10245:0000000000000000 $d
     /tmp/ccLxqwAV.s:4904   .data.USBD_CDC:0000000000000000 $d
     /tmp/ccLxqwAV.s:4924   .data.USBD_CDC_CfgDesc:0000000000000000 $d
     /tmp/ccLxqwAV.s:4997   .data.USBD_CDC_DeviceQualifierDesc:0000000000000000 $d
     /tmp/ccLxqwAV.s:5013   .data.USBD_Interface_fops_FS:0000000000000000 $d
     /tmp/ccLxqwAV.s:5024   .data.p_usbd_handle:0000000000000000 $d
     /tmp/ccLxqwAV.s:5031   .rodata.CDC_Receive_FS.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d
     /tmp/ccLxqwAV.s:3150   .text.USBD_GetDescriptor:0000000000000025 $d
     /tmp/ccLxqwAV.s:3150   .text.USBD_GetDescriptor:0000000000000026 $t

UNDEFINED SYMBOLS
USBD_static_malloc
memset
USBD_LL_OpenEP
USBD_LL_PrepareReceive
USBD_LL_CloseEP
USBD_static_free
USBD_LL_Transmit
USBD_LL_GetRxDataSize
HAL_PCD_Start
HAL_PCD_Init
HAL_PCDEx_SetRxFiFo
HAL_PCDEx_SetTxFiFo
FS_Desc
hpcd_USB_OTG_FS
ARM GAS  /tmp/ccLxqwAV.s 			page 160


memcpy
strlen
USBD_LL_Init
USBD_LL_Stop
USBD_LL_DeInit
USBD_CtlSendStatus
USBD_CtlContinueRx
USBD_LL_StallEP
USBD_CtlReceiveStatus
USBD_CtlContinueSendData
USBD_CtlPrepareRx
USBD_CtlSendData
USBD_LL_SetUSBAddress
USBD_LL_ClearStallEP
USBD_LL_IsStallEP
